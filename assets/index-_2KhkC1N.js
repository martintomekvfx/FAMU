(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function MS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qg={exports:{}},gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function U3(){if(Aw)return gu;Aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return gu.Fragment=e,gu.jsx=n,gu.jsxs=n,gu}var Cw;function F3(){return Cw||(Cw=1,Qg.exports=U3()),Qg.exports}var u=F3(),Wg={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function H3(){if(Rw)return Ie;Rw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function j(V,K,ae){this.props=V,this.context=K,this.refs=T,this.updater=ae||N}j.prototype.isReactComponent={},j.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function R(){}R.prototype=j.prototype;function O(V,K,ae){this.props=V,this.context=K,this.refs=T,this.updater=ae||N}var F=O.prototype=new R;F.constructor=O,C(F,j.prototype),F.isPureReactComponent=!0;var $=Array.isArray;function X(){}var A={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function M(V,K,ae){var le=ae.ref;return{$$typeof:t,type:V,key:K,ref:le!==void 0?le:null,props:ae}}function B(V,K){return M(V.type,K,V.props)}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function q(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return K[ae]})}var I=/\/+/g;function H(V,K){return typeof V=="object"&&V!==null&&V.key!=null?q(""+V.key):K.toString(36)}function ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(X,X):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function U(V,K,ae,le,ye){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(ve){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case t:case e:we=!0;break;case g:return we=V._init,U(we(V._payload),K,ae,le,ye)}}if(we)return ye=ye(V),we=le===""?"."+H(V,0):le,$(ye)?(ae="",we!=null&&(ae=we.replace(I,"$&/")+"/"),U(ye,K,ae,"",function(Pe){return Pe})):ye!=null&&(L(ye)&&(ye=B(ye,ae+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(I,"$&/")+"/")+we)),K.push(ye)),1;we=0;var Re=le===""?".":le+":";if($(V))for(var Se=0;Se<V.length;Se++)le=V[Se],ve=Re+H(le,Se),we+=U(le,K,ae,ve,ye);else if(Se=w(V),typeof Se=="function")for(V=Se.call(V),Se=0;!(le=V.next()).done;)le=le.value,ve=Re+H(le,Se++),we+=U(le,K,ae,ve,ye);else if(ve==="object"){if(typeof V.then=="function")return U(ne(V),K,ae,le,ye);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(V,K,ae){if(V==null)return V;var le=[],ye=0;return U(V,le,"","",function(ve){return K.call(ae,ve,ye++)}),le}function ee(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Q=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},W={map:Y,forEach:function(V,K,ae){Y(V,function(){K.apply(this,arguments)},ae)},count:function(V){var K=0;return Y(V,function(){K++}),K},toArray:function(V){return Y(V,function(K){return K})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=x,Ie.Children=W,Ie.Component=j,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=O,Ie.StrictMode=i,Ie.Suspense=f,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return A.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,K,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=C({},V.props),ye=V.key;if(K!=null)for(ve in K.key!==void 0&&(ye=""+K.key),K)!k.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(le[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)le.children=ae;else if(1<ve){for(var we=Array(ve),Re=0;Re<ve;Re++)we[Re]=arguments[Re+2];le.children=we}return M(V.type,ye,le)},Ie.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ie.createElement=function(V,K,ae){var le,ye={},ve=null;if(K!=null)for(le in K.key!==void 0&&(ve=""+K.key),K)k.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=K[le]);var we=arguments.length-2;if(we===1)ye.children=ae;else if(1<we){for(var Re=Array(we),Se=0;Se<we;Se++)Re[Se]=arguments[Se+2];ye.children=Re}if(V&&V.defaultProps)for(le in we=V.defaultProps,we)ye[le]===void 0&&(ye[le]=we[le]);return M(V,ve,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:d,render:V}},Ie.isValidElement=L,Ie.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:ee}},Ie.memo=function(V,K){return{$$typeof:m,type:V,compare:K===void 0?null:K}},Ie.startTransition=function(V){var K=A.T,ae={};A.T=ae;try{var le=V(),ye=A.S;ye!==null&&ye(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(X,Q)}catch(ve){Q(ve)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),A.T=K}},Ie.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ie.use=function(V){return A.H.use(V)},Ie.useActionState=function(V,K,ae){return A.H.useActionState(V,K,ae)},Ie.useCallback=function(V,K){return A.H.useCallback(V,K)},Ie.useContext=function(V){return A.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,K){return A.H.useDeferredValue(V,K)},Ie.useEffect=function(V,K){return A.H.useEffect(V,K)},Ie.useEffectEvent=function(V){return A.H.useEffectEvent(V)},Ie.useId=function(){return A.H.useId()},Ie.useImperativeHandle=function(V,K,ae){return A.H.useImperativeHandle(V,K,ae)},Ie.useInsertionEffect=function(V,K){return A.H.useInsertionEffect(V,K)},Ie.useLayoutEffect=function(V,K){return A.H.useLayoutEffect(V,K)},Ie.useMemo=function(V,K){return A.H.useMemo(V,K)},Ie.useOptimistic=function(V,K){return A.H.useOptimistic(V,K)},Ie.useReducer=function(V,K,ae){return A.H.useReducer(V,K,ae)},Ie.useRef=function(V){return A.H.useRef(V)},Ie.useState=function(V){return A.H.useState(V)},Ie.useSyncExternalStore=function(V,K,ae){return A.H.useSyncExternalStore(V,K,ae)},Ie.useTransition=function(){return A.H.useTransition()},Ie.version="19.2.0",Ie}var Mw;function wh(){return Mw||(Mw=1,Wg.exports=H3()),Wg.exports}var D=wh();const ue=MS(D);var Jg={exports:{}},yu={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function q3(){return Dw||(Dw=1,(function(t){function e(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var Q=ee-1>>>1,W=U[Q];if(0<a(W,Y))U[Q]=Y,U[ee]=W,ee=Q;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var Q=0,W=U.length,V=W>>>1;Q<V;){var K=2*(Q+1)-1,ae=U[K],le=K+1,ye=U[le];if(0>a(ae,ee))le<W&&0>a(ye,ae)?(U[Q]=ye,U[le]=ee,Q=le):(U[Q]=ae,U[K]=ee,Q=K);else if(le<W&&0>a(ye,ee))U[Q]=ye,U[le]=ee,Q=le;else break e}}return Y}function a(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],g=1,x=null,b=3,w=!1,N=!1,C=!1,T=!1,j=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function F(U){for(var Y=n(m);Y!==null;){if(Y.callback===null)i(m);else if(Y.startTime<=U)i(m),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(m)}}function $(U){if(C=!1,F(U),!N)if(n(f)!==null)N=!0,X||(X=!0,q());else{var Y=n(m);Y!==null&&ne($,Y.startTime-U)}}var X=!1,A=-1,k=5,M=-1;function B(){return T?!0:!(t.unstable_now()-M<k)}function L(){if(T=!1,X){var U=t.unstable_now();M=U;var Y=!0;try{e:{N=!1,C&&(C=!1,R(A),A=-1),w=!0;var ee=b;try{t:{for(F(U),x=n(f);x!==null&&!(x.expirationTime>U&&B());){var Q=x.callback;if(typeof Q=="function"){x.callback=null,b=x.priorityLevel;var W=Q(x.expirationTime<=U);if(U=t.unstable_now(),typeof W=="function"){x.callback=W,F(U),Y=!0;break t}x===n(f)&&i(f),F(U)}else i(f);x=n(f)}if(x!==null)Y=!0;else{var V=n(m);V!==null&&ne($,V.startTime-U),Y=!1}}break e}finally{x=null,b=ee,w=!1}Y=void 0}}finally{Y?q():X=!1}}}var q;if(typeof O=="function")q=function(){O(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=L,q=function(){H.postMessage(null)}}else q=function(){j(L,0)};function ne(U,Y){A=j(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var ee=b;b=Y;try{return U()}finally{b=ee}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=b;b=U;try{return Y()}finally{b=ee}},t.unstable_scheduleCallback=function(U,Y,ee){var Q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Q+ee:Q):ee=Q,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ee+W,U={id:g++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:W,sortIndex:-1},ee>Q?(U.sortIndex=ee,e(m,U),n(f)===null&&U===n(m)&&(C?(R(A),A=-1):C=!0,ne($,ee-Q))):(U.sortIndex=W,e(f,U),N||w||(N=!0,X||(X=!0,q()))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var Y=b;return function(){var ee=b;b=Y;try{return U.apply(this,arguments)}finally{b=ee}}}})(ty)),ty}var zw;function $3(){return zw||(zw=1,ey.exports=q3()),ey.exports}var ny={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function G3(){if(Vw)return An;Vw=1;var t=wh();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,An.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,g)},An.flushSync=function(f){var m=c.T,g=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=g,i.d.f()}},An.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},An.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},An.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):g==="script"&&i.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},An.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},An.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);i.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},An.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=d(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},An.requestFormReset=function(f){i.d.r(f)},An.unstable_batchedUpdates=function(f,m){return f(m)},An.useFormState=function(f,m,g){return c.H.useFormState(f,m,g)},An.useFormStatus=function(){return c.H.useHostTransitionStatus()},An.version="19.2.0",An}var Iw;function DS(){if(Iw)return ny.exports;Iw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=G3(),ny.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function K3(){if(Ow)return yu;Ow=1;var t=$3(),e=wh(),n=DS();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,h=r;;){var y=o.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){o=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===o)return f(y),s;if(v===h)return f(y),r;v=v.sibling}throw Error(i(188))}if(o.return!==h.return)o=y,h=v;else{for(var E=!1,z=y.child;z;){if(z===o){E=!0,o=y,h=v;break}if(z===h){E=!0,h=y,o=v;break}z=z.sibling}if(!E){for(z=v.child;z;){if(z===o){E=!0,o=v,h=y;break}if(z===h){E=!0,h=v,o=y;break}z=z.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==h)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function g(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=g(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function H(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case j:return"Profiler";case T:return"StrictMode";case $:return"Suspense";case X:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case O:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case F:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case A:return r=s.displayName||null,r!==null?r:H(s.type)||"Memo";case k:r=s._payload,s=s._init;try{return H(s(r))}catch{}}return null}var ne=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Q=[],W=-1;function V(s){return{current:s}}function K(s){0>W||(s.current=Q[W],Q[W]=null,W--)}function ae(s,r){W++,Q[W]=s.current,s.current=r}var le=V(null),ye=V(null),ve=V(null),we=V(null);function Re(s,r){switch(ae(ve,r),ae(ye,s),ae(le,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?W_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=W_(r),s=J_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(le),ae(le,s)}function Se(){K(le),K(ye),K(ve)}function Pe(s){s.memoizedState!==null&&ae(we,s);var r=le.current,o=J_(r,s.type);r!==o&&(ae(ye,s),ae(le,o))}function wt(s){ye.current===s&&(K(le),K(ye)),we.current===s&&(K(we),du._currentValue=ee)}var ut,bt;function ot(s){if(ut===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ut=r&&r[1]||"",bt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+s+bt}var ht=!1;function Dt(s,r){if(!s||ht)return"";ht=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ce){var re=ce}Reflect.construct(s,[],pe)}else{try{pe.call()}catch(ce){re=ce}s.call(pe.prototype)}}else{try{throw Error()}catch(ce){re=ce}(pe=s())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),E=v[0],z=v[1];if(E&&z){var G=E.split(`
`),se=z.split(`
`);for(y=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;y<se.length&&!se[y].includes("DetermineComponentFrameRoot");)y++;if(h===G.length||y===se.length)for(h=G.length-1,y=se.length-1;1<=h&&0<=y&&G[h]!==se[y];)y--;for(;1<=h&&0<=y;h--,y--)if(G[h]!==se[y]){if(h!==1||y!==1)do if(h--,y--,0>y||G[h]!==se[y]){var he=`
`+G[h].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=h&&0<=y);break}}}finally{ht=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?ot(o):""}function We(s,r){switch(s.tag){case 26:case 27:case 5:return ot(s.type);case 16:return ot("Lazy");case 13:return s.child!==r&&r!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return Dt(s.type,!1);case 11:return Dt(s.type.render,!1);case 1:return Dt(s.type,!0);case 31:return ot("Activity");default:return""}}function Ne(s){try{var r="",o=null;do r+=We(s,o),o=s,s=s.return;while(s);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var $e=Object.prototype.hasOwnProperty,dt=t.unstable_scheduleCallback,Hn=t.unstable_cancelCallback,hs=t.unstable_shouldYield,Ki=t.unstable_requestPaint,St=t.unstable_now,qn=t.unstable_getCurrentPriorityLevel,ni=t.unstable_ImmediatePriority,ii=t.unstable_UserBlockingPriority,In=t.unstable_NormalPriority,ds=t.unstable_LowPriority,fs=t.unstable_IdlePriority,$t=t.log,On=t.unstable_setDisableYieldValue,ln=null,Tt=null;function cn(s){if(typeof $t=="function"&&On(s),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(ln,s)}catch{}}var tt=Math.clz32?Math.clz32:Sr,xi=Math.log,ms=Math.LN2;function Sr(s){return s>>>=0,s===0?32:31-(xi(s)/ms|0)|0}var kn=256,Yi=262144,zt=4194304;function fn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function bi(s,r,o){var h=s.pendingLanes;if(h===0)return 0;var y=0,v=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var z=h&134217727;return z!==0?(h=z&~v,h!==0?y=fn(h):(E&=z,E!==0?y=fn(E):o||(o=z&~s,o!==0&&(y=fn(o))))):(z=h&~v,z!==0?y=fn(z):E!==0?y=fn(E):o||(o=h&~s,o!==0&&(y=fn(o)))),y===0?0:r!==0&&r!==y&&(r&v)===0&&(v=y&-y,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:y}function si(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function _c(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var s=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),s}function _i(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Us(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function wc(s,r,o,h,y,v){var E=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var z=s.entanglements,G=s.expirationTimes,se=s.hiddenUpdates;for(o=E&~o;0<o;){var he=31-tt(o),pe=1<<he;z[he]=0,G[he]=-1;var re=se[he];if(re!==null)for(se[he]=null,he=0;he<re.length;he++){var ce=re[he];ce!==null&&(ce.lane&=-536870913)}o&=~pe}h!==0&&Fs(s,h,0),v!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=v&~(E&~r))}function Fs(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var h=31-tt(r);s.entangledLanes|=r,s.entanglements[h]=s.entanglements[h]|1073741824|o&261930}function Ma(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var h=31-tt(o),y=1<<h;y&r|s[h]&r&&(s[h]|=r),o&=~y}}function Da(s,r){var o=r&-r;return o=(o&42)!==0?1:Hs(o),(o&(s.suspendedLanes|r))!==0?0:o}function Hs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Xi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Vo(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:ww(s.type))}function ri(s,r){var o=Y.p;try{return Y.p=s,r()}finally{Y.p=o}}var ai=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ai,Gt="__reactProps$"+ai,wi="__reactContainer$"+ai,Tr="__reactEvents$"+ai,Ec="__reactListeners$"+ai,Io="__reactHandles$"+ai,Oo="__reactResources$"+ai,Ei="__reactMarker$"+ai;function Nr(s){delete s[Pt],delete s[Gt],delete s[Tr],delete s[Ec],delete s[Io]}function ji(s){var r=s[Pt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[wi]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=aw(s);s!==null;){if(o=s[Pt])return o;s=aw(s)}return r}s=o,o=s.parentNode}return null}function Pn(s){if(s=s[Pt]||s[wi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Ln(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Si(s){var r=s[Oo];return r||(r=s[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(s){s[Ei]=!0}var za=new Set,Va={};function Ti(s,r){oi(s,r),oi(s+"Capture",r)}function oi(s,r){for(Va[s]=r,s=0;s<r.length;s++)za.add(r[s])}var Ia=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oa={},Pa={};function kr(s){return $e.call(Pa,s)?!0:$e.call(Oa,s)?!1:Ia.test(s)?Pa[s]=!0:(Oa[s]=!0,!1)}function Po(s,r,o){if(kr(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function li(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Wt(s,r,o,h){if(h===null)s.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+h)}}function mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ar(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jc(s,r,o){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,v=h.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return y.call(this)},set:function(E){o=""+E,v.call(this,E)}}),Object.defineProperty(s,r,{enumerable:h.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ft(s){if(!s._valueTracker){var r=Ar(s)?"checked":"value";s._valueTracker=jc(s,r,""+s[r])}}function La(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),h="";return s&&(h=Ar(s)?s.checked?"true":"false":s.value),s=h,s!==o?(r.setValue(s),!0):!1}function ps(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ba=/[\n"\\]/g;function $n(s){return s.replace(Ba,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Lo(s,r,o,h,y,v,E,z){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),r!=null?E==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+mn(r)):s.value!==""+mn(r)&&(s.value=""+mn(r)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),r!=null?Sc(s,E,mn(r)):o!=null?Sc(s,E,mn(o)):h!=null&&s.removeAttribute("value"),y==null&&v!=null&&(s.defaultChecked=!!v),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.name=""+mn(z):s.removeAttribute("name")}function Lh(s,r,o,h,y,v,E,z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){ft(s);return}o=o!=null?""+mn(o):"",r=r!=null?""+mn(r):o,z||r===s.value||(s.value=r),s.defaultValue=r}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=z?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),ft(s)}function Sc(s,r,o){r==="number"&&ps(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Cr(s,r,o,h){if(s=s.options,r){r={};for(var y=0;y<o.length;y++)r["$"+o[y]]=!0;for(o=0;o<s.length;o++)y=r.hasOwnProperty("$"+s[o].value),s[o].selected!==y&&(s[o].selected=y),y&&h&&(s[o].defaultSelected=!0)}else{for(o=""+mn(o),r=null,y=0;y<s.length;y++){if(s[y].value===o){s[y].selected=!0,h&&(s[y].defaultSelected=!0);return}r!==null||s[y].disabled||(r=s[y])}r!==null&&(r.selected=!0)}}function Bh(s,r,o){if(r!=null&&(r=""+mn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+mn(o):""}function Rr(s,r,o,h){if(r==null){if(h!=null){if(o!=null)throw Error(i(92));if(ne(h)){if(1<h.length)throw Error(i(93));h=h[0]}o=h}o==null&&(o=""),r=o}o=mn(r),s.defaultValue=o,h=s.textContent,h===o&&h!==""&&h!==null&&(s.value=h),ft(s)}function Gn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(s,r,o){var h=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":h?s.setProperty(r,o):typeof o!="number"||o===0||Uh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Nc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var y in r)h=r[y],r.hasOwnProperty(y)&&o[y]!==h&&Tc(s,y,h)}else for(var v in r)r.hasOwnProperty(v)&&Tc(s,v,r[v])}function Bo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(s){return Mr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Zi(){}var kc=null;function Ni(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Dr=null,gs=null;function Ua(s){var r=Pn(s);if(r&&(s=r.stateNode)){var o=s[Gt]||null;e:switch(s=r.stateNode,r.type){case"input":if(Lo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$n(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var h=o[r];if(h!==s&&h.form===s.form){var y=h[Gt]||null;if(!y)throw Error(i(90));Lo(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<o.length;r++)h=o[r],h.form===s.form&&La(h)}break e;case"textarea":Bh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Cr(s,!!o.multiple,r,!1)}}}var Fo=!1;function zr(s,r,o){if(Fo)return s(r,o);Fo=!0;try{var h=s(r);return h}finally{if(Fo=!1,(Dr!==null||gs!==null)&&(Vd(),Dr&&(r=Dr,s=gs,gs=Dr=null,Ua(r),s)))for(r=0;r<s.length;r++)Ua(s[r])}}function Qi(s,r){var o=s.stateNode;if(o===null)return null;var h=o[Gt]||null;if(h===null)return null;o=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(ki)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Fa=!1}var ys=null,Ac=null,Ha=null;function Cc(){if(Ha)return Ha;var s,r=Ac,o=r.length,h,y="value"in ys?ys.value:ys.textContent,v=y.length;for(s=0;s<o&&r[s]===y[s];s++);var E=o-s;for(h=1;h<=E&&r[o-h]===y[v-h];h++);return Ha=y.slice(s,1<h?1-h:void 0)}function qa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function qs(){return!0}function Wi(){return!1}function vn(s){function r(o,h,y,v,E){this._reactName=o,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(o=s[z],this[z]=o?o(v):v[z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qs:Wi,this.isPropagationStopped=Wi,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),r}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=vn($s),Vr=x({},$s,{view:0,detail:0}),Rc=vn(Vr),Ir,Ho,xs,qo=x({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xs&&(xs&&s.type==="mousemove"?(Ir=s.screenX-xs.screenX,Ho=s.screenY-xs.screenY):Ho=Ir=0,xs=s),Ir)},movementY:function(s){return"movementY"in s?s.movementY:Ho}}),Mc=vn(qo),$a=x({},qo,{dataTransfer:0}),Hh=vn($a),qh=x({},Vr,{relatedTarget:0}),Ga=vn(qh),Dc=x({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),$h=vn(Dc),$o=x({},$s,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gh=vn($o),Kh=x({},$s,{data:0}),bs=vn(Kh),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Zh[s])?!!r[s]:!1}function Or(){return Qh}var Bn=x({},Vr,{key:function(s){if(s.key){var r=Yh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(s){return s.type==="keypress"?qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wh=vn(Bn),Jh=x({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=vn(Jh),p=x({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),_=vn(p),S=x({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=vn(S),te=x({},qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=vn(te),xe=x({},$s,{newState:0,oldState:0}),Le=vn(xe),Kt=[9,13,27,32],rt=ki&&"CompositionEvent"in window,Ct=null;ki&&"documentMode"in document&&(Ct=document.documentMode);var Ai=ki&&"TextEvent"in window&&!Ct,_s=ki&&(!rt||Ct&&8<Ct&&11>=Ct),Ji=" ",es=!1;function Ka(s,r){switch(s){case"keyup":return Kt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Go(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ko=!1;function hR(s,r){switch(s){case"compositionend":return Go(r);case"keypress":return r.which!==32?null:(es=!0,Ji);case"textInput":return s=r.data,s===Ji&&es?null:s;default:return null}}function dR(s,r){if(Ko)return s==="compositionend"||!rt&&Ka(s,r)?(s=Cc(),Ha=Ac=ys=null,Ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _s&&r.locale!=="ko"?null:r.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cb(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!fR[s.type]:r==="textarea"}function ub(s,r,o,h){Dr?gs?gs.push(h):gs=[h]:Dr=h,r=Fd(r,"onChange"),0<r.length&&(o=new vs("onChange","change",null,o,h),s.push({event:o,listeners:r}))}var zc=null,Vc=null;function mR(s){G_(s,0)}function ed(s){var r=Ln(s);if(La(r))return s}function hb(s,r){if(s==="change")return r}var db=!1;if(ki){var sp;if(ki){var rp="oninput"in document;if(!rp){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),rp=typeof fb.oninput=="function"}sp=rp}else sp=!1;db=sp&&(!document.documentMode||9<document.documentMode)}function mb(){zc&&(zc.detachEvent("onpropertychange",pb),Vc=zc=null)}function pb(s){if(s.propertyName==="value"&&ed(Vc)){var r=[];ub(r,Vc,s,Ni(s)),zr(mR,r)}}function pR(s,r,o){s==="focusin"?(mb(),zc=r,Vc=o,zc.attachEvent("onpropertychange",pb)):s==="focusout"&&mb()}function gR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ed(Vc)}function yR(s,r){if(s==="click")return ed(r)}function vR(s,r){if(s==="input"||s==="change")return ed(r)}function xR(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var ci=typeof Object.is=="function"?Object.is:xR;function Ic(s,r){if(ci(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),h=Object.keys(r);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var y=o[h];if(!$e.call(r,y)||!ci(s[y],r[y]))return!1}return!0}function gb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yb(s,r){var o=gb(s);s=0;for(var h;o;){if(o.nodeType===3){if(h=s+o.textContent.length,s<=r&&h>=r)return{node:o,offset:r-s};s=h}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gb(o)}}function vb(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?vb(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function xb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ps(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=ps(s.document)}return r}function ap(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var bR=ki&&"documentMode"in document&&11>=document.documentMode,Yo=null,op=null,Oc=null,lp=!1;function bb(s,r,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lp||Yo==null||Yo!==ps(h)||(h=Yo,"selectionStart"in h&&ap(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Oc&&Ic(Oc,h)||(Oc=h,h=Fd(op,"onSelect"),0<h.length&&(r=new vs("onSelect","select",null,r,o),s.push({event:r,listeners:h}),r.target=Yo)))}function Ya(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Xo={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},cp={},_b={};ki&&(_b=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Xa(s){if(cp[s])return cp[s];if(!Xo[s])return s;var r=Xo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in _b)return cp[s]=r[o];return s}var wb=Xa("animationend"),Eb=Xa("animationiteration"),jb=Xa("animationstart"),_R=Xa("transitionrun"),wR=Xa("transitionstart"),ER=Xa("transitioncancel"),Sb=Xa("transitionend"),Tb=new Map,up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");up.push("scrollEnd");function ts(s,r){Tb.set(s,r),Ti(r,[s])}var td=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ci=[],Zo=0,hp=0;function nd(){for(var s=Zo,r=hp=Zo=0;r<s;){var o=Ci[r];Ci[r++]=null;var h=Ci[r];Ci[r++]=null;var y=Ci[r];Ci[r++]=null;var v=Ci[r];if(Ci[r++]=null,h!==null&&y!==null){var E=h.pending;E===null?y.next=y:(y.next=E.next,E.next=y),h.pending=y}v!==0&&Nb(o,y,v)}}function id(s,r,o,h){Ci[Zo++]=s,Ci[Zo++]=r,Ci[Zo++]=o,Ci[Zo++]=h,hp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function dp(s,r,o,h){return id(s,r,o,h),sd(s)}function Za(s,r){return id(s,null,null,r),sd(s)}function Nb(s,r,o){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o);for(var y=!1,v=s.return;v!==null;)v.childLanes|=o,h=v.alternate,h!==null&&(h.childLanes|=o),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(y=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,y&&r!==null&&(y=31-tt(o),s=v.hiddenUpdates,h=s[y],h===null?s[y]=[r]:h.push(r),r.lane=o|536870912),v):null}function sd(s){if(50<ru)throw ru=0,_g=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Qo={};function jR(s,r,o,h){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(s,r,o,h){return new jR(s,r,o,h)}function fp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ks(s,r){var o=s.alternate;return o===null?(o=ui(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function kb(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function rd(s,r,o,h,y,v){var E=0;if(h=s,typeof s=="function")fp(s)&&(E=1);else if(typeof s=="string")E=A3(s,o,le.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=ui(31,o,r,y),s.elementType=M,s.lanes=v,s;case C:return Qa(o.children,y,v,r);case T:E=8,y|=24;break;case j:return s=ui(12,o,r,y|2),s.elementType=j,s.lanes=v,s;case $:return s=ui(13,o,r,y),s.elementType=$,s.lanes=v,s;case X:return s=ui(19,o,r,y),s.elementType=X,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:E=10;break e;case R:E=9;break e;case F:E=11;break e;case A:E=14;break e;case k:E=16,h=null;break e}E=29,o=Error(i(130,s===null?"null":typeof s,"")),h=null}return r=ui(E,o,r,y),r.elementType=s,r.type=h,r.lanes=v,r}function Qa(s,r,o,h){return s=ui(7,s,h,r),s.lanes=o,s}function mp(s,r,o){return s=ui(6,s,null,r),s.lanes=o,s}function Ab(s){var r=ui(18,null,null,0);return r.stateNode=s,r}function pp(s,r,o){return r=ui(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Cb=new WeakMap;function Ri(s,r){if(typeof s=="object"&&s!==null){var o=Cb.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Ne(r)},Cb.set(s,r),r)}return{value:s,source:r,stack:Ne(r)}}var Wo=[],Jo=0,ad=null,Pc=0,Mi=[],Di=0,Pr=null,ws=1,Es="";function Ys(s,r){Wo[Jo++]=Pc,Wo[Jo++]=ad,ad=s,Pc=r}function Rb(s,r,o){Mi[Di++]=ws,Mi[Di++]=Es,Mi[Di++]=Pr,Pr=s;var h=ws;s=Es;var y=32-tt(h)-1;h&=~(1<<y),o+=1;var v=32-tt(r)+y;if(30<v){var E=y-y%5;v=(h&(1<<E)-1).toString(32),h>>=E,y-=E,ws=1<<32-tt(r)+y|o<<y|h,Es=v+s}else ws=1<<v|o<<y|h,Es=s}function gp(s){s.return!==null&&(Ys(s,1),Rb(s,1,0))}function yp(s){for(;s===ad;)ad=Wo[--Jo],Wo[Jo]=null,Pc=Wo[--Jo],Wo[Jo]=null;for(;s===Pr;)Pr=Mi[--Di],Mi[Di]=null,Es=Mi[--Di],Mi[Di]=null,ws=Mi[--Di],Mi[Di]=null}function Mb(s,r){Mi[Di++]=ws,Mi[Di++]=Es,Mi[Di++]=Pr,ws=r.id,Es=r.overflow,Pr=s}var xn=null,Nt=null,Ze=!1,Lr=null,zi=!1,vp=Error(i(519));function Br(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lc(Ri(r,s)),vp}function Db(s){var r=s.stateNode,o=s.type,h=s.memoizedProps;switch(r[Pt]=s,r[Gt]=h,o){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(o=0;o<ou.length;o++)qe(ou[o],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Lh(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),Rr(r,h.value,h.defaultValue,h.children)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||h.suppressHydrationWarning===!0||Z_(r.textContent,o)?(h.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),h.onScroll!=null&&qe("scroll",r),h.onScrollEnd!=null&&qe("scrollend",r),h.onClick!=null&&(r.onclick=Zi),r=!0):r=!1,r||Br(s,!0)}function zb(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 31:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:xn=xn.return}}function el(s){if(s!==xn)return!1;if(!Ze)return zb(s),Ze=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Ig(s.type,s.memoizedProps)),o=!o),o&&Nt&&Br(s),zb(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Nt=rw(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Nt=rw(s)}else r===27?(r=Nt,ea(s.type)?(s=Ug,Ug=null,Nt=s):Nt=r):Nt=xn?Ii(s.stateNode.nextSibling):null;return!0}function Wa(){Nt=xn=null,Ze=!1}function xp(){var s=Lr;return s!==null&&(Zn===null?Zn=s:Zn.push.apply(Zn,s),Lr=null),s}function Lc(s){Lr===null?Lr=[s]:Lr.push(s)}var bp=V(null),Ja=null,Xs=null;function Ur(s,r,o){ae(bp,r._currentValue),r._currentValue=o}function Zs(s){s._currentValue=bp.current,K(bp)}function _p(s,r,o){for(;s!==null;){var h=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),s===o)break;s=s.return}}function wp(s,r,o,h){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var v=y.dependencies;if(v!==null){var E=y.child;v=v.firstContext;e:for(;v!==null;){var z=v;v=y;for(var G=0;G<r.length;G++)if(z.context===r[G]){v.lanes|=o,z=v.alternate,z!==null&&(z.lanes|=o),_p(v.return,o,s),h||(E=null);break e}v=z.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(i(341));E.lanes|=o,v=E.alternate,v!==null&&(v.lanes|=o),_p(E,o,s),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function tl(s,r,o,h){s=null;for(var y=r,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var z=y.type;ci(y.pendingProps.value,E.value)||(s!==null?s.push(z):s=[z])}}else if(y===we.current){if(E=y.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(du):s=[du])}y=y.return}s!==null&&wp(r,s,o,h),r.flags|=262144}function od(s){for(s=s.firstContext;s!==null;){if(!ci(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function eo(s){Ja=s,Xs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function bn(s){return Vb(Ja,s)}function ld(s,r){return Ja===null&&eo(s),Vb(s,r)}function Vb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Xs===null){if(s===null)throw Error(i(308));Xs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Xs=Xs.next=r;return o}var SR=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,h){s.push(h)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},TR=t.unstable_scheduleCallback,NR=t.unstable_NormalPriority,Jt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new SR,data:new Map,refCount:0}}function Bc(s){s.refCount--,s.refCount===0&&TR(NR,function(){s.controller.abort()})}var Uc=null,jp=0,nl=0,il=null;function kR(s,r){if(Uc===null){var o=Uc=[];jp=0,nl=Ng(),il={status:"pending",value:void 0,then:function(h){o.push(h)}}}return jp++,r.then(Ib,Ib),r}function Ib(){if(--jp===0&&Uc!==null){il!==null&&(il.status="fulfilled");var s=Uc;Uc=null,nl=0,il=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function AR(s,r){var o=[],h={status:"pending",value:null,reason:null,then:function(y){o.push(y)}};return s.then(function(){h.status="fulfilled",h.value=r;for(var y=0;y<o.length;y++)(0,o[y])(r)},function(y){for(h.status="rejected",h.reason=y,y=0;y<o.length;y++)(0,o[y])(void 0)}),h}var Ob=U.S;U.S=function(s,r){b_=St(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kR(s,r),Ob!==null&&Ob(s,r)};var to=V(null);function Sp(){var s=to.current;return s!==null?s:_t.pooledCache}function cd(s,r){r===null?ae(to,to.current):ae(to,r.pool)}function Pb(){var s=Sp();return s===null?null:{parent:Jt._currentValue,pool:s}}var sl=Error(i(460)),Tp=Error(i(474)),ud=Error(i(542)),hd={then:function(){}};function Lb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Bb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Zi,Zi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Fb(s),s;default:if(typeof r.status=="string")r.then(Zi,Zi);else{if(s=_t,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(h){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=h}},function(h){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Fb(s),s}throw io=r,sl}}function no(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(io=o,sl):o}}var io=null;function Ub(){if(io===null)throw Error(i(459));var s=io;return io=null,s}function Fb(s){if(s===sl||s===ud)throw Error(i(483))}var rl=null,Fc=0;function dd(s){var r=Fc;return Fc+=1,rl===null&&(rl=[]),Bb(rl,s,r)}function Hc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function fd(s,r){throw r.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Hb(s){function r(J,Z){if(s){var ie=J.deletions;ie===null?(J.deletions=[Z],J.flags|=16):ie.push(Z)}}function o(J,Z){if(!s)return null;for(;Z!==null;)r(J,Z),Z=Z.sibling;return null}function h(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function y(J,Z){return J=Ks(J,Z),J.index=0,J.sibling=null,J}function v(J,Z,ie){return J.index=ie,s?(ie=J.alternate,ie!==null?(ie=ie.index,ie<Z?(J.flags|=67108866,Z):ie):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function E(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function z(J,Z,ie,de){return Z===null||Z.tag!==6?(Z=mp(ie,J.mode,de),Z.return=J,Z):(Z=y(Z,ie),Z.return=J,Z)}function G(J,Z,ie,de){var ke=ie.type;return ke===C?he(J,Z,ie.props.children,de,ie.key):Z!==null&&(Z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&no(ke)===Z.type)?(Z=y(Z,ie.props),Hc(Z,ie),Z.return=J,Z):(Z=rd(ie.type,ie.key,ie.props,null,J.mode,de),Hc(Z,ie),Z.return=J,Z)}function se(J,Z,ie,de){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=pp(ie,J.mode,de),Z.return=J,Z):(Z=y(Z,ie.children||[]),Z.return=J,Z)}function he(J,Z,ie,de,ke){return Z===null||Z.tag!==7?(Z=Qa(ie,J.mode,de,ke),Z.return=J,Z):(Z=y(Z,ie),Z.return=J,Z)}function pe(J,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=mp(""+Z,J.mode,ie),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return ie=rd(Z.type,Z.key,Z.props,null,J.mode,ie),Hc(ie,Z),ie.return=J,ie;case N:return Z=pp(Z,J.mode,ie),Z.return=J,Z;case k:return Z=no(Z),pe(J,Z,ie)}if(ne(Z)||q(Z))return Z=Qa(Z,J.mode,ie,null),Z.return=J,Z;if(typeof Z.then=="function")return pe(J,dd(Z),ie);if(Z.$$typeof===O)return pe(J,ld(J,Z),ie);fd(J,Z)}return null}function re(J,Z,ie,de){var ke=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ke!==null?null:z(J,Z,""+ie,de);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return ie.key===ke?G(J,Z,ie,de):null;case N:return ie.key===ke?se(J,Z,ie,de):null;case k:return ie=no(ie),re(J,Z,ie,de)}if(ne(ie)||q(ie))return ke!==null?null:he(J,Z,ie,de,null);if(typeof ie.then=="function")return re(J,Z,dd(ie),de);if(ie.$$typeof===O)return re(J,Z,ld(J,ie),de);fd(J,ie)}return null}function ce(J,Z,ie,de,ke){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return J=J.get(ie)||null,z(Z,J,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return J=J.get(de.key===null?ie:de.key)||null,G(Z,J,de,ke);case N:return J=J.get(de.key===null?ie:de.key)||null,se(Z,J,de,ke);case k:return de=no(de),ce(J,Z,ie,de,ke)}if(ne(de)||q(de))return J=J.get(ie)||null,he(Z,J,de,ke,null);if(typeof de.then=="function")return ce(J,Z,ie,dd(de),ke);if(de.$$typeof===O)return ce(J,Z,ie,ld(Z,de),ke);fd(Z,de)}return null}function je(J,Z,ie,de){for(var ke=null,nt=null,Te=Z,Ue=Z=0,Ke=null;Te!==null&&Ue<ie.length;Ue++){Te.index>Ue?(Ke=Te,Te=null):Ke=Te.sibling;var it=re(J,Te,ie[Ue],de);if(it===null){Te===null&&(Te=Ke);break}s&&Te&&it.alternate===null&&r(J,Te),Z=v(it,Z,Ue),nt===null?ke=it:nt.sibling=it,nt=it,Te=Ke}if(Ue===ie.length)return o(J,Te),Ze&&Ys(J,Ue),ke;if(Te===null){for(;Ue<ie.length;Ue++)Te=pe(J,ie[Ue],de),Te!==null&&(Z=v(Te,Z,Ue),nt===null?ke=Te:nt.sibling=Te,nt=Te);return Ze&&Ys(J,Ue),ke}for(Te=h(Te);Ue<ie.length;Ue++)Ke=ce(Te,J,Ue,ie[Ue],de),Ke!==null&&(s&&Ke.alternate!==null&&Te.delete(Ke.key===null?Ue:Ke.key),Z=v(Ke,Z,Ue),nt===null?ke=Ke:nt.sibling=Ke,nt=Ke);return s&&Te.forEach(function(ra){return r(J,ra)}),Ze&&Ys(J,Ue),ke}function Me(J,Z,ie,de){if(ie==null)throw Error(i(151));for(var ke=null,nt=null,Te=Z,Ue=Z=0,Ke=null,it=ie.next();Te!==null&&!it.done;Ue++,it=ie.next()){Te.index>Ue?(Ke=Te,Te=null):Ke=Te.sibling;var ra=re(J,Te,it.value,de);if(ra===null){Te===null&&(Te=Ke);break}s&&Te&&ra.alternate===null&&r(J,Te),Z=v(ra,Z,Ue),nt===null?ke=ra:nt.sibling=ra,nt=ra,Te=Ke}if(it.done)return o(J,Te),Ze&&Ys(J,Ue),ke;if(Te===null){for(;!it.done;Ue++,it=ie.next())it=pe(J,it.value,de),it!==null&&(Z=v(it,Z,Ue),nt===null?ke=it:nt.sibling=it,nt=it);return Ze&&Ys(J,Ue),ke}for(Te=h(Te);!it.done;Ue++,it=ie.next())it=ce(Te,J,Ue,it.value,de),it!==null&&(s&&it.alternate!==null&&Te.delete(it.key===null?Ue:it.key),Z=v(it,Z,Ue),nt===null?ke=it:nt.sibling=it,nt=it);return s&&Te.forEach(function(B3){return r(J,B3)}),Ze&&Ys(J,Ue),ke}function xt(J,Z,ie,de){if(typeof ie=="object"&&ie!==null&&ie.type===C&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:e:{for(var ke=ie.key;Z!==null;){if(Z.key===ke){if(ke=ie.type,ke===C){if(Z.tag===7){o(J,Z.sibling),de=y(Z,ie.props.children),de.return=J,J=de;break e}}else if(Z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&no(ke)===Z.type){o(J,Z.sibling),de=y(Z,ie.props),Hc(de,ie),de.return=J,J=de;break e}o(J,Z);break}else r(J,Z);Z=Z.sibling}ie.type===C?(de=Qa(ie.props.children,J.mode,de,ie.key),de.return=J,J=de):(de=rd(ie.type,ie.key,ie.props,null,J.mode,de),Hc(de,ie),de.return=J,J=de)}return E(J);case N:e:{for(ke=ie.key;Z!==null;){if(Z.key===ke)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){o(J,Z.sibling),de=y(Z,ie.children||[]),de.return=J,J=de;break e}else{o(J,Z);break}else r(J,Z);Z=Z.sibling}de=pp(ie,J.mode,de),de.return=J,J=de}return E(J);case k:return ie=no(ie),xt(J,Z,ie,de)}if(ne(ie))return je(J,Z,ie,de);if(q(ie)){if(ke=q(ie),typeof ke!="function")throw Error(i(150));return ie=ke.call(ie),Me(J,Z,ie,de)}if(typeof ie.then=="function")return xt(J,Z,dd(ie),de);if(ie.$$typeof===O)return xt(J,Z,ld(J,ie),de);fd(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Z!==null&&Z.tag===6?(o(J,Z.sibling),de=y(Z,ie),de.return=J,J=de):(o(J,Z),de=mp(ie,J.mode,de),de.return=J,J=de),E(J)):o(J,Z)}return function(J,Z,ie,de){try{Fc=0;var ke=xt(J,Z,ie,de);return rl=null,ke}catch(Te){if(Te===sl||Te===ud)throw Te;var nt=ui(29,Te,null,J.mode);return nt.lanes=de,nt.return=J,nt}finally{}}}var so=Hb(!0),qb=Hb(!1),Fr=!1;function Np(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Hr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function qr(s,r,o){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var y=h.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),h.pending=r,r=sd(s),Nb(s,null,o),r}return id(s,h,r,o),sd(s)}function qc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var h=r.lanes;h&=s.pendingLanes,o|=h,r.lanes=o,Ma(s,o)}}function Ap(s,r){var o=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var y=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?y=v=E:v=v.next=E,o=o.next}while(o!==null);v===null?y=v=r:v=v.next=r}else y=v=r;o={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Cp=!1;function $c(){if(Cp){var s=il;if(s!==null)throw s}}function Gc(s,r,o,h){Cp=!1;var y=s.updateQueue;Fr=!1;var v=y.firstBaseUpdate,E=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var G=z,se=G.next;G.next=null,E===null?v=se:E.next=se,E=G;var he=s.alternate;he!==null&&(he=he.updateQueue,z=he.lastBaseUpdate,z!==E&&(z===null?he.firstBaseUpdate=se:z.next=se,he.lastBaseUpdate=G))}if(v!==null){var pe=y.baseState;E=0,he=se=G=null,z=v;do{var re=z.lane&-536870913,ce=re!==z.lane;if(ce?(Ge&re)===re:(h&re)===re){re!==0&&re===nl&&(Cp=!0),he!==null&&(he=he.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var je=s,Me=z;re=r;var xt=o;switch(Me.tag){case 1:if(je=Me.payload,typeof je=="function"){pe=je.call(xt,pe,re);break e}pe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Me.payload,re=typeof je=="function"?je.call(xt,pe,re):je,re==null)break e;pe=x({},pe,re);break e;case 2:Fr=!0}}re=z.callback,re!==null&&(s.flags|=64,ce&&(s.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:z.tag,payload:z.payload,callback:z.callback,next:null},he===null?(se=he=ce,G=pe):he=he.next=ce,E|=re;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ce=z,z=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);he===null&&(G=pe),y.baseState=G,y.firstBaseUpdate=se,y.lastBaseUpdate=he,v===null&&(y.shared.lanes=0),Xr|=E,s.lanes=E,s.memoizedState=pe}}function $b(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Gb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)$b(o[s],r)}var al=V(null),md=V(0);function Kb(s,r){s=rr,ae(md,s),ae(al,r),rr=s|r.baseLanes}function Rp(){ae(md,rr),ae(al,al.current)}function Mp(){rr=md.current,K(al),K(md)}var hi=V(null),Vi=null;function $r(s){var r=s.alternate;ae(Yt,Yt.current&1),ae(hi,s),Vi===null&&(r===null||al.current!==null||r.memoizedState!==null)&&(Vi=s)}function Dp(s){ae(Yt,Yt.current),ae(hi,s),Vi===null&&(Vi=s)}function Yb(s){s.tag===22?(ae(Yt,Yt.current),ae(hi,s),Vi===null&&(Vi=s)):Gr()}function Gr(){ae(Yt,Yt.current),ae(hi,hi.current)}function di(s){K(hi),Vi===s&&(Vi=null),K(Yt)}var Yt=V(0);function pd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Lg(o)||Bg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Qs=0,Be=null,yt=null,en=null,gd=!1,ol=!1,ro=!1,yd=0,Kc=0,ll=null,CR=0;function Bt(){throw Error(i(321))}function zp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!ci(s[o],r[o]))return!1;return!0}function Vp(s,r,o,h,y,v){return Qs=v,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=s===null||s.memoizedState===null?R1:Zp,ro=!1,v=o(h,y),ro=!1,ol&&(v=Zb(r,o,h,y)),Xb(s),v}function Xb(s){U.H=Zc;var r=yt!==null&&yt.next!==null;if(Qs=0,en=yt=Be=null,gd=!1,Kc=0,ll=null,r)throw Error(i(300));s===null||tn||(s=s.dependencies,s!==null&&od(s)&&(tn=!0))}function Zb(s,r,o,h){Be=s;var y=0;do{if(ol&&(ll=null),Kc=0,ol=!1,25<=y)throw Error(i(301));if(y+=1,en=yt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=M1,v=r(o,h)}while(ol);return v}function RR(){var s=U.H,r=s.useState()[0];return r=typeof r.then=="function"?Yc(r):r,s=s.useState()[0],(yt!==null?yt.memoizedState:null)!==s&&(Be.flags|=1024),r}function Ip(){var s=yd!==0;return yd=0,s}function Op(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Pp(s){if(gd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}gd=!1}Qs=0,en=yt=Be=null,ol=!1,Kc=yd=0,ll=null}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Be.memoizedState=en=s:en=en.next=s,en}function Xt(){if(yt===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=yt.next;var r=en===null?Be.memoizedState:en.next;if(r!==null)en=r,yt=s;else{if(s===null)throw Be.alternate===null?Error(i(467)):Error(i(310));yt=s,s={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},en===null?Be.memoizedState=en=s:en=en.next=s}return en}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(s){var r=Kc;return Kc+=1,ll===null&&(ll=[]),s=Bb(ll,s,r),r=Be,(en===null?r.memoizedState:en.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?R1:Zp),s}function xd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Yc(s);if(s.$$typeof===O)return bn(s)}throw Error(i(438,String(s)))}function Lp(s){var r=null,o=Be.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var h=Be.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=vd(),Be.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),h=0;h<s;h++)o[h]=B;return r.index++,o}function Ws(s,r){return typeof r=="function"?r(s):r}function bd(s){var r=Xt();return Bp(r,yt,s)}function Bp(s,r,o){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=o;var y=s.baseQueue,v=h.pending;if(v!==null){if(y!==null){var E=y.next;y.next=v.next,v.next=E}r.baseQueue=y=v,h.pending=null}if(v=s.baseState,y===null)s.memoizedState=v;else{r=y.next;var z=E=null,G=null,se=r,he=!1;do{var pe=se.lane&-536870913;if(pe!==se.lane?(Ge&pe)===pe:(Qs&pe)===pe){var re=se.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),pe===nl&&(he=!0);else if((Qs&re)===re){se=se.next,re===nl&&(he=!0);continue}else pe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(z=G=pe,E=v):G=G.next=pe,Be.lanes|=re,Xr|=re;pe=se.action,ro&&o(v,pe),v=se.hasEagerState?se.eagerState:o(v,pe)}else re={lane:pe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(z=G=re,E=v):G=G.next=re,Be.lanes|=pe,Xr|=pe;se=se.next}while(se!==null&&se!==r);if(G===null?E=v:G.next=z,!ci(v,s.memoizedState)&&(tn=!0,he&&(o=il,o!==null)))throw o;s.memoizedState=v,s.baseState=E,s.baseQueue=G,h.lastRenderedState=v}return y===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Up(s){var r=Xt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var h=o.dispatch,y=o.pending,v=r.memoizedState;if(y!==null){o.pending=null;var E=y=y.next;do v=s(v,E.action),E=E.next;while(E!==y);ci(v,r.memoizedState)||(tn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,h]}function Qb(s,r,o){var h=Be,y=Xt(),v=Ze;if(v){if(o===void 0)throw Error(i(407));o=o()}else o=r();var E=!ci((yt||y).memoizedState,o);if(E&&(y.memoizedState=o,tn=!0),y=y.queue,qp(e1.bind(null,h,y,s),[s]),y.getSnapshot!==r||E||en!==null&&en.memoizedState.tag&1){if(h.flags|=2048,cl(9,{destroy:void 0},Jb.bind(null,h,y,o,r),null),_t===null)throw Error(i(349));v||(Qs&127)!==0||Wb(h,r,o)}return o}function Wb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Be.updateQueue,r===null?(r=vd(),Be.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Jb(s,r,o,h){r.value=o,r.getSnapshot=h,t1(r)&&n1(s)}function e1(s,r,o){return o(function(){t1(r)&&n1(s)})}function t1(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!ci(s,o)}catch{return!0}}function n1(s){var r=Za(s,2);r!==null&&Qn(r,s,2)}function Fp(s){var r=Un();if(typeof s=="function"){var o=s;if(s=o(),ro){cn(!0);try{o()}finally{cn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:s},r}function i1(s,r,o,h){return s.baseState=o,Bp(s,yt,typeof h=="function"?h:Ws)}function MR(s,r,o,h,y){if(Ed(s))throw Error(i(485));if(s=r.action,s!==null){var v={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};U.T!==null?o(!0):v.isTransition=!1,h(v),o=r.pending,o===null?(v.next=r.pending=v,s1(r,v)):(v.next=o.next,r.pending=o.next=v)}}function s1(s,r){var o=r.action,h=r.payload,y=s.state;if(r.isTransition){var v=U.T,E={};U.T=E;try{var z=o(y,h),G=U.S;G!==null&&G(E,z),r1(s,r,z)}catch(se){Hp(s,r,se)}finally{v!==null&&E.types!==null&&(v.types=E.types),U.T=v}}else try{v=o(y,h),r1(s,r,v)}catch(se){Hp(s,r,se)}}function r1(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){a1(s,r,h)},function(h){return Hp(s,r,h)}):a1(s,r,o)}function a1(s,r,o){r.status="fulfilled",r.value=o,o1(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,s1(s,o)))}function Hp(s,r,o){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=o,o1(r),r=r.next;while(r!==h)}s.action=null}function o1(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function l1(s,r){return r}function c1(s,r){if(Ze){var o=_t.formState;if(o!==null){e:{var h=Be;if(Ze){if(Nt){t:{for(var y=Nt,v=zi;y.nodeType!==8;){if(!v){y=null;break t}if(y=Ii(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Nt=Ii(y.nextSibling),h=y.data==="F!";break e}}Br(h)}h=!1}h&&(r=o[0])}}return o=Un(),o.memoizedState=o.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l1,lastRenderedState:r},o.queue=h,o=k1.bind(null,Be,h),h.dispatch=o,h=Fp(!1),v=Xp.bind(null,Be,!1,h.queue),h=Un(),y={state:r,dispatch:null,action:s,pending:null},h.queue=y,o=MR.bind(null,Be,y,v,o),y.dispatch=o,h.memoizedState=s,[r,o,!1]}function u1(s){var r=Xt();return h1(r,yt,s)}function h1(s,r,o){if(r=Bp(s,r,l1)[0],s=bd(Ws)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Yc(r)}catch(E){throw E===sl?ud:E}else h=r;r=Xt();var y=r.queue,v=y.dispatch;return o!==r.memoizedState&&(Be.flags|=2048,cl(9,{destroy:void 0},DR.bind(null,y,o),null)),[h,v,s]}function DR(s,r){s.action=r}function d1(s){var r=Xt(),o=yt;if(o!==null)return h1(r,o,s);Xt(),r=r.memoizedState,o=Xt();var h=o.queue.dispatch;return o.memoizedState=s,[r,h,!1]}function cl(s,r,o,h){return s={tag:s,create:o,deps:h,inst:r,next:null},r=Be.updateQueue,r===null&&(r=vd(),Be.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(h=o.next,o.next=s,s.next=h,r.lastEffect=s),s}function f1(){return Xt().memoizedState}function _d(s,r,o,h){var y=Un();Be.flags|=s,y.memoizedState=cl(1|r,{destroy:void 0},o,h===void 0?null:h)}function wd(s,r,o,h){var y=Xt();h=h===void 0?null:h;var v=y.memoizedState.inst;yt!==null&&h!==null&&zp(h,yt.memoizedState.deps)?y.memoizedState=cl(r,v,o,h):(Be.flags|=s,y.memoizedState=cl(1|r,v,o,h))}function m1(s,r){_d(8390656,8,s,r)}function qp(s,r){wd(2048,8,s,r)}function zR(s){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=vd(),Be.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function p1(s){var r=Xt().memoizedState;return zR({ref:r,nextImpl:s}),function(){if((at&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function g1(s,r){return wd(4,2,s,r)}function y1(s,r){return wd(4,4,s,r)}function v1(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function x1(s,r,o){o=o!=null?o.concat([s]):null,wd(4,4,v1.bind(null,r,s),o)}function $p(){}function b1(s,r){var o=Xt();r=r===void 0?null:r;var h=o.memoizedState;return r!==null&&zp(r,h[1])?h[0]:(o.memoizedState=[s,r],s)}function _1(s,r){var o=Xt();r=r===void 0?null:r;var h=o.memoizedState;if(r!==null&&zp(r,h[1]))return h[0];if(h=s(),ro){cn(!0);try{s()}finally{cn(!1)}}return o.memoizedState=[h,r],h}function Gp(s,r,o){return o===void 0||(Qs&1073741824)!==0&&(Ge&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=w_(),Be.lanes|=s,Xr|=s,o)}function w1(s,r,o,h){return ci(o,r)?o:al.current!==null?(s=Gp(s,o,h),ci(s,r)||(tn=!0),s):(Qs&42)===0||(Qs&1073741824)!==0&&(Ge&261930)===0?(tn=!0,s.memoizedState=o):(s=w_(),Be.lanes|=s,Xr|=s,r)}function E1(s,r,o,h,y){var v=Y.p;Y.p=v!==0&&8>v?v:8;var E=U.T,z={};U.T=z,Xp(s,!1,r,o);try{var G=y(),se=U.S;if(se!==null&&se(z,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var he=AR(G,h);Xc(s,r,he,pi(s))}else Xc(s,r,h,pi(s))}catch(pe){Xc(s,r,{then:function(){},status:"rejected",reason:pe},pi())}finally{Y.p=v,E!==null&&z.types!==null&&(E.types=z.types),U.T=E}}function VR(){}function Kp(s,r,o,h){if(s.tag!==5)throw Error(i(476));var y=j1(s).queue;E1(s,y,r,ee,o===null?VR:function(){return S1(s),o(h)})}function j1(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:ee},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function S1(s){var r=j1(s);r.next===null&&(r=s.alternate.memoizedState),Xc(s,r.next.queue,{},pi())}function Yp(){return bn(du)}function T1(){return Xt().memoizedState}function N1(){return Xt().memoizedState}function IR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=pi();s=Hr(o);var h=qr(r,s,o);h!==null&&(Qn(h,r,o),qc(h,r,o)),r={cache:Ep()},s.payload=r;return}r=r.return}}function OR(s,r,o){var h=pi();o={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ed(s)?A1(r,o):(o=dp(s,r,o,h),o!==null&&(Qn(o,s,h),C1(o,r,h)))}function k1(s,r,o){var h=pi();Xc(s,r,o,h)}function Xc(s,r,o,h){var y={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ed(s))A1(r,y);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var E=r.lastRenderedState,z=v(E,o);if(y.hasEagerState=!0,y.eagerState=z,ci(z,E))return id(s,r,y,0),_t===null&&nd(),!1}catch{}finally{}if(o=dp(s,r,y,h),o!==null)return Qn(o,s,h),C1(o,r,h),!0}return!1}function Xp(s,r,o,h){if(h={lane:2,revertLane:Ng(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ed(s)){if(r)throw Error(i(479))}else r=dp(s,o,h,2),r!==null&&Qn(r,s,2)}function Ed(s){var r=s.alternate;return s===Be||r!==null&&r===Be}function A1(s,r){ol=gd=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function C1(s,r,o){if((o&4194048)!==0){var h=r.lanes;h&=s.pendingLanes,o|=h,r.lanes=o,Ma(s,o)}}var Zc={readContext:bn,use:xd,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};Zc.useEffectEvent=Bt;var R1={readContext:bn,use:xd,useCallback:function(s,r){return Un().memoizedState=[s,r===void 0?null:r],s},useContext:bn,useEffect:m1,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,_d(4194308,4,v1.bind(null,r,s),o)},useLayoutEffect:function(s,r){return _d(4194308,4,s,r)},useInsertionEffect:function(s,r){_d(4,2,s,r)},useMemo:function(s,r){var o=Un();r=r===void 0?null:r;var h=s();if(ro){cn(!0);try{s()}finally{cn(!1)}}return o.memoizedState=[h,r],h},useReducer:function(s,r,o){var h=Un();if(o!==void 0){var y=o(r);if(ro){cn(!0);try{o(r)}finally{cn(!1)}}}else y=r;return h.memoizedState=h.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},h.queue=s,s=s.dispatch=OR.bind(null,Be,s),[h.memoizedState,s]},useRef:function(s){var r=Un();return s={current:s},r.memoizedState=s},useState:function(s){s=Fp(s);var r=s.queue,o=k1.bind(null,Be,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:$p,useDeferredValue:function(s,r){var o=Un();return Gp(o,s,r)},useTransition:function(){var s=Fp(!1);return s=E1.bind(null,Be,s.queue,!0,!1),Un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var h=Be,y=Un();if(Ze){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),_t===null)throw Error(i(349));(Ge&127)!==0||Wb(h,r,o)}y.memoizedState=o;var v={value:o,getSnapshot:r};return y.queue=v,m1(e1.bind(null,h,v,s),[s]),h.flags|=2048,cl(9,{destroy:void 0},Jb.bind(null,h,v,o,r),null),o},useId:function(){var s=Un(),r=_t.identifierPrefix;if(Ze){var o=Es,h=ws;o=(h&~(1<<32-tt(h)-1)).toString(32)+o,r="_"+r+"R_"+o,o=yd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=CR++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Yp,useFormState:c1,useActionState:c1,useOptimistic:function(s){var r=Un();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Xp.bind(null,Be,!0,o),o.dispatch=r,[s,r]},useMemoCache:Lp,useCacheRefresh:function(){return Un().memoizedState=IR.bind(null,Be)},useEffectEvent:function(s){var r=Un(),o={impl:s};return r.memoizedState=o,function(){if((at&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Zp={readContext:bn,use:xd,useCallback:b1,useContext:bn,useEffect:qp,useImperativeHandle:x1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:_1,useReducer:bd,useRef:f1,useState:function(){return bd(Ws)},useDebugValue:$p,useDeferredValue:function(s,r){var o=Xt();return w1(o,yt.memoizedState,s,r)},useTransition:function(){var s=bd(Ws)[0],r=Xt().memoizedState;return[typeof s=="boolean"?s:Yc(s),r]},useSyncExternalStore:Qb,useId:T1,useHostTransitionStatus:Yp,useFormState:u1,useActionState:u1,useOptimistic:function(s,r){var o=Xt();return i1(o,yt,s,r)},useMemoCache:Lp,useCacheRefresh:N1};Zp.useEffectEvent=p1;var M1={readContext:bn,use:xd,useCallback:b1,useContext:bn,useEffect:qp,useImperativeHandle:x1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:_1,useReducer:Up,useRef:f1,useState:function(){return Up(Ws)},useDebugValue:$p,useDeferredValue:function(s,r){var o=Xt();return yt===null?Gp(o,s,r):w1(o,yt.memoizedState,s,r)},useTransition:function(){var s=Up(Ws)[0],r=Xt().memoizedState;return[typeof s=="boolean"?s:Yc(s),r]},useSyncExternalStore:Qb,useId:T1,useHostTransitionStatus:Yp,useFormState:d1,useActionState:d1,useOptimistic:function(s,r){var o=Xt();return yt!==null?i1(o,yt,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Lp,useCacheRefresh:N1};M1.useEffectEvent=p1;function Qp(s,r,o,h){r=s.memoizedState,o=o(h,r),o=o==null?r:x({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Wp={enqueueSetState:function(s,r,o){s=s._reactInternals;var h=pi(),y=Hr(h);y.payload=r,o!=null&&(y.callback=o),r=qr(s,y,h),r!==null&&(Qn(r,s,h),qc(r,s,h))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var h=pi(),y=Hr(h);y.tag=1,y.payload=r,o!=null&&(y.callback=o),r=qr(s,y,h),r!==null&&(Qn(r,s,h),qc(r,s,h))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=pi(),h=Hr(o);h.tag=2,r!=null&&(h.callback=r),r=qr(s,h,o),r!==null&&(Qn(r,s,o),qc(r,s,o))}};function D1(s,r,o,h,y,v,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,E):r.prototype&&r.prototype.isPureReactComponent?!Ic(o,h)||!Ic(y,v):!0}function z1(s,r,o,h){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,h),r.state!==s&&Wp.enqueueReplaceState(r,r.state,null)}function ao(s,r){var o=r;if("ref"in r){o={};for(var h in r)h!=="ref"&&(o[h]=r[h])}if(s=s.defaultProps){o===r&&(o=x({},o));for(var y in s)o[y]===void 0&&(o[y]=s[y])}return o}function V1(s){td(s)}function I1(s){console.error(s)}function O1(s){td(s)}function jd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function P1(s,r,o){try{var h=s.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Jp(s,r,o){return o=Hr(o),o.tag=3,o.payload={element:null},o.callback=function(){jd(s,r)},o}function L1(s){return s=Hr(s),s.tag=3,s}function B1(s,r,o,h){var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;s.payload=function(){return y(v)},s.callback=function(){P1(r,o,h)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){P1(r,o,h),typeof y!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function PR(s,r,o,h,y){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=o.alternate,r!==null&&tl(r,o,y,!0),o=hi.current,o!==null){switch(o.tag){case 31:case 13:return Vi===null?Id():o.alternate===null&&Ut===0&&(Ut=3),o.flags&=-257,o.flags|=65536,o.lanes=y,h===hd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([h]):r.add(h),jg(s,h,y)),!1;case 22:return o.flags|=65536,h===hd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([h]):o.add(h)),jg(s,h,y)),!1}throw Error(i(435,o.tag))}return jg(s,h,y),Id(),!1}if(Ze)return r=hi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,h!==vp&&(s=Error(i(422),{cause:h}),Lc(Ri(s,o)))):(h!==vp&&(r=Error(i(423),{cause:h}),Lc(Ri(r,o))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,h=Ri(h,o),y=Jp(s.stateNode,h,y),Ap(s,y),Ut!==4&&(Ut=2)),!1;var v=Error(i(520),{cause:h});if(v=Ri(v,o),su===null?su=[v]:su.push(v),Ut!==4&&(Ut=2),r===null)return!0;h=Ri(h,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=y&-y,o.lanes|=s,s=Jp(o.stateNode,h,s),Ap(o,s),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zr===null||!Zr.has(v))))return o.flags|=65536,y&=-y,o.lanes|=y,y=L1(y),B1(y,s,o,h),Ap(o,y),!1}o=o.return}while(o!==null);return!1}var eg=Error(i(461)),tn=!1;function _n(s,r,o,h){r.child=s===null?qb(r,null,o,h):so(r,s.child,o,h)}function U1(s,r,o,h,y){o=o.render;var v=r.ref;if("ref"in h){var E={};for(var z in h)z!=="ref"&&(E[z]=h[z])}else E=h;return eo(r),h=Vp(s,r,o,E,v,y),z=Ip(),s!==null&&!tn?(Op(s,r,y),Js(s,r,y)):(Ze&&z&&gp(r),r.flags|=1,_n(s,r,h,y),r.child)}function F1(s,r,o,h,y){if(s===null){var v=o.type;return typeof v=="function"&&!fp(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,H1(s,r,v,h,y)):(s=rd(o.type,null,h,r,r.mode,y),s.ref=r.ref,s.return=r,r.child=s)}if(v=s.child,!lg(s,y)){var E=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ic,o(E,h)&&s.ref===r.ref)return Js(s,r,y)}return r.flags|=1,s=Ks(v,h),s.ref=r.ref,s.return=r,r.child=s}function H1(s,r,o,h,y){if(s!==null){var v=s.memoizedProps;if(Ic(v,h)&&s.ref===r.ref)if(tn=!1,r.pendingProps=h=v,lg(s,y))(s.flags&131072)!==0&&(tn=!0);else return r.lanes=s.lanes,Js(s,r,y)}return tg(s,r,o,h,y)}function q1(s,r,o,h){var y=h.children,v=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,s!==null){for(h=r.child=s.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~v}else h=0,r.child=null;return $1(s,r,v,o,h)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&cd(r,v!==null?v.cachePool:null),v!==null?Kb(r,v):Rp(),Yb(r);else return h=r.lanes=536870912,$1(s,r,v!==null?v.baseLanes|o:o,o,h)}else v!==null?(cd(r,v.cachePool),Kb(r,v),Gr(),r.memoizedState=null):(s!==null&&cd(r,null),Rp(),Gr());return _n(s,r,y,o),r.child}function Qc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $1(s,r,o,h,y){var v=Sp();return v=v===null?null:{parent:Jt._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},s!==null&&cd(r,null),Rp(),Yb(r),s!==null&&tl(s,r,h,!0),r.childLanes=y,null}function Sd(s,r){return r=Nd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function G1(s,r,o){return so(r,s.child,null,o),s=Sd(r,r.pendingProps),s.flags|=2,di(r),r.memoizedState=null,s}function LR(s,r,o){var h=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ze){if(h.mode==="hidden")return s=Sd(r,h),r.lanes=536870912,Qc(null,s);if(Dp(r),(s=Nt)?(s=sw(s,zi),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Pr!==null?{id:ws,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},o=Ab(s),o.return=r,r.child=o,xn=r,Nt=null)):s=null,s===null)throw Br(r);return r.lanes=536870912,null}return Sd(r,h)}var v=s.memoizedState;if(v!==null){var E=v.dehydrated;if(Dp(r),y)if(r.flags&256)r.flags&=-257,r=G1(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(tn||tl(s,r,o,!1),y=(o&s.childLanes)!==0,tn||y){if(h=_t,h!==null&&(E=Da(h,o),E!==0&&E!==v.retryLane))throw v.retryLane=E,Za(s,E),Qn(h,s,E),eg;Id(),r=G1(s,r,o)}else s=v.treeContext,Nt=Ii(E.nextSibling),xn=r,Ze=!0,Lr=null,zi=!1,s!==null&&Mb(r,s),r=Sd(r,h),r.flags|=4096;return r}return s=Ks(s.child,{mode:h.mode,children:h.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Td(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function tg(s,r,o,h,y){return eo(r),o=Vp(s,r,o,h,void 0,y),h=Ip(),s!==null&&!tn?(Op(s,r,y),Js(s,r,y)):(Ze&&h&&gp(r),r.flags|=1,_n(s,r,o,y),r.child)}function K1(s,r,o,h,y,v){return eo(r),r.updateQueue=null,o=Zb(r,h,o,y),Xb(s),h=Ip(),s!==null&&!tn?(Op(s,r,v),Js(s,r,v)):(Ze&&h&&gp(r),r.flags|=1,_n(s,r,o,v),r.child)}function Y1(s,r,o,h,y){if(eo(r),r.stateNode===null){var v=Qo,E=o.contextType;typeof E=="object"&&E!==null&&(v=bn(E)),v=new o(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Wp,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},Np(r),E=o.contextType,v.context=typeof E=="object"&&E!==null?bn(E):Qo,v.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Qp(r,o,E,h),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Wp.enqueueReplaceState(v,v.state,null),Gc(r,h,v,y),$c(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(s===null){v=r.stateNode;var z=r.memoizedProps,G=ao(o,z);v.props=G;var se=v.context,he=o.contextType;E=Qo,typeof he=="object"&&he!==null&&(E=bn(he));var pe=o.getDerivedStateFromProps;he=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function",z=r.pendingProps!==z,he||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(z||se!==E)&&z1(r,v,h,E),Fr=!1;var re=r.memoizedState;v.state=re,Gc(r,h,v,y),$c(),se=r.memoizedState,z||re!==se||Fr?(typeof pe=="function"&&(Qp(r,o,pe,h),se=r.memoizedState),(G=Fr||D1(r,o,G,h,re,se,E))?(he||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=se),v.props=h,v.state=se,v.context=E,h=G):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,kp(s,r),E=r.memoizedProps,he=ao(o,E),v.props=he,pe=r.pendingProps,re=v.context,se=o.contextType,G=Qo,typeof se=="object"&&se!==null&&(G=bn(se)),z=o.getDerivedStateFromProps,(se=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==pe||re!==G)&&z1(r,v,h,G),Fr=!1,re=r.memoizedState,v.state=re,Gc(r,h,v,y),$c();var ce=r.memoizedState;E!==pe||re!==ce||Fr||s!==null&&s.dependencies!==null&&od(s.dependencies)?(typeof z=="function"&&(Qp(r,o,z,h),ce=r.memoizedState),(he=Fr||D1(r,o,he,h,re,ce,G)||s!==null&&s.dependencies!==null&&od(s.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ce,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ce,G)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===s.memoizedProps&&re===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&re===s.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=ce),v.props=h,v.state=ce,v.context=G,h=he):(typeof v.componentDidUpdate!="function"||E===s.memoizedProps&&re===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&re===s.memoizedState||(r.flags|=1024),h=!1)}return v=h,Td(s,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,s!==null&&h?(r.child=so(r,s.child,null,y),r.child=so(r,null,o,y)):_n(s,r,o,y),r.memoizedState=v.state,s=r.child):s=Js(s,r,y),s}function X1(s,r,o,h){return Wa(),r.flags|=256,_n(s,r,o,h),r.child}var ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(s){return{baseLanes:s,cachePool:Pb()}}function sg(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=mi),s}function Z1(s,r,o){var h=r.pendingProps,y=!1,v=(r.flags&128)!==0,E;if((E=v)||(E=s!==null&&s.memoizedState===null?!1:(Yt.current&2)!==0),E&&(y=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ze){if(y?$r(r):Gr(),(s=Nt)?(s=sw(s,zi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Pr!==null?{id:ws,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},o=Ab(s),o.return=r,r.child=o,xn=r,Nt=null)):s=null,s===null)throw Br(r);return Bg(s)?r.lanes=32:r.lanes=536870912,null}var z=h.children;return h=h.fallback,y?(Gr(),y=r.mode,z=Nd({mode:"hidden",children:z},y),h=Qa(h,y,o,null),z.return=r,h.return=r,z.sibling=h,r.child=z,h=r.child,h.memoizedState=ig(o),h.childLanes=sg(s,E,o),r.memoizedState=ng,Qc(null,h)):($r(r),rg(r,z))}var G=s.memoizedState;if(G!==null&&(z=G.dehydrated,z!==null)){if(v)r.flags&256?($r(r),r.flags&=-257,r=ag(s,r,o)):r.memoizedState!==null?(Gr(),r.child=s.child,r.flags|=128,r=null):(Gr(),z=h.fallback,y=r.mode,h=Nd({mode:"visible",children:h.children},y),z=Qa(z,y,o,null),z.flags|=2,h.return=r,z.return=r,h.sibling=z,r.child=h,so(r,s.child,null,o),h=r.child,h.memoizedState=ig(o),h.childLanes=sg(s,E,o),r.memoizedState=ng,r=Qc(null,h));else if($r(r),Bg(z)){if(E=z.nextSibling&&z.nextSibling.dataset,E)var se=E.dgst;E=se,h=Error(i(419)),h.stack="",h.digest=E,Lc({value:h,source:null,stack:null}),r=ag(s,r,o)}else if(tn||tl(s,r,o,!1),E=(o&s.childLanes)!==0,tn||E){if(E=_t,E!==null&&(h=Da(E,o),h!==0&&h!==G.retryLane))throw G.retryLane=h,Za(s,h),Qn(E,s,h),eg;Lg(z)||Id(),r=ag(s,r,o)}else Lg(z)?(r.flags|=192,r.child=s.child,r=null):(s=G.treeContext,Nt=Ii(z.nextSibling),xn=r,Ze=!0,Lr=null,zi=!1,s!==null&&Mb(r,s),r=rg(r,h.children),r.flags|=4096);return r}return y?(Gr(),z=h.fallback,y=r.mode,G=s.child,se=G.sibling,h=Ks(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,se!==null?z=Ks(se,z):(z=Qa(z,y,o,null),z.flags|=2),z.return=r,h.return=r,h.sibling=z,r.child=h,Qc(null,h),h=r.child,z=s.child.memoizedState,z===null?z=ig(o):(y=z.cachePool,y!==null?(G=Jt._currentValue,y=y.parent!==G?{parent:G,pool:G}:y):y=Pb(),z={baseLanes:z.baseLanes|o,cachePool:y}),h.memoizedState=z,h.childLanes=sg(s,E,o),r.memoizedState=ng,Qc(s.child,h)):($r(r),o=s.child,s=o.sibling,o=Ks(o,{mode:"visible",children:h.children}),o.return=r,o.sibling=null,s!==null&&(E=r.deletions,E===null?(r.deletions=[s],r.flags|=16):E.push(s)),r.child=o,r.memoizedState=null,o)}function rg(s,r){return r=Nd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Nd(s,r){return s=ui(22,s,null,r),s.lanes=0,s}function ag(s,r,o){return so(r,s.child,null,o),s=rg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Q1(s,r,o){s.lanes|=r;var h=s.alternate;h!==null&&(h.lanes|=r),_p(s.return,r,o)}function og(s,r,o,h,y,v){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:y,treeForkCount:v}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=o,E.tailMode=y,E.treeForkCount=v)}function W1(s,r,o){var h=r.pendingProps,y=h.revealOrder,v=h.tail;h=h.children;var E=Yt.current,z=(E&2)!==0;if(z?(E=E&1|2,r.flags|=128):E&=1,ae(Yt,E),_n(s,r,h,o),h=Ze?Pc:0,!z&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Q1(s,o,r);else if(s.tag===19)Q1(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(o=r.child,y=null;o!==null;)s=o.alternate,s!==null&&pd(s)===null&&(y=o),o=o.sibling;o=y,o===null?(y=r.child,r.child=null):(y=o.sibling,o.sibling=null),og(r,!1,y,o,v,h);break;case"backwards":case"unstable_legacy-backwards":for(o=null,y=r.child,r.child=null;y!==null;){if(s=y.alternate,s!==null&&pd(s)===null){r.child=y;break}s=y.sibling,y.sibling=o,o=y,y=s}og(r,!0,o,null,v,h);break;case"together":og(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function Js(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Xr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(tl(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ks(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ks(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function lg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&od(s)))}function BR(s,r,o){switch(r.tag){case 3:Re(r,r.stateNode.containerInfo),Ur(r,Jt,s.memoizedState.cache),Wa();break;case 27:case 5:Pe(r);break;case 4:Re(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Dp(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?($r(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Z1(s,r,o):($r(r),s=Js(s,r,o),s!==null?s.sibling:null);$r(r);break;case 19:var y=(s.flags&128)!==0;if(h=(o&r.childLanes)!==0,h||(tl(s,r,o,!1),h=(o&r.childLanes)!==0),y){if(h)return W1(s,r,o);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ae(Yt,Yt.current),h)break;return null;case 22:return r.lanes=0,q1(s,r,o,r.pendingProps);case 24:Ur(r,Jt,s.memoizedState.cache)}return Js(s,r,o)}function J1(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)tn=!0;else{if(!lg(s,o)&&(r.flags&128)===0)return tn=!1,BR(s,r,o);tn=(s.flags&131072)!==0}else tn=!1,Ze&&(r.flags&1048576)!==0&&Rb(r,Pc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(s=no(r.elementType),r.type=s,typeof s=="function")fp(s)?(h=ao(s,h),r.tag=1,r=Y1(null,r,s,h,o)):(r.tag=0,r=tg(null,r,s,h,o));else{if(s!=null){var y=s.$$typeof;if(y===F){r.tag=11,r=U1(null,r,s,h,o);break e}else if(y===A){r.tag=14,r=F1(null,r,s,h,o);break e}}throw r=H(s)||s,Error(i(306,r,""))}}return r;case 0:return tg(s,r,r.type,r.pendingProps,o);case 1:return h=r.type,y=ao(h,r.pendingProps),Y1(s,r,h,y,o);case 3:e:{if(Re(r,r.stateNode.containerInfo),s===null)throw Error(i(387));h=r.pendingProps;var v=r.memoizedState;y=v.element,kp(s,r),Gc(r,h,null,o);var E=r.memoizedState;if(h=E.cache,Ur(r,Jt,h),h!==v.cache&&wp(r,[Jt],o,!0),$c(),h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=X1(s,r,h,o);break e}else if(h!==y){y=Ri(Error(i(424)),r),Lc(y),r=X1(s,r,h,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Nt=Ii(s.firstChild),xn=r,Ze=!0,Lr=null,zi=!0,o=qb(r,null,h,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Wa(),h===y){r=Js(s,r,o);break e}_n(s,r,h,o)}r=r.child}return r;case 26:return Td(s,r),s===null?(o=uw(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ze||(o=r.type,s=r.pendingProps,h=Hd(ve.current).createElement(o),h[Pt]=r,h[Gt]=s,wn(h,o,s),Lt(h),r.stateNode=h):r.memoizedState=uw(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Pe(r),s===null&&Ze&&(h=r.stateNode=ow(r.type,r.pendingProps,ve.current),xn=r,zi=!0,y=Nt,ea(r.type)?(Ug=y,Nt=Ii(h.firstChild)):Nt=y),_n(s,r,r.pendingProps.children,o),Td(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ze&&((y=h=Nt)&&(h=g3(h,r.type,r.pendingProps,zi),h!==null?(r.stateNode=h,xn=r,Nt=Ii(h.firstChild),zi=!1,y=!0):y=!1),y||Br(r)),Pe(r),y=r.type,v=r.pendingProps,E=s!==null?s.memoizedProps:null,h=v.children,Ig(y,v)?h=null:E!==null&&Ig(y,E)&&(r.flags|=32),r.memoizedState!==null&&(y=Vp(s,r,RR,null,null,o),du._currentValue=y),Td(s,r),_n(s,r,h,o),r.child;case 6:return s===null&&Ze&&((s=o=Nt)&&(o=y3(o,r.pendingProps,zi),o!==null?(r.stateNode=o,xn=r,Nt=null,s=!0):s=!1),s||Br(r)),null;case 13:return Z1(s,r,o);case 4:return Re(r,r.stateNode.containerInfo),h=r.pendingProps,s===null?r.child=so(r,null,h,o):_n(s,r,h,o),r.child;case 11:return U1(s,r,r.type,r.pendingProps,o);case 7:return _n(s,r,r.pendingProps,o),r.child;case 8:return _n(s,r,r.pendingProps.children,o),r.child;case 12:return _n(s,r,r.pendingProps.children,o),r.child;case 10:return h=r.pendingProps,Ur(r,r.type,h.value),_n(s,r,h.children,o),r.child;case 9:return y=r.type._context,h=r.pendingProps.children,eo(r),y=bn(y),h=h(y),r.flags|=1,_n(s,r,h,o),r.child;case 14:return F1(s,r,r.type,r.pendingProps,o);case 15:return H1(s,r,r.type,r.pendingProps,o);case 19:return W1(s,r,o);case 31:return LR(s,r,o);case 22:return q1(s,r,o,r.pendingProps);case 24:return eo(r),h=bn(Jt),s===null?(y=Sp(),y===null&&(y=_t,v=Ep(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=o),y=v),r.memoizedState={parent:h,cache:y},Np(r),Ur(r,Jt,y)):((s.lanes&o)!==0&&(kp(s,r),Gc(r,null,null,o),$c()),y=s.memoizedState,v=r.memoizedState,y.parent!==h?(y={parent:h,cache:h},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Ur(r,Jt,h)):(h=v.cache,Ur(r,Jt,h),h!==y.cache&&wp(r,[Jt],o,!0))),_n(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function er(s){s.flags|=4}function cg(s,r,o,h,y){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(T_())s.flags|=8192;else throw io=hd,Tp}else s.flags&=-16777217}function e_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!pw(r))if(T_())s.flags|=8192;else throw io=hd,Tp}function kd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?zo():536870912,s.lanes|=r,fl|=r)}function Wc(s,r){if(!Ze)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function kt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,h=0;if(r)for(var y=s.child;y!==null;)o|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)o|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=h,s.childLanes=o,r}function UR(s,r,o){var h=r.pendingProps;switch(yp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(r),null;case 1:return kt(r),null;case 3:return o=r.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Zs(Jt),Se(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(el(r)?er(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xp())),kt(r),null;case 26:var y=r.type,v=r.memoizedState;return s===null?(er(r),v!==null?(kt(r),e_(r,v)):(kt(r),cg(r,y,null,h,o))):v?v!==s.memoizedState?(er(r),kt(r),e_(r,v)):(kt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==h&&er(r),kt(r),cg(r,y,s,h,o)),null;case 27:if(wt(r),o=ve.current,y=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==h&&er(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return kt(r),null}s=le.current,el(r)?Db(r):(s=ow(y,h,o),r.stateNode=s,er(r))}return kt(r),null;case 5:if(wt(r),y=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==h&&er(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return kt(r),null}if(v=le.current,el(r))Db(r);else{var E=Hd(ve.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?E.createElement(y,{is:h.is}):E.createElement(y)}}v[Pt]=r,v[Gt]=h;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=v;e:switch(wn(v,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&er(r)}}return kt(r),cg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==h&&er(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(i(166));if(s=ve.current,el(r)){if(s=r.stateNode,o=r.memoizedProps,h=null,y=xn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}s[Pt]=r,s=!!(s.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||Z_(s.nodeValue,o)),s||Br(r,!0)}else s=Hd(s).createTextNode(h),s[Pt]=r,r.stateNode=s}return kt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(h=el(r),o!==null){if(s===null){if(!h)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Pt]=r}else Wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;kt(r),s=!1}else o=xp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(di(r),r):(di(r),null);if((r.flags&128)!==0)throw Error(i(558))}return kt(r),null;case 13:if(h=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=el(r),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Pt]=r}else Wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;kt(r),y=!1}else y=xp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(di(r),r):(di(r),null)}return di(r),(r.flags&128)!==0?(r.lanes=o,r):(o=h!==null,s=s!==null&&s.memoizedState!==null,o&&(h=r.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),kd(r,r.updateQueue),kt(r),null);case 4:return Se(),s===null&&Rg(r.stateNode.containerInfo),kt(r),null;case 10:return Zs(r.type),kt(r),null;case 19:if(K(Yt),h=r.memoizedState,h===null)return kt(r),null;if(y=(r.flags&128)!==0,v=h.rendering,v===null)if(y)Wc(h,!1);else{if(Ut!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(v=pd(s),v!==null){for(r.flags|=128,Wc(h,!1),s=v.updateQueue,r.updateQueue=s,kd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)kb(o,s),o=o.sibling;return ae(Yt,Yt.current&1|2),Ze&&Ys(r,h.treeForkCount),r.child}s=s.sibling}h.tail!==null&&St()>Dd&&(r.flags|=128,y=!0,Wc(h,!1),r.lanes=4194304)}else{if(!y)if(s=pd(v),s!==null){if(r.flags|=128,y=!0,s=s.updateQueue,r.updateQueue=s,kd(r,s),Wc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Ze)return kt(r),null}else 2*St()-h.renderingStartTime>Dd&&o!==536870912&&(r.flags|=128,y=!0,Wc(h,!1),r.lanes=4194304);h.isBackwards?(v.sibling=r.child,r.child=v):(s=h.last,s!==null?s.sibling=v:r.child=v,h.last=v)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=St(),s.sibling=null,o=Yt.current,ae(Yt,y?o&1|2:o&1),Ze&&Ys(r,h.treeForkCount),s):(kt(r),null);case 22:case 23:return di(r),Mp(),h=r.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(o&536870912)!==0&&(r.flags&128)===0&&(kt(r),r.subtreeFlags&6&&(r.flags|=8192)):kt(r),o=r.updateQueue,o!==null&&kd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==o&&(r.flags|=2048),s!==null&&K(to),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Zs(Jt),kt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function FR(s,r){switch(yp(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Zs(Jt),Se(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return wt(r),null;case 31:if(r.memoizedState!==null){if(di(r),r.alternate===null)throw Error(i(340));Wa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(di(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Wa()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return K(Yt),null;case 4:return Se(),null;case 10:return Zs(r.type),null;case 22:case 23:return di(r),Mp(),s!==null&&K(to),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Zs(Jt),null;case 25:return null;default:return null}}function t_(s,r){switch(yp(r),r.tag){case 3:Zs(Jt),Se();break;case 26:case 27:case 5:wt(r);break;case 4:Se();break;case 31:r.memoizedState!==null&&di(r);break;case 13:di(r);break;case 19:K(Yt);break;case 10:Zs(r.type);break;case 22:case 23:di(r),Mp(),s!==null&&K(to);break;case 24:Zs(Jt)}}function Jc(s,r){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var y=h.next;o=y;do{if((o.tag&s)===s){h=void 0;var v=o.create,E=o.inst;h=v(),E.destroy=h}o=o.next}while(o!==y)}}catch(z){pt(r,r.return,z)}}function Kr(s,r,o){try{var h=r.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&s)===s){var E=h.inst,z=E.destroy;if(z!==void 0){E.destroy=void 0,y=r;var G=o,se=z;try{se()}catch(he){pt(y,G,he)}}}h=h.next}while(h!==v)}}catch(he){pt(r,r.return,he)}}function n_(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Gb(r,o)}catch(h){pt(s,s.return,h)}}}function i_(s,r,o){o.props=ao(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(h){pt(s,r,h)}}function eu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof o=="function"?s.refCleanup=o(h):o.current=h}}catch(y){pt(s,r,y)}}function js(s,r){var o=s.ref,h=s.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(y){pt(s,r,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(y){pt(s,r,y)}else o.current=null}function s_(s){var r=s.type,o=s.memoizedProps,h=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break e;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(y){pt(s,s.return,y)}}function ug(s,r,o){try{var h=s.stateNode;u3(h,s.type,o,r),h[Gt]=r}catch(y){pt(s,s.return,y)}}function r_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ea(s.type)||s.tag===4}function hg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ea(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dg(s,r,o){var h=s.tag;if(h===5||h===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Zi));else if(h!==4&&(h===27&&ea(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(dg(s,r,o),s=s.sibling;s!==null;)dg(s,r,o),s=s.sibling}function Ad(s,r,o){var h=s.tag;if(h===5||h===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(h!==4&&(h===27&&ea(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Ad(s,r,o),s=s.sibling;s!==null;)Ad(s,r,o),s=s.sibling}function a_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var h=s.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);wn(r,h,o),r[Pt]=s,r[Gt]=o}catch(v){pt(s,s.return,v)}}var tr=!1,nn=!1,fg=!1,o_=typeof WeakSet=="function"?WeakSet:Set,pn=null;function HR(s,r){if(s=s.containerInfo,zg=Zd,s=xb(s),ap(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var E=0,z=-1,G=-1,se=0,he=0,pe=s,re=null;t:for(;;){for(var ce;pe!==o||y!==0&&pe.nodeType!==3||(z=E+y),pe!==v||h!==0&&pe.nodeType!==3||(G=E+h),pe.nodeType===3&&(E+=pe.nodeValue.length),(ce=pe.firstChild)!==null;)re=pe,pe=ce;for(;;){if(pe===s)break t;if(re===o&&++se===y&&(z=E),re===v&&++he===h&&(G=E),(ce=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=ce}o=z===-1||G===-1?null:{start:z,end:G}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vg={focusedElem:s,selectionRange:o},Zd=!1,pn=r;pn!==null;)if(r=pn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,pn=s;else for(;pn!==null;){switch(r=pn,v=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)y=s[o],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,o=r,y=v.memoizedProps,v=v.memoizedState,h=o.stateNode;try{var je=ao(o.type,y);s=h.getSnapshotBeforeUpdate(je,v),h.__reactInternalSnapshotBeforeUpdate=s}catch(Me){pt(o,o.return,Me)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Pg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Pg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,pn=s;break}pn=r.return}}function l_(s,r,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:ir(s,o),h&4&&Jc(5,o);break;case 1:if(ir(s,o),h&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(E){pt(o,o.return,E)}else{var y=ao(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(y,r,s.__reactInternalSnapshotBeforeUpdate)}catch(E){pt(o,o.return,E)}}h&64&&n_(o),h&512&&eu(o,o.return);break;case 3:if(ir(s,o),h&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Gb(s,r)}catch(E){pt(o,o.return,E)}}break;case 27:r===null&&h&4&&a_(o);case 26:case 5:ir(s,o),r===null&&h&4&&s_(o),h&512&&eu(o,o.return);break;case 12:ir(s,o);break;case 31:ir(s,o),h&4&&h_(s,o);break;case 13:ir(s,o),h&4&&d_(s,o),h&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=WR.bind(null,o),v3(s,o))));break;case 22:if(h=o.memoizedState!==null||tr,!h){r=r!==null&&r.memoizedState!==null||nn,y=tr;var v=nn;tr=h,(nn=r)&&!v?sr(s,o,(o.subtreeFlags&8772)!==0):ir(s,o),tr=y,nn=v}break;case 30:break;default:ir(s,o)}}function c_(s){var r=s.alternate;r!==null&&(s.alternate=null,c_(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Nr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Rt=null,Kn=!1;function nr(s,r,o){for(o=o.child;o!==null;)u_(s,r,o),o=o.sibling}function u_(s,r,o){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ln,o)}catch{}switch(o.tag){case 26:nn||js(o,r),nr(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:nn||js(o,r);var h=Rt,y=Kn;ea(o.type)&&(Rt=o.stateNode,Kn=!1),nr(s,r,o),cu(o.stateNode),Rt=h,Kn=y;break;case 5:nn||js(o,r);case 6:if(h=Rt,y=Kn,Rt=null,nr(s,r,o),Rt=h,Kn=y,Rt!==null)if(Kn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(v){pt(o,r,v)}else try{Rt.removeChild(o.stateNode)}catch(v){pt(o,r,v)}break;case 18:Rt!==null&&(Kn?(s=Rt,nw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),_l(s)):nw(Rt,o.stateNode));break;case 4:h=Rt,y=Kn,Rt=o.stateNode.containerInfo,Kn=!0,nr(s,r,o),Rt=h,Kn=y;break;case 0:case 11:case 14:case 15:Kr(2,o,r),nn||Kr(4,o,r),nr(s,r,o);break;case 1:nn||(js(o,r),h=o.stateNode,typeof h.componentWillUnmount=="function"&&i_(o,r,h)),nr(s,r,o);break;case 21:nr(s,r,o);break;case 22:nn=(h=nn)||o.memoizedState!==null,nr(s,r,o),nn=h;break;default:nr(s,r,o)}}function h_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{_l(s)}catch(o){pt(r,r.return,o)}}}function d_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_l(s)}catch(o){pt(r,r.return,o)}}function qR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new o_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new o_),r;default:throw Error(i(435,s.tag))}}function Cd(s,r){var o=qR(s);r.forEach(function(h){if(!o.has(h)){o.add(h);var y=JR.bind(null,s,h);h.then(y,y)}})}function Yn(s,r){var o=r.deletions;if(o!==null)for(var h=0;h<o.length;h++){var y=o[h],v=s,E=r,z=E;e:for(;z!==null;){switch(z.tag){case 27:if(ea(z.type)){Rt=z.stateNode,Kn=!1;break e}break;case 5:Rt=z.stateNode,Kn=!1;break e;case 3:case 4:Rt=z.stateNode.containerInfo,Kn=!0;break e}z=z.return}if(Rt===null)throw Error(i(160));u_(v,E,y),Rt=null,Kn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)f_(r,s),r=r.sibling}var ns=null;function f_(s,r){var o=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Yn(r,s),Xn(s),h&4&&(Kr(3,s,s.return),Jc(3,s),Kr(5,s,s.return));break;case 1:Yn(r,s),Xn(s),h&512&&(nn||o===null||js(o,o.return)),h&64&&tr&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var y=ns;if(Yn(r,s),Xn(s),h&512&&(nn||o===null||js(o,o.return)),h&4){var v=o!==null?o.memoizedState:null;if(h=s.memoizedState,o===null)if(h===null)if(s.stateNode===null){e:{h=s.type,o=s.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Ei]||v[Pt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),wn(v,h,o),v[Pt]=s,Lt(v),h=v;break e;case"link":var E=fw("link","href",y).get(h+(o.href||""));if(E){for(var z=0;z<E.length;z++)if(v=E[z],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(z,1);break t}}v=y.createElement(h),wn(v,h,o),y.head.appendChild(v);break;case"meta":if(E=fw("meta","content",y).get(h+(o.content||""))){for(z=0;z<E.length;z++)if(v=E[z],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(z,1);break t}}v=y.createElement(h),wn(v,h,o),y.head.appendChild(v);break;default:throw Error(i(468,h))}v[Pt]=s,Lt(v),h=v}s.stateNode=h}else mw(y,s.type,s.stateNode);else s.stateNode=dw(y,h,s.memoizedProps);else v!==h?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,h===null?mw(y,s.type,s.stateNode):dw(y,h,s.memoizedProps)):h===null&&s.stateNode!==null&&ug(s,s.memoizedProps,o.memoizedProps)}break;case 27:Yn(r,s),Xn(s),h&512&&(nn||o===null||js(o,o.return)),o!==null&&h&4&&ug(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Yn(r,s),Xn(s),h&512&&(nn||o===null||js(o,o.return)),s.flags&32){y=s.stateNode;try{Gn(y,"")}catch(je){pt(s,s.return,je)}}h&4&&s.stateNode!=null&&(y=s.memoizedProps,ug(s,y,o!==null?o.memoizedProps:y)),h&1024&&(fg=!0);break;case 6:if(Yn(r,s),Xn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,o=s.stateNode;try{o.nodeValue=h}catch(je){pt(s,s.return,je)}}break;case 3:if(Gd=null,y=ns,ns=qd(r.containerInfo),Yn(r,s),ns=y,Xn(s),h&4&&o!==null&&o.memoizedState.isDehydrated)try{_l(r.containerInfo)}catch(je){pt(s,s.return,je)}fg&&(fg=!1,m_(s));break;case 4:h=ns,ns=qd(s.stateNode.containerInfo),Yn(r,s),Xn(s),ns=h;break;case 12:Yn(r,s),Xn(s);break;case 31:Yn(r,s),Xn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Cd(s,h)));break;case 13:Yn(r,s),Xn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Md=St()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Cd(s,h)));break;case 22:y=s.memoizedState!==null;var G=o!==null&&o.memoizedState!==null,se=tr,he=nn;if(tr=se||y,nn=he||G,Yn(r,s),nn=he,tr=se,Xn(s),h&8192)e:for(r=s.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(o===null||G||tr||nn||oo(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){G=o=r;try{if(v=G.stateNode,y)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{z=G.stateNode;var pe=G.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;z.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(je){pt(G,G.return,je)}}}else if(r.tag===6){if(o===null){G=r;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(je){pt(G,G.return,je)}}}else if(r.tag===18){if(o===null){G=r;try{var ce=G.stateNode;y?iw(ce,!0):iw(G.stateNode,!1)}catch(je){pt(G,G.return,je)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=s.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,Cd(s,o))));break;case 19:Yn(r,s),Xn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Cd(s,h)));break;case 30:break;case 21:break;default:Yn(r,s),Xn(s)}}function Xn(s){var r=s.flags;if(r&2){try{for(var o,h=s.return;h!==null;){if(r_(h)){o=h;break}h=h.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var y=o.stateNode,v=hg(s);Ad(s,v,y);break;case 5:var E=o.stateNode;o.flags&32&&(Gn(E,""),o.flags&=-33);var z=hg(s);Ad(s,z,E);break;case 3:case 4:var G=o.stateNode.containerInfo,se=hg(s);dg(s,se,G);break;default:throw Error(i(161))}}catch(he){pt(s,s.return,he)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function m_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;m_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ir(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)l_(s,r.alternate,r),r=r.sibling}function oo(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),oo(r);break;case 1:js(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&i_(r,r.return,o),oo(r);break;case 27:cu(r.stateNode);case 26:case 5:js(r,r.return),oo(r);break;case 22:r.memoizedState===null&&oo(r);break;case 30:oo(r);break;default:oo(r)}s=s.sibling}}function sr(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,y=s,v=r,E=v.flags;switch(v.tag){case 0:case 11:case 15:sr(y,v,o),Jc(4,v);break;case 1:if(sr(y,v,o),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(se){pt(h,h.return,se)}if(h=v,y=h.updateQueue,y!==null){var z=h.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)$b(G[y],z)}catch(se){pt(h,h.return,se)}}o&&E&64&&n_(v),eu(v,v.return);break;case 27:a_(v);case 26:case 5:sr(y,v,o),o&&h===null&&E&4&&s_(v),eu(v,v.return);break;case 12:sr(y,v,o);break;case 31:sr(y,v,o),o&&E&4&&h_(y,v);break;case 13:sr(y,v,o),o&&E&4&&d_(y,v);break;case 22:v.memoizedState===null&&sr(y,v,o),eu(v,v.return);break;case 30:break;default:sr(y,v,o)}r=r.sibling}}function mg(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Bc(o))}function pg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Bc(s))}function is(s,r,o,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p_(s,r,o,h),r=r.sibling}function p_(s,r,o,h){var y=r.flags;switch(r.tag){case 0:case 11:case 15:is(s,r,o,h),y&2048&&Jc(9,r);break;case 1:is(s,r,o,h);break;case 3:is(s,r,o,h),y&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Bc(s)));break;case 12:if(y&2048){is(s,r,o,h),s=r.stateNode;try{var v=r.memoizedProps,E=v.id,z=v.onPostCommit;typeof z=="function"&&z(E,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){pt(r,r.return,G)}}else is(s,r,o,h);break;case 31:is(s,r,o,h);break;case 13:is(s,r,o,h);break;case 23:break;case 22:v=r.stateNode,E=r.alternate,r.memoizedState!==null?v._visibility&2?is(s,r,o,h):tu(s,r):v._visibility&2?is(s,r,o,h):(v._visibility|=2,ul(s,r,o,h,(r.subtreeFlags&10256)!==0||!1)),y&2048&&mg(E,r);break;case 24:is(s,r,o,h),y&2048&&pg(r.alternate,r);break;default:is(s,r,o,h)}}function ul(s,r,o,h,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=s,E=r,z=o,G=h,se=E.flags;switch(E.tag){case 0:case 11:case 15:ul(v,E,z,G,y),Jc(8,E);break;case 23:break;case 22:var he=E.stateNode;E.memoizedState!==null?he._visibility&2?ul(v,E,z,G,y):tu(v,E):(he._visibility|=2,ul(v,E,z,G,y)),y&&se&2048&&mg(E.alternate,E);break;case 24:ul(v,E,z,G,y),y&&se&2048&&pg(E.alternate,E);break;default:ul(v,E,z,G,y)}r=r.sibling}}function tu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,h=r,y=h.flags;switch(h.tag){case 22:tu(o,h),y&2048&&mg(h.alternate,h);break;case 24:tu(o,h),y&2048&&pg(h.alternate,h);break;default:tu(o,h)}r=r.sibling}}var nu=8192;function hl(s,r,o){if(s.subtreeFlags&nu)for(s=s.child;s!==null;)g_(s,r,o),s=s.sibling}function g_(s,r,o){switch(s.tag){case 26:hl(s,r,o),s.flags&nu&&s.memoizedState!==null&&C3(o,ns,s.memoizedState,s.memoizedProps);break;case 5:hl(s,r,o);break;case 3:case 4:var h=ns;ns=qd(s.stateNode.containerInfo),hl(s,r,o),ns=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=nu,nu=16777216,hl(s,r,o),nu=h):hl(s,r,o));break;default:hl(s,r,o)}}function y_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function iu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var h=r[o];pn=h,x_(h,s)}y_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)v_(s),s=s.sibling}function v_(s){switch(s.tag){case 0:case 11:case 15:iu(s),s.flags&2048&&Kr(9,s,s.return);break;case 3:iu(s);break;case 12:iu(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Rd(s)):iu(s);break;default:iu(s)}}function Rd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var h=r[o];pn=h,x_(h,s)}y_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),Rd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Rd(r));break;default:Rd(r)}s=s.sibling}}function x_(s,r){for(;pn!==null;){var o=pn;switch(o.tag){case 0:case 11:case 15:Kr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Bc(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,pn=h;else e:for(o=s;pn!==null;){h=pn;var y=h.sibling,v=h.return;if(c_(h),h===o){pn=null;break e}if(y!==null){y.return=v,pn=y;break e}pn=v}}}var $R={getCacheForType:function(s){var r=bn(Jt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return bn(Jt).controller.signal}},GR=typeof WeakMap=="function"?WeakMap:Map,at=0,_t=null,He=null,Ge=0,mt=0,fi=null,Yr=!1,dl=!1,gg=!1,rr=0,Ut=0,Xr=0,lo=0,yg=0,mi=0,fl=0,su=null,Zn=null,vg=!1,Md=0,b_=0,Dd=1/0,zd=null,Zr=null,un=0,Qr=null,ml=null,ar=0,xg=0,bg=null,__=null,ru=0,_g=null;function pi(){return(at&2)!==0&&Ge!==0?Ge&-Ge:U.T!==null?Ng():Vo()}function w_(){if(mi===0)if((Ge&536870912)===0||Ze){var s=Yi;Yi<<=1,(Yi&3932160)===0&&(Yi=262144),mi=s}else mi=536870912;return s=hi.current,s!==null&&(s.flags|=32),mi}function Qn(s,r,o){(s===_t&&(mt===2||mt===9)||s.cancelPendingCommit!==null)&&(pl(s,0),Wr(s,Ge,mi,!1)),Us(s,o),((at&2)===0||s!==_t)&&(s===_t&&((at&2)===0&&(lo|=o),Ut===4&&Wr(s,Ge,mi,!1)),Ss(s))}function E_(s,r,o){if((at&6)!==0)throw Error(i(327));var h=!o&&(r&127)===0&&(r&s.expiredLanes)===0||si(s,r),y=h?XR(s,r):Eg(s,r,!0),v=h;do{if(y===0){dl&&!h&&Wr(s,r,0,!1);break}else{if(o=s.current.alternate,v&&!KR(o)){y=Eg(s,r,!1),v=!1;continue}if(y===2){if(v=r,s.errorRecoveryDisabledLanes&v)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var z=s;y=su;var G=z.current.memoizedState.isDehydrated;if(G&&(pl(z,E).flags|=256),E=Eg(z,E,!1),E!==2){if(gg&&!G){z.errorRecoveryDisabledLanes|=v,lo|=v,y=4;break e}v=Zn,Zn=y,v!==null&&(Zn===null?Zn=v:Zn.push.apply(Zn,v))}y=E}if(v=!1,y!==2)continue}}if(y===1){pl(s,0),Wr(s,r,0,!0);break}e:{switch(h=s,v=y,v){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Wr(h,r,mi,!Yr);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(y=Md+300-St(),10<y)){if(Wr(h,r,mi,!Yr),bi(h,0,!0)!==0)break e;ar=r,h.timeoutHandle=ew(j_.bind(null,h,o,Zn,zd,vg,r,mi,lo,fl,Yr,v,"Throttled",-0,0),y);break e}j_(h,o,Zn,zd,vg,r,mi,lo,fl,Yr,v,null,-0,0)}}break}while(!0);Ss(s)}function j_(s,r,o,h,y,v,E,z,G,se,he,pe,re,ce){if(s.timeoutHandle=-1,pe=r.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zi},g_(r,v,pe);var je=(v&62914560)===v?Md-St():(v&4194048)===v?b_-St():0;if(je=R3(pe,je),je!==null){ar=v,s.cancelPendingCommit=je(M_.bind(null,s,r,v,o,h,y,E,z,G,he,pe,null,re,ce)),Wr(s,v,E,!se);return}}M_(s,r,v,o,h,y,E,z,G)}function KR(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var y=o[h],v=y.getSnapshot;y=y.value;try{if(!ci(v(),y))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(s,r,o,h){r&=~yg,r&=~lo,s.suspendedLanes|=r,s.pingedLanes&=~r,h&&(s.warmLanes|=r),h=s.expirationTimes;for(var y=r;0<y;){var v=31-tt(y),E=1<<v;h[v]=-1,y&=~E}o!==0&&Fs(s,o,r)}function Vd(){return(at&6)===0?(au(0),!1):!0}function wg(){if(He!==null){if(mt===0)var s=He.return;else s=He,Xs=Ja=null,Pp(s),rl=null,Fc=0,s=He;for(;s!==null;)t_(s.alternate,s),s=s.return;He=null}}function pl(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,f3(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),ar=0,wg(),_t=s,He=o=Ks(s.current,null),Ge=r,mt=0,fi=null,Yr=!1,dl=si(s,r),gg=!1,fl=mi=yg=lo=Xr=Ut=0,Zn=su=null,vg=!1,(r&8)!==0&&(r|=r&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=r;0<h;){var y=31-tt(h),v=1<<y;r|=s[y],h&=~v}return rr=r,nd(),o}function S_(s,r){Be=null,U.H=Zc,r===sl||r===ud?(r=Ub(),mt=3):r===Tp?(r=Ub(),mt=4):mt=r===eg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,fi=r,He===null&&(Ut=1,jd(s,Ri(r,s.current)))}function T_(){var s=hi.current;return s===null?!0:(Ge&4194048)===Ge?Vi===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?s===Vi:!1}function N_(){var s=U.H;return U.H=Zc,s===null?Zc:s}function k_(){var s=U.A;return U.A=$R,s}function Id(){Ut=4,Yr||(Ge&4194048)!==Ge&&hi.current!==null||(dl=!0),(Xr&134217727)===0&&(lo&134217727)===0||_t===null||Wr(_t,Ge,mi,!1)}function Eg(s,r,o){var h=at;at|=2;var y=N_(),v=k_();(_t!==s||Ge!==r)&&(zd=null,pl(s,r)),r=!1;var E=Ut;e:do try{if(mt!==0&&He!==null){var z=He,G=fi;switch(mt){case 8:wg(),E=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(r=!0);var se=mt;if(mt=0,fi=null,gl(s,z,G,se),o&&dl){E=0;break e}break;default:se=mt,mt=0,fi=null,gl(s,z,G,se)}}YR(),E=Ut;break}catch(he){S_(s,he)}while(!0);return r&&s.shellSuspendCounter++,Xs=Ja=null,at=h,U.H=y,U.A=v,He===null&&(_t=null,Ge=0,nd()),E}function YR(){for(;He!==null;)A_(He)}function XR(s,r){var o=at;at|=2;var h=N_(),y=k_();_t!==s||Ge!==r?(zd=null,Dd=St()+500,pl(s,r)):dl=si(s,r);e:do try{if(mt!==0&&He!==null){r=He;var v=fi;t:switch(mt){case 1:mt=0,fi=null,gl(s,r,v,1);break;case 2:case 9:if(Lb(v)){mt=0,fi=null,C_(r);break}r=function(){mt!==2&&mt!==9||_t!==s||(mt=7),Ss(s)},v.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Lb(v)?(mt=0,fi=null,C_(r)):(mt=0,fi=null,gl(s,r,v,7));break;case 5:var E=null;switch(He.tag){case 26:E=He.memoizedState;case 5:case 27:var z=He;if(E?pw(E):z.stateNode.complete){mt=0,fi=null;var G=z.sibling;if(G!==null)He=G;else{var se=z.return;se!==null?(He=se,Od(se)):He=null}break t}}mt=0,fi=null,gl(s,r,v,5);break;case 6:mt=0,fi=null,gl(s,r,v,6);break;case 8:wg(),Ut=6;break e;default:throw Error(i(462))}}ZR();break}catch(he){S_(s,he)}while(!0);return Xs=Ja=null,U.H=h,U.A=y,at=o,He!==null?0:(_t=null,Ge=0,nd(),Ut)}function ZR(){for(;He!==null&&!hs();)A_(He)}function A_(s){var r=J1(s.alternate,s,rr);s.memoizedProps=s.pendingProps,r===null?Od(s):He=r}function C_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=K1(o,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=K1(o,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:Pp(r);default:t_(o,r),r=He=kb(r,rr),r=J1(o,r,rr)}s.memoizedProps=s.pendingProps,r===null?Od(s):He=r}function gl(s,r,o,h){Xs=Ja=null,Pp(r),rl=null,Fc=0;var y=r.return;try{if(PR(s,y,r,o,Ge)){Ut=1,jd(s,Ri(o,s.current)),He=null;return}}catch(v){if(y!==null)throw He=y,v;Ut=1,jd(s,Ri(o,s.current)),He=null;return}r.flags&32768?(Ze||h===1?s=!0:dl||(Ge&536870912)!==0?s=!1:(Yr=s=!0,(h===2||h===9||h===3||h===6)&&(h=hi.current,h!==null&&h.tag===13&&(h.flags|=16384))),R_(r,s)):Od(r)}function Od(s){var r=s;do{if((r.flags&32768)!==0){R_(r,Yr);return}s=r.return;var o=UR(r.alternate,r,rr);if(o!==null){He=o;return}if(r=r.sibling,r!==null){He=r;return}He=r=s}while(r!==null);Ut===0&&(Ut=5)}function R_(s,r){do{var o=FR(s.alternate,s);if(o!==null){o.flags&=32767,He=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){He=s;return}He=s=o}while(s!==null);Ut=6,He=null}function M_(s,r,o,h,y,v,E,z,G){s.cancelPendingCommit=null;do Pd();while(un!==0);if((at&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(v=r.lanes|r.childLanes,v|=hp,wc(s,o,v,E,z,G),s===_t&&(He=_t=null,Ge=0),ml=r,Qr=s,ar=o,xg=v,bg=y,__=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,e3(In,function(){return O_(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,y=Y.p,Y.p=2,E=at,at|=4;try{HR(s,r,o)}finally{at=E,Y.p=y,U.T=h}}un=1,D_(),z_(),V_()}}function D_(){if(un===1){un=0;var s=Qr,r=ml,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var h=Y.p;Y.p=2;var y=at;at|=4;try{f_(r,s);var v=Vg,E=xb(s.containerInfo),z=v.focusedElem,G=v.selectionRange;if(E!==z&&z&&z.ownerDocument&&vb(z.ownerDocument.documentElement,z)){if(G!==null&&ap(z)){var se=G.start,he=G.end;if(he===void 0&&(he=se),"selectionStart"in z)z.selectionStart=se,z.selectionEnd=Math.min(he,z.value.length);else{var pe=z.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var ce=re.getSelection(),je=z.textContent.length,Me=Math.min(G.start,je),xt=G.end===void 0?Me:Math.min(G.end,je);!ce.extend&&Me>xt&&(E=xt,xt=Me,Me=E);var J=yb(z,Me),Z=yb(z,xt);if(J&&Z&&(ce.rangeCount!==1||ce.anchorNode!==J.node||ce.anchorOffset!==J.offset||ce.focusNode!==Z.node||ce.focusOffset!==Z.offset)){var ie=pe.createRange();ie.setStart(J.node,J.offset),ce.removeAllRanges(),Me>xt?(ce.addRange(ie),ce.extend(Z.node,Z.offset)):(ie.setEnd(Z.node,Z.offset),ce.addRange(ie))}}}}for(pe=[],ce=z;ce=ce.parentNode;)ce.nodeType===1&&pe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<pe.length;z++){var de=pe[z];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Zd=!!zg,Vg=zg=null}finally{at=y,Y.p=h,U.T=o}}s.current=r,un=2}}function z_(){if(un===2){un=0;var s=Qr,r=ml,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var h=Y.p;Y.p=2;var y=at;at|=4;try{l_(s,r.alternate,r)}finally{at=y,Y.p=h,U.T=o}}un=3}}function V_(){if(un===4||un===3){un=0,Ki();var s=Qr,r=ml,o=ar,h=__;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?un=5:(un=0,ml=Qr=null,I_(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Zr=null),Xi(o),r=r.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ln,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=U.T,y=Y.p,Y.p=2,U.T=null;try{for(var v=s.onRecoverableError,E=0;E<h.length;E++){var z=h[E];v(z.value,{componentStack:z.stack})}}finally{U.T=r,Y.p=y}}(ar&3)!==0&&Pd(),Ss(s),y=s.pendingLanes,(o&261930)!==0&&(y&42)!==0?s===_g?ru++:(ru=0,_g=s):ru=0,au(0)}}function I_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Bc(r)))}function Pd(){return D_(),z_(),V_(),O_()}function O_(){if(un!==5)return!1;var s=Qr,r=xg;xg=0;var o=Xi(ar),h=U.T,y=Y.p;try{Y.p=32>o?32:o,U.T=null,o=bg,bg=null;var v=Qr,E=ar;if(un=0,ml=Qr=null,ar=0,(at&6)!==0)throw Error(i(331));var z=at;if(at|=4,v_(v.current),p_(v,v.current,E,o),at=z,au(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ln,v)}catch{}return!0}finally{Y.p=y,U.T=h,I_(s,r)}}function P_(s,r,o){r=Ri(o,r),r=Jp(s.stateNode,r,2),s=qr(s,r,2),s!==null&&(Us(s,2),Ss(s))}function pt(s,r,o){if(s.tag===3)P_(s,s,o);else for(;r!==null;){if(r.tag===3){P_(r,s,o);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Zr===null||!Zr.has(h))){s=Ri(o,s),o=L1(2),h=qr(r,o,2),h!==null&&(B1(o,h,r,s),Us(h,2),Ss(h));break}}r=r.return}}function jg(s,r,o){var h=s.pingCache;if(h===null){h=s.pingCache=new GR;var y=new Set;h.set(r,y)}else y=h.get(r),y===void 0&&(y=new Set,h.set(r,y));y.has(o)||(gg=!0,y.add(o),s=QR.bind(null,s,r,o),r.then(s,s))}function QR(s,r,o){var h=s.pingCache;h!==null&&h.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,_t===s&&(Ge&o)===o&&(Ut===4||Ut===3&&(Ge&62914560)===Ge&&300>St()-Md?(at&2)===0&&pl(s,0):yg|=o,fl===Ge&&(fl=0)),Ss(s)}function L_(s,r){r===0&&(r=zo()),s=Za(s,r),s!==null&&(Us(s,r),Ss(s))}function WR(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),L_(s,o)}function JR(s,r){var o=0;switch(s.tag){case 31:case 13:var h=s.stateNode,y=s.memoizedState;y!==null&&(o=y.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(r),L_(s,o)}function e3(s,r){return dt(s,r)}var Ld=null,yl=null,Sg=!1,Bd=!1,Tg=!1,Jr=0;function Ss(s){s!==yl&&s.next===null&&(yl===null?Ld=yl=s:yl=yl.next=s),Bd=!0,Sg||(Sg=!0,n3())}function au(s,r){if(!Tg&&Bd){Tg=!0;do for(var o=!1,h=Ld;h!==null;){if(s!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var E=h.suspendedLanes,z=h.pingedLanes;v=(1<<31-tt(42|s)+1)-1,v&=y&~(E&~z),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,H_(h,v))}else v=Ge,v=bi(h,h===_t?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||si(h,v)||(o=!0,H_(h,v));h=h.next}while(o);Tg=!1}}function t3(){B_()}function B_(){Bd=Sg=!1;var s=0;Jr!==0&&d3()&&(s=Jr);for(var r=St(),o=null,h=Ld;h!==null;){var y=h.next,v=U_(h,r);v===0?(h.next=null,o===null?Ld=y:o.next=y,y===null&&(yl=o)):(o=h,(s!==0||(v&3)!==0)&&(Bd=!0)),h=y}un!==0&&un!==5||au(s),Jr!==0&&(Jr=0)}function U_(s,r){for(var o=s.suspendedLanes,h=s.pingedLanes,y=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var E=31-tt(v),z=1<<E,G=y[E];G===-1?((z&o)===0||(z&h)!==0)&&(y[E]=_c(z,r)):G<=r&&(s.expiredLanes|=z),v&=~z}if(r=_t,o=Ge,o=bi(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,o===0||s===r&&(mt===2||mt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Hn(h),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||si(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(h!==null&&Hn(h),Xi(o)){case 2:case 8:o=ii;break;case 32:o=In;break;case 268435456:o=fs;break;default:o=In}return h=F_.bind(null,s),o=dt(o,h),s.callbackPriority=r,s.callbackNode=o,r}return h!==null&&h!==null&&Hn(h),s.callbackPriority=2,s.callbackNode=null,2}function F_(s,r){if(un!==0&&un!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Pd()&&s.callbackNode!==o)return null;var h=Ge;return h=bi(s,s===_t?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(E_(s,h,r),U_(s,St()),s.callbackNode!=null&&s.callbackNode===o?F_.bind(null,s):null)}function H_(s,r){if(Pd())return null;E_(s,r,!0)}function n3(){m3(function(){(at&6)!==0?dt(ni,t3):B_()})}function Ng(){if(Jr===0){var s=nl;s===0&&(s=kn,kn<<=1,(kn&261888)===0&&(kn=256)),Jr=s}return Jr}function q_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Uo(""+s)}function $_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function i3(s,r,o,h,y){if(r==="submit"&&o&&o.stateNode===y){var v=q_((y[Gt]||null).action),E=h.submitter;E&&(r=(r=E[Gt]||null)?q_(r.formAction):E.getAttribute("formAction"),r!==null&&(v=r,E=null));var z=new vs("action","action",null,h,y);s.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Jr!==0){var G=E?$_(y,E):new FormData(y);Kp(o,{pending:!0,data:G,method:y.method,action:v},null,G)}}else typeof v=="function"&&(z.preventDefault(),G=E?$_(y,E):new FormData(y),Kp(o,{pending:!0,data:G,method:y.method,action:v},v,G))},currentTarget:y}]})}}for(var kg=0;kg<up.length;kg++){var Ag=up[kg],s3=Ag.toLowerCase(),r3=Ag[0].toUpperCase()+Ag.slice(1);ts(s3,"on"+r3)}ts(wb,"onAnimationEnd"),ts(Eb,"onAnimationIteration"),ts(jb,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(_R,"onTransitionRun"),ts(wR,"onTransitionStart"),ts(ER,"onTransitionCancel"),ts(Sb,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function G_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var h=s[o],y=h.event;h=h.listeners;e:{var v=void 0;if(r)for(var E=h.length-1;0<=E;E--){var z=h[E],G=z.instance,se=z.currentTarget;if(z=z.listener,G!==v&&y.isPropagationStopped())break e;v=z,y.currentTarget=se;try{v(y)}catch(he){td(he)}y.currentTarget=null,v=G}else for(E=0;E<h.length;E++){if(z=h[E],G=z.instance,se=z.currentTarget,z=z.listener,G!==v&&y.isPropagationStopped())break e;v=z,y.currentTarget=se;try{v(y)}catch(he){td(he)}y.currentTarget=null,v=G}}}}function qe(s,r){var o=r[Tr];o===void 0&&(o=r[Tr]=new Set);var h=s+"__bubble";o.has(h)||(K_(r,s,2,!1),o.add(h))}function Cg(s,r,o){var h=0;r&&(h|=4),K_(o,s,h,r)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function Rg(s){if(!s[Ud]){s[Ud]=!0,za.forEach(function(o){o!=="selectionchange"&&(a3.has(o)||Cg(o,!1,s),Cg(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ud]||(r[Ud]=!0,Cg("selectionchange",!1,r))}}function K_(s,r,o,h){switch(ww(r)){case 2:var y=z3;break;case 8:y=V3;break;default:y=Gg}o=y.bind(null,r,o,s),y=void 0,!Fa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),h?y!==void 0?s.addEventListener(r,o,{capture:!0,passive:y}):s.addEventListener(r,o,!0):y!==void 0?s.addEventListener(r,o,{passive:y}):s.addEventListener(r,o,!1)}function Mg(s,r,o,h,y){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var z=h.stateNode.containerInfo;if(z===y)break;if(E===4)for(E=h.return;E!==null;){var G=E.tag;if((G===3||G===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;z!==null;){if(E=ji(z),E===null)return;if(G=E.tag,G===5||G===6||G===26||G===27){h=v=E;continue e}z=z.parentNode}}h=h.return}zr(function(){var se=v,he=Ni(o),pe=[];e:{var re=Tb.get(s);if(re!==void 0){var ce=vs,je=s;switch(s){case"keypress":if(qa(o)===0)break e;case"keydown":case"keyup":ce=Wh;break;case"focusin":je="focus",ce=Ga;break;case"focusout":je="blur",ce=Ga;break;case"beforeblur":case"afterblur":ce=Ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=_;break;case wb:case Eb:case jb:ce=$h;break;case Sb:ce=P;break;case"scroll":case"scrollend":ce=Rc;break;case"wheel":ce=oe;break;case"copy":case"cut":case"paste":ce=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Gs;break;case"toggle":case"beforetoggle":ce=Le}var Me=(r&4)!==0,xt=!Me&&(s==="scroll"||s==="scrollend"),J=Me?re!==null?re+"Capture":null:re;Me=[];for(var Z=se,ie;Z!==null;){var de=Z;if(ie=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ie===null||J===null||(de=Qi(Z,J),de!=null&&Me.push(lu(Z,de,ie))),xt)break;Z=Z.return}0<Me.length&&(re=new ce(re,je,null,o,he),pe.push({event:re,listeners:Me}))}}if((r&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",re&&o!==kc&&(je=o.relatedTarget||o.fromElement)&&(ji(je)||je[wi]))break e;if((ce||re)&&(re=he.window===he?he:(re=he.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(je=o.relatedTarget||o.toElement,ce=se,je=je?ji(je):null,je!==null&&(xt=l(je),Me=je.tag,je!==xt||Me!==5&&Me!==27&&Me!==6)&&(je=null)):(ce=null,je=se),ce!==je)){if(Me=Mc,de="onMouseLeave",J="onMouseEnter",Z="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Gs,de="onPointerLeave",J="onPointerEnter",Z="pointer"),xt=ce==null?re:Ln(ce),ie=je==null?re:Ln(je),re=new Me(de,Z+"leave",ce,o,he),re.target=xt,re.relatedTarget=ie,de=null,ji(he)===se&&(Me=new Me(J,Z+"enter",je,o,he),Me.target=ie,Me.relatedTarget=xt,de=Me),xt=de,ce&&je)t:{for(Me=o3,J=ce,Z=je,ie=0,de=J;de;de=Me(de))ie++;de=0;for(var ke=Z;ke;ke=Me(ke))de++;for(;0<ie-de;)J=Me(J),ie--;for(;0<de-ie;)Z=Me(Z),de--;for(;ie--;){if(J===Z||Z!==null&&J===Z.alternate){Me=J;break t}J=Me(J),Z=Me(Z)}Me=null}else Me=null;ce!==null&&Y_(pe,re,ce,Me,!1),je!==null&&xt!==null&&Y_(pe,xt,je,Me,!0)}}e:{if(re=se?Ln(se):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var nt=hb;else if(cb(re))if(db)nt=vR;else{nt=gR;var Te=pR}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?se&&Bo(se.elementType)&&(nt=hb):nt=yR;if(nt&&(nt=nt(s,se))){ub(pe,nt,o,he);break e}Te&&Te(s,re,se),s==="focusout"&&se&&re.type==="number"&&se.memoizedProps.value!=null&&Sc(re,"number",re.value)}switch(Te=se?Ln(se):window,s){case"focusin":(cb(Te)||Te.contentEditable==="true")&&(Yo=Te,op=se,Oc=null);break;case"focusout":Oc=op=Yo=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,bb(pe,o,he);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":bb(pe,o,he)}var Ue;if(rt)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ko?Ka(s,o)&&(Ke="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ke="onCompositionStart");Ke&&(_s&&o.locale!=="ko"&&(Ko||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ko&&(Ue=Cc()):(ys=he,Ac="value"in ys?ys.value:ys.textContent,Ko=!0)),Te=Fd(se,Ke),0<Te.length&&(Ke=new bs(Ke,s,null,o,he),pe.push({event:Ke,listeners:Te}),Ue?Ke.data=Ue:(Ue=Go(o),Ue!==null&&(Ke.data=Ue)))),(Ue=Ai?hR(s,o):dR(s,o))&&(Ke=Fd(se,"onBeforeInput"),0<Ke.length&&(Te=new bs("onBeforeInput","beforeinput",null,o,he),pe.push({event:Te,listeners:Ke}),Te.data=Ue)),i3(pe,s,se,o,he)}G_(pe,r)})}function lu(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Fd(s,r){for(var o=r+"Capture",h=[];s!==null;){var y=s,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Qi(s,o),y!=null&&h.unshift(lu(s,y,v)),y=Qi(s,r),y!=null&&h.push(lu(s,y,v))),s.tag===3)return h;s=s.return}return[]}function o3(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Y_(s,r,o,h,y){for(var v=r._reactName,E=[];o!==null&&o!==h;){var z=o,G=z.alternate,se=z.stateNode;if(z=z.tag,G!==null&&G===h)break;z!==5&&z!==26&&z!==27||se===null||(G=se,y?(se=Qi(o,v),se!=null&&E.unshift(lu(o,se,G))):y||(se=Qi(o,v),se!=null&&E.push(lu(o,se,G)))),o=o.return}E.length!==0&&s.push({event:r,listeners:E})}var l3=/\r\n?/g,c3=/\u0000|\uFFFD/g;function X_(s){return(typeof s=="string"?s:""+s).replace(l3,`
`).replace(c3,"")}function Z_(s,r){return r=X_(r),X_(s)===r}function vt(s,r,o,h,y,v){switch(o){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Gn(s,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Gn(s,""+h);break;case"className":li(s,"class",h);break;case"tabIndex":li(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":li(s,o,h);break;case"style":Nc(s,h,v);break;case"data":if(r!=="object"){li(s,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(o);break}h=Uo(""+h),s.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&vt(s,r,"name",y.name,y,null),vt(s,r,"formEncType",y.formEncType,y,null),vt(s,r,"formMethod",y.formMethod,y,null),vt(s,r,"formTarget",y.formTarget,y,null)):(vt(s,r,"encType",y.encType,y,null),vt(s,r,"method",y.method,y,null),vt(s,r,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(o);break}h=Uo(""+h),s.setAttribute(o,h);break;case"onClick":h!=null&&(s.onclick=Zi);break;case"onScroll":h!=null&&qe("scroll",s);break;case"onScrollEnd":h!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}o=Uo(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(o,""+h):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":h===!0?s.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(o,h):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(o,h):s.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(o):s.setAttribute(o,h);break;case"popover":qe("beforetoggle",s),qe("toggle",s),Po(s,"popover",h);break;case"xlinkActuate":Wt(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Wt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Wt(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Wt(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Wt(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Wt(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Wt(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Wt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Wt(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Po(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fh.get(o)||o,Po(s,o,h))}}function Dg(s,r,o,h,y,v){switch(o){case"style":Nc(s,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof h=="string"?Gn(s,h):(typeof h=="number"||typeof h=="bigint")&&Gn(s,""+h);break;case"onScroll":h!=null&&qe("scroll",s);break;case"onScrollEnd":h!=null&&qe("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(y=o.endsWith("Capture"),r=o.slice(2,y?o.length-7:void 0),v=s[Gt]||null,v=v!=null?v[o]:null,typeof v=="function"&&s.removeEventListener(r,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,h,y);break e}o in s?s[o]=h:h===!0?s.setAttribute(o,""):Po(s,o,h)}}}function wn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var h=!1,y=!1,v;for(v in o)if(o.hasOwnProperty(v)){var E=o[v];if(E!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:vt(s,r,v,E,o,null)}}y&&vt(s,r,"srcSet",o.srcSet,o,null),h&&vt(s,r,"src",o.src,o,null);return;case"input":qe("invalid",s);var z=v=E=y=null,G=null,se=null;for(h in o)if(o.hasOwnProperty(h)){var he=o[h];if(he!=null)switch(h){case"name":y=he;break;case"type":E=he;break;case"checked":G=he;break;case"defaultChecked":se=he;break;case"value":v=he;break;case"defaultValue":z=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(i(137,r));break;default:vt(s,r,h,he,o,null)}}Lh(s,v,z,G,se,E,y,!1);return;case"select":qe("invalid",s),h=E=v=null;for(y in o)if(o.hasOwnProperty(y)&&(z=o[y],z!=null))switch(y){case"value":v=z;break;case"defaultValue":E=z;break;case"multiple":h=z;default:vt(s,r,y,z,o,null)}r=v,o=E,s.multiple=!!h,r!=null?Cr(s,!!h,r,!1):o!=null&&Cr(s,!!h,o,!0);return;case"textarea":qe("invalid",s),v=y=h=null;for(E in o)if(o.hasOwnProperty(E)&&(z=o[E],z!=null))switch(E){case"value":h=z;break;case"defaultValue":y=z;break;case"children":v=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:vt(s,r,E,z,o,null)}Rr(s,h,y,v);return;case"option":for(G in o)if(o.hasOwnProperty(G)&&(h=o[G],h!=null))switch(G){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:vt(s,r,G,h,o,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(h=0;h<ou.length;h++)qe(ou[h],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(h=o[se],h!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:vt(s,r,se,h,o,null)}return;default:if(Bo(r)){for(he in o)o.hasOwnProperty(he)&&(h=o[he],h!==void 0&&Dg(s,r,he,h,o,void 0));return}}for(z in o)o.hasOwnProperty(z)&&(h=o[z],h!=null&&vt(s,r,z,h,o,null))}function u3(s,r,o,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,E=null,z=null,G=null,se=null,he=null;for(ce in o){var pe=o[ce];if(o.hasOwnProperty(ce)&&pe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":G=pe;default:h.hasOwnProperty(ce)||vt(s,r,ce,null,h,pe)}}for(var re in h){var ce=h[re];if(pe=o[re],h.hasOwnProperty(re)&&(ce!=null||pe!=null))switch(re){case"type":v=ce;break;case"name":y=ce;break;case"checked":se=ce;break;case"defaultChecked":he=ce;break;case"value":E=ce;break;case"defaultValue":z=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:ce!==pe&&vt(s,r,re,ce,h,pe)}}Lo(s,E,z,G,se,he,v,y);return;case"select":ce=E=z=re=null;for(v in o)if(G=o[v],o.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ce=G;default:h.hasOwnProperty(v)||vt(s,r,v,null,h,G)}for(y in h)if(v=h[y],G=o[y],h.hasOwnProperty(y)&&(v!=null||G!=null))switch(y){case"value":re=v;break;case"defaultValue":z=v;break;case"multiple":E=v;default:v!==G&&vt(s,r,y,v,h,G)}r=z,o=E,h=ce,re!=null?Cr(s,!!o,re,!1):!!h!=!!o&&(r!=null?Cr(s,!!o,r,!0):Cr(s,!!o,o?[]:"",!1));return;case"textarea":ce=re=null;for(z in o)if(y=o[z],o.hasOwnProperty(z)&&y!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:vt(s,r,z,null,h,y)}for(E in h)if(y=h[E],v=o[E],h.hasOwnProperty(E)&&(y!=null||v!=null))switch(E){case"value":re=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==v&&vt(s,r,E,y,h,v)}Bh(s,re,ce);return;case"option":for(var je in o)if(re=o[je],o.hasOwnProperty(je)&&re!=null&&!h.hasOwnProperty(je))switch(je){case"selected":s.selected=!1;break;default:vt(s,r,je,null,h,re)}for(G in h)if(re=h[G],ce=o[G],h.hasOwnProperty(G)&&re!==ce&&(re!=null||ce!=null))switch(G){case"selected":s.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:vt(s,r,G,re,h,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)re=o[Me],o.hasOwnProperty(Me)&&re!=null&&!h.hasOwnProperty(Me)&&vt(s,r,Me,null,h,re);for(se in h)if(re=h[se],ce=o[se],h.hasOwnProperty(se)&&re!==ce&&(re!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,r));break;default:vt(s,r,se,re,h,ce)}return;default:if(Bo(r)){for(var xt in o)re=o[xt],o.hasOwnProperty(xt)&&re!==void 0&&!h.hasOwnProperty(xt)&&Dg(s,r,xt,void 0,h,re);for(he in h)re=h[he],ce=o[he],!h.hasOwnProperty(he)||re===ce||re===void 0&&ce===void 0||Dg(s,r,he,re,h,ce);return}}for(var J in o)re=o[J],o.hasOwnProperty(J)&&re!=null&&!h.hasOwnProperty(J)&&vt(s,r,J,null,h,re);for(pe in h)re=h[pe],ce=o[pe],!h.hasOwnProperty(pe)||re===ce||re==null&&ce==null||vt(s,r,pe,re,h,ce)}function Q_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h3(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),h=0;h<o.length;h++){var y=o[h],v=y.transferSize,E=y.initiatorType,z=y.duration;if(v&&z&&Q_(E)){for(E=0,z=y.responseEnd,h+=1;h<o.length;h++){var G=o[h],se=G.startTime;if(se>z)break;var he=G.transferSize,pe=G.initiatorType;he&&Q_(pe)&&(G=G.responseEnd,E+=he*(G<z?1:(z-se)/(G-se)))}if(--h,r+=8*(v+E)/(y.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var zg=null,Vg=null;function Hd(s){return s.nodeType===9?s:s.ownerDocument}function W_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Ig(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Og=null;function d3(){var s=window.event;return s&&s.type==="popstate"?s===Og?!1:(Og=s,!0):(Og=null,!1)}var ew=typeof setTimeout=="function"?setTimeout:void 0,f3=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,m3=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(s){return tw.resolve(null).then(s).catch(p3)}:ew;function p3(s){setTimeout(function(){throw s})}function ea(s){return s==="head"}function nw(s,r){var o=r,h=0;do{var y=o.nextSibling;if(s.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"||o==="/&"){if(h===0){s.removeChild(y),_l(r);return}h--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")h++;else if(o==="html")cu(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,cu(o);for(var v=o.firstChild;v;){var E=v.nextSibling,z=v.nodeName;v[Ei]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=E}}else o==="body"&&cu(s.ownerDocument.body);o=y}while(o);_l(r)}function iw(s,r){var o=s;s=0;do{var h=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=h}while(o)}function Pg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pg(o),Nr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function g3(s,r,o,h){for(;s.nodeType===1;){var y=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Ei])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Ii(s.nextSibling),s===null)break}return null}function y3(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ii(s.nextSibling),s===null))return null;return s}function sw(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Ii(s.nextSibling),s===null))return null;return s}function Lg(s){return s.data==="$?"||s.data==="$~"}function Bg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function v3(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var h=function(){r(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Ii(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Ug=null;function rw(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return Ii(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function aw(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function ow(s,r,o){switch(r=Hd(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function cu(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Nr(s)}var Oi=new Map,lw=new Set;function qd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var or=Y.d;Y.d={f:x3,r:b3,D:_3,C:w3,L:E3,m:j3,X:T3,S:S3,M:N3};function x3(){var s=or.f(),r=Vd();return s||r}function b3(s){var r=Pn(s);r!==null&&r.tag===5&&r.type==="form"?S1(r):or.r(s)}var vl=typeof document>"u"?null:document;function cw(s,r,o){var h=vl;if(h&&typeof r=="string"&&r){var y=$n(r);y='link[rel="'+s+'"][href="'+y+'"]',typeof o=="string"&&(y+='[crossorigin="'+o+'"]'),lw.has(y)||(lw.add(y),s={rel:s,crossOrigin:o,href:r},h.querySelector(y)===null&&(r=h.createElement("link"),wn(r,"link",s),Lt(r),h.head.appendChild(r)))}}function _3(s){or.D(s),cw("dns-prefetch",s,null)}function w3(s,r){or.C(s,r),cw("preconnect",s,r)}function E3(s,r,o){or.L(s,r,o);var h=vl;if(h&&s&&r){var y='link[rel="preload"][as="'+$n(r)+'"]';r==="image"&&o&&o.imageSrcSet?(y+='[imagesrcset="'+$n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(y+='[imagesizes="'+$n(o.imageSizes)+'"]')):y+='[href="'+$n(s)+'"]';var v=y;switch(r){case"style":v=xl(s);break;case"script":v=bl(s)}Oi.has(v)||(s=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Oi.set(v,s),h.querySelector(y)!==null||r==="style"&&h.querySelector(uu(v))||r==="script"&&h.querySelector(hu(v))||(r=h.createElement("link"),wn(r,"link",s),Lt(r),h.head.appendChild(r)))}}function j3(s,r){or.m(s,r);var o=vl;if(o&&s){var h=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+$n(h)+'"][href="'+$n(s)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=bl(s)}if(!Oi.has(v)&&(s=x({rel:"modulepreload",href:s},r),Oi.set(v,s),o.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(hu(v)))return}h=o.createElement("link"),wn(h,"link",s),Lt(h),o.head.appendChild(h)}}}function S3(s,r,o){or.S(s,r,o);var h=vl;if(h&&s){var y=Si(h).hoistableStyles,v=xl(s);r=r||"default";var E=y.get(v);if(!E){var z={loading:0,preload:null};if(E=h.querySelector(uu(v)))z.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Oi.get(v))&&Fg(s,o);var G=E=h.createElement("link");Lt(G),wn(G,"link",s),G._p=new Promise(function(se,he){G.onload=se,G.onerror=he}),G.addEventListener("load",function(){z.loading|=1}),G.addEventListener("error",function(){z.loading|=2}),z.loading|=4,$d(E,r,h)}E={type:"stylesheet",instance:E,count:1,state:z},y.set(v,E)}}}function T3(s,r){or.X(s,r);var o=vl;if(o&&s){var h=Si(o).hoistableScripts,y=bl(s),v=h.get(y);v||(v=o.querySelector(hu(y)),v||(s=x({src:s,async:!0},r),(r=Oi.get(y))&&Hg(s,r),v=o.createElement("script"),Lt(v),wn(v,"link",s),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function N3(s,r){or.M(s,r);var o=vl;if(o&&s){var h=Si(o).hoistableScripts,y=bl(s),v=h.get(y);v||(v=o.querySelector(hu(y)),v||(s=x({src:s,async:!0,type:"module"},r),(r=Oi.get(y))&&Hg(s,r),v=o.createElement("script"),Lt(v),wn(v,"link",s),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function uw(s,r,o,h){var y=(y=ve.current)?qd(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=xl(o.href),o=Si(y).hoistableStyles,h=o.get(r),h||(h={type:"style",instance:null,count:0,state:null},o.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=xl(o.href);var v=Si(y).hoistableStyles,E=v.get(s);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,E),(v=y.querySelector(uu(s)))&&!v._p&&(E.instance=v,E.state.loading=5),Oi.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Oi.set(s,o),v||k3(y,s,o,E.state))),r&&h===null)throw Error(i(528,""));return E}if(r&&h!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bl(o),o=Si(y).hoistableScripts,h=o.get(r),h||(h={type:"script",instance:null,count:0,state:null},o.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function xl(s){return'href="'+$n(s)+'"'}function uu(s){return'link[rel="stylesheet"]['+s+"]"}function hw(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function k3(s,r,o,h){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=s.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),wn(r,"link",o),Lt(r),s.head.appendChild(r))}function bl(s){return'[src="'+$n(s)+'"]'}function hu(s){return"script[async]"+s}function dw(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var h=s.querySelector('style[data-href~="'+$n(o.href)+'"]');if(h)return r.instance=h,Lt(h),h;var y=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Lt(h),wn(h,"style",y),$d(h,o.precedence,s),r.instance=h;case"stylesheet":y=xl(o.href);var v=s.querySelector(uu(y));if(v)return r.state.loading|=4,r.instance=v,Lt(v),v;h=hw(o),(y=Oi.get(y))&&Fg(h,y),v=(s.ownerDocument||s).createElement("link"),Lt(v);var E=v;return E._p=new Promise(function(z,G){E.onload=z,E.onerror=G}),wn(v,"link",h),r.state.loading|=4,$d(v,o.precedence,s),r.instance=v;case"script":return v=bl(o.src),(y=s.querySelector(hu(v)))?(r.instance=y,Lt(y),y):(h=o,(y=Oi.get(v))&&(h=x({},o),Hg(h,y)),s=s.ownerDocument||s,y=s.createElement("script"),Lt(y),wn(y,"link",h),s.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,$d(h,o.precedence,s));return r.instance}function $d(s,r,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,E=0;E<h.length;E++){var z=h[E];if(z.dataset.precedence===r)v=z;else if(v!==y)break}v?v.parentNode.insertBefore(s,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Fg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Hg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Gd=null;function fw(s,r,o){if(Gd===null){var h=new Map,y=Gd=new Map;y.set(o,h)}else y=Gd,h=y.get(o),h||(h=new Map,y.set(o,h));if(h.has(s))return h;for(h.set(s,null),o=o.getElementsByTagName(s),y=0;y<o.length;y++){var v=o[y];if(!(v[Ei]||v[Pt]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(r)||"";E=s+E;var z=h.get(E);z?z.push(v):h.set(E,[v])}}return h}function mw(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function A3(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function C3(s,r,o,h){if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=xl(h.href),v=r.querySelector(uu(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Kd.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=v,Lt(v);return}v=r.ownerDocument||r,h=hw(h),(y=Oi.get(y))&&Fg(h,y),v=v.createElement("link"),Lt(v);var E=v;E._p=new Promise(function(z,G){E.onload=z,E.onerror=G}),wn(v,"link",h),o.instance=v}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Kd.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var qg=0;function R3(s,r){return s.stylesheets&&s.count===0&&Xd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var h=setTimeout(function(){if(s.stylesheets&&Xd(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4+r);0<s.imgBytes&&qg===0&&(qg=62500*h3());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Xd(s,s.stylesheets),s.unsuspend)){var v=s.unsuspend;s.unsuspend=null,v()}},(s.imgBytes>qg?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Yd=null;function Xd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Yd=new Map,r.forEach(M3,s),Yd=null,Kd.call(s))}function M3(s,r){if(!(r.state.loading&4)){var o=Yd.get(s);if(o)var h=o.get(null);else{o=new Map,Yd.set(s,o);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var E=y[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),h=E)}h&&o.set(null,h)}y=r.instance,E=y.getAttribute("data-precedence"),v=o.get(E)||h,v===h&&o.set(null,y),o.set(E,y),this.count++,h=Kd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),r.state.loading|=4}}var du={$$typeof:O,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function D3(s,r,o,h,y,v,E,z,G){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function gw(s,r,o,h,y,v,E,z,G,se,he,pe){return s=new D3(s,r,o,E,G,se,he,pe,z),r=1,v===!0&&(r|=24),v=ui(3,null,null,r),s.current=v,v.stateNode=s,r=Ep(),r.refCount++,s.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:o,cache:r},Np(v),s}function yw(s){return s?(s=Qo,s):Qo}function vw(s,r,o,h,y,v){y=yw(y),h.context===null?h.context=y:h.pendingContext=y,h=Hr(r),h.payload={element:o},v=v===void 0?null:v,v!==null&&(h.callback=v),o=qr(s,h,r),o!==null&&(Qn(o,s,r),qc(o,s,r))}function xw(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function $g(s,r){xw(s,r),(s=s.alternate)&&xw(s,r)}function bw(s){if(s.tag===13||s.tag===31){var r=Za(s,67108864);r!==null&&Qn(r,s,67108864),$g(s,67108864)}}function _w(s){if(s.tag===13||s.tag===31){var r=pi();r=Hs(r);var o=Za(s,r);o!==null&&Qn(o,s,r),$g(s,r)}}var Zd=!0;function z3(s,r,o,h){var y=U.T;U.T=null;var v=Y.p;try{Y.p=2,Gg(s,r,o,h)}finally{Y.p=v,U.T=y}}function V3(s,r,o,h){var y=U.T;U.T=null;var v=Y.p;try{Y.p=8,Gg(s,r,o,h)}finally{Y.p=v,U.T=y}}function Gg(s,r,o,h){if(Zd){var y=Kg(h);if(y===null)Mg(s,r,h,Qd,o),Ew(s,h);else if(O3(y,s,r,o,h))h.stopPropagation();else if(Ew(s,h),r&4&&-1<I3.indexOf(s)){for(;y!==null;){var v=Pn(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=fn(v.pendingLanes);if(E!==0){var z=v;for(z.pendingLanes|=2,z.entangledLanes|=2;E;){var G=1<<31-tt(E);z.entanglements[1]|=G,E&=~G}Ss(v),(at&6)===0&&(Dd=St()+500,au(0))}}break;case 31:case 13:z=Za(v,2),z!==null&&Qn(z,v,2),Vd(),$g(v,2)}if(v=Kg(h),v===null&&Mg(s,r,h,Qd,o),v===y)break;y=v}y!==null&&h.stopPropagation()}else Mg(s,r,h,null,o)}}function Kg(s){return s=Ni(s),Yg(s)}var Qd=null;function Yg(s){if(Qd=null,s=ji(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Qd=s,null}function ww(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qn()){case ni:return 2;case ii:return 8;case In:case ds:return 32;case fs:return 268435456;default:return 32}default:return 32}}var Xg=!1,ta=null,na=null,ia=null,fu=new Map,mu=new Map,sa=[],I3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ew(s,r){switch(s){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(r.pointerId)}}function pu(s,r,o,h,y,v){return s===null||s.nativeEvent!==v?(s={blockedOn:r,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},r!==null&&(r=Pn(r),r!==null&&bw(r)),s):(s.eventSystemFlags|=h,r=s.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),s)}function O3(s,r,o,h,y){switch(r){case"focusin":return ta=pu(ta,s,r,o,h,y),!0;case"dragenter":return na=pu(na,s,r,o,h,y),!0;case"mouseover":return ia=pu(ia,s,r,o,h,y),!0;case"pointerover":var v=y.pointerId;return fu.set(v,pu(fu.get(v)||null,s,r,o,h,y)),!0;case"gotpointercapture":return v=y.pointerId,mu.set(v,pu(mu.get(v)||null,s,r,o,h,y)),!0}return!1}function jw(s){var r=ji(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,ri(s.priority,function(){_w(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,ri(s.priority,function(){_w(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Kg(s.nativeEvent);if(o===null){o=s.nativeEvent;var h=new o.constructor(o.type,o);kc=h,o.target.dispatchEvent(h),kc=null}else return r=Pn(o),r!==null&&bw(r),s.blockedOn=o,!1;r.shift()}return!0}function Sw(s,r,o){Wd(s)&&o.delete(r)}function P3(){Xg=!1,ta!==null&&Wd(ta)&&(ta=null),na!==null&&Wd(na)&&(na=null),ia!==null&&Wd(ia)&&(ia=null),fu.forEach(Sw),mu.forEach(Sw)}function Jd(s,r){s.blockedOn===r&&(s.blockedOn=null,Xg||(Xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,P3)))}var ef=null;function Tw(s){ef!==s&&(ef=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ef===s&&(ef=null);for(var r=0;r<s.length;r+=3){var o=s[r],h=s[r+1],y=s[r+2];if(typeof h!="function"){if(Yg(h||o)===null)continue;break}var v=Pn(o);v!==null&&(s.splice(r,3),r-=3,Kp(v,{pending:!0,data:y,method:o.method,action:h},h,y))}}))}function _l(s){function r(G){return Jd(G,s)}ta!==null&&Jd(ta,s),na!==null&&Jd(na,s),ia!==null&&Jd(ia,s),fu.forEach(r),mu.forEach(r);for(var o=0;o<sa.length;o++){var h=sa[o];h.blockedOn===s&&(h.blockedOn=null)}for(;0<sa.length&&(o=sa[0],o.blockedOn===null);)jw(o),o.blockedOn===null&&sa.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var y=o[h],v=o[h+1],E=y[Gt]||null;if(typeof v=="function")E||Tw(o);else if(E){var z=null;if(v&&v.hasAttribute("formAction")){if(y=v,E=v[Gt]||null)z=E.formAction;else if(Yg(y)!==null)continue}else z=E.action;typeof z=="function"?o[h+1]=z:(o.splice(h,3),h-=3),Tw(o)}}}function Nw(){function s(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),h||setTimeout(o,20)}function o(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Zg(s){this._internalRoot=s}tf.prototype.render=Zg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,h=pi();vw(o,h,s,r,null,null)},tf.prototype.unmount=Zg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;vw(s.current,2,null,s,null,null),Vd(),r[wi]=null}};function tf(s){this._internalRoot=s}tf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Vo();s={blockedOn:null,target:s,priority:r};for(var o=0;o<sa.length&&r!==0&&r<sa[o].priority;o++);sa.splice(o,0,s),o===0&&jw(s)}};var kw=e.version;if(kw!=="19.2.0")throw Error(i(527,kw,"19.2.0"));Y.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var L3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{ln=nf.inject(L3),Tt=nf}catch{}}return yu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,h="",y=V1,v=I1,E=O1;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=gw(s,1,!1,null,null,o,h,null,y,v,E,Nw),s[wi]=r.current,Rg(s),new Zg(r)},yu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var h=!1,y="",v=V1,E=I1,z=O1,G=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError),o.formState!==void 0&&(G=o.formState)),r=gw(s,1,!0,r,o??null,h,y,G,v,E,z,Nw),r.context=yw(null),o=r.current,h=pi(),h=Hs(h),y=Hr(h),y.callback=null,qr(o,y,h),o=h,r.current.lanes=o,Us(r,o),Ss(r),s[wi]=r.current,Rg(s),new tf(r)},yu.version="19.2.0",yu}var Pw;function Y3(){if(Pw)return Jg.exports;Pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jg.exports=K3(),Jg.exports}var X3=Y3();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lw="popstate";function Z3(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Ky("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Zu(a)}return W3(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q3(){return Math.random().toString(36).substring(2,10)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ky(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oc(e):e,state:n,key:e&&e.key||i||Q3()}}function Zu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function W3(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",f=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function x(){d="POP";let T=g(),j=T==null?null:T-m;m=T,f&&f({action:d,location:C.location,delta:j})}function b(T,j){d="PUSH";let R=Ky(C.location,T,j);m=g()+1;let O=Bw(R,m),F=C.createHref(R);try{c.pushState(O,"",F)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(F)}l&&f&&f({action:d,location:C.location,delta:1})}function w(T,j){d="REPLACE";let R=Ky(C.location,T,j);m=g();let O=Bw(R,m),F=C.createHref(R);c.replaceState(O,"",F),l&&f&&f({action:d,location:C.location,delta:0})}function N(T){return J3(T)}let C={get action(){return d},get location(){return t(a,c)},listen(T){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Lw,x),f=T,()=>{a.removeEventListener(Lw,x),f=null}},createHref(T){return e(a,T)},createURL:N,encodeLocation(T){let j=N(T);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:w,go(T){return c.go(T)}};return C}function J3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Zu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function zS(t,e,n="/"){return eM(t,e,n,!1)}function eM(t,e,n,i){let a=typeof e=="string"?oc(e):e,l=yr(a.pathname||"/",n);if(l==null)return null;let c=VS(t);tM(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=dM(l);d=uM(c[f],m,i)}return d}function VS(t,e=[],n=[],i="",a=!1){let l=(c,d,f=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;It(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let x=pr([i,g.relativePath]),b=n.concat(g);c.children&&c.children.length>0&&(It(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),VS(c.children,e,b,x,f)),!(c.path==null&&!c.index)&&e.push({path:x,score:lM(x,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of IS(c.path))l(c,d,!0,f)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=IS(i.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function tM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cM(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var nM=/^:[\w-]+$/,iM=3,sM=2,rM=1,aM=10,oM=-2,Uw=t=>t==="*";function lM(t,e){let n=t.split("/"),i=n.length;return n.some(Uw)&&(i+=oM),e&&(i+=sM),n.filter(a=>!Uw(a)).reduce((a,l)=>a+(nM.test(l)?iM:l===""?rM:aM),i)}function cM(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function uM(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x&&m&&n&&!i[i.length-1].route.index&&(x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:pr([l,x.pathname]),pathnameBase:gM(pr([l,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(l=pr([l,x.pathnameBase]))}return c}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=hM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let N=d[b]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const w=d[b];return x&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function hM(t,e=!1,n=!0){zs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function dM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function fM(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?oc(t):t;return{pathname:n?n.startsWith("/")?n:mM(n,e):e,search:yM(i),hash:vM(a)}}function mM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OS(t){let e=pM(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function PS(t,e,n,i=!1){let a;typeof t=="string"?a=oc(t):(a={...t},It(!a.pathname||!a.pathname.includes("?"),iy("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),iy("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),iy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}d=x>=0?e[x]:"/"}let f=fM(a,d),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var pr=t=>t.join("/").replace(/\/\/+/g,"/"),gM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var LS=["POST","PUT","PATCH","DELETE"];new Set(LS);var bM=["GET",...LS];new Set(bM);var lc=D.createContext(null);lc.displayName="DataRouter";var jm=D.createContext(null);jm.displayName="DataRouterState";D.createContext(!1);var BS=D.createContext({isTransitioning:!1});BS.displayName="ViewTransition";var _M=D.createContext(new Map);_M.displayName="Fetchers";var wM=D.createContext(null);wM.displayName="Await";var Ps=D.createContext(null);Ps.displayName="Navigation";var Eh=D.createContext(null);Eh.displayName="Location";var Ls=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ls.displayName="Route";var pv=D.createContext(null);pv.displayName="RouteError";function EM(t,{relative:e}={}){It(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Ps),{hash:a,pathname:l,search:c}=Sh(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:pr([n,l])),i.createHref({pathname:d,search:c,hash:a})}function jh(){return D.useContext(Eh)!=null}function Na(){return It(jh(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Eh).location}var US="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FS(t){D.useContext(Ps).static||D.useLayoutEffect(t)}function HS(){let{isDataRoute:t}=D.useContext(Ls);return t?IM():jM()}function jM(){It(jh(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(lc),{basename:e,navigator:n}=D.useContext(Ps),{matches:i}=D.useContext(Ls),{pathname:a}=Na(),l=JSON.stringify(OS(i)),c=D.useRef(!1);return FS(()=>{c.current=!0}),D.useCallback((f,m={})=>{if(zs(c.current,US),!c.current)return;if(typeof f=="number"){n.go(f);return}let g=PS(f,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:pr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}D.createContext(null);function Sm(){let{matches:t}=D.useContext(Ls),e=t[t.length-1];return e?e.params:{}}function Sh(t,{relative:e}={}){let{matches:n}=D.useContext(Ls),{pathname:i}=Na(),a=JSON.stringify(OS(n));return D.useMemo(()=>PS(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function SM(t,e){return qS(t,e)}function qS(t,e,n,i,a){It(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Ps),{matches:c}=D.useContext(Ls),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let R=x&&x.path||"";$S(m,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Na(),w;if(e){let R=typeof e=="string"?oc(e):e;It(g==="/"||R.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=b;let N=w.pathname||"/",C=N;if(g!=="/"){let R=g.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=zS(t,{pathname:C});zs(x||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),zs(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=CM(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:pr([g,l.encodeLocation?l.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:pr([g,l.encodeLocation?l.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),c,n,i,a);return e&&j?D.createElement(Eh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function TM(){let t=VM(),e=xM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var NM=D.createElement(TM,null),kM=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(Ls.Provider,{value:this.props.routeContext},D.createElement(pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AM({routeContext:t,match:e,children:n}){let i=D.useContext(lc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ls.Provider,{value:t},n)}function CM(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);It(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:b}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,g,x)=>{let b,w=!1,N=null,C=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||NM,d&&(f<0&&x===0?($S("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):f===x&&(w=!0,C=g.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,x+1)),j=()=>{let R;return b?R=N:w?R=C:g.route.Component?R=D.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=m,D.createElement(AM,{match:g,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?D.createElement(kM,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:j(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:i}):j()},null)}function gv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RM(t){let e=D.useContext(lc);return It(e,gv(t)),e}function MM(t){let e=D.useContext(jm);return It(e,gv(t)),e}function DM(t){let e=D.useContext(Ls);return It(e,gv(t)),e}function yv(t){let e=DM(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zM(){return yv("useRouteId")}function VM(){let t=D.useContext(pv),e=MM("useRouteError"),n=yv("useRouteError");return t!==void 0?t:e.errors?.[n]}function IM(){let{router:t}=RM("useNavigate"),e=yv("useNavigate"),n=D.useRef(!1);return FS(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{zs(n.current,US),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Fw={};function $S(t,e,n){!e&&!Fw[t]&&(Fw[t]=!0,zs(!1,n))}D.memo(OM);function OM({routes:t,future:e,state:n,unstable_onError:i}){return qS(t,void 0,n,i,e)}function gi(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PM({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){It(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=oc(n));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:b="default"}=n,w=D.useMemo(()=>{let N=yr(f,c);return N==null?null:{location:{pathname:N,search:m,hash:g,state:x,key:b},navigationType:i}},[c,f,m,g,x,b,i]);return zs(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:D.createElement(Ps.Provider,{value:d},D.createElement(Eh.Provider,{children:e,value:w}))}function LM({children:t,location:e}){return SM(Yy(t),e)}function Yy(t,e=[]){let n=[];return D.Children.forEach(t,(i,a)=>{if(!D.isValidElement(i))return;let l=[...e,a];if(i.type===D.Fragment){n.push.apply(n,Yy(i.props.children,l));return}It(i.type===gi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Yy(i.props.children,l)),n.push(c)}),n}var Ef="get",jf="application/x-www-form-urlencoded";function Tm(t){return t!=null&&typeof t.tagName=="string"}function BM(t){return Tm(t)&&t.tagName.toLowerCase()==="button"}function UM(t){return Tm(t)&&t.tagName.toLowerCase()==="form"}function FM(t){return Tm(t)&&t.tagName.toLowerCase()==="input"}function HM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qM(t,e){return t.button===0&&(!e||e==="_self")&&!HM(t)}var sf=null;function $M(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var GM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sy(t){return t!=null&&!GM.has(t)?(zs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):t}function KM(t,e){let n,i,a,l,c;if(UM(t)){let d=t.getAttribute("action");i=d?yr(d,e):null,n=t.getAttribute("method")||Ef,a=sy(t.getAttribute("enctype"))||jf,l=new FormData(t)}else if(BM(t)||FM(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?yr(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ef,a=sy(t.getAttribute("formenctype"))||sy(d.getAttribute("enctype"))||jf,l=new FormData(d,t),!$M()){let{name:m,type:g,value:x}=t;if(g==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,x)}}else{if(Tm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ef,i=null,a=jf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YM(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&yr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function XM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QM(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await XM(l,n);return c.links?c.links():[]}return[]}));return t4(i.flat(1).filter(ZM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hw(t,e,n,i,a,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function WM(t,e,{includeHydrateFallback:n}={}){return JM(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function JM(t){return[...new Set(t)]}function e4(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function t4(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(e4(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function GS(){let t=D.useContext(lc);return vv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function n4(){let t=D.useContext(jm);return vv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xv=D.createContext(void 0);xv.displayName="FrameworkContext";function KS(){let t=D.useContext(xv);return vv(t,"You must render this element inside a <HydratedRouter> element"),t}function i4(t,e){let n=D.useContext(xv),[i,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,b=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=j=>{j.forEach(R=>{c(R.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[t]),D.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let w=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:vu(d,w),onBlur:vu(f,N),onMouseEnter:vu(m,w),onMouseLeave:vu(g,N),onTouchStart:vu(x,w)}]:[!1,b,{}]}function vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function s4({page:t,...e}){let{router:n}=GS(),i=D.useMemo(()=>zS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?D.createElement(a4,{page:t,matches:i,...e}):null}function r4(t){let{manifest:e,routeModules:n}=KS(),[i,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return QM(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function a4({page:t,matches:e,...n}){let i=Na(),{manifest:a,routeModules:l}=KS(),{basename:c}=GS(),{loaderData:d,matches:f}=n4(),m=D.useMemo(()=>Hw(t,e,f,a,i,"data"),[t,e,f,a,i]),g=D.useMemo(()=>Hw(t,e,f,a,i,"assets"),[t,e,f,a,i]),x=D.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let N=new Set,C=!1;if(e.forEach(j=>{let R=a.routes[j.route.id];!R||!R.hasLoader||(!m.some(O=>O.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||R.hasClientLoader?C=!0:N.add(j.route.id))}),N.size===0)return[];let T=YM(t,c,"data");return C&&N.size>0&&T.searchParams.set("_routes",e.filter(j=>N.has(j.route.id)).map(j=>j.route.id).join(",")),[T.pathname+T.search]},[c,d,i,a,m,e,t,l]),b=D.useMemo(()=>WM(g,a),[g,a]),w=r4(g);return D.createElement(D.Fragment,null,x.map(N=>D.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>D.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),w.map(({key:N,link:C})=>D.createElement("link",{key:N,nonce:n.nonce,...C})))}function o4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YS&&(window.__reactRouterVersion="7.9.4")}catch{}function l4({basename:t,children:e,window:n}){let i=D.useRef();i.current==null&&(i.current=Z3({window:n,v5Compat:!0}));let a=i.current,[l,c]=D.useState({action:a.action,location:a.location}),d=D.useCallback(f=>{D.startTransition(()=>c(f))},[c]);return D.useLayoutEffect(()=>a.listen(d),[a,d]),D.createElement(PM,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var XS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=D.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:g,viewTransition:x,...b},w){let{basename:N}=D.useContext(Ps),C=typeof m=="string"&&XS.test(m),T,j=!1;if(typeof m=="string"&&C&&(T=m,YS))try{let M=new URL(window.location.href),B=m.startsWith("//")?new URL(M.protocol+m):new URL(m),L=yr(B.pathname,N);B.origin===M.origin&&L!=null?m=L+B.search+B.hash:j=!0}catch{zs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=EM(m,{relative:a}),[O,F,$]=i4(i,b),X=d4(m,{replace:c,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:x});function A(M){e&&e(M),M.defaultPrevented||X(M)}let k=D.createElement("a",{...b,...$,href:T||R,onClick:j||l?e:A,ref:o4(w,F),target:f,"data-discover":!C&&n==="render"?"true":void 0});return O&&!C?D.createElement(D.Fragment,null,k,D.createElement(s4,{page:R})):k});st.displayName="Link";var c4=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...m},g){let x=Sh(c,{relative:m.relative}),b=Na(),w=D.useContext(jm),{navigator:N,basename:C}=D.useContext(Ps),T=w!=null&&y4(x)&&d===!0,j=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,R=b.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(R=R.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&C&&(O=yr(O,C)||O);const F=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let $=R===j||!a&&R.startsWith(j)&&R.charAt(F)==="/",X=O!=null&&(O===j||!a&&O.startsWith(j)&&O.charAt(j.length)==="/"),A={isActive:$,isPending:X,isTransitioning:T},k=$?e:void 0,M;typeof i=="function"?M=i(A):M=[i,$?"active":null,X?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l(A):l;return D.createElement(st,{...m,"aria-current":k,className:M,ref:g,style:B,to:c,viewTransition:d},typeof f=="function"?f(A):f)});c4.displayName="NavLink";var u4=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Ef,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x,...b},w)=>{let N=p4(),C=g4(d,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&XS.test(d),R=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let F=O.nativeEvent.submitter,$=F?.getAttribute("formmethod")||c;N(F||O.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:x})};return D.createElement("form",{ref:w,method:T,action:C,onSubmit:i?f:R,...b,"data-discover":!j&&t==="render"?"true":void 0})});u4.displayName="Form";function h4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(t){let e=D.useContext(lc);return It(e,h4(t)),e}function d4(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=HS(),f=Na(),m=Sh(t,{relative:l});return D.useCallback(g=>{if(qM(g,e)){g.preventDefault();let x=n!==void 0?n:Zu(f)===Zu(m);d(t,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[f,d,m,n,i,e,t,a,l,c])}var f4=0,m4=()=>`__${String(++f4)}__`;function p4(){let{router:t}=ZS("useSubmit"),{basename:e}=D.useContext(Ps),n=zM();return D.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=KM(i,e);if(a.navigate===!1){let g=a.fetcherKey||m4();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function g4(t,{relative:e}={}){let{basename:n}=D.useContext(Ps),i=D.useContext(Ls);It(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Sh(t||".",{relative:e})},c=Na();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:pr([n,l.pathname])),Zu(l)}function y4(t,{relative:e}={}){let n=D.useContext(BS);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ZS("useViewTransitionState"),a=Sh(t,{relative:e});if(!n.isTransitioning)return!1;let l=yr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=yr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Uf(a.pathname,c)!=null||Uf(a.pathname,l)!=null}DS();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),qw=t=>{const e=x4(t);return e.charAt(0).toUpperCase()+e.slice(1)},QS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),b4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},f)=>D.createElement("svg",{ref:f,..._4,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:QS("lucide",a),...!l&&!b4(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,g])=>D.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=D.forwardRef(({className:i,...a},l)=>D.createElement(w4,{ref:l,iconNode:e,className:QS(`lucide-${v4(qw(t))}`,`lucide-${t}`,i),...a}));return n.displayName=qw(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cc=Qe("arrow-left",E4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],S4=Qe("beer",j4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Nm=Qe("book-open",T4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],WS=Qe("calendar-days",N4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gl=Qe("calendar",k4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],C4=Qe("check",A4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M4=Qe("chevron-left",R4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JS=Qe("chevron-right",D4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],V4=Qe("circle-alert",z4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eT=Qe("clock",I4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],P4=Qe("download",O4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vu=Qe("external-link",L4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kl=Qe("file-text",B4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],tT=Qe("film",U4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],H4=Qe("gamepad-2",F4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$4=Qe("house",q4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nT=Qe("image",G4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Y4=Qe("loader",K4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Z4=Qe("map",X4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],W4=Qe("maximize-2",Q4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eD=Qe("menu",J4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Iu=Qe("message-circle",tD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],iD=Qe("network",nD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bv=Qe("pen",sD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=Qe("plus",rD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],oD=Qe("presentation",aD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xy=Qe("save",lD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],uD=Qe("send",cD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Ff=Qe("sticky-note",hD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iT=Qe("target",dD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],km=Qe("trash-2",fD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pD=Qe("upload",mD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sf=Qe("users",gD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_v=Qe("user",yD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uc=Qe("x",vD),Qu=[{id:"ddf",name:"DDF - Dějiny dokumentárního filmu",shortName:"DDF",description:"Zimní semestr 2025/26",color:"blue",classes:[{id:1,date:"1. 10.",lecturer:"Tomáš Hirt",title:'Historické výkladové rámce, vývoj definice pojmu DF a „non-fiction"',description:'Historické výkladové rámce, vývoj definice pojmu DF a „non-fiction", estetické a společenské kontexty, konstituce samostatné disciplíny.'},{id:2,date:"8. 10.",lecturer:"Tomáš Hirt",title:"Sovětská montážní škola"},{id:3,date:"15. 10.",lecturer:"Hana Muchová",title:"Etnografický film po II. světové válce"},{id:4,date:"22. 10.",lecturer:"David Čeněk",title:'První „actualités" – bratři Lumièrové',description:"Etnografické a vědecké filmy. Dokumentární produkce v období rané kinematografie (do let 1908-1910)."},{id:5,date:"5. 11.",lecturer:"Alice Růžičková",title:"Regionální fokus na Československo 1918-1939",description:"Dokument a instituce, dokument a reklama, dokument a umění."},{id:6,date:"12. 11.",lecturer:"Petr Kubica",title:"Československé poválečné filmy",description:"Tematizující válečnou zkušenost – příklady a diskurzy reflexe s odstupem."},{id:7,date:"19. 11.",lecturer:"David Čeněk",title:"Vlna poetismu a romantismu",description:"Robert Flaherty, Ernest B. Schoedsack a Merian C. Cooper, Jean Epstein."},{id:8,date:"26. 11.",lecturer:"David Čeněk",title:"Třetí avantgarda a její dokumentární pohled",description:"Městské symfonie. Joris Ivens, Jean Epstein, René Clair, Luis Buñuel."},{id:9,date:"3. 12.",lecturer:"David Čeněk",title:"Dokumentární film a státní agenda",description:"Nový model institucionální praxe: John Grierson a Britská dokumentární škola."},{id:10,date:"10. 12.",lecturer:"Alice Růžičková",title:"Poválečná konstituce dokumentu",description:"V kontextu umělecké kinematografie – příklady a kontext Československa."},{id:11,date:"17. 12.",lecturer:"David Čeněk",title:"Rozvoj politického dokumentárního filmu",description:"Bída v Borinage, Země bez chleba. Témata na okraji."},{id:12,date:"7. 1.",lecturer:"Petr Kubica",title:"Československo 60. let a dokument I."}],links:[{name:"Studijní opory FAMU",url:"https://kdt.famu.cz/studijni-opory/"}]},{id:"av",name:"AV - Audiovizuální studia",shortName:"AV",description:"Poznámky z přednášek",color:"purple",classes:[{id:1,date:"2025",lecturer:"AV přednášející",title:"Otázka reprezentace",description:"Fenomenologie, reprezentace, Plato, Kant, Nietzsche, Whitehead a další."},{id:2,date:"2025",lecturer:"AV přednášející",title:"Ballard, Žižek a kritika přítomnosti",description:"J.G. Ballard, Slavoj Žižek, habitualizace, politika percepce."}],links:[]},{id:"ai",name:"AI - Umělá inteligence",shortName:"AI",description:"Poznámky z přednášek o AI",color:"green",classes:[{id:1,date:"2. 16.",lecturer:"ditamorg@gmail.com",title:"Emergentní jevy a AlphaGo",description:"Emergentní jevy, fázové jevy, Lee Sedol vs AlphaGo"}],links:[]}],Zy={id:"general",name:"Obecné poznámky",shortName:"Poznámky",description:"Různé důležité informace",icon:"📝",classes:[{id:1,date:"2025/26",lecturer:"Různé",title:"Důležité termíny a informace",description:"Konzultační díla, pedagogická praxe, termíny akcí."}]},wv=t=>t==="general"?Zy:Qu.find(e=>e.id===t),xD=(t,e)=>{const n=wv(t);return n?n.classes.find(i=>i.id===parseInt(e)):null},bD={blue:"text-gray-900 bg-gray-100 border-gray-900",purple:"text-gray-900 bg-gray-100 border-gray-900",green:"text-gray-900 bg-gray-100 border-gray-900",red:"text-gray-900 bg-gray-100 border-gray-900",orange:"text-gray-900 bg-gray-100 border-gray-900"};function _D(){const[t,e]=D.useState(!1),[n,i]=D.useState({}),a=Na(),l=()=>e(!t),c=m=>{i(g=>({...g,[m]:!g[m]}))},d=m=>a.pathname===m,f=m=>a.pathname.startsWith(`/subject/${m}`);return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:l,className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md border",children:t?u.jsx(uc,{className:"w-6 h-6"}):u.jsx(eD,{className:"w-6 h-6"})}),t&&u.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:l}),u.jsx("div",{className:`
          fixed top-0 left-0 h-full bg-white border-r border-gray-200 z-40
          transform transition-transform duration-300 ease-in-out
          w-80 overflow-y-auto
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0 lg:static lg:z-0
        `,children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"FAMU Poznámky"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Zimní semestr 2025/26"})]}),u.jsxs("nav",{className:"space-y-2",children:[u.jsxs(st,{to:"/",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                ${d("/")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100"}
              `,children:[u.jsx($4,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Přehled předmětů"})]}),u.jsxs(st,{to:"/timetable",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                ${a.pathname==="/timetable"?"bg-gray-900 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}
              `,children:[u.jsx(WS,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"📅 Rozvrh"})]}),u.jsxs(st,{to:"/chat",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${d("/chat")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[u.jsx(Iu,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"💬 Chat"})]}),u.jsxs(st,{to:"/bulletin-board",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${d("/bulletin-board")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[u.jsx(Ff,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"📌 Nástěnka"})]}),u.jsxs(st,{to:"/project",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${a.pathname.startsWith("/project")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[u.jsx(oD,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"🎨 Můj Projekt"})]}),u.jsxs(st,{to:"/subject/general",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${d("/subject/general")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[u.jsx(Kl,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-medium",children:[Zy.icon," ",Zy.shortName]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Předměty"}),Qu.map(m=>{const g=n[m.id],x=f(m.id);return u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs(st,{to:`/subject/${m.id}`,onClick:()=>e(!1),className:`
                          flex-1 flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                          ${x?bD[m.color]+" border":"text-gray-700 hover:bg-gray-50"}
                        `,children:[u.jsx(Nm,{className:"w-5 h-5"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium truncate",children:m.shortName}),u.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[m.classes.length," hodin"]})]})]}),u.jsx("button",{onClick:()=>c(m.id),className:"p-1 hover:bg-gray-100 rounded",children:g?u.jsx(ChevronDown,{className:"w-4 h-4 text-gray-500"}):u.jsx(JS,{className:"w-4 h-4 text-gray-500"})})]}),g&&u.jsx("div",{className:"ml-8 mt-2 space-y-1",children:m.classes.map(b=>{const w=`/subject/${m.id}/class/${b.id}`,N=d(w);return u.jsxs(st,{to:w,onClick:()=>e(!1),className:`
                                flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm
                                ${N?"bg-gray-100 text-gray-900 font-medium":"text-gray-600 hover:bg-gray-50"}
                              `,children:[u.jsx(Kl,{className:"w-4 h-4"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"truncate",children:[b.id,". ",b.title]}),u.jsx("div",{className:"text-xs text-gray-500",children:b.date})]})]},b.id)})})]},m.id)})]})]}),u.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[u.jsx("a",{href:"https://kos.amu.cz/",target:"_blank",rel:"noopener noreferrer",className:"block mb-4 px-3 py-3 bg-gray-900 hover:bg-gray-700 text-white rounded-lg transition-colors text-center font-medium",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),u.jsx("span",{children:"KOS - Studijní systém"})]})}),u.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[u.jsx("div",{children:"FAMU Notes"}),u.jsx("div",{children:"React App"})]})]})]})})]})}function wD(){const[t,e]=D.useState(!1),[n,i]=D.useState(!1),[a,l]=D.useState(0),c=HS();D.useEffect(()=>{if(a>0){const f=setTimeout(()=>{l(0)},5e3);return()=>clearTimeout(f)}},[a]);const d=()=>{const f=a+1;l(f),f===3?(c("/secret-game"),l(0)):(e(!0),i(!0),setTimeout(()=>e(!1),4e3),setTimeout(()=>i(!1),5e3))};return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:d,className:"fixed top-4 right-4 z-50 bg-amber-500 text-white rounded-full p-3 shadow-lg transition-transform hover:scale-110",title:"🍺 Pozvi Martina na pivo!",children:u.jsx(S4,{className:"w-6 h-6"})}),t&&u.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 px-4",children:u.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-4 rounded-lg shadow-2xl max-w-md animate-bounce",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🍺"}),u.jsx("h3",{className:"font-bold text-xl mb-2",children:"BEERWARE LICENSE"}),u.jsxs("p",{className:"text-sm mb-2",children:["Pokud se ti poznámky líbí a potkáš Martina,",u.jsx("br",{}),"můžeš ho pozvat na pivo! 🍻"]}),u.jsx("p",{className:"text-xs opacity-90",children:"🎓 Martin Tomek - FAMU 2025"})]})})}),n&&u.jsx("div",{className:"fixed inset-0 pointer-events-none z-40 overflow-hidden",children:[...Array(30)].map((f,m)=>u.jsx("div",{className:"absolute text-4xl beer-fall",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${3+Math.random()*2}s`},children:"🍺"},m))})]})}const sT=D.createContext({});function ED(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ev=typeof window<"u",jD=Ev?D.useLayoutEffect:D.useEffect,jv=D.createContext(null);function Sv(t,e){t.indexOf(e)===-1&&t.push(e)}function Tv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vr=(t,e,n)=>n>e?e:n<t?t:n;let Nv=()=>{};const xr={},rT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aT(t){return typeof t=="object"&&t!==null}const oT=t=>/^0[^.\s]+$/u.test(t);function kv(t){let e;return()=>(e===void 0&&(e=t()),e)}const qi=t=>t,SD=(t,e)=>n=>e(t(n)),Th=(...t)=>t.reduce(SD),Wu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Av{constructor(){this.subscriptions=[]}add(e){return Sv(this.subscriptions,e),()=>Tv(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ns=t=>t*1e3,Fi=t=>t/1e3;function lT(t,e){return e?t*(1e3/e):0}const cT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TD=1e-7,ND=12;function kD(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=cT(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>TD&&++d<ND);return c}function Nh(t,e,n,i){if(t===e&&n===i)return qi;const a=l=>kD(l,0,1,t,n);return l=>l===0||l===1?l:cT(a(l),e,i)}const uT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hT=t=>e=>1-t(1-e),dT=Nh(.33,1.53,.69,.99),Cv=hT(dT),fT=uT(Cv),mT=t=>(t*=2)<1?.5*Cv(t):.5*(2-Math.pow(2,-10*(t-1))),Rv=t=>1-Math.sin(Math.acos(t)),pT=hT(Rv),gT=uT(Rv),AD=Nh(.42,0,1,1),CD=Nh(0,0,.58,1),yT=Nh(.42,0,.58,1),RD=t=>Array.isArray(t)&&typeof t[0]!="number",vT=t=>Array.isArray(t)&&typeof t[0]=="number",MD={linear:qi,easeIn:AD,easeInOut:yT,easeOut:CD,circIn:Rv,circInOut:gT,circOut:pT,backIn:Cv,backInOut:fT,backOut:dT,anticipate:mT},DD=t=>typeof t=="string",$w=t=>{if(vT(t)){Nv(t.length===4);const[e,n,i,a]=t;return Nh(e,n,i,a)}else if(DD(t))return MD[t];return t},rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zD(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){c.has(g)&&(m.schedule(g),t()),g(d)}const m={schedule:(g,x=!1,b=!1)=>{const N=b&&a?n:i;return x&&c.add(g),N.has(g)||N.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(d=g,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const VD=40;function xT(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=rf.reduce((O,F)=>(O[F]=zD(l),O),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:g,update:x,preRender:b,render:w,postRender:N}=c,C=()=>{const O=xr.useManualTiming?a.timestamp:performance.now();n=!1,xr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(O-a.timestamp,VD),1)),a.timestamp=O,a.isProcessing=!0,d.process(a),f.process(a),m.process(a),g.process(a),x.process(a),b.process(a),w.process(a),N.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(C))},T=()=>{n=!0,i=!0,a.isProcessing||t(C)};return{schedule:rf.reduce((O,F)=>{const $=c[F];return O[F]=(X,A=!1,k=!1)=>(n||T(),$.schedule(X,A,k)),O},{}),cancel:O=>{for(let F=0;F<rf.length;F++)c[rf[F]].cancel(O)},state:a,steps:c}}const{schedule:Mt,cancel:va,state:En,steps:ry}=xT(typeof requestAnimationFrame<"u"?requestAnimationFrame:qi,!0);let Tf;function ID(){Tf=void 0}const ei={now:()=>(Tf===void 0&&ei.set(En.isProcessing||xr.useManualTiming?En.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(ID)}},bT=t=>e=>typeof e=="string"&&e.startsWith(t),Mv=bT("--"),OD=bT("var(--"),Dv=t=>OD(t)?PD.test(t.split("/*")[0].trim()):!1,PD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...hc,transform:t=>vr(0,1,t)},af={...hc,default:1},Ou=t=>Math.round(t*1e5)/1e5,zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LD(t){return t==null}const BD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vv=(t,e)=>n=>!!(typeof n=="string"&&BD.test(n)&&n.startsWith(t)||e&&!LD(n)&&Object.prototype.hasOwnProperty.call(n,e)),_T=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(zv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},UD=t=>vr(0,255,t),ay={...hc,transform:t=>Math.round(UD(t))},go={test:Vv("rgb","red"),parse:_T("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ay.transform(t)+", "+ay.transform(e)+", "+ay.transform(n)+", "+Ou(Ju.transform(i))+")"};function FD(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Qy={test:Vv("#"),parse:FD,transform:go.transform},kh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oa=kh("deg"),ks=kh("%"),ze=kh("px"),HD=kh("vh"),qD=kh("vw"),Gw={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},Ml={test:Vv("hsl","hue"),parse:_T("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ks.transform(Ou(e))+", "+ks.transform(Ou(n))+", "+Ou(Ju.transform(i))+")"},rn={test:t=>go.test(t)||Qy.test(t)||Ml.test(t),parse:t=>go.test(t)?go.parse(t):Ml.test(t)?Ml.parse(t):Qy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?go.transform(t):Ml.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},$D=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GD(t){return isNaN(t)&&typeof t=="string"&&(t.match(zv)?.length||0)+(t.match($D)?.length||0)>0}const wT="number",ET="color",KD="var",YD="var(",Kw="${}",XD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(XD,f=>(rn.test(f)?(i.color.push(l),a.push(ET),n.push(rn.parse(f))):f.startsWith(YD)?(i.var.push(l),a.push(KD),n.push(f)):(i.number.push(l),a.push(wT),n.push(parseFloat(f))),++l,Kw)).split(Kw);return{values:n,split:d,indexes:i,types:a}}function jT(t){return eh(t).values}function ST(t){const{split:e,types:n}=eh(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===wT?l+=Ou(a[c]):d===ET?l+=rn.transform(a[c]):l+=a[c]}return l}}const ZD=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function QD(t){const e=jT(t);return ST(t)(e.map(ZD))}const xa={test:GD,parse:jT,createTransformer:ST,getAnimatableNone:QD};function oy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function WD({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=oy(f,d,t+1/3),l=oy(f,d,t),c=oy(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Hf(t,e){return n=>n>0?e:t}const Vt=(t,e,n)=>t+(e-t)*n,ly=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},JD=[Qy,go,Ml],ez=t=>JD.find(e=>e.test(t));function Yw(t){const e=ez(t);if(!e)return!1;let n=e.parse(t);return e===Ml&&(n=WD(n)),n}const Xw=(t,e)=>{const n=Yw(t),i=Yw(e);if(!n||!i)return Hf(t,e);const a={...n};return l=>(a.red=ly(n.red,i.red,l),a.green=ly(n.green,i.green,l),a.blue=ly(n.blue,i.blue,l),a.alpha=Vt(n.alpha,i.alpha,l),go.transform(a))},Wy=new Set(["none","hidden"]);function tz(t,e){return Wy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nz(t,e){return n=>Vt(t,e,n)}function Iv(t){return typeof t=="number"?nz:typeof t=="string"?Dv(t)?Hf:rn.test(t)?Xw:rz:Array.isArray(t)?TT:typeof t=="object"?rn.test(t)?Xw:iz:Hf}function TT(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>Iv(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function iz(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Iv(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function sz(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const rz=(t,e)=>{const n=xa.createTransformer(e),i=eh(t),a=eh(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Wy.has(t)&&!a.values.length||Wy.has(e)&&!i.values.length?tz(t,e):Th(TT(sz(i,a),a.values),n):Hf(t,e)};function NT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):Iv(t)(t,e)}const az=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Mt.update(e,n),stop:()=>va(e),now:()=>En.isProcessing?En.timestamp:ei.now()}},kT=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},qf=2e4;function Ov(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<qf;)e+=n,i=t.next(e);return e>=qf?1/0:e}function oz(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Ov(i),qf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Fi(a)}}const lz=5;function AT(t,e,n){const i=Math.max(e-lz,0);return lT(n-t(i),e-i)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cy=.001;function cz({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:i=Ft.mass}){let a,l,c=1-e;c=vr(Ft.minDamping,Ft.maxDamping,c),t=vr(Ft.minDuration,Ft.maxDuration,Fi(t)),c<1?(a=m=>{const g=m*c,x=g*t,b=g-n,w=Jy(m,c),N=Math.exp(-x);return cy-b/w*N},l=m=>{const x=m*c*t,b=x*n+n,w=Math.pow(c,2)*Math.pow(m,2)*t,N=Math.exp(-x),C=Jy(Math.pow(m,2),c);return(-a(m)+cy>0?-1:1)*((b-w)*N)/C}):(a=m=>{const g=Math.exp(-m*t),x=(m-n)*t+1;return-cy+g*x},l=m=>{const g=Math.exp(-m*t),x=(n-m)*(t*t);return g*x});const d=5/t,f=hz(a,l,d);if(t=Ns(t),isNaN(f))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const uz=12;function hz(t,e,n){let i=n;for(let a=1;a<uz;a++)i=i-t(i)/e(i);return i}function Jy(t,e){return t*Math.sqrt(1-e*e)}const dz=["duration","bounce"],fz=["stiffness","damping","mass"];function Zw(t,e){return e.some(n=>t[n]!==void 0)}function mz(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!Zw(t,fz)&&Zw(t,dz))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*vr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ft.mass,stiffness:a,damping:l}}else{const n=cz(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function $f(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:g,duration:x,velocity:b,isResolvedFromDuration:w}=mz({...n,velocity:-Fi(n.velocity||0)}),N=b||0,C=m/(2*Math.sqrt(f*g)),T=c-l,j=Fi(Math.sqrt(f/g)),R=Math.abs(T)<5;i||(i=R?Ft.restSpeed.granular:Ft.restSpeed.default),a||(a=R?Ft.restDelta.granular:Ft.restDelta.default);let O;if(C<1){const $=Jy(j,C);O=X=>{const A=Math.exp(-C*j*X);return c-A*((N+C*j*T)/$*Math.sin($*X)+T*Math.cos($*X))}}else if(C===1)O=$=>c-Math.exp(-j*$)*(T+(N+j*T)*$);else{const $=j*Math.sqrt(C*C-1);O=X=>{const A=Math.exp(-C*j*X),k=Math.min($*X,300);return c-A*((N+C*j*T)*Math.sinh(k)+$*T*Math.cosh(k))/$}}const F={calculatedDuration:w&&x||null,next:$=>{const X=O($);if(w)d.done=$>=x;else{let A=$===0?N:0;C<1&&(A=$===0?Ns(N):AT(O,$,X));const k=Math.abs(A)<=i,M=Math.abs(c-X)<=a;d.done=k&&M}return d.value=d.done?c:X,d},toString:()=>{const $=Math.min(Ov(F),qf),X=kT(A=>F.next($*A).value,$,30);return $+"ms "+X},toTransition:()=>{}};return F}$f.applyToOptions=t=>{const e=oz(t,100,$f);return t.ease=e.ease,t.duration=Ns(e.duration),t.type="keyframes",t};function e0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},w=k=>d!==void 0&&k<d||f!==void 0&&k>f,N=k=>d===void 0?f:f===void 0||Math.abs(d-k)<Math.abs(f-k)?d:f;let C=n*e;const T=x+C,j=c===void 0?T:c(T);j!==T&&(C=j-x);const R=k=>-C*Math.exp(-k/i),O=k=>j+R(k),F=k=>{const M=R(k),B=O(k);b.done=Math.abs(M)<=m,b.value=b.done?j:B};let $,X;const A=k=>{w(b.value)&&($=k,X=$f({keyframes:[b.value,N(b.value)],velocity:AT(O,k,b.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return A(0),{calculatedDuration:null,next:k=>{let M=!1;return!X&&$===void 0&&(M=!0,F(k),A(k)),$!==void 0&&k>=$?X.next(k-$):(!M&&F(k),b)}}}function pz(t,e,n){const i=[],a=n||xr.mix||NT,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||qi:e;d=Th(f,d)}i.push(d)}return i}function gz(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(Nv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=pz(e,i,a),f=d.length,m=g=>{if(c&&g<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const b=Wu(t[x],t[x+1],g);return d[x](b)};return n?g=>m(vr(t[0],t[l-1],g)):m}function yz(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Wu(0,e,i);t.push(Vt(n,1,a))}}function vz(t){const e=[0];return yz(e,t.length-1),e}function xz(t,e){return t.map(n=>n*e)}function bz(t,e){return t.map(()=>e||yT).splice(0,t.length-1)}function Pu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=RD(i)?i.map($w):$w(i),l={done:!1,value:e[0]},c=xz(n&&n.length===e.length?n:vz(e),t),d=gz(c,e,{ease:Array.isArray(a)?a:bz(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const _z=t=>t!==null;function Pv(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(_z),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const wz={decay:e0,inertia:e0,tween:Pu,keyframes:Pu,spring:$f};function CT(t){typeof t.type=="string"&&(t.type=wz[t.type])}class Lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Ez=t=>t/100;class Bv extends Lv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ei.now()&&this.tick(ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CT(e);const{type:n=Pu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||Pu;f!==Pu&&typeof d[0]!="number"&&(this.mixKeyframes=Th(Ez,NT(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Ov(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:x,repeatType:b,repeatDelay:w,type:N,onUpdate:C,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,F=i;if(x){const k=Math.min(this.currentTime,a)/d;let M=Math.floor(k),B=k%1;!B&&k>=1&&(B=1),B===1&&M--,M=Math.min(M,x+1),!!(M%2)&&(b==="reverse"?(B=1-B,w&&(B-=w/d)):b==="mirror"&&(F=c)),O=vr(0,1,B)*d}const $=R?{done:!1,value:g[0]}:F.next(O);l&&($.value=l($.value));let{done:X}=$;!R&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return A&&N!==e0&&($.value=Pv(g,this.options,T,this.speed)),C&&C($.value),A&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fi(e)}get time(){return Fi(this.currentTime)}set time(e){e=Ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ei.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=az,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yo=t=>t*180/Math.PI,t0=t=>{const e=yo(Math.atan2(t[1],t[0]));return n0(e)},Sz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:t0,rotateZ:t0,skewX:t=>yo(Math.atan(t[1])),skewY:t=>yo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},n0=t=>(t=t%360,t<0&&(t+=360),t),Qw=t0,Ww=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Jw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ww,scaleY:Jw,scale:t=>(Ww(t)+Jw(t))/2,rotateX:t=>n0(yo(Math.atan2(t[6],t[5]))),rotateY:t=>n0(yo(Math.atan2(-t[2],t[0]))),rotateZ:Qw,rotate:Qw,skewX:t=>yo(Math.atan(t[4])),skewY:t=>yo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function i0(t){return t.includes("scale")?1:0}function s0(t,e){if(!t||t==="none")return i0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Tz,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Sz,a=d}if(!a)return i0(e);const l=i[e],c=a[1].split(",").map(kz);return typeof l=="function"?l(c):c[l]}const Nz=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return s0(n,e)};function kz(t){return parseFloat(t.trim())}const dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fc=new Set(dc),eE=t=>t===hc||t===ze,Az=new Set(["x","y","z"]),Cz=dc.filter(t=>!Az.has(t));function Rz(t){const e=[];return Cz.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const _o={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>s0(e,"x"),y:(t,{transform:e})=>s0(e,"y")};_o.translateX=_o.x;_o.translateY=_o.y;const wo=new Set;let r0=!1,a0=!1,o0=!1;function RT(){if(a0){const t=Array.from(wo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=Rz(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}a0=!1,r0=!1,wo.forEach(t=>t.complete(o0)),wo.clear()}function MT(){wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(a0=!0)})}function Mz(){o0=!0,MT(),RT(),o0=!1}class Uv{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(wo.add(this),r0||(r0=!0,Mt.read(MT),Mt.resolveKeyframes(RT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}jz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wo.delete(this)}cancel(){this.state==="scheduled"&&(wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Dz=t=>t.startsWith("--");function zz(t,e,n){Dz(e)?t.style.setProperty(e,n):t.style[e]=n}const Vz=kv(()=>window.ScrollTimeline!==void 0),Iz={};function Oz(t,e){const n=kv(t);return()=>Iz[e]??n()}const DT=Oz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,tE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function zT(t,e){if(t)return typeof t=="function"?DT()?kT(t,e):"ease-out":vT(t)?Nu(t):Array.isArray(t)?t.map(n=>zT(n,e)||tE.easeOut):tE[t]}function Pz(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const g={[e]:n};f&&(g.offset=f);const x=zT(d,a);Array.isArray(x)&&(g.easing=x);const b={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(g,b)}function VT(t){return typeof t=="function"&&"applyToOptions"in t}function Lz({type:t,...e}){return VT(t)&&DT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Bz extends Lv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Nv(typeof e.type!="string");const m=Lz(e);this.animation=Pz(n,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Pv(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):zz(n,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fi(e)}get time(){return Fi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Vz()?(this.animation.timeline=e,qi):n(this)}}const IT={anticipate:mT,backInOut:fT,circInOut:gT};function Uz(t){return t in IT}function Fz(t){typeof t.ease=="string"&&Uz(t.ease)&&(t.ease=IT[t.ease])}const nE=10;class Hz extends Bz{constructor(e){Fz(e),CT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Bv({...c,autoplay:!1}),f=Ns(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-nE).value,d.sample(f).value,nE),d.stop()}}const iE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xa.test(t)||t==="0")&&!t.startsWith("url("));function qz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $z(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=iE(a,e),d=iE(l,e);return!c||!d?!1:qz(t)||(n==="spring"||VT(n))&&i}function l0(t){t.duration=0,t.type="keyframes"}const Gz=new Set(["opacity","clipPath","filter","transform"]),Kz=kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Yz(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return Kz()&&n&&Gz.has(n)&&(n!=="transform"||!m)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Xz=40;class Zz extends Lv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:g,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ei.now();const b={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:g,...x},w=g?.KeyframeResolver||Uv;this.keyframeResolver=new w(d,(N,C,T)=>this.onKeyframesResolved(N,C,b,!T),f,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:g}=i;this.resolvedAt=ei.now(),$z(e,l,c,d)||((xr.instantAnimations||!f)&&g?.(Pv(e,i,n)),e[0]=e[e.length-1],l0(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Xz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},w=!m&&Yz(b)?new Hz({...b,element:b.motionValue.owner.current}):new Bv(b);w.finished.then(()=>this.notifyFinished()).catch(qi),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Mz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Qz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wz(t){const e=Qz.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function OT(t,e,n=1){const[i,a]=Wz(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return rT(c)?parseFloat(c):c}return Dv(a)?OT(a,e,n+1):a}function Fv(t,e){return t?.[e]??t?.default??t}const PT=new Set(["width","height","top","left","right","bottom",...dc]),Jz={test:t=>t==="auto",parse:t=>t},LT=t=>e=>e.test(t),BT=[hc,ze,ks,oa,qD,HD,Jz],sE=t=>BT.find(LT(t));function eV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oT(t):!0}const tV=new Set(["brightness","contrast","saturate","opacity"]);function nV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(zv)||[];if(!i)return t;const a=n.replace(i,"");let l=tV.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const iV=/\b([a-z-]*)\(.*?\)/gu,c0={...xa,getAnimatableNone:t=>{const e=t.match(iV);return e?e.map(nV).join(" "):t}},rE={...hc,transform:Math.round},sV={rotate:oa,rotateX:oa,rotateY:oa,rotateZ:oa,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:oa,skewX:oa,skewY:oa,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Ju,originX:Gw,originY:Gw,originZ:ze},Hv={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...sV,zIndex:rE,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:rE},rV={...Hv,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:c0,WebkitFilter:c0},UT=t=>rV[t];function FT(t,e){let n=UT(t);return n!==c0&&(n=xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aV=new Set(["auto","none","0"]);function oV(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!aV.has(l)&&eh(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=FT(n,a)}class lV extends Uv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Dv(m))){const g=OT(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!PT.has(i)||e.length!==2)return;const[a,l]=e,c=sE(a),d=sE(l);if(c!==d)if(eE(c)&&eE(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else _o[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||eV(e[a]))&&i.push(a);i.length&&oV(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_o[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=_o[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function cV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const HT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uV(t){return aT(t)&&"offsetHeight"in t}const aE=30,hV=t=>!isNaN(parseFloat(t));class dV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=ei.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ei.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Av);const i=this.events[e].add(n);return e==="change"?()=>{i(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>aE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aE);return lT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(t,e){return new dV(t,e)}const{schedule:qv}=xT(queueMicrotask,!1),rs={x:!1,y:!1};function qT(){return rs.x||rs.y}function fV(t){return t==="x"||t==="y"?rs[t]?null:(rs[t]=!0,()=>{rs[t]=!1}):rs.x||rs.y?null:(rs.x=rs.y=!0,()=>{rs.x=rs.y=!1})}function $T(t,e){const n=cV(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function oE(t){return!(t.pointerType==="touch"||qT())}function mV(t,e,n={}){const[i,a,l]=$T(t,n),c=d=>{if(!oE(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const g=x=>{oE(x)&&(m(x),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const GT=(t,e)=>e?t===e?!0:GT(t,e.parentElement):!1,$v=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gV(t){return pV.has(t.tagName)||t.tabIndex!==-1}const Nf=new WeakSet;function lE(t){return e=>{e.key==="Enter"&&t(e)}}function uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yV=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=lE(()=>{if(Nf.has(n))return;uy(n,"down");const a=lE(()=>{uy(n,"up")}),l=()=>uy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function cE(t){return $v(t)&&!qT()}function vV(t,e,n={}){const[i,a,l]=$T(t,n),c=d=>{const f=d.currentTarget;if(!cE(d))return;Nf.add(f);const m=e(f,d),g=(w,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),Nf.has(f)&&Nf.delete(f),cE(w)&&typeof m=="function"&&m(w,{success:N})},x=w=>{g(w,f===window||f===document||n.useGlobalTarget||GT(f,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),uV(d)&&(d.addEventListener("focus",m=>yV(m,a)),!gV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function KT(t){return aT(t)&&"ownerSVGElement"in t}function xV(t){return KT(t)&&t.tagName==="svg"}const zn=t=>!!(t&&t.getVelocity),bV=[...BT,rn,xa],_V=t=>bV.find(LT(t)),YT=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wV(t=!0){const e=D.useContext(jv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const XT=D.createContext({strict:!1}),uE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const t in uE)Zl[t]={isEnabled:e=>uE[t].some(n=>!!e[n])};function EV(t){for(const e in t)Zl[e]={...Zl[e],...t[e]}}const jV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jV.has(t)}let ZT=t=>!Gf(t);function SV(t){typeof t=="function"&&(ZT=e=>e.startsWith("on")?!Gf(e):t(e))}try{SV(require("@emotion/is-prop-valid").default)}catch{}function TV(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(ZT(a)||n===!0&&Gf(a)||!e&&!Gf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Am=D.createContext({});function Cm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function th(t){return typeof t=="string"||Array.isArray(t)}const Gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kv=["initial",...Gv];function Rm(t){return Cm(t.animate)||Kv.some(e=>th(t[e]))}function QT(t){return!!(Rm(t)||t.variants)}function NV(t,e){if(Rm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||th(n)?n:void 0,animate:th(i)?i:void 0}}return t.inherit!==!1?e:{}}function kV(t){const{initial:e,animate:n}=NV(t,D.useContext(Am));return D.useMemo(()=>({initial:e,animate:n}),[hE(e),hE(n)])}function hE(t){return Array.isArray(t)?t.join(" "):t}const nh={};function AV(t){for(const e in t)nh[e]=t[e],Mv(e)&&(nh[e].isCSSVariable=!0)}function WT(t,{layout:e,layoutId:n}){return fc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nh[t]||t==="opacity")}const CV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RV=dc.length;function MV(t,e,n){let i="",a=!0;for(let l=0;l<RV;l++){const c=dc[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=HT(d,Hv[c]);if(!f){a=!1;const g=CV[c]||c;i+=`${g}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Yv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const m=e[f];if(fc.has(f)){c=!0;continue}else if(Mv(f)){a[f]=m;continue}else{const g=HT(m,Hv[f]);f.startsWith("origin")?(d=!0,l[f]=g):i[f]=g}}if(e.transform||(c||n?i.transform=MV(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${f} ${m} ${g}`}}const Xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JT(t,e,n){for(const i in e)!zn(e[i])&&!WT(i,n)&&(t[i]=e[i])}function DV({transformTemplate:t},e){return D.useMemo(()=>{const n=Xv();return Yv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zV(t,e){const n=t.style||{},i={};return JT(i,n,t),Object.assign(i,DV(t,e)),i}function VV(t,e){const n={},i=zV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const IV={offset:"stroke-dashoffset",array:"stroke-dasharray"},OV={offset:"strokeDashoffset",array:"strokeDasharray"};function PV(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?IV:OV;t[l.offset]=ze.transform(-i);const c=ze.transform(e),d=ze.transform(n);t[l.array]=`${c} ${d}`}function eN(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,m,g){if(Yv(t,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b}=t;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),a!==void 0&&PV(x,a,l,c,!1)}const tN=()=>({...Xv(),attrs:{}}),nN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LV(t,e,n,i){const a=D.useMemo(()=>{const l=tN();return eN(l,e,nN(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};JT(l,t.style,t),a.style={...l,...a.style}}return a}const BV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zv(t){return typeof t!="string"||t.includes("-")?!1:!!(BV.indexOf(t)>-1||/[A-Z]/u.test(t))}function UV(t,e,n,{latestValues:i},a,l=!1){const d=(Zv(t)?LV:VV)(e,i,a,t),f=TV(e,typeof t=="string",l),m=t!==D.Fragment?{...f,...d,ref:n}:{},{children:g}=e,x=D.useMemo(()=>zn(g)?g.get():g,[g]);return D.createElement(t,{...m,children:x})}function dE(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Qv(t,e,n,i){if(typeof e=="function"){const[a,l]=dE(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=dE(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function kf(t){return zn(t)?t.get():t}function FV({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:HV(n,i,a,t),renderState:e()}}function HV(t,e,n,i){const a={},l=i(t,{});for(const b in l)a[b]=kf(l[b]);let{initial:c,animate:d}=t;const f=Rm(t),m=QT(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const x=g?d:c;if(x&&typeof x!="boolean"&&!Cm(x)){const b=Array.isArray(x)?x:[x];for(let w=0;w<b.length;w++){const N=Qv(t,b[w]);if(N){const{transitionEnd:C,transition:T,...j}=N;for(const R in j){let O=j[R];if(Array.isArray(O)){const F=g?O.length-1:0;O=O[F]}O!==null&&(a[R]=O)}for(const R in C)a[R]=C[R]}}}return a}const iN=t=>(e,n)=>{const i=D.useContext(Am),a=D.useContext(jv),l=()=>FV(t,e,i,a);return n?l():ED(l)};function Wv(t,e,n){const{style:i}=t,a={};for(const l in i)(zn(i[l])||e.style&&zn(e.style[l])||WT(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const qV=iN({scrapeMotionValuesFromProps:Wv,createRenderState:Xv});function sN(t,e,n){const i=Wv(t,e,n);for(const a in t)if(zn(t[a])||zn(e[a])){const l=dc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const $V=iN({scrapeMotionValuesFromProps:sN,createRenderState:tN}),GV=Symbol.for("motionComponentSymbol");function Dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KV(t,e,n){return D.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Dl(n)&&(n.current=i))},[e])}const Jv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YV="framerAppearId",rN="data-"+Jv(YV),aN=D.createContext({});function XV(t,e,n,i,a){const{visualElement:l}=D.useContext(Am),c=D.useContext(XT),d=D.useContext(jv),f=D.useContext(YT).reducedMotion,m=D.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,x=D.useContext(aN);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&ZV(m.current,n,a,x);const b=D.useRef(!1);D.useInsertionEffect(()=>{g&&b.current&&g.update(n,d)});const w=n[rN],N=D.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return jD(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),N.current&&g.animationState&&g.animationState.animateChanges())}),D.useEffect(()=>{g&&(!N.current&&g.animationState&&g.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),N.current=!1),g.enteringChildren=void 0)}),g}function ZV(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oN(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Dl(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:m})}function oN(t){if(t)return t.options.allowProjection!==!1?t.projection:oN(t.parent)}function hy(t,{forwardMotionProps:e=!1}={},n,i){n&&EV(n);const a=Zv(t)?$V:qV;function l(d,f){let m;const g={...D.useContext(YT),...d,layoutId:QV(d)},{isStatic:x}=g,b=kV(d),w=a(d,x);if(!x&&Ev){WV();const N=JV(g);m=N.MeasureLayout,b.visualElement=XV(t,w,g,i,N.ProjectionNode)}return u.jsxs(Am.Provider,{value:b,children:[m&&b.visualElement?u.jsx(m,{visualElement:b.visualElement,...g}):null,UV(t,d,KV(w,b.visualElement,f),w,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=D.forwardRef(l);return c[GV]=t,c}function QV({layoutId:t}){const e=D.useContext(sT).id;return e&&t!==void 0?e+"-"+t:t}function WV(t,e){D.useContext(XT).strict}function JV(t){const{drag:e,layout:n}=Zl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function e5(t,e){if(typeof Proxy>"u")return hy;const n=new Map,i=(l,c)=>hy(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,hy(c,void 0,t,e)),n.get(c))})}function lN({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function t5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function dy(t){return t===void 0||t===1}function u0({scale:t,scaleX:e,scaleY:n}){return!dy(t)||!dy(e)||!dy(n)}function fo(t){return u0(t)||cN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cN(t){return fE(t.x)||fE(t.y)}function fE(t){return t&&t!=="0%"}function Kf(t,e,n){const i=t-n,a=e*i;return n+a}function mE(t,e,n,i,a){return a!==void 0&&(t=Kf(t,a,i)),Kf(t,n,i)+e}function h0(t,e=0,n=1,i,a){t.min=mE(t.min,e,n,i,a),t.max=mE(t.max,e,n,i,a)}function uN(t,{x:e,y:n}){h0(t.x,e.translate,e.scale,e.originPoint),h0(t.y,n.translate,n.scale,n.originPoint)}const pE=.999999999999,gE=1.0000000000001;function i5(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Vl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,uN(t,c)),i&&fo(l.latestValues)&&Vl(t,l.latestValues))}e.x<gE&&e.x>pE&&(e.x=1),e.y<gE&&e.y>pE&&(e.y=1)}function zl(t,e){t.min=t.min+e,t.max=t.max+e}function yE(t,e,n,i,a=.5){const l=Vt(t.min,t.max,a);h0(t,e,n,l,i)}function Vl(t,e){yE(t.x,e.x,e.scaleX,e.scale,e.originX),yE(t.y,e.y,e.scaleY,e.scale,e.originY)}function hN(t,e){return lN(n5(t.getBoundingClientRect(),e))}function s5(t,e,n){const i=hN(t,n),{scroll:a}=e;return a&&(zl(i.x,a.offset.x),zl(i.y,a.offset.y)),i}const vE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:vE(),y:vE()}),xE=()=>({min:0,max:0}),Zt=()=>({x:xE(),y:xE()}),d0={current:null},dN={current:!1};function r5(){if(dN.current=!0,!!Ev)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>d0.current=t.matches;t.addEventListener("change",e),e()}else d0.current=!1}const a5=new WeakMap;function o5(t,e,n){for(const i in e){const a=e[i],l=n[i];if(zn(a))t.addValue(i,a);else if(zn(l))t.addValue(i,Xl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Xl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const bE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ei.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Mt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Rm(n),this.isVariantNode=QT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in x){const w=x[b];f[b]!==void 0&&zn(w)&&w.set(f[b])}}mount(e){this.current=e,a5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),dN.current||r5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:d0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),va(this.notifyUpdate),va(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=fc.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zl){const n=Zl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<bE.length;i++){const a=bE[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=o5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Xl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(rT(i)||oT(i))?i=parseFloat(i):!_V(i)&&xa.test(n)&&(i=FT(e,n)),this.setBaseTarget(e,zn(i)?i.get():i)),zn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Qv(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!zn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){qv.render(this.render)}}class fN extends l5{constructor(){super(...arguments),this.KeyframeResolver=lV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mN(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function c5(t){return window.getComputedStyle(t)}class u5 extends fN{constructor(){super(...arguments),this.type="html",this.renderInstance=mN}readValueFromInstance(e,n){if(fc.has(n))return this.projection?.isProjecting?i0(n):Nz(e,n);{const i=c5(e),a=(Mv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hN(e,n)}build(e,n,i){Yv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Wv(e,n,i)}}const pN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h5(t,e,n,i){mN(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(pN.has(a)?a:Jv(a),e.attrs[a])}class d5 extends fN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fc.has(n)){const i=UT(n);return i&&i.default||0}return n=pN.has(n)?n:Jv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return sN(e,n,i)}build(e,n,i){eN(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){h5(e,n,i,a)}mount(e){this.isSVGTag=nN(e.tagName),super.mount(e)}}const f5=(t,e)=>Zv(t)?new d5(e):new u5(e,{allowProjection:t!==D.Fragment});function Pl(t,e,n){const i=t.getProps();return Qv(i,e,n!==void 0?n:i.custom,t)}const f0=t=>Array.isArray(t);function m5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xl(n))}function p5(t){return f0(t)?t[t.length-1]||0:t}function g5(t,e){const n=Pl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=p5(l[c]);m5(t,c,d)}}function y5(t){return!!(zn(t)&&t.add)}function m0(t,e){const n=t.getValue("willChange");if(y5(n))return n.add(e);if(!n&&xr.WillChange){const i=new xr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function gN(t){return t.props[rN]}const v5=t=>t!==null;function x5(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(v5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const b5={type:"spring",stiffness:500,damping:25,restSpeed:10},_5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),w5={type:"keyframes",duration:.8},E5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j5=(t,{keyframes:e})=>e.length>2?w5:fc.has(t)?t.startsWith("scale")?_5(e[1]):b5:E5;function S5({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const ex=(t,e,n,i={},a,l)=>c=>{const d=Fv(i,t)||{},f=d.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ns(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};S5(d)||Object.assign(g,j5(t,g)),g.duration&&(g.duration=Ns(g.duration)),g.repeatDelay&&(g.repeatDelay=Ns(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(l0(g),g.delay===0&&(x=!0)),(xr.instantAnimations||xr.skipAnimations)&&(x=!0,l0(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,x&&!l&&e.get()!==void 0){const b=x5(g.keyframes,d);if(b!==void 0){Mt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return d.isSync?new Bv(g):new Zz(g)};function T5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yN(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in d){const x=t.getValue(g,t.latestValues[g]??null),b=d[g];if(b===void 0||m&&T5(m,g))continue;const w={delay:n,...Fv(l||{},g)},N=x.get();if(N!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===N&&!w.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const j=gN(t);if(j){const R=window.MotionHandoffAnimation(j,g,Mt);R!==null&&(w.startTime=R,C=!0)}}m0(t,g),x.start(ex(g,x,b,t.shouldReduceMotion&&PT.has(g)?{type:!1}:w,t,C));const T=x.animation;T&&f.push(T)}return c&&Promise.all(f).then(()=>{Mt.update(()=>{c&&g5(t,c)})}),f}function vN(t,e,n,i=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}function p0(t,e,n={}){const i=Pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(yN(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:x}=a;return N5(t,e,f,m,g,x,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[f,m]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function N5(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(p0(f,e,{...c,delay:n+(typeof i=="function"?0:i)+vN(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function k5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>p0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=p0(t,e,n);else{const a=typeof e=="function"?Pl(t,e,n.custom):e;i=Promise.all(yN(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function xN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const A5=Kv.length;function bN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<A5;n++){const i=Kv[n],a=t.props[i];(th(a)||a===!1)&&(e[i]=a)}return e}const C5=[...Gv].reverse(),R5=Gv.length;function M5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>k5(t,n,i)))}function D5(t){let e=M5(t),n=_E(),i=!0;const a=f=>(m,g)=>{const x=Pl(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:w,...N}=x;m={...m,...N,...w}}return m};function l(f){e=f(t)}function c(f){const{props:m}=t,g=bN(t.parent)||{},x=[],b=new Set;let w={},N=1/0;for(let T=0;T<R5;T++){const j=C5[T],R=n[j],O=m[j]!==void 0?m[j]:g[j],F=th(O),$=j===f?R.isActive:null;$===!1&&(N=T);let X=O===g[j]&&O!==m[j]&&F;if(X&&i&&t.manuallyAnimateOnMount&&(X=!1),R.protectedKeys={...w},!R.isActive&&$===null||!O&&!R.prevProp||Cm(O)||typeof O=="boolean")continue;const A=z5(R.prevProp,O);let k=A||j===f&&R.isActive&&!X&&F||T>N&&F,M=!1;const B=Array.isArray(O)?O:[O];let L=B.reduce(a(j),{});$===!1&&(L={});const{prevResolvedValues:q={}}=R,I={...q,...L},H=Y=>{k=!0,b.has(Y)&&(M=!0,b.delete(Y)),R.needsAnimating[Y]=!0;const ee=t.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in I){const ee=L[Y],Q=q[Y];if(w.hasOwnProperty(Y))continue;let W=!1;f0(ee)&&f0(Q)?W=!xN(ee,Q):W=ee!==Q,W?ee!=null?H(Y):b.add(Y):ee!==void 0&&b.has(Y)?H(Y):R.protectedKeys[Y]=!0}R.prevProp=O,R.prevResolvedValues=L,R.isActive&&(w={...w,...L}),i&&t.blockInitialAnimation&&(k=!1);const ne=X&&A;k&&(!ne||M)&&x.push(...B.map(Y=>{const ee={type:j};if(typeof Y=="string"&&i&&!ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,W=Pl(Q,Y);if(Q.enteringChildren&&W){const{delayChildren:V}=W.transition||{};ee.delay=vN(Q.enteringChildren,t,V)}}return{animation:Y,options:ee}}))}if(b.size){const T={};if(typeof m.initial!="boolean"){const j=Pl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(T.transition=j.transition)}b.forEach(j=>{const R=t.getBaseTarget(j),O=t.getValue(j);O&&(O.liveStyle=!0),T[j]=R??null}),x.push({animation:T})}let C=!!x.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(x):Promise.resolve()}function d(f,m){if(n[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(f,m)),n[f].isActive=m;const g=c(f);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=_E()}}}function z5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xN(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _E(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class ka{constructor(e){this.isMounted=!1,this.node=e}update(){}}class V5 extends ka{constructor(e){super(e),e.animationState||(e.animationState=D5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let I5=0;class O5 extends ka{constructor(){super(...arguments),this.id=I5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const P5={animation:{Feature:V5},exit:{Feature:O5}};function ih(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ah(t){return{point:{x:t.pageX,y:t.pageY}}}const L5=t=>e=>$v(e)&&t(e,Ah(e));function Lu(t,e,n,i){return ih(t,e,L5(n),i)}const _N=1e-4,B5=1-_N,U5=1+_N,wN=.01,F5=0-wN,H5=0+wN;function Fn(t){return t.max-t.min}function q5(t,e,n){return Math.abs(t-e)<=n}function wE(t,e,n,i=.5){t.origin=i,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=B5&&t.scale<=U5||isNaN(t.scale))&&(t.scale=1),(t.translate>=F5&&t.translate<=H5||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,i){wE(t.x,e.x,n.x,i?i.originX:void 0),wE(t.y,e.y,n.y,i?i.originY:void 0)}function EE(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function $5(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}function jE(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Uu(t,e,n){jE(t.x,e.x,n.x),jE(t.y,e.y,n.y)}function Li(t){return[t("x"),t("y")]}const EN=({current:t})=>t?t.ownerDocument.defaultView:null,SE=(t,e)=>Math.abs(t-e);function G5(t,e){const n=SE(t.x,e.x),i=SE(t.y,e.y);return Math.sqrt(n**2+i**2)}class jN{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=my(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,N=G5(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!N)return;const{point:C}=b,{timestamp:T}=En;this.history.push({...C,timestamp:T});const{onStart:j,onMove:R}=this.handlers;w||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=fy(w,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:N,onSessionEnd:C,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=my(b.type==="pointercancel"?this.lastMoveEventInfo:fy(w,this.transformPagePoint),this.history);this.startEvent&&N&&N(b,j),C&&C(b,j)},!$v(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=Ah(e),f=fy(d,this.transformPagePoint),{point:m}=f,{timestamp:g}=En;this.history=[{...m,timestamp:g}];const{onSessionStart:x}=n;x&&x(e,my(f,this.history)),this.removeListeners=Th(Lu(this.contextWindow,"pointermove",this.handlePointerMove),Lu(this.contextWindow,"pointerup",this.handlePointerUp),Lu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),va(this.updatePoint)}}function fy(t,e){return e?{point:e(t.point)}:t}function TE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function my({point:t},e){return{point:t,delta:TE(t,SN(e)),offset:TE(t,K5(e)),velocity:Y5(e,.1)}}function K5(t){return t[0]}function SN(t){return t[t.length-1]}function Y5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=SN(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ns(e)));)n--;if(!i)return{x:0,y:0};const l=Fi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function X5(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Vt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Vt(n,t,i.max):Math.min(t,n)),t}function NE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Z5(t,{top:e,left:n,bottom:i,right:a}){return{x:NE(t.x,n,a),y:NE(t.y,e,i)}}function kE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Q5(t,e){return{x:kE(t.x,e.x),y:kE(t.y,e.y)}}function W5(t,e){let n=.5;const i=Fn(t),a=Fn(e);return a>i?n=Wu(e.min,e.max-i,t.min):i>a&&(n=Wu(t.min,t.max-a,e.min)),vr(0,1,n)}function J5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const g0=.35;function eI(t=g0){return t===!1?t=0:t===!0&&(t=g0),{x:AE(t,"left","right"),y:AE(t,"top","bottom")}}function AE(t,e,n){return{min:CE(t,e),max:CE(t,n)}}function CE(t,e){return typeof t=="number"?t:t[e]||0}const tI=new WeakMap;class nI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ah(x).point)},c=(x,b)=>{const{drag:w,dragPropagation:N,onDragStart:C}=this.getProps();if(w&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fV(w),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Li(j=>{let R=this.getAxisMotionValue(j).get()||0;if(ks.test(R)){const{projection:O}=this.visualElement;if(O&&O.layout){const F=O.layout.layoutBox[j];F&&(R=Fn(F)*(parseFloat(R)/100))}}this.originPoint[j]=R}),C&&Mt.postRender(()=>C(x,b)),m0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},d=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:N,onDirectionLock:C,onDrag:T}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=b;if(N&&this.currentDirection===null){this.currentDirection=iI(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),T&&T(x,b)},f=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Li(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new jN(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:EN(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Mt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!of(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=X5(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Z5(i.layoutBox,e):this.constraints=!1,this.elastic=eI(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Li(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=J5(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=s5(i,a.root,this.visualElement.getTransformPagePoint());let c=Q5(a.layout.layoutBox,l);if(n){const d=n(t5(c));this.hasMutatedConstraints=!!d,d&&(c=lN(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Li(g=>{if(!of(g,n,this.currentDirection))return;let x=f&&f[g]||{};c&&(x={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,N={type:"inertia",velocity:i?e[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(g,N)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return m0(this.visualElement,e),i.start(ex(e,i,0,n,this.visualElement,!1))}stopAnimation(){Li(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Li(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Li(n=>{const{drag:i}=this.getProps();if(!of(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-Vt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Dl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Li(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=W5({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Li(c=>{if(!of(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Vt(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;tI.set(this.visualElement,this);const e=this.visualElement.current,n=Lu(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Dl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Mt.read(i);const c=ih(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Li(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=f[g].translate,x.set(x.get()+f[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=g0,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sI extends ka{constructor(e){super(e),this.removeGroupControls=qi,this.removeListeners=qi,this.controls=new nI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qi}unmount(){this.removeGroupControls(),this.removeListeners()}}const RE=t=>(e,n)=>{t&&Mt.postRender(()=>t(e,n))};class rI extends ka{constructor(){super(...arguments),this.removePointerDownListener=qi}onPointerDown(e){this.session=new jN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:RE(e),onStart:RE(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Mt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ME(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=ME(t,e.target.x),i=ME(t,e.target.y);return`${n}% ${i}%`}},aI={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=xa.parse(t);if(a.length>5)return i;const l=xa.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const m=Vt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}};let py=!1;class oI extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;AV(lI),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),py&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,py=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Mt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;py=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TN(t){const[e,n]=wV(),i=D.useContext(sT);return u.jsx(oI,{...t,layoutGroup:i,switchLayoutGroup:D.useContext(aN),isPresent:e,safeToRemove:n})}const lI={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:aI};function cI(t,e,n){const i=zn(t)?t:Xl(t);return i.start(ex("",i,e,n)),i.animation}const uI=(t,e)=>t.depth-e.depth;class hI{constructor(){this.children=[],this.isDirty=!1}add(e){Sv(this.children,e),this.isDirty=!0}remove(e){Tv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uI),this.isDirty=!1,this.children.forEach(e)}}function dI(t,e){const n=ei.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(va(i),t(l-e))};return Mt.setup(i,!0),()=>va(i)}const NN=["TopLeft","TopRight","BottomLeft","BottomRight"],fI=NN.length,DE=t=>typeof t=="string"?parseFloat(t):t,zE=t=>typeof t=="number"||ze.test(t);function mI(t,e,n,i,a,l){a?(t.opacity=Vt(0,n.opacity??1,pI(i)),t.opacityExit=Vt(e.opacity??1,0,gI(i))):l&&(t.opacity=Vt(e.opacity??1,n.opacity??1,i));for(let c=0;c<fI;c++){const d=`border${NN[c]}Radius`;let f=VE(e,d),m=VE(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||zE(f)===zE(m)?(t[d]=Math.max(Vt(DE(f),DE(m),i),0),(ks.test(m)||ks.test(f))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,i))}function VE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pI=kN(0,.5,pT),gI=kN(.5,.95,qi);function kN(t,e,n){return i=>i<t?0:i>e?1:n(Wu(t,e,i))}function IE(t,e){t.min=e.min,t.max=e.max}function Pi(t,e){IE(t.x,e.x),IE(t.y,e.y)}function OE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function PE(t,e,n,i,a){return t-=e,t=Kf(t,1/n,i),a!==void 0&&(t=Kf(t,1/a,i)),t}function yI(t,e=0,n=1,i=.5,a,l=t,c=t){if(ks.test(e)&&(e=parseFloat(e),e=Vt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Vt(l.min,l.max,i);t===l&&(d-=e),t.min=PE(t.min,e,n,d,a),t.max=PE(t.max,e,n,d,a)}function LE(t,e,[n,i,a],l,c){yI(t,e[n],e[i],e[a],e.scale,l,c)}const vI=["x","scaleX","originX"],xI=["y","scaleY","originY"];function BE(t,e,n,i){LE(t.x,e,vI,n?n.x:void 0,i?i.x:void 0),LE(t.y,e,xI,n?n.y:void 0,i?i.y:void 0)}function UE(t){return t.translate===0&&t.scale===1}function AN(t){return UE(t.x)&&UE(t.y)}function FE(t,e){return t.min===e.min&&t.max===e.max}function bI(t,e){return FE(t.x,e.x)&&FE(t.y,e.y)}function HE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CN(t,e){return HE(t.x,e.x)&&HE(t.y,e.y)}function qE(t){return Fn(t.x)/Fn(t.y)}function $E(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _I{constructor(){this.members=[]}add(e){Sv(this.members,e),e.scheduleRender()}remove(e){if(Tv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wI(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:b,skewX:w,skewY:N}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),x&&(i+=`rotateX(${x}deg) `),b&&(i+=`rotateY(${b}deg) `),w&&(i+=`skewX(${w}deg) `),N&&(i+=`skewY(${N}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const gy=["","X","Y","Z"],EI=1e3;let jI=0;function yy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function RN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Mt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&RN(i)}function MN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=jI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NI),this.nodes.forEach(RI),this.nodes.forEach(MI),this.nodes.forEach(kI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new hI)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Av),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=KT(c)&&!xV(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let g,x=0;const b=()=>this.root.updateBlockedByResize=!1;Mt.read(()=>{x=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==x&&(x=w,this.root.updateBlockedByResize=!0,g&&g(),g=dI(b,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(YE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||OI,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=m.getProps(),j=!this.targetLayout||!CN(this.targetLayout,w),R=!x&&b;if(this.options.layoutRoot||this.resumeFrom||R||x&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...Fv(N,"layout"),onPlay:C,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,R)}else x||YE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),va(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DI),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(KE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CI),this.nodes.forEach(SI),this.nodes.forEach(TI)):this.nodes.forEach(KE),this.clearAllSnapshots();const d=ei.now();En.delta=vr(0,1e3/60,d-En.timestamp),En.timestamp=d,En.isProcessing=!0,ry.update.process(En),ry.preRender.process(En),ry.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AI),this.sharedNodes.forEach(zI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!AN(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||fo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),PI(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Zt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LI))){const{scroll:m}=this.root;m&&(zl(d.x,m.offset.x),zl(d.y,m.offset.y))}return d}removeElementScroll(c){const d=Zt();if(Pi(d,c),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:x}=m;m!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Pi(d,c),zl(d.x,g.offset.x),zl(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const f=Zt();Pi(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),fo(g.latestValues)&&Vl(f,g.latestValues)}return fo(this.latestValues)&&Vl(f,this.latestValues),f}removeTransform(c){const d=Zt();Pi(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!fo(m.latestValues))continue;u0(m.latestValues)&&m.updateSnapshot();const g=Zt(),x=m.measurePageBox();Pi(g,x),BE(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return fo(this.latestValues)&&BE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=En.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Uu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),uN(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Uu(this.relativeTargetOrigin,this.target,b.target),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||u0(this.parent.latestValues)||cN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===En.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Pi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;i5(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Zt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OE(this.prevProjectionDelta.x,this.projectionDelta.x),OE(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!$E(this.projectionDelta.x,this.prevProjectionDelta.x)||!$E(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Il(),this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},x=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Zt(),w=f?f.source:void 0,N=this.layout?this.layout.source:void 0,C=w!==N,T=this.getStack(),j=!T||T.members.length<=1,R=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(II));this.animationProgress=0;let O;this.mixTargetDelta=F=>{const $=F/1e3;XE(x.x,c.x,$),XE(x.y,c.y,$),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VI(this.relativeTarget,this.relativeTargetOrigin,b,$),O&&bI(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Zt()),Pi(O,this.relativeTarget)),C&&(this.animationValues=g,mI(g,m,this.latestValues,$,R,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(va(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{Af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=cI(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&DN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Zt();const x=Fn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const b=Fn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}Pi(d,f),Vl(d,g),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new _I),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&yy("z",c,m,this.animationValues);for(let g=0;g<gy.length;g++)yy(`rotate${gy[g]}`,c,m,this.animationValues),yy(`skew${gy[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=kf(d?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=kf(d?.pointerEvents)||""),this.hasProjected&&!fo(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=wI(this.projectionDeltaWithTransform,this.treeScale,g);f&&(x=f(g,x)),c.transform=x;const{x:b,y:w}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const N in nh){if(g[N]===void 0)continue;const{correct:C,applyTo:T,isCSSVariable:j}=nh[N],R=x==="none"?g[N]:C(g[N],m);if(T){const O=T.length;for(let F=0;F<O;F++)c[T[F]]=R}else j?this.options.visualElement.renderState.vars[N]=R:c[N]=R}this.options.layoutId&&(c.pointerEvents=m===this?kf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(GE),this.root.sharedNodes.clear()}}}function SI(t){t.updateLayout()}function TI(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Li(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],b=Fn(x);x.min=n[g].min,x.max=x.min+b}):DN(a,e.layoutBox,n)&&Li(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],b=Fn(n[g]);x.max=x.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const c=Il();Bu(c,n,e.layoutBox);const d=Il();l?Bu(d,t.applyTransform(i,!0),e.measuredBox):Bu(d,n,e.layoutBox);const f=!AN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const w=Zt();Uu(w,e.layoutBox,x.layoutBox);const N=Zt();Uu(N,n,b.layoutBox),CN(w,N)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function NI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AI(t){t.clearSnapshot()}function GE(t){t.clearMeasurements()}function KE(t){t.isLayoutDirty=!1}function CI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function YE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RI(t){t.resolveTargetDelta()}function MI(t){t.calcProjection()}function DI(t){t.resetSkewAndRotation()}function zI(t){t.removeLeadSnapshot()}function XE(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ZE(t,e,n,i){t.min=Vt(e.min,n.min,i),t.max=Vt(e.max,n.max,i)}function VI(t,e,n,i){ZE(t.x,e.x,n.x,i),ZE(t.y,e.y,n.y,i)}function II(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OI={duration:.45,ease:[.4,0,.1,1]},QE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WE=QE("applewebkit/")&&!QE("chrome/")?Math.round:qi;function JE(t){t.min=WE(t.min),t.max=WE(t.max)}function PI(t){JE(t.x),JE(t.y)}function DN(t,e,n){return t==="position"||t==="preserve-aspect"&&!q5(qE(e),qE(n),.2)}function LI(t){return t!==t.root&&t.scroll?.wasRoot}const BI=MN({attachResizeListener:(t,e)=>ih(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},zN=MN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vy.current){const t=new BI({});t.mount(window),t.setOptions({layoutScroll:!0}),vy.current=t}return vy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UI={pan:{Feature:rI},drag:{Feature:sI,ProjectionNode:zN,MeasureLayout:TN}};function e2(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Mt.postRender(()=>l(e,Ah(e)))}class FI extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=mV(e,(n,i)=>(e2(this.node,i,"Start"),a=>e2(this.node,a,"End"))))}unmount(){}}class HI extends ka{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Th(ih(this.node.current,"focus",()=>this.onFocus()),ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function t2(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Mt.postRender(()=>l(e,Ah(e)))}class qI extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=vV(e,(n,i)=>(t2(this.node,i,"Start"),(a,{success:l})=>t2(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const y0=new WeakMap,xy=new WeakMap,$I=t=>{const e=y0.get(t.target);e&&e(t)},GI=t=>{t.forEach($I)};function KI({root:t,...e}){const n=t||document;xy.has(n)||xy.set(n,{});const i=xy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(GI,{root:t,...e})),i[a]}function YI(t,e,n){const i=KI(e);return y0.set(t,n),i.observe(t),()=>{y0.delete(t),i.unobserve(t)}}const XI={some:0,all:1};class ZI extends ka{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:XI[a]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=m?g:x;b&&b(f)};return YI(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(QI(e,n))&&this.startObserver()}unmount(){}}function QI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WI={inView:{Feature:ZI},tap:{Feature:qI},focus:{Feature:HI},hover:{Feature:FI}},JI={layout:{ProjectionNode:zN,MeasureLayout:TN}},e6={...P5,...WI,...UI,...JI},ss=e5(e6,f5);function t6(){const[t,e]=D.useState(new Date);D.useEffect(()=>{const f=setInterval(()=>e(new Date),1e3);return()=>clearInterval(f)},[]);const i=(f=>{const m=new Date(f.getFullYear(),0,1),g=(f-m)/864e5;return Math.ceil((g+m.getDay()+1)/7)})(t),a=i%2===1,l=t.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),c=t.toLocaleDateString("cs-CZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=a?{type:"Lichý týden",subject:"Audiovizuální seminář",emoji:"🎬"}:{type:"Sudý týden",subject:"Umělá inteligence",emoji:"🤖"};return u.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 border-2 border-gray-900",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"text-center md:text-left",children:[u.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[u.jsx(eT,{className:"w-5 h-5 text-gray-900"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Aktuální čas"})]}),u.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:l}),u.jsx("div",{className:"text-sm text-gray-700",children:c})]}),u.jsxs("div",{className:"text-center md:text-left p-4 rounded-lg bg-gray-100 border-2 border-gray-900",children:[u.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[u.jsx(Gl,{className:"w-5 h-5 text-gray-900"}),u.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[i,". týden"]})]}),u.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:d.type}),u.jsxs("div",{className:"text-sm text-gray-800",children:[d.emoji," ",d.subject]})]}),u.jsxs("div",{className:"text-center md:text-left",children:[u.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[u.jsx(Nm,{className:"w-5 h-5 text-gray-900"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Semestr"})]}),u.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Zimní 2025/26"}),u.jsx("div",{className:"text-sm text-gray-700",children:"FAMU - Filmová fakulta"})]})]})})}function n6(){return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 shadow-xl border-b-4 border-yellow-400",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:pl-16",children:u.jsxs("div",{className:"text-center lg:text-left",children:[u.jsx(ss.h1,{className:"text-5xl md:text-6xl font-bold text-white mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"📚 FAMU Poznámky"}),u.jsx(ss.p,{className:"text-xl text-gray-200 max-w-2xl lg:mx-0 mx-auto mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"Přehledné poznámky z předmětů Filmové a televizní fakulty AMU"}),u.jsxs(ss.div,{className:"flex items-center justify-center lg:justify-start gap-4 flex-wrap",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},children:[u.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-yellow-400 text-gray-900 rounded-full font-semibold text-sm",children:"🎓 Zimní semestr 2025/26"}),u.jsxs("span",{className:"inline-flex items-center px-4 py-2 bg-white/10 text-white rounded-full font-medium text-sm backdrop-blur-sm",children:["📖 ",Qu.length," předmětů"]}),u.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-white/10 text-white rounded-full font-medium text-sm backdrop-blur-sm",children:"✨ Nové: Nástěnka"})]})]})})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:pl-16",children:[u.jsx(t6,{}),u.jsxs(ss.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.2}}},children:[u.jsx(ss.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:u.jsx(st,{to:"/chat",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:"💬"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Chat"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Real-time komunikace"})]}),u.jsx(Iu,{className:"w-6 h-6 text-gray-400"})]})})})}),u.jsx(ss.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:u.jsx(st,{to:"/bulletin-board",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:"📌"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Nástěnka"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Sticky notes pro rychlé poznámky"})]}),u.jsx(Ff,{className:"w-6 h-6 text-gray-400"})]})})})}),u.jsx(ss.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:u.jsx(st,{to:"/timetable",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:"📅"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Rozvrh"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Týdenní rozvrh hodin"})]}),u.jsx(WS,{className:"w-6 h-6 text-gray-400"})]})})})}),u.jsx(ss.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:u.jsx(st,{to:"/deadlines",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:"⏰"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Deadlines"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Správa termínů a úkolů"})]}),u.jsx(eT,{className:"w-6 h-6 text-gray-400"})]})})})}),u.jsx(ss.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:u.jsx(st,{to:"/subject/general",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:"📚"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Obecné poznámky"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Různé důležité informace"})]}),u.jsx(Kl,{className:"w-6 h-6 text-gray-400"})]})})})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[u.jsx("span",{className:"text-4xl",children:"📖"}),"Předměty"]}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Vyberte předmět pro zobrazení poznámek z hodin"})]}),u.jsx(ss.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},children:Qu.map((t,e)=>u.jsx(ss.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},children:u.jsx(st,{to:`/subject/${t.id}`,className:"block group",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full flex flex-col",children:[u.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("div",{className:"bg-white/10 backdrop-blur-sm px-3 py-1 rounded-full",children:u.jsx("span",{className:"text-xs font-bold tracking-wider",children:t.shortName})}),u.jsx(Nm,{className:"w-7 h-7 opacity-70 group-hover:opacity-100 transition-opacity"})]}),u.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:t.description})]})]}),u.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-4 text-lg leading-tight",children:t.name}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:u.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-3 py-1.5 rounded-full",children:[u.jsx("span",{className:"font-bold text-gray-900",children:t.classes.length}),u.jsx("span",{children:t.classes.length===1?"hodina":"hodin"})]})}),u.jsxs("div",{className:"flex items-center text-gray-900 font-semibold group-hover:text-gray-700 transition-colors",children:[u.jsx("span",{children:"Zobrazit poznámky"}),u.jsx("svg",{className:"ml-2 w-5 h-5 transform group-hover:translate-x-2 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]})})},t.id))})]})]})}const i6="https://us-central1-YOUR_PROJECT_ID.cloudfunctions.net/notionSync";async function uo(t,e={}){try{const n=await fetch(i6,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,data:e})});if(!n.ok)throw new Error(`API error: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Notion API call failed:",n),n}}let bu={},lf={};const s6=300*1e3,n2={async createSubjectPage(t){return await uo("createSubjectPage",{subjectId:t.id,name:t.name,code:t.id.toUpperCase(),color:t.color})},async createClassPage(t,e){return await uo("createClassPage",{parentPageId:t,classNumber:e.number,title:e.title,content:e.content||""})},async syncNotes(t,e){return await uo("syncNotes",{pageId:t,content:e})},async getSubjects(){return await uo("getSubjects")},async syncAllSubjects(t){const e=[];for(const n of t)try{const i=await this.createSubjectPage(n);e.push({subject:n.name,success:!0,pageId:i.pageId})}catch(i){e.push({subject:n.name,success:!1,error:i.message})}return e},async saveNotesToNotion(t,e,n){const i=`${t}-${e}`;try{const a=await uo("saveNotes",{subjectId:t,classNumber:e,content:n,timestamp:new Date().toISOString()});return delete bu[i],delete lf[i],a}catch(a){throw console.error("Failed to save notes to Notion:",a),a}},async loadNotesFromNotion(t,e){const n=`${t}-${e}`,i=Date.now();if(bu[n]&&i-lf[n]<s6)return console.log("📦 Loading from cache:",n),bu[n];try{const a=await uo("loadNotes",{subjectId:t,classNumber:e});return bu[n]=a,lf[n]=i,a}catch(a){return console.error("Failed to load notes from Notion:",a),null}},autoSaveTimer:null,async autoSaveNotes(t,e,n,i=2e3){clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout(async()=>{try{await this.saveNotesToNotion(t,e,n),console.log("✅ Auto-saved to Notion")}catch(a){console.error("❌ Auto-save failed:",a)}},i)},async checkSyncStatus(t,e){try{return await uo("checkSync",{subjectId:t,classNumber:e})}catch(n){return{synced:!1,error:n.message}}},clearCache(){bu={},lf={}}};function r6({subject:t,classData:e,onSuccess:n}){const[i,a]=D.useState(!1),[l,c]=D.useState(null),d=async()=>{a(!0),c(null);try{const f=await n2.createSubjectPage(t);e&&await n2.createClassPage(f.pageId,e),c("success"),n&&n(),setTimeout(()=>c(null),3e3)}catch(f){console.error("Sync error:",f),c("error"),setTimeout(()=>c(null),5e3)}finally{a(!1)}};return u.jsx("button",{onClick:d,disabled:i,className:`
        flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all
        ${i?"bg-gray-400 cursor-not-allowed":l==="success"?"bg-green-600 hover:bg-green-700":l==="error"?"bg-red-600 hover:bg-red-700":"bg-black hover:bg-gray-800"}
        text-white shadow-lg hover:shadow-xl
      `,children:i?u.jsxs(u.Fragment,{children:[u.jsx(Y4,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Synchronizace..."})]}):l==="success"?u.jsxs(u.Fragment,{children:[u.jsx(C4,{className:"w-5 h-5"}),u.jsx("span",{children:"Synchronizováno!"})]}):l==="error"?u.jsxs(u.Fragment,{children:[u.jsx(V4,{className:"w-5 h-5"}),u.jsx("span",{children:"Chyba"})]}):u.jsxs(u.Fragment,{children:[u.jsx(pD,{className:"w-5 h-5"}),u.jsx("span",{children:"Sync do Notion"})]})})}const i2={blue:"from-gray-800 to-gray-900",purple:"from-gray-800 to-gray-900",green:"from-gray-800 to-gray-900",red:"from-gray-800 to-gray-900",orange:"from-gray-800 to-gray-900"};function a6(){const{subjectId:t}=Sm(),e=wv(t);return e?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:`bg-gradient-to-r ${i2[e.color]} text-white shadow-lg`,children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs(st,{to:"/",className:"inline-flex items-center text-white hover:text-gray-100 mb-4 transition-colors",children:[u.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpět na přehled předmětů"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Nm,{className:"w-12 h-12"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:e.name}),u.jsx("p",{className:"text-lg opacity-90 mt-1",children:e.description})]})]})]})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:pl-16",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[u.jsxs(st,{to:`/subject/${e.id}/mindmap`,className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-semibold shadow-lg transition-all duration-300 hover:shadow-2xl hover:from-purple-700 hover:to-blue-700 hover:-translate-y-1",children:[u.jsx(iD,{className:"w-6 h-6 flex-shrink-0"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg",children:"🧠 Zobrazit Mind Map"}),u.jsx("div",{className:"text-xs opacity-90",children:"Interaktivní vizualizace předmětu"})]})]}),u.jsx(r6,{subject:e,onSuccess:()=>alert("Předmět synchronizován do Notion!")})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Přehled hodin"}),u.jsx("p",{className:"text-gray-600",children:"Klikněte na hodinu pro zobrazení poznámek"})]}),u.jsx("div",{className:"space-y-4",children:e.classes.map(n=>u.jsx(st,{to:`/subject/${e.id}/class/${n.id}`,className:"block group",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[u.jsxs("div",{className:`bg-gradient-to-r ${i2[e.color]} px-6 py-4 flex items-center gap-4`,children:[u.jsx("div",{className:"bg-white bg-opacity-20 rounded-full w-12 h-12 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-white font-bold text-lg",children:n.id})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-white text-sm mb-1",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gl,{className:"w-4 h-4 mr-1"}),n.date]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(_v,{className:"w-4 h-4 mr-1"}),n.lecturer]})]})})]}),u.jsxs("div",{className:"px-6 py-5",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors",children:n.title}),n.description&&u.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:n.description}),u.jsxs("div",{className:"mt-4 inline-flex items-center text-blue-600 font-medium group-hover:text-blue-700",children:["Zobrazit poznámky",u.jsx("svg",{className:"ml-2 w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},n.id))}),e.links&&e.links.length>0&&u.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Užitečné odkazy"}),u.jsx("ul",{className:"space-y-2",children:e.links.map((n,i)=>u.jsx("li",{children:u.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 hover:underline flex items-center",children:[n.name,u.jsx("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})},i))})]})]})]}):u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Předmět nenalezen"}),u.jsx(st,{to:"/",className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Zpět na hlavní stránku"})]})})}function o6(){return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"📚 Hodina 1 - Historické výkladové rámce"}),u.jsx("h2",{children:"1. 10. 2025 - Tomáš Hirt"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Téma:"}),' Historické výkladové rámce, vývoj definice pojmu DF a „non-fiction", estetické a společenské kontexty, konstituce samostatné disciplíny. Druhy dokumentů: observační, participační, performativní, reflexivní (Bill Nichols). Rozdíl mezi dokumentem, reportáží a publicistikou.']}),u.jsx("hr",{}),u.jsx("h2",{children:"📑 Obsah hodiny"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#literatura",children:"Doporučená literatura"})}),u.jsx("li",{children:u.jsx("a",{href:"#70-leta",children:"70. léta - Co je to dokumentární film?"})}),u.jsx("li",{children:u.jsx("a",{href:"#naivni-realismus",children:"Naivní realismus"})}),u.jsx("li",{children:u.jsx("a",{href:"#formalni-esteticka",children:"Formální a estetická otázka"})}),u.jsx("li",{children:u.jsx("a",{href:"#posun-70",children:"Od 70. let - Posun v teorii dokumentárního filmu"})}),u.jsx("li",{children:u.jsx("a",{href:"#episteme",children:"Epistémé"})}),u.jsx("li",{children:u.jsx("a",{href:"#nanuk",children:"Příklad: Nanuk of the North"})}),u.jsx("li",{children:u.jsx("a",{href:"#humanitni-vedy",children:"Co jsou to humanitní vědy?"})}),u.jsx("li",{children:u.jsx("a",{href:"#prirodni-humanitni",children:"Přírodní vědy vs. Humanitní vědy"})}),u.jsx("li",{children:u.jsx("a",{href:"#dokumentarni-definice",children:"Definice dokumentárního filmu"})}),u.jsx("li",{children:u.jsx("a",{href:"#nichols-mody",children:"Bill Nichols - Mody dokumentárního filmu"})})]}),u.jsx("hr",{}),u.jsx("h2",{id:"literatura",children:"Doporučená literatura"}),u.jsx("ul",{children:u.jsxs("li",{children:[u.jsx("strong",{children:"Bill Nichols"})," - ",u.jsx("em",{children:"Engaging Cinema: Introduction to Film Studies"})]})}),u.jsx("h2",{id:"70-leta",children:"70. léta - Co je to dokumentární film?"}),u.jsx("p",{children:u.jsx("strong",{children:"Slavná definice dokumentárního filmu (John Grierson):"})}),u.jsxs("ul",{children:[u.jsx("li",{children:"Tvůrčí zpracování zkušenosti"}),u.jsx("li",{children:"Skutečnost, ke které se vztahuje"})]}),u.jsx("h3",{id:"naivni-realismus",children:"Naivní realismus"}),u.jsx("p",{children:"Naivní realismus je přesvědčení, které spočívá v tom, že existuje vnější skutečnost a my ji tvůrčím postupech uchopáváme a zpracováváme."}),u.jsxs("p",{children:[u.jsx("strong",{children:"Bill Nichols"})," říká, že se v souvislosti s touto myšlenkou došlo k výraznému otřesu. Postavil se velký otazník nad přesvědčení, že tady je vnější skutečnost."]}),u.jsxs("blockquote",{children:["To, co je ta skutečnost, kterou reprezentuje, tak je ",u.jsx("em",{children:"neproblematicky?"})]}),u.jsx("h3",{id:"formalni-esteticka",children:"Formální a estetická otázka"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Formální"})," - Myslím tím strhovou skladbu, soustředění se na ty elementy, ze kterých je ten film složený - oblast formy."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Estetika"})," - se týká toho, nakolik a jak využívá uměleckých prostředků."]}),u.jsx("h2",{id:"posun-70",children:"Od 70. let - Posun v teorii dokumentárního filmu"}),u.jsxs("p",{children:["Od 70. let se teorie dokumentárního filmu začínají zaměřovat na ",u.jsx("strong",{children:"sociální rozměr kinematografie"}),"."]}),u.jsxs("ul",{children:[u.jsx("li",{children:"Estetická stránka ustupuje do pozadí"}),u.jsx("li",{children:"Je chápána jako součást té stránky formální"}),u.jsxs("li",{children:["Bill Nichols píše o tom, co je součástí té filmové vědy, tak tvrdí, že to je studium:",u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Sociálních aspektů"})," kinematografie"]}),u.jsx("li",{children:u.jsx("strong",{children:"Formálních aspektů"})})]})]})]}),u.jsx("p",{children:u.jsx("strong",{children:"Studium filmu se zaměřuje na dva kontexty:"})}),u.jsxs("ol",{children:[u.jsx("li",{children:"Kontext sociální"}),u.jsx("li",{children:"Kontext formální"})]}),u.jsx("h4",{children:"V čem spočívá ten sociální kontext?"}),u.jsx("p",{children:"Ve výsledné podobě těch dokumentárních filmů se projevují:"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Způsoby uvažování"}),u.jsx("li",{children:"Kulturní a sociální vzorce"}),u.jsx("li",{children:"Prostoru, kde ty filmy vznikaly"})]}),u.jsx("h2",{id:"episteme",children:"Epistémé"}),u.jsx("h3",{id:"nanuk",children:"Příklad: Nanuk of the North"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Film:"})," ",u.jsx("em",{children:"Nanuk of the North"})]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Režisér:"})," Robert Flaherty"]}),u.jsxs("li",{children:["Působil s ",u.jsx("strong",{children:"Johnem Griersonem"}),", který je tvůrčí postavou britské dokumentaristické školy"]})]}),u.jsx("p",{children:u.jsx("strong",{children:"Odkazy k filmu:"})}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"https://www.csfd.cz/film/81655-nanuk-clovek-primitivni/prehled/",target:"_blank",rel:"noopener noreferrer",children:"ČSFD - Nanuk, člověk primitivní"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.youtube.com/watch?v=lkW14Lu1IBo",target:"_blank",rel:"noopener noreferrer",children:"YouTube - Nanuk of the North"})})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Klíčová otázka:"}),u.jsx("br",{}),"Jaká představivost dovedla toho filmaře k tomu, aby si řekl, že nechce, aby měl pušku a raději si vzal harpunu? Proč?"]}),u.jsxs("p",{children:[u.jsx("span",{className:"arrow",children:"→"})," Prostě jak se promítá nějaká dobová situace a nebo dobová kultura",u.jsx("br",{}),u.jsx("span",{className:"arrow",children:"→"})," ",u.jsx("strong",{children:"No prostě epistéma."})]}),u.jsx("h2",{id:"humanitni-vedy",children:"Co jsou to humanitní vědy?"}),u.jsx("p",{children:u.jsx("strong",{children:"A jak se liší od věd přírodních?"})}),u.jsx("p",{children:u.jsx("strong",{children:"Definice vědy:"})}),u.jsx("blockquote",{children:"Věda je souřadný soubor racionálních, pojmově zakotvených tvrzení, jejichž účelem je ověřitelným a opakovatelným způsobem interpretovat jevy materiálního a smyslového světa"}),u.jsxs("p",{children:["Věda je uspořádána na základě ",u.jsx("strong",{children:"pojmově zakotvených tvrzení"})," - neboli myšlení v pojmech."]}),u.jsx("h3",{children:"Co je to pojem?"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("strong",{children:"Zobecňující funkce"})}),u.jsx("li",{children:u.jsx("strong",{children:"Má definici"})})]}),u.jsx("h4",{children:"Epistéma = Paradigma?"}),u.jsxs("p",{children:["Ano, ",u.jsx("strong",{children:"paradigma je epistéma v rámci vědy"}),"."]}),u.jsx("h2",{id:"prirodni-humanitni",children:"Přírodní vědy vs. Humanitní vědy"}),u.jsx("p",{children:"Max Weber charakterizuje vědy následovně:"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:u.jsx("strong",{children:"Přírodní vědy"})}),u.jsx("th",{children:u.jsx("strong",{children:"Humanitní vědy"})})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsxs("td",{children:["Cíl: ",u.jsx("strong",{children:"Vysvětlení"})]}),u.jsxs("td",{children:["Cíl: ",u.jsx("strong",{children:"Porozumění"})]})]}),u.jsxs("tr",{children:[u.jsx("td",{children:"Zákonitosti"}),u.jsx("td",{children:"Význam"})]}),u.jsxs("tr",{children:[u.jsx("td",{children:"Materiální svět"}),u.jsx("td",{children:"Interpretace"})]})]})]}),u.jsx("h2",{id:"dokumentarni-definice",children:"Definice dokumentárního filmu"}),u.jsx("blockquote",{children:u.jsxs("p",{children:["Dokumentární film vypráví o situacích a událostech týkajících se skutečných lidí (",u.jsx("strong",{children:"sociálních herců"}),"), kteří nám představují sami sebe v příbězích, jež nám přibližují věrohodnou představu o zobrazovaných životech, situacích a událostech či pohled na ně. Specifické hledisko filmového tvůrce nevytváří fiktivních alegorií, ale spíše zprostředkovává přímý vhled do žitého světa."]})}),u.jsx("h3",{children:"Sociální herec"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Přímá návaznost na Goffmana"})," – představuje dramaturgickou sociologii."]}),u.jsx("h2",{id:"nichols-mody",children:"Bill Nichols - Mody dokumentárního filmu"}),u.jsx("p",{children:"Šest základních modů dokumentárního filmu podle Billa Nicholse:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Výkladový"})," (Expository)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Poetický"})," (Poetic)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Observační"})," (Observational)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Participační"})," (Participatory)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Reflexivní"})," (Reflexive)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Performativní"})," (Performative)"]})]}),u.jsx("h3",{children:"Výkladový modus"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Příklad:"})," ",u.jsx("em",{children:"The Hunters"})," (John Marshall)"]}),u.jsx("p",{children:u.jsx("strong",{children:"Charakteristiky:"})}),u.jsxs("ul",{children:[u.jsx("li",{children:"Alternativa vůči fikci a avantgardě"}),u.jsx("li",{children:"Je popisný a snaží se to zachytit tak, jak to je"}),u.jsx("li",{children:"Omezen didaktismem"}),u.jsx("li",{children:"Vzdělávací a výchovný moment je přítomný"})]})]})}function l6(){return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"📚 Hodina 2 - Sovětská montážní škola"}),u.jsx("h2",{children:"8. 10. 2025 - Tomáš Hirt"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Téma:"})," Sovětská montážní škola a její pokus změnit kinematografii až na úroveň pojmů, estetika a teorie materialismu, anti-narace a dedramatizace jako nové východisko kinematografie. Esfir Šubová a Dziga Vertov."]}),u.jsx("hr",{}),u.jsx("h2",{children:"📝 Poznámky z hodiny"}),u.jsx("h3",{children:"Odmítání pojmu žánr a subžánr"}),u.jsxs("p",{children:["Oni docela odmítají pojem ",u.jsx("strong",{children:"žánr a subžánr"}),"."]}),u.jsxs("ul",{children:[u.jsx("li",{children:"Berou to jako pojem vypůjčený z literatury"}),u.jsx("li",{children:"Je to termín, který neumožňuje efektivně třídit tu oblast, a proto to nefunguje jako nástroj dobré analýzy"})]}),u.jsx("h3",{children:"Alternativní způsoby třídění"}),u.jsx("p",{children:"Místo toho používají jiné způsoby třídění."}),u.jsxs("p",{children:["Jedna z těchto kategorizací je ",u.jsx("strong",{children:"Nicholsova teorie šesti modů"}),"."]}),u.jsx("hr",{}),u.jsx("h2",{children:"Porovnání modů dokumentárního filmu"}),u.jsx("h3",{children:"Příklady filmů"}),u.jsx("ul",{children:u.jsxs("li",{children:[u.jsx("strong",{children:"Výkladový modus:"})," ",u.jsx("em",{children:"The Hunters"})," (John Marshall)"]})}),u.jsx("h3",{children:"Kategorie dokumentů (výkladový modus):"}),u.jsx("p",{children:"Reportáž, obhajoba, podpora příkladu, dějepis, svědectví, sociologie, vizuální antropologie, poezie, deník, biografie, autobiografie"}),u.jsx("h2",{children:"📊 Kompletní tabulka srovnání modů"}),u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["💡 ",u.jsx("em",{children:"Tip: Posuňte tabulku vodorovně pro zobrazení všech sloupců"})]}),u.jsx("div",{className:"overflow-x-auto my-8 -mx-4 px-4 md:mx-0 md:px-0",children:u.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 text-xs md:text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-blue-600 text-white",children:[u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Modus"}),u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Alternativa vůči"}),u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Omezen"}),u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Vědění chápe jako"}),u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Zvuk"}),u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Čas a prostor"}),u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Etické ohledy"}),u.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Hlas charakterizovaný"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Výkladový"}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Alternativa vůči:"}),u.jsx("br",{}),"Fikci / Avantgardě"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Omezen:"}),u.jsx("br",{}),"Didaktismem",u.jsx("br",{}),"Vzdělávací a výchovný moment"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Vědění chápe jako:"}),u.jsx("br",{}),"Neukotvené nebo abstraktní myšlenky"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Zvuk:"}),u.jsx("br",{}),"Expresivní a kognitivní",u.jsx("br",{}),"Plně v rukou autora, žádná indexová spojitost",u.jsx("br",{}),"Často v podobě komentáře mimo obraz"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Čas a prostor:"}),u.jsx("br",{}),"Diskontinuální",u.jsx("br",{}),"Používá obrazy z nejrůznějších dob a míst, aby ilustroval hledisko nebo doložil argument"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Etické ohledy:"}),u.jsx("br",{}),"Historická přesnost a ověřitelnost",u.jsx("br",{}),"Nesnaží se z lidí dělat chudáky"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Hlas charakterizovaný:"}),u.jsx("br",{}),"Klasickou řečí s odhodláním zjistit pravdu a snahu informovat"]})]}),u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Poetický"}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Alternativa vůči:"}),u.jsx("br",{}),"Fikci / Výkladu",u.jsx("br",{}),u.jsx("em",{children:"Proti výkladu: jen střípky a divák má pak svůj dojem"})]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Omezen:"}),u.jsx("br",{}),"Formálními abstrakcemi, které ztrácejí kontakt se žitou realitou"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Vědění chápe jako:"}),u.jsx("br",{}),"Afektivní, nový způsob vnímání a chápání světa, svěží pohled na známé věci"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Zvuk:"}),u.jsx("br",{}),"Expresivní, budující strukturu a rytmus",u.jsx("br",{}),"Stejně jako ve výkladovém modu o něm do značné míry rozhoduje filmař"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Čas a prostor:"}),u.jsx("br",{}),"Diskontinuální",u.jsx("br",{}),"Tvůrce používá obrazy, aby vytvořil určitou náladu nebo strukturu, aniž by bral ohled na to, k čemu původně náležely"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Etické ohledy:"}),u.jsx("br",{}),"Používá konkrétní lidi a místa a věci bez ohledu na jejich identitu",u.jsx("br",{}),"Zkresluje nebo zveličuje"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Hlas charakterizovaný:"}),u.jsx("br",{}),"Touhou po expresivním zachycení ztvárňovaného světa prostřednictvím nových forem a hledisek"]})]}),u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Observační"}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Alternativa vůči:"}),u.jsx("br",{}),"Klasické řeči a poetickému vyjádření"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Omezen:"}),u.jsx("br",{}),"Tím, co se děje před kamerou",u.jsx("br",{}),"Obtížně ztvárňuje historické události"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Vědění chápe jako:"}),u.jsx("br",{}),"Přirozený smysl poznávat sledováním, nasloucháním a pozorováním a vyvozováním z chování druhých"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Zvuk:"}),u.jsx("br",{}),"Spojen s obrazem indexovou vazbou synchronního zvuku",u.jsx("br",{}),"Filmař se vzdává úplné kontroly nad zvukem",u.jsx("br",{}),"Snaží se především zaznamenat, co je slyšet v dané situaci",u.jsx("br",{}),"Zdržuje se komentáře"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Čas a prostor:"}),u.jsx("br",{}),"Kontinuitní",u.jsx("br",{}),"Výrazný dojem kontinuity, která spojuje slova a jednání subjektů od záběru k záběru"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Etické ohledy:"}),u.jsx("br",{}),"Pasivní pozorování nebezpečného, škodlivého nebo nezákonného jednání může vést k závažným obtížím subjektů",u.jsx("br",{}),"Může vyvolat naléhavé otázky odpovědnosti vůči subjektům"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Hlas charakterizovaný:"}),u.jsx("br",{}),"Trpělivostí, skromností, sebepotlačením",u.jsx("br",{}),"Ochota nechat na divácích, aby sami posoudili, co vidí a slyší"]})]}),u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Participační"}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Alternativa vůči:"}),u.jsx("br",{}),"Pasivnímu pozorování a klasické řeči"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Omezen:"}),u.jsx("br",{}),"Tím, že často přenechává kontrolu a možnost prosadit názor druhých",u.jsx("br",{}),"Ztrácí nezávislost rozhodování"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Vědění chápe jako:"}),u.jsx("br",{}),"To, co se učíme z interakcí, to, co lidé říkají a dělají, když jsou konfrontováni či zaujati druhými",u.jsx("br",{}),"To, co lze sdělit prostřednictvím rozhovorů i jiných druhů setkání"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Zvuk:"}),u.jsx("br",{}),"Zdůrazňuje mluvený projev mezi filmařem a subjektem",u.jsx("br",{}),"Obzvláště v rozhovorech se hodně spoléhá na synchronní zvuk, ale může také použít komentář",u.jsx("br",{}),"Filmař do zvuku trucím způsobem zasahuje jen ojediněle"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Čas a prostor:"}),u.jsx("br",{}),"Kontinuitní",u.jsx("br",{}),"Může propojovat současný čas a minulost"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Etické ohledy:"}),u.jsx("br",{}),"Navádí ostatní k osobním zpovědím",u.jsx("br",{}),"Vyvolává otázky manipulace a zkreslování"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Hlas charakterizovaný:"}),u.jsx("br",{}),"Angažovaností, intenzivní účastí při setkávání nebo při prezentaci historického hlediska"]})]}),u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Reflexivní"}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Alternativa vůči:"}),u.jsx("br",{}),"Realistické reprezentaci, která přehlíží formální proces ztvárňování světa a sociální předpoklady o povaze světa"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Omezen:"}),u.jsx("br",{}),"Prohloubeným smyslem pro formální abstrakce, odstupem, ztrátou přímé angažovanosti v sociálních otázkách"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Vědění chápe jako:"}),u.jsx("br",{}),"Kontextuální, vždy zarámováno institucionálními omezeními a osobními předpoklady, které lze odhalit a změnit"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Zvuk:"}),u.jsx("br",{}),"Často rozvíjí metakomunikaci - jak komunikace probíhá",u.jsx("br",{}),"Hovor o tom, jak se o něčem hovořilo",u.jsx("br",{}),"Synchronní i nesynchronní zvuk"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Čas a prostor:"}),u.jsx("br",{}),"Kontextualizovaný",u.jsx("br",{}),"Ukazuje, jak lze pomocí kontinuity nebo diskontinuity manipulovat s ním"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Etické ohledy:"}),u.jsx("br",{}),"Používá nebo zneužívá subjekty, aby kladly otázky, které se však týkají filmaře, nikoli subjektů"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Hlas charakterizovaný:"}),u.jsx("br",{}),"Sebedotazováním, hlasem pochyb až radikální pochybnosti o jistotě či stálé platnosti vědění"]})]}),u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Performativní"}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Alternativa vůči:"}),u.jsx("br",{}),"Empirickým, faktickým nebo abstraktním formám vědění"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Omezen:"}),u.jsx("br",{}),"Osobním hlediskem nebo vizí, která se může uzavřít či oddělit od širších vizuálních vjemů"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Vědění chápe jako:"}),u.jsx("br",{}),"Ukotvené, afektivní a situační",u.jsx("br",{}),"To, co se dozvídáme zkušeností z přímého setkání spíše než zprostředkovaně od expertů či knih"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Zvuk:"}),u.jsx("br",{}),"Část se spoléhá na filmařův vlastní hlas, který filmu dává řád",u.jsx("br",{}),"Zdůrazňujeme introspektivní, svědecké, esejistické formy promluvy a dialogu",u.jsx("br",{}),"Míší synchronní a nesynchronní zvuk",u.jsx("br",{}),"Zvuk, hudbu a zvuk užívá expresivně"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Čas a prostor:"}),u.jsx("br",{}),"Různí se podle vyjádření",u.jsx("br",{}),"Čas a prostor často stylizuje, aby se zdůraznila jeho afektivní dimenze"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Etické ohledy:"}),u.jsx("br",{}),"Míra upřímnosti a sebezpytování versus sebeklam",u.jsx("br",{}),"Překrucování nebo zkreslování širších témat",u.jsx("br",{}),"Může sklouznout k úplné idiosynkrazii"]}),u.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[u.jsx("strong",{children:"Hlas charakterizovaný:"}),u.jsx("br",{}),"Silně osobním zaujatým řečníkem, soustavně hledajícím pravdu o tom, jaké je prožívat svět určitým způsobem"]})]})]})]})}),u.jsx("hr",{}),u.jsx("h2",{children:"🔗 Odkazy"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Studijní opory:"})," ",u.jsx("a",{href:"https://kdt.famu.cz/studijni-opory/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"https://kdt.famu.cz/studijni-opory/"})]})]})}function c6(){return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"Poznámky z AV - Otázka reprezentace"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Deadline textu:"})," 2. 11."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Rozsah:"})," 5 normostran"]}),u.jsx("hr",{}),u.jsx("h2",{children:"📑 Obsah"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#fenomenologie",children:"Fenomenologie"})}),u.jsx("li",{children:u.jsx("a",{href:"#reprezentace",children:"Opakovaná reprezentace"})}),u.jsx("li",{children:u.jsx("a",{href:"#martin-kohout",children:"Martin Kohout - Slides"})}),u.jsx("li",{children:u.jsx("a",{href:"#google-maps",children:"Příklad: Google Maps"})}),u.jsx("li",{children:u.jsx("a",{href:"#umberto-eco",children:"Umberto Eco - Semiotika"})}),u.jsx("li",{children:u.jsx("a",{href:"#mapa-uzemi",children:"Mapa a území"})}),u.jsx("li",{children:u.jsx("a",{href:"#platonova-jeskyne",children:"Platonova jeskyně"})}),u.jsx("li",{children:u.jsx("a",{href:"#kant",children:"Kant - Věci o sobě"})})]}),u.jsx("hr",{}),u.jsx("h2",{id:"fenomenologie",children:"Fenomenologie"}),u.jsx("blockquote",{children:u.jsx("strong",{children:'"Zpátky k věcem samým"'})}),u.jsx("p",{children:"Fenomenologie se zaměřuje na to, jak se nám věci jeví a jak je vnímáme. Není to jen o objektech samotných, ale o naší zkušenosti s nimi."}),u.jsx("hr",{}),u.jsx("h2",{id:"reprezentace",children:"Opakovaná reprezentace"}),u.jsx("p",{children:u.jsx("strong",{children:"Reprezentace je to, co se děje..."})}),u.jsx("p",{children:"Klíčová otázka reprezentace není jen technická, ale ontologická - co to znamená, když něco reprezentujeme?"}),u.jsx("hr",{}),u.jsx("h2",{id:"martin-kohout",children:"Martin Kohout - Slides"}),u.jsx("h3",{children:"Prezentace a reprezentace"}),u.jsx("p",{children:"Martin Kohout ve svých slides zkoumá vztah mezi tím, co prezentujeme, a tím, co reprezentujeme."}),u.jsxs("p",{children:[u.jsx("span",{className:"arrow",children:"→"})," ",u.jsx("strong",{children:"Jedna věc ovlivňuje druhou"})]}),u.jsx("hr",{}),u.jsx("h2",{id:"google-maps",children:"Příklad: Google Maps"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Google Maps mají to dohromady"})," - jedno ovlivňuje druhé."]}),u.jsx("h3",{children:"Reprezentace dat v reálném čase"}),u.jsx("p",{children:"Nevidíme rozdíl mezi mapou a územím. Mapa v reálném čase se stává samotným územím."}),u.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 my-4",children:[u.jsx("strong",{children:"Klíčový poznatek:"})," Media formulují realitu, ne jen mapují."]}),u.jsx("hr",{}),u.jsx("h2",{id:"umberto-eco",children:"Umberto Eco - Semiotika"}),u.jsx("h3",{children:"Semiotika jako studium znaků"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Umberto Eco"})," říká, že semiotiku se dá definovat jako:"]}),u.jsx("blockquote",{children:u.jsx("strong",{children:'"Studium všeho toho, co se dá použít ke lhaní"'})}),u.jsxs("p",{children:[u.jsx("span",{className:"arrow",children:"→"})," Pokud se to dá použít ke lhaní, tak je to reprezentace."]}),u.jsx("hr",{}),u.jsx("h2",{id:"mapa-uzemi",children:"Mapa a území"}),u.jsxs("p",{children:["Viděli jsme vztah map a území jako ",u.jsx("strong",{children:"oddělené věci"}),"."]}),u.jsx("h3",{children:"Map and Territory"}),u.jsx("p",{children:"Mapa byla považována za reprezentaci území. Ale co když je tomu jinak?"}),u.jsx("hr",{}),u.jsx("h2",{id:"platonova-jeskyne",children:"Platonova jeskyně"}),u.jsx("p",{children:u.jsx("strong",{children:"Jevy jsou reprezentace věcí o sobě."})}),u.jsx("p",{children:"V Platonově alegorii jeskyně vidíme stíny na stěně - ty jsou pouze reprezentací skutečných objektů."}),u.jsx("hr",{}),u.jsx("h2",{id:"kant",children:"Kant - Věci o sobě"}),u.jsx("blockquote",{children:u.jsx("strong",{children:"K věcem se nedostaneme, jen k jevům."})}),u.jsxs("p",{children:["Kant tvrdí, že nemáme přístup k věcem samotným (",u.jsx("em",{children:"noumenon"}),"), pouze k jejich jevům (",u.jsx("em",{children:"phenomenon"}),")."]}),u.jsx("hr",{}),u.jsx("h2",{children:"Závěr"}),u.jsx("blockquote",{children:u.jsx("strong",{children:"Nevinná objektivní nestranná věda neexistuje."})}),u.jsx("p",{children:"Všechno zasahuje do toho procesu a mění to zkoumané samotné."}),u.jsx("blockquote",{children:u.jsx("strong",{children:"My jsme se vydali mapovat a tím mapováním měníme to území."})}),u.jsx("p",{className:"text-gray-600 italic mt-8",children:"Poznámka: Toto je zkrácená verze poznámek. Úplný obsah včetně všech kapitol je dostupný v původním HTML souboru."})]})}function u6(){return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"📚 Hodina 2 - Ballard, Žižek a kritika přítomnosti"}),u.jsx("h2",{children:"2025 - AV přednášející"}),u.jsx("hr",{}),u.jsx("h2",{children:"📝 J.G. Ballard"}),u.jsx("p",{children:u.jsx("strong",{children:"Považoval auto a dálnice za největší vynález 20. století"})}),u.jsx("p",{children:"V bouračce umřela jeho žena."}),u.jsx("h3",{children:"Recepce díla"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Kniha byla okamžitě skartována v Americe"}),u.jsx("li",{children:"Mnohem větší měl uznání u Francouzů"})]}),u.jsx("h3",{children:"Nová britská vlna"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Snažili se redefinovat, v čem spočívá sci-fi"}),u.jsx("li",{children:"Byl výrazně inspirován surrealisty"}),u.jsx("li",{children:"Pak ho ovlivnil pop art"})]}),u.jsx("h4",{children:"Latentní vs. Manifestní"}),u.jsx("p",{children:"Spatřuje v tom vztah mezi:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Latentní"})," - skrytý / sny"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Manifestní"})," - viditelný"]})]}),u.jsx("hr",{}),u.jsx("h2",{children:"🧠 Slavoj Žižek"}),u.jsx("h3",{children:"Klíčové koncepty"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("strong",{children:"Kniha mytologie"})}),u.jsxs("li",{children:[u.jsx("strong",{children:"Smrt autora"})," - Barthes"]})]}),u.jsx("p",{children:u.jsx("strong",{children:"Když si předáme Freudovu analýzu k Marxovi..."})}),u.jsxs("p",{children:[u.jsx("strong",{children:"Racionalita"})," - může skončit židovskou otázkou"]}),u.jsx("h3",{children:"Habitualizace"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Habitualizace"})," - zvykáme si na něco"]}),u.jsx("h3",{children:"Politika percepce"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Politika percepce"})," - Je to, jak to působí"]}),u.jsx("p",{children:u.jsx("strong",{children:"Vrtět psem"})}),u.jsx("hr",{}),u.jsx("h2",{children:"🎯 Obsese jako pevný bod"}),u.jsx("blockquote",{children:u.jsx("strong",{children:"U tvořícího člověka - je pevný bod nějaká obsese, ke které se vrací. Nestačí to pojmenovat. Musí se to vyrobit."})}),u.jsx("hr",{}),u.jsx("h2",{children:"💭 Kritika přítomnosti"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("strong",{children:"Nejde se dostat za stíny jeskyně"})}),u.jsx("li",{children:u.jsx("strong",{children:"Každé dekódování je novým zakódováním"})}),u.jsx("li",{children:u.jsx("strong",{children:"Bezprostřední náhled neexistuje"})})]}),u.jsx("blockquote",{children:u.jsx("strong",{children:"To, co se k nám dostává k interpretaci, je transformováno tím, jak uchopujeme."})}),u.jsx("p",{children:u.jsx("strong",{children:"Proto je přítomnost metafyzicky nemožná."})}),u.jsx("blockquote",{children:u.jsx("strong",{children:"Každý kontakt se skutečností skutečnost mění."})}),u.jsx("hr",{}),u.jsx("h2",{children:"📌 Shrnutí"}),u.jsx("p",{children:"Tato hodina se zabývá vztahem mezi reprezentací a skutečností, kritikou objektivity a analýzou toho, jak naše nástroje poznání mění to, co zkoumáme."})]})}function h6(){return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"🤖 Hodina 1 - Emergentní jevy a AlphaGo"}),u.jsx("h2",{children:"2. 16. 30."}),u.jsxs("p",{children:[u.jsx("strong",{children:"Kontakt:"})," ditamorg@gmail.com"]}),u.jsx("hr",{}),u.jsx("h2",{children:"📝 Poznámky z hodiny"}),u.jsx("h3",{children:"Emergentní jev"}),u.jsx("p",{children:"Mozek je složen z buněk. Samostatné buňky nemají myšlení. Až když jsou dohromady, vzniká mysl."}),u.jsxs("blockquote",{children:[u.jsx("strong",{children:"Emergentní jev"})," - vlastnost systému, která vzniká až interakcí jeho částí, přestože jednotlivé části tuto vlastnost nemají."]}),u.jsx("hr",{}),u.jsx("h3",{children:"Fázový jev"}),u.jsx("p",{children:"Příklad: Bod varu vody"}),u.jsx("p",{children:"Fázový jev je náhlá změna vlastností systému při překročení určité hranice. Voda při 99°C je stále kapalina, při 100°C se mění na páru."}),u.jsx("hr",{}),u.jsx("h2",{children:"🎮 Lee Sedol vs AlphaGo"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Lee Sedol"})," - profesionální hráč hry Go",u.jsx("br",{}),u.jsx("strong",{children:"AlphaGo"})," - umělá inteligence od DeepMind (Google)"]}),u.jsx("p",{children:"V sérii zápasů Lee Sedol vyhrál jen jeden zápas proti AlphaGo. Toto byl historický milník v oblasti umělé inteligence."}),u.jsx("h3",{children:"Kontext"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Go je považováno za mnohem složitější hru než šachy"}),u.jsx("li",{children:"Počet možných pozic v Go je astronomický"}),u.jsx("li",{children:"AlphaGo použil deep learning a neuronové sítě"}),u.jsx("li",{children:"Tento zápas ukázal schopnosti moderní AI"})]}),u.jsx("hr",{}),u.jsx("h2",{children:"📚 Doporučená literatura"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Kniha:"})," Maniak"]}),u.jsx("hr",{}),u.jsx("p",{className:"text-gray-600 italic mt-8",children:"Poznámka: Toto jsou stručné poznámky z hodiny. Můžete je doplnit o další detaily z přednášky."})]})}function d6(){return u.jsxs(u.Fragment,{children:[u.jsx("h1",{children:"📋 Důležité termíny a informace"}),u.jsx("h2",{children:"Zimní semestr 2025/26"}),u.jsx("hr",{}),u.jsx("h2",{children:"📅 Důležité termíny"}),u.jsx("h3",{children:"Pedagogická praxe"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Vyučující:"})," Hovorka"]}),u.jsx("p",{children:u.jsx("strong",{children:"Co se hodnotí:"})}),u.jsxs("ul",{children:[u.jsx("li",{children:"Kolik času jsme věnovali"}),u.jsx("li",{children:"Slabé stránky a dobré stránky"}),u.jsx("li",{children:"Jak bychom se ohodnotili"}),u.jsx("li",{children:"Co bychom zlepšili, kdyby bylo více času"})]}),u.jsx("hr",{}),u.jsx("h3",{children:"Termín po nesice"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Datum:"})," 18. 5. - 22. 5. 2026"]}),u.jsx("hr",{}),u.jsx("h3",{children:"Plenér ve Vídni"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Datum:"})," 19. - 23. listopadu (listopad)"]}),u.jsx("p",{children:"Týdenní plenér ve Vídni - připravte si cestovní doklady a materiály."}),u.jsx("hr",{}),u.jsx("h2",{children:"📚 Konzultační díla"}),u.jsx("p",{children:"Informace o konzultačních dílech budou doplněny."}),u.jsx("hr",{}),u.jsx("h2",{children:"💡 Poznámky"}),u.jsx("h3",{children:"Důležité kontakty"}),u.jsx("p",{children:"Seznam kontaktů bude doplněn během semestru."}),u.jsx("h3",{children:"Odkazy"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Studijní portál FAMU"}),u.jsx("li",{children:"Knihovna"}),u.jsx("li",{children:"Technické vybavení"})]}),u.jsx("hr",{}),u.jsx("h2",{children:"✅ Checklist na semestr"}),u.jsxs("ul",{children:[u.jsx("li",{children:"Zaregistrovat se do všech předmětů"}),u.jsx("li",{children:"Sledovat termíny odevzdání"}),u.jsx("li",{children:"Připravit se na plenér"}),u.jsx("li",{children:"Průběžně pracovat na konzultačním díle"}),u.jsx("li",{children:"Učit se k pedagogické praxi"})]}),u.jsx("hr",{}),u.jsx("p",{className:"text-gray-600 italic mt-8",children:"Poznámka: Tato stránka slouží jako centrální místo pro všechny důležité termíny a informace. Aktualizujte ji průběžně během semestru."})]})}const f6={"ddf-1":o6,"ddf-2":l6,"av-1":c6,"av-2":u6,"ai-1":h6,"general-1":d6},m6={blue:"from-gray-800 to-gray-900",purple:"from-gray-800 to-gray-900",green:"from-gray-800 to-gray-900",red:"from-gray-800 to-gray-900",orange:"from-gray-800 to-gray-900"};function p6(){const{subjectId:t,classId:e}=Sm(),n=wv(t),i=xD(t,e);if(!n||!i)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Poznámky nenalezeny"}),u.jsx(st,{to:"/",className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Zpět na hlavní stránku"})]})});const a=f6[`${t}-${e}`],l=n.classes.findIndex(f=>f.id===parseInt(e)),c=l>0?n.classes[l-1]:null,d=l<n.classes.length-1?n.classes[l+1]:null;return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:`bg-gradient-to-r ${m6[n.color]} text-white shadow-lg`,children:u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[u.jsxs(st,{to:`/subject/${n.id}`,className:"inline-flex items-center text-white hover:text-gray-100 mb-4 transition-colors",children:[u.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpět na ",n.shortName]}),u.jsx("div",{className:"flex items-start justify-between gap-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"bg-white bg-opacity-20 rounded-full w-10 h-10 flex items-center justify-center",children:u.jsx("span",{className:"font-bold",children:i.id})}),u.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gl,{className:"w-4 h-4 mr-1"}),i.date]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(_v,{className:"w-4 h-4 mr-1"}),i.lecturer]})]})]}),u.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:i.title})]})})]})}),u.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 md:p-10",children:a?u.jsx("div",{className:"prose-custom",children:u.jsx(a,{})}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-gray-600 mb-4",children:"Poznámky k této hodině ještě nejsou k dispozici."}),u.jsx("p",{className:"text-sm text-gray-500",children:"Poznámky budou přidány během semestru."})]})}),u.jsxs("div",{className:"mt-8 flex justify-between items-center gap-4",children:[c?u.jsxs(st,{to:`/subject/${n.id}/class/${c.id}`,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium group",children:[u.jsx(M4,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-xs text-gray-500",children:"Předchozí"}),u.jsx("div",{className:"line-clamp-1",children:c.title})]})]}):u.jsx("div",{}),d?u.jsxs(st,{to:`/subject/${n.id}/class/${d.id}`,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium group text-right",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-gray-500",children:"Následující"}),u.jsx("div",{className:"line-clamp-1",children:d.title})]}),u.jsx(JS,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}):u.jsx("div",{})]})]})]})}const g6=()=>{};var s2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},y6=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},IN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,g=l>>2,x=(l&3)<<4|d>>4;let b=(d&15)<<2|m>>6,w=m&63;f||(w=64,c||(b=64)),i.push(n[g],n[x],n[b],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||m==null||x==null)throw new v6;const b=l<<2|d>>4;if(i.push(b),m!==64){const w=d<<4&240|m>>2;if(i.push(w),x!==64){const N=m<<6&192|x;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x6=function(t){const e=VN(t);return IN.encodeByteArray(e,!0)},Yf=function(t){return x6(t).replace(/\./g,"")},b6=function(t){try{return IN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=()=>_6().__FIREBASE_DEFAULTS__,E6=()=>{if(typeof process>"u"||typeof s2>"u")return;const t=s2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&b6(t[1]);return e&&JSON.parse(e)},tx=()=>{try{return g6()||w6()||E6()||j6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S6=t=>tx()?.emulatorHosts?.[t],T6=t=>{const e=S6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ON=()=>tx()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k6(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yf(JSON.stringify(n)),Yf(JSON.stringify(c)),""].join(".")}const Fu={};function C6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?t.emulator.push(e):t.prod.push(e);return t}function R6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r2=!1;function M6(t,e){if(typeof window>"u"||typeof document>"u"||!nx(window.location.host)||Fu[t]===e||Fu[t]||r2)return;Fu[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=C6().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{r2=!0,c()},b}function g(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=R6(i),w=n("text"),N=document.getElementById(w)||document.createElement("span"),C=n("learnmore"),T=document.getElementById(C)||document.createElement("a"),j=n("preprendIcon"),R=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const O=b.element;d(O),g(T,C);const F=m();f(R,j),O.append(R,N,T,F),document.body.appendChild(O)}l?(N.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z6(){const t=tx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V6(){return!z6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I6(){try{return typeof indexedDB=="object"}catch{return!1}}function O6(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="FirebaseError";class mc extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=P6,Object.setPrototypeOf(this,mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PN.prototype.create)}}class PN{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?L6(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new mc(a,d,i)}}function L6(t,e){return t.replace(B6,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const B6=/\{\$([^}]+)}/g;function Xf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(a2(l)&&a2(c)){if(!Xf(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function a2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t){return t&&t._delegate?t._delegate:t}class sh{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new N6;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H6(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:F6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function F6(t){return t===mo?void 0:t}function H6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const $6={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},G6=et.INFO,K6={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},Y6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=K6[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class LN{constructor(e){this.name=e,this._logLevel=G6,this._logHandler=Y6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const X6=(t,e)=>e.some(n=>t instanceof n);let o2,l2;function Z6(){return o2||(o2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q6(){return l2||(l2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BN=new WeakMap,v0=new WeakMap,UN=new WeakMap,by=new WeakMap,ix=new WeakMap;function W6(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(da(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&BN.set(n,t)}).catch(()=>{}),ix.set(e,t),e}function J6(t){if(v0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});v0.set(t,e)}let x0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eO(t){x0=t(x0)}function tO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_y(this),e,...n);return UN.set(i,e.sort?e.sort():[e]),da(i)}:Q6().includes(t)?function(...e){return t.apply(_y(this),e),da(BN.get(this))}:function(...e){return da(t.apply(_y(this),e))}}function nO(t){return typeof t=="function"?tO(t):(t instanceof IDBTransaction&&J6(t),X6(t,Z6())?new Proxy(t,x0):t)}function da(t){if(t instanceof IDBRequest)return W6(t);if(by.has(t))return by.get(t);const e=nO(t);return e!==t&&(by.set(t,e),ix.set(e,t)),e}const _y=t=>ix.get(t);function iO(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=da(c);return i&&c.addEventListener("upgradeneeded",f=>{i(da(c.result),f.oldVersion,f.newVersion,da(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const sO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],wy=new Map;function c2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=rO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||sO.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&f.done]))[0]};return wy.set(e,l),l}eO(t=>({...t,get:(e,n,i)=>c2(e,n)||t.get(e,n,i),has:(e,n)=>!!c2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function oO(t){return t.getComponent()?.type==="VERSION"}const b0="@firebase/app",u2="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new LN("@firebase/app"),lO="@firebase/app-compat",cO="@firebase/analytics-compat",uO="@firebase/analytics",hO="@firebase/app-check-compat",dO="@firebase/app-check",fO="@firebase/auth",mO="@firebase/auth-compat",pO="@firebase/database",gO="@firebase/data-connect",yO="@firebase/database-compat",vO="@firebase/functions",xO="@firebase/functions-compat",bO="@firebase/installations",_O="@firebase/installations-compat",wO="@firebase/messaging",EO="@firebase/messaging-compat",jO="@firebase/performance",SO="@firebase/performance-compat",TO="@firebase/remote-config",NO="@firebase/remote-config-compat",kO="@firebase/storage",AO="@firebase/storage-compat",CO="@firebase/firestore",RO="@firebase/ai",MO="@firebase/firestore-compat",DO="firebase",zO="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="[DEFAULT]",VO={[b0]:"fire-core",[lO]:"fire-core-compat",[uO]:"fire-analytics",[cO]:"fire-analytics-compat",[dO]:"fire-app-check",[hO]:"fire-app-check-compat",[fO]:"fire-auth",[mO]:"fire-auth-compat",[pO]:"fire-rtdb",[gO]:"fire-data-connect",[yO]:"fire-rtdb-compat",[vO]:"fire-fn",[xO]:"fire-fn-compat",[bO]:"fire-iid",[_O]:"fire-iid-compat",[wO]:"fire-fcm",[EO]:"fire-fcm-compat",[jO]:"fire-perf",[SO]:"fire-perf-compat",[TO]:"fire-rc",[NO]:"fire-rc-compat",[kO]:"fire-gcs",[AO]:"fire-gcs-compat",[CO]:"fire-fst",[MO]:"fire-fst-compat",[RO]:"fire-vertex","fire-js":"fire-js",[DO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,IO=new Map,w0=new Map;function h2(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qf(t){const e=t.name;if(w0.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;w0.set(e,t);for(const n of Zf.values())h2(n,t);for(const n of IO.values())h2(n,t);return!0}function OO(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function PO(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new PN("app","Firebase",LO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=zO;function FN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:_0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw fa.create("bad-app-name",{appName:String(a)});if(n||(n=ON()),!n)throw fa.create("no-options");const l=Zf.get(a);if(l){if(Xf(n,l.options)&&Xf(i,l.config))return l;throw fa.create("duplicate-app",{appName:a})}const c=new q6(a);for(const f of w0.values())c.addComponent(f);const d=new BO(n,i,c);return Zf.set(a,d),d}function FO(t=_0){const e=Zf.get(t);if(!e&&t===_0&&ON())return FN();if(!e)throw fa.create("no-app",{appName:t});return e}function Ll(t,e,n){let i=VO[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(c.join(" "));return}Qf(new sh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="firebase-heartbeat-database",qO=1,rh="firebase-heartbeat-store";let Ey=null;function HN(){return Ey||(Ey=iO(HO,qO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),Ey}async function $O(t){try{const n=(await HN()).transaction(rh),i=await n.objectStore(rh).get(qN(t));return await n.done,i}catch(e){if(e instanceof mc)br.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e?.message});br.warn(n.message)}}}async function d2(t,e){try{const i=(await HN()).transaction(rh,"readwrite");await i.objectStore(rh).put(e,qN(t)),await i.done}catch(n){if(n instanceof mc)br.warn(n.message);else{const i=fa.create("idb-set",{originalErrorMessage:n?.message});br.warn(i.message)}}}function qN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=1024,KO=30;class YO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=f2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>KO){const a=QO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f2(),{heartbeatsToSend:n,unsentEntries:i}=XO(this._heartbeatsCache.heartbeats),a=Yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return br.warn(e),""}}}function f2(){return new Date().toISOString().substring(0,10)}function XO(t,e=GO){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),m2(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),m2(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ZO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I6()?O6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $O(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return d2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return d2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m2(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}function QO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){Qf(new sh("platform-logger",e=>new aO(e),"PRIVATE")),Qf(new sh("heartbeat",e=>new YO(e),"PRIVATE")),Ll(b0,u2,t),Ll(b0,u2,"esm2020"),Ll("fire-js","")}WO("");var JO="firebase",eP="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ll(JO,eP,"app");var p2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,$N;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function M(){}M.prototype=k.prototype,A.F=k.prototype,A.prototype=new M,A.prototype.constructor=A,A.D=function(B,L,q){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return k.prototype[L].apply(B,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,k,M){M||(M=0);const B=Array(16);if(typeof k=="string")for(var L=0;L<16;++L)B[L]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(L=0;L<16;++L)B[L]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=A.g[0],M=A.g[1],L=A.g[2];let q=A.g[3],I;I=k+(q^M&(L^q))+B[0]+3614090360&4294967295,k=M+(I<<7&4294967295|I>>>25),I=q+(L^k&(M^L))+B[1]+3905402710&4294967295,q=k+(I<<12&4294967295|I>>>20),I=L+(M^q&(k^M))+B[2]+606105819&4294967295,L=q+(I<<17&4294967295|I>>>15),I=M+(k^L&(q^k))+B[3]+3250441966&4294967295,M=L+(I<<22&4294967295|I>>>10),I=k+(q^M&(L^q))+B[4]+4118548399&4294967295,k=M+(I<<7&4294967295|I>>>25),I=q+(L^k&(M^L))+B[5]+1200080426&4294967295,q=k+(I<<12&4294967295|I>>>20),I=L+(M^q&(k^M))+B[6]+2821735955&4294967295,L=q+(I<<17&4294967295|I>>>15),I=M+(k^L&(q^k))+B[7]+4249261313&4294967295,M=L+(I<<22&4294967295|I>>>10),I=k+(q^M&(L^q))+B[8]+1770035416&4294967295,k=M+(I<<7&4294967295|I>>>25),I=q+(L^k&(M^L))+B[9]+2336552879&4294967295,q=k+(I<<12&4294967295|I>>>20),I=L+(M^q&(k^M))+B[10]+4294925233&4294967295,L=q+(I<<17&4294967295|I>>>15),I=M+(k^L&(q^k))+B[11]+2304563134&4294967295,M=L+(I<<22&4294967295|I>>>10),I=k+(q^M&(L^q))+B[12]+1804603682&4294967295,k=M+(I<<7&4294967295|I>>>25),I=q+(L^k&(M^L))+B[13]+4254626195&4294967295,q=k+(I<<12&4294967295|I>>>20),I=L+(M^q&(k^M))+B[14]+2792965006&4294967295,L=q+(I<<17&4294967295|I>>>15),I=M+(k^L&(q^k))+B[15]+1236535329&4294967295,M=L+(I<<22&4294967295|I>>>10),I=k+(L^q&(M^L))+B[1]+4129170786&4294967295,k=M+(I<<5&4294967295|I>>>27),I=q+(M^L&(k^M))+B[6]+3225465664&4294967295,q=k+(I<<9&4294967295|I>>>23),I=L+(k^M&(q^k))+B[11]+643717713&4294967295,L=q+(I<<14&4294967295|I>>>18),I=M+(q^k&(L^q))+B[0]+3921069994&4294967295,M=L+(I<<20&4294967295|I>>>12),I=k+(L^q&(M^L))+B[5]+3593408605&4294967295,k=M+(I<<5&4294967295|I>>>27),I=q+(M^L&(k^M))+B[10]+38016083&4294967295,q=k+(I<<9&4294967295|I>>>23),I=L+(k^M&(q^k))+B[15]+3634488961&4294967295,L=q+(I<<14&4294967295|I>>>18),I=M+(q^k&(L^q))+B[4]+3889429448&4294967295,M=L+(I<<20&4294967295|I>>>12),I=k+(L^q&(M^L))+B[9]+568446438&4294967295,k=M+(I<<5&4294967295|I>>>27),I=q+(M^L&(k^M))+B[14]+3275163606&4294967295,q=k+(I<<9&4294967295|I>>>23),I=L+(k^M&(q^k))+B[3]+4107603335&4294967295,L=q+(I<<14&4294967295|I>>>18),I=M+(q^k&(L^q))+B[8]+1163531501&4294967295,M=L+(I<<20&4294967295|I>>>12),I=k+(L^q&(M^L))+B[13]+2850285829&4294967295,k=M+(I<<5&4294967295|I>>>27),I=q+(M^L&(k^M))+B[2]+4243563512&4294967295,q=k+(I<<9&4294967295|I>>>23),I=L+(k^M&(q^k))+B[7]+1735328473&4294967295,L=q+(I<<14&4294967295|I>>>18),I=M+(q^k&(L^q))+B[12]+2368359562&4294967295,M=L+(I<<20&4294967295|I>>>12),I=k+(M^L^q)+B[5]+4294588738&4294967295,k=M+(I<<4&4294967295|I>>>28),I=q+(k^M^L)+B[8]+2272392833&4294967295,q=k+(I<<11&4294967295|I>>>21),I=L+(q^k^M)+B[11]+1839030562&4294967295,L=q+(I<<16&4294967295|I>>>16),I=M+(L^q^k)+B[14]+4259657740&4294967295,M=L+(I<<23&4294967295|I>>>9),I=k+(M^L^q)+B[1]+2763975236&4294967295,k=M+(I<<4&4294967295|I>>>28),I=q+(k^M^L)+B[4]+1272893353&4294967295,q=k+(I<<11&4294967295|I>>>21),I=L+(q^k^M)+B[7]+4139469664&4294967295,L=q+(I<<16&4294967295|I>>>16),I=M+(L^q^k)+B[10]+3200236656&4294967295,M=L+(I<<23&4294967295|I>>>9),I=k+(M^L^q)+B[13]+681279174&4294967295,k=M+(I<<4&4294967295|I>>>28),I=q+(k^M^L)+B[0]+3936430074&4294967295,q=k+(I<<11&4294967295|I>>>21),I=L+(q^k^M)+B[3]+3572445317&4294967295,L=q+(I<<16&4294967295|I>>>16),I=M+(L^q^k)+B[6]+76029189&4294967295,M=L+(I<<23&4294967295|I>>>9),I=k+(M^L^q)+B[9]+3654602809&4294967295,k=M+(I<<4&4294967295|I>>>28),I=q+(k^M^L)+B[12]+3873151461&4294967295,q=k+(I<<11&4294967295|I>>>21),I=L+(q^k^M)+B[15]+530742520&4294967295,L=q+(I<<16&4294967295|I>>>16),I=M+(L^q^k)+B[2]+3299628645&4294967295,M=L+(I<<23&4294967295|I>>>9),I=k+(L^(M|~q))+B[0]+4096336452&4294967295,k=M+(I<<6&4294967295|I>>>26),I=q+(M^(k|~L))+B[7]+1126891415&4294967295,q=k+(I<<10&4294967295|I>>>22),I=L+(k^(q|~M))+B[14]+2878612391&4294967295,L=q+(I<<15&4294967295|I>>>17),I=M+(q^(L|~k))+B[5]+4237533241&4294967295,M=L+(I<<21&4294967295|I>>>11),I=k+(L^(M|~q))+B[12]+1700485571&4294967295,k=M+(I<<6&4294967295|I>>>26),I=q+(M^(k|~L))+B[3]+2399980690&4294967295,q=k+(I<<10&4294967295|I>>>22),I=L+(k^(q|~M))+B[10]+4293915773&4294967295,L=q+(I<<15&4294967295|I>>>17),I=M+(q^(L|~k))+B[1]+2240044497&4294967295,M=L+(I<<21&4294967295|I>>>11),I=k+(L^(M|~q))+B[8]+1873313359&4294967295,k=M+(I<<6&4294967295|I>>>26),I=q+(M^(k|~L))+B[15]+4264355552&4294967295,q=k+(I<<10&4294967295|I>>>22),I=L+(k^(q|~M))+B[6]+2734768916&4294967295,L=q+(I<<15&4294967295|I>>>17),I=M+(q^(L|~k))+B[13]+1309151649&4294967295,M=L+(I<<21&4294967295|I>>>11),I=k+(L^(M|~q))+B[4]+4149444226&4294967295,k=M+(I<<6&4294967295|I>>>26),I=q+(M^(k|~L))+B[11]+3174756917&4294967295,q=k+(I<<10&4294967295|I>>>22),I=L+(k^(q|~M))+B[2]+718787259&4294967295,L=q+(I<<15&4294967295|I>>>17),I=M+(q^(L|~k))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+q&4294967295}i.prototype.v=function(A,k){k===void 0&&(k=A.length);const M=k-this.blockSize,B=this.C;let L=this.h,q=0;for(;q<k;){if(L==0)for(;q<=M;)a(this,A,q),q+=this.blockSize;if(typeof A=="string"){for(;q<k;)if(B[L++]=A.charCodeAt(q++),L==this.blockSize){a(this,B),L=0;break}}else for(;q<k;)if(B[L++]=A[q++],L==this.blockSize){a(this,B),L=0;break}}this.h=L,this.o+=k},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;k=this.o*8;for(var M=A.length-8;M<A.length;++M)A[M]=k&255,k/=256;for(this.v(A),A=Array(16),k=0,M=0;M<4;++M)for(let B=0;B<32;B+=8)A[k++]=this.g[M]>>>B&255;return A};function l(A,k){var M=d;return Object.prototype.hasOwnProperty.call(M,A)?M[A]:M[A]=k(A)}function c(A,k){this.h=k;const M=[];let B=!0;for(let L=A.length-1;L>=0;L--){const q=A[L]|0;B&&q==k||(M[L]=q,B=!1)}this.g=M}var d={};function f(A){return-128<=A&&A<128?l(A,function(k){return new c([k|0],k<0?-1:0)}):new c([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return x;if(A<0)return T(m(-A));const k=[];let M=1;for(let B=0;A>=M;B++)k[B]=A/M|0,M*=4294967296;return new c(k,0)}function g(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return T(g(A.substring(1),k));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=m(Math.pow(k,8));let B=x;for(let q=0;q<A.length;q+=8){var L=Math.min(8,A.length-q);const I=parseInt(A.substring(q,q+L),k);L<8?(L=m(Math.pow(k,L)),B=B.j(L).add(m(I))):(B=B.j(M),B=B.add(m(I)))}return B}var x=f(0),b=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(C(this))return-T(this).m();let A=0,k=1;for(let M=0;M<this.g.length;M++){const B=this.i(M);A+=(B>=0?B:4294967296+B)*k,k*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N(this))return"0";if(C(this))return"-"+T(this).toString(A);const k=m(Math.pow(A,6));var M=this;let B="";for(;;){const L=F(M,k).g;M=j(M,L.j(k));let q=((M.g.length>0?M.g[0]:M.h)>>>0).toString(A);if(M=L,N(M))return q+B;for(;q.length<6;)q="0"+q;B=q+B}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function N(A){if(A.h!=0)return!1;for(let k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function C(A){return A.h==-1}t.l=function(A){return A=j(this,A),C(A)?-1:N(A)?0:1};function T(A){const k=A.g.length,M=[];for(let B=0;B<k;B++)M[B]=~A.g[B];return new c(M,~A.h).add(b)}t.abs=function(){return C(this)?T(this):this},t.add=function(A){const k=Math.max(this.g.length,A.g.length),M=[];let B=0;for(let L=0;L<=k;L++){let q=B+(this.i(L)&65535)+(A.i(L)&65535),I=(q>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);B=I>>>16,q&=65535,I&=65535,M[L]=I<<16|q}return new c(M,M[M.length-1]&-2147483648?-1:0)};function j(A,k){return A.add(T(k))}t.j=function(A){if(N(this)||N(A))return x;if(C(this))return C(A)?T(this).j(T(A)):T(T(this).j(A));if(C(A))return T(this.j(T(A)));if(this.l(w)<0&&A.l(w)<0)return m(this.m()*A.m());const k=this.g.length+A.g.length,M=[];for(var B=0;B<2*k;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(let L=0;L<A.g.length;L++){const q=this.i(B)>>>16,I=this.i(B)&65535,H=A.i(L)>>>16,ne=A.i(L)&65535;M[2*B+2*L]+=I*ne,R(M,2*B+2*L),M[2*B+2*L+1]+=q*ne,R(M,2*B+2*L+1),M[2*B+2*L+1]+=I*H,R(M,2*B+2*L+1),M[2*B+2*L+2]+=q*H,R(M,2*B+2*L+2)}for(A=0;A<k;A++)M[A]=M[2*A+1]<<16|M[2*A];for(A=k;A<2*k;A++)M[A]=0;return new c(M,0)};function R(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function O(A,k){this.g=A,this.h=k}function F(A,k){if(N(k))throw Error("division by zero");if(N(A))return new O(x,x);if(C(A))return k=F(T(A),k),new O(T(k.g),T(k.h));if(C(k))return k=F(A,T(k)),new O(T(k.g),k.h);if(A.g.length>30){if(C(A)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var M=b,B=k;B.l(A)<=0;)M=$(M),B=$(B);var L=X(M,1),q=X(B,1);for(B=X(B,2),M=X(M,2);!N(B);){var I=q.add(B);I.l(A)<=0&&(L=L.add(M),q=I),B=X(B,1),M=X(M,1)}return k=j(A,L.j(k)),new O(L,k)}for(L=x;A.l(k)>=0;){for(M=Math.max(1,Math.floor(A.m()/k.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),q=m(M),I=q.j(k);C(I)||I.l(A)>0;)M-=B,q=m(M),I=q.j(k);N(q)&&(q=b),L=L.add(q),A=j(A,I)}return new O(L,A)}t.B=function(A){return F(this,A).h},t.and=function(A){const k=Math.max(this.g.length,A.g.length),M=[];for(let B=0;B<k;B++)M[B]=this.i(B)&A.i(B);return new c(M,this.h&A.h)},t.or=function(A){const k=Math.max(this.g.length,A.g.length),M=[];for(let B=0;B<k;B++)M[B]=this.i(B)|A.i(B);return new c(M,this.h|A.h)},t.xor=function(A){const k=Math.max(this.g.length,A.g.length),M=[];for(let B=0;B<k;B++)M[B]=this.i(B)^A.i(B);return new c(M,this.h^A.h)};function $(A){const k=A.g.length+1,M=[];for(let B=0;B<k;B++)M[B]=A.i(B)<<1|A.i(B-1)>>>31;return new c(M,A.h)}function X(A,k){const M=k>>5;k%=32;const B=A.g.length-M,L=[];for(let q=0;q<B;q++)L[q]=k>0?A.i(q+M)>>>k|A.i(q+M+1)<<32-k:A.i(q+M);return new c(L,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,$N=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,ma=c}).apply(typeof p2<"u"?p2:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GN,ku,KN,Cf,E0,YN,XN,ZN;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var _=0;_<p.length;++_){var S=p[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=n(this);function a(p,_){if(_)e:{var S=i;p=p.split(".");for(var P=0;P<p.length-1;P++){var te=p[P];if(!(te in S))break e;S=S[te]}p=p[p.length-1],P=S[p],_=_(P),_!=P&&_!=null&&e(S,p,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(_){var S=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&S.push([P,_[P]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function f(p,_,S){return p.call.apply(p.bind,arguments)}function m(p,_,S){return m=f,m.apply(null,arguments)}function g(p,_){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),p.apply(this,P)}}function x(p,_){function S(){}S.prototype=_.prototype,p.Z=_.prototype,p.prototype=new S,p.prototype.constructor=p,p.Ob=function(P,te,oe){for(var xe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)xe[Le-2]=arguments[Le];return _.prototype[te].apply(P,xe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const _=p.length;if(_>0){const S=Array(_);for(let P=0;P<_;P++)S[P]=p[P];return S}return[]}function N(p,_){for(let P=1;P<arguments.length;P++){const te=arguments[P];var S=typeof te;if(S=S!="object"?S:te?Array.isArray(te)?"array":S:"null",S=="array"||S=="object"&&typeof te.length=="number"){S=p.length||0;const oe=te.length||0;p.length=S+oe;for(let xe=0;xe<oe;xe++)p[S+xe]=te[xe]}else p.push(te)}}class C{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function T(p){c.setTimeout(()=>{throw p},0)}function j(){var p=A;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class R{constructor(){this.h=this.g=null}add(_,S){const P=O.get();P.set(_,S),this.h?this.h.next=P:this.g=P,this.h=P}}var O=new C(()=>new F,p=>p.reset());class F{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let $,X=!1,A=new R,k=()=>{const p=Promise.resolve(void 0);$=()=>{p.then(M)}};function M(){for(var p;p=j();){try{p.h.call(p.g)}catch(S){T(S)}var _=O;_.j(p),_.h<100&&(_.h++,p.next=_.g,_.g=p)}X=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return p})();function I(p){return/^[\s\xa0]*$/.test(p)}function H(p,_){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,_)}x(H,L),H.prototype.init=function(p,_){const S=this.type=p.type,P=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget,_||(S=="mouseover"?_=p.fromElement:S=="mouseout"&&(_=p.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),U=0;function Y(p,_,S,P,te){this.listener=p,this.proxy=null,this.src=_,this.type=S,this.capture=!!P,this.ha=te,this.key=++U,this.da=this.fa=!1}function ee(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Q(p,_,S){for(const P in p)_.call(S,p[P],P,p)}function W(p,_){for(const S in p)_.call(void 0,p[S],S,p)}function V(p){const _={};for(const S in p)_[S]=p[S];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(p,_){let S,P;for(let te=1;te<arguments.length;te++){P=arguments[te];for(S in P)p[S]=P[S];for(let oe=0;oe<K.length;oe++)S=K[oe],Object.prototype.hasOwnProperty.call(P,S)&&(p[S]=P[S])}}function le(p){this.src=p,this.g={},this.h=0}le.prototype.add=function(p,_,S,P,te){const oe=p.toString();p=this.g[oe],p||(p=this.g[oe]=[],this.h++);const xe=ve(p,_,P,te);return xe>-1?(_=p[xe],S||(_.fa=!1)):(_=new Y(_,this.src,oe,!!P,te),_.fa=S,p.push(_)),_};function ye(p,_){const S=_.type;if(S in p.g){var P=p.g[S],te=Array.prototype.indexOf.call(P,_,void 0),oe;(oe=te>=0)&&Array.prototype.splice.call(P,te,1),oe&&(ee(_),p.g[S].length==0&&(delete p.g[S],p.h--))}}function ve(p,_,S,P){for(let te=0;te<p.length;++te){const oe=p[te];if(!oe.da&&oe.listener==_&&oe.capture==!!S&&oe.ha==P)return te}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Re={};function Se(p,_,S,P,te){if(Array.isArray(_)){for(let oe=0;oe<_.length;oe++)Se(p,_[oe],S,P,te);return null}return S=Ne(S),p&&p[ne]?p.J(_,S,d(P)?!!P.capture:!1,te):Pe(p,_,S,!1,P,te)}function Pe(p,_,S,P,te,oe){if(!_)throw Error("Invalid event type");const xe=d(te)?!!te.capture:!!te;let Le=Dt(p);if(Le||(p[we]=Le=new le(p)),S=Le.add(_,S,P,xe,oe),S.proxy)return S;if(P=wt(),S.proxy=P,P.src=p,P.listener=S,p.addEventListener)q||(te=xe),te===void 0&&(te=!1),p.addEventListener(_.toString(),P,te);else if(p.attachEvent)p.attachEvent(ot(_.toString()),P);else if(p.addListener&&p.removeListener)p.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function wt(){function p(S){return _.call(p.src,p.listener,S)}const _=ht;return p}function ut(p,_,S,P,te){if(Array.isArray(_))for(var oe=0;oe<_.length;oe++)ut(p,_[oe],S,P,te);else P=d(P)?!!P.capture:!!P,S=Ne(S),p&&p[ne]?(p=p.i,oe=String(_).toString(),oe in p.g&&(_=p.g[oe],S=ve(_,S,P,te),S>-1&&(ee(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete p.g[oe],p.h--)))):p&&(p=Dt(p))&&(_=p.g[_.toString()],p=-1,_&&(p=ve(_,S,P,te)),(S=p>-1?_[p]:null)&&bt(S))}function bt(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[ne])ye(_.i,p);else{var S=p.type,P=p.proxy;_.removeEventListener?_.removeEventListener(S,P,p.capture):_.detachEvent?_.detachEvent(ot(S),P):_.addListener&&_.removeListener&&_.removeListener(P),(S=Dt(_))?(ye(S,p),S.h==0&&(S.src=null,_[we]=null)):ee(p)}}}function ot(p){return p in Re?Re[p]:Re[p]="on"+p}function ht(p,_){if(p.da)p=!0;else{_=new H(_,this);const S=p.listener,P=p.ha||p.src;p.fa&&bt(p),p=S.call(P,_)}return p}function Dt(p){return p=p[we],p instanceof le?p:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ne(p){return typeof p=="function"?p:(p[We]||(p[We]=function(_){return p.handleEvent(_)}),p[We])}function $e(){B.call(this),this.i=new le(this),this.M=this,this.G=null}x($e,B),$e.prototype[ne]=!0,$e.prototype.removeEventListener=function(p,_,S,P){ut(this,p,_,S,P)};function dt(p,_){var S,P=p.G;if(P)for(S=[];P;P=P.G)S.push(P);if(p=p.M,P=_.type||_,typeof _=="string")_=new L(_,p);else if(_ instanceof L)_.target=_.target||p;else{var te=_;_=new L(P,p),ae(_,te)}te=!0;let oe,xe;if(S)for(xe=S.length-1;xe>=0;xe--)oe=_.g=S[xe],te=Hn(oe,P,!0,_)&&te;if(oe=_.g=p,te=Hn(oe,P,!0,_)&&te,te=Hn(oe,P,!1,_)&&te,S)for(xe=0;xe<S.length;xe++)oe=_.g=S[xe],te=Hn(oe,P,!1,_)&&te}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var p=this.i;for(const _ in p.g){const S=p.g[_];for(let P=0;P<S.length;P++)ee(S[P]);delete p.g[_],p.h--}}this.G=null},$e.prototype.J=function(p,_,S,P){return this.i.add(String(p),_,!1,S,P)},$e.prototype.K=function(p,_,S,P){return this.i.add(String(p),_,!0,S,P)};function Hn(p,_,S,P){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();let te=!0;for(let oe=0;oe<_.length;++oe){const xe=_[oe];if(xe&&!xe.da&&xe.capture==S){const Le=xe.listener,Kt=xe.ha||xe.src;xe.fa&&ye(p.i,xe),te=Le.call(Kt,P)!==!1&&te}}return te&&!P.defaultPrevented}function hs(p,_){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(p,_||0)}function Ki(p){p.g=hs(()=>{p.g=null,p.i&&(p.i=!1,Ki(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class St extends B{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ki(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(p){B.call(this),this.h=p,this.g={}}x(qn,B);var ni=[];function ii(p){Q(p.g,function(_,S){this.g.hasOwnProperty(S)&&bt(_)},p),p.g={}}qn.prototype.N=function(){qn.Z.N.call(this),ii(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=c.JSON.stringify,ds=c.JSON.parse,fs=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function $t(){}function On(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tt(){L.call(this,"d")}x(Tt,L);function cn(){L.call(this,"c")}x(cn,L);var tt={},xi=null;function ms(){return xi=xi||new $e}tt.Ia="serverreachability";function Sr(p){L.call(this,tt.Ia,p)}x(Sr,L);function kn(p){const _=ms();dt(_,new Sr(_))}tt.STAT_EVENT="statevent";function Yi(p,_){L.call(this,tt.STAT_EVENT,p),this.stat=_}x(Yi,L);function zt(p){const _=ms();dt(_,new Yi(_,p))}tt.Ja="timingevent";function fn(p,_){L.call(this,tt.Ja,p),this.size=_}x(fn,L);function bi(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},_)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function _c(p,_,S,P,te,oe){p.info(function(){if(p.g)if(oe){var xe="",Le=oe.split("&");for(let rt=0;rt<Le.length;rt++){var Kt=Le[rt].split("=");if(Kt.length>1){const Ct=Kt[0];Kt=Kt[1];const Ai=Ct.split("_");xe=Ai.length>=2&&Ai[1]=="type"?xe+(Ct+"="+Kt+"&"):xe+(Ct+"=redacted&")}}}else xe=null;else xe=oe;return"XMLHTTP REQ ("+P+") [attempt "+te+"]: "+_+`
`+S+`
`+xe})}function zo(p,_,S,P,te,oe,xe){p.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+te+"]: "+_+`
`+S+`
`+oe+" "+xe})}function _i(p,_,S,P){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+wc(p,S)+(P?" "+P:"")})}function Us(p,_){p.info(function(){return"TIMEOUT: "+_})}si.prototype.info=function(){};function wc(p,_){if(!p.g)return _;if(!_)return null;try{const oe=JSON.parse(_);if(oe){for(p=0;p<oe.length;p++)if(Array.isArray(oe[p])){var S=oe[p];if(!(S.length<2)){var P=S[1];if(Array.isArray(P)&&!(P.length<1)){var te=P[0];if(te!="noop"&&te!="stop"&&te!="close")for(let xe=1;xe<P.length;xe++)P[xe]=""}}}}return In(oe)}catch{return _}}var Fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ma={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Da;function Hs(){}x(Hs,$t),Hs.prototype.g=function(){return new XMLHttpRequest},Da=new Hs;function Xi(p){return encodeURIComponent(String(p))}function Vo(p){var _=1;p=p.split(":");const S=[];for(;_>0&&p.length;)S.push(p.shift()),_--;return p.length&&S.push(p.join(":")),S}function ri(p,_,S,P){this.j=p,this.i=_,this.l=S,this.S=P||1,this.V=new qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Pt={},Gt={};function wi(p,_,S){p.M=1,p.A=La(Wt(_)),p.u=S,p.R=!0,Tr(p,null)}function Tr(p,_){p.F=Date.now(),Ei(p),p.B=Wt(p.A);var S=p.B,P=p.S;Array.isArray(P)||(P=[String(P)]),Bo(S.i,"t",P),p.C=0,S=p.j.L,p.h=new ai,p.g=Zh(p.j,S?_:null,!p.u),p.P>0&&(p.O=new St(m(p.Y,p,p.g),p.P)),_=p.V,S=p.g,P=p.ba;var te="readystatechange";Array.isArray(te)||(te&&(ni[0]=te.toString()),te=ni);for(let oe=0;oe<te.length;oe++){const xe=Se(S,te[oe],P||_.handleEvent,!1,_.h||_);if(!xe)break;_.g[xe.key]=xe}_=p.J?V(p.J):{},p.u?(p.v||(p.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,_)):(p.v="GET",p.g.ea(p.B,p.v,null,_)),kn(),_c(p.i,p.v,p.B,p.l,p.S,p.u)}ri.prototype.ba=function(p){p=p.target;const _=this.O;_&&Wi(p)==3?_.j():this.Y(p)},ri.prototype.Y=function(p){try{if(p==this.g)e:{const Le=Wi(this.g),Kt=this.g.ya(),rt=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Le!=4||Kt==7||(Kt==8||rt<=0?kn(3):kn(2)),ji(this);var _=this.g.ca();this.X=_;var S=Ec(this);if(this.o=_==200,zo(this.i,this.v,this.B,this.l,this.S,Le,_),this.o){if(this.U&&!this.L){t:{if(this.g){var P,te=this.g;if((P=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(P)){var oe=P;break t}}oe=null}if(p=oe)_i(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,p);else{this.o=!1,this.m=3,zt(12),Ln(this),Pn(this);break e}}if(this.R){p=!0;let Ct;for(;!this.K&&this.C<S.length;)if(Ct=Oo(this,S),Ct==Gt){Le==4&&(this.m=4,zt(14),p=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Pt){this.m=4,zt(15),_i(this.i,this.l,S,"[Invalid Chunk]"),p=!1;break}else _i(this.i,this.l,Ct,null),Si(this,Ct);if(Io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||S.length!=0||this.h.h||(this.m=1,zt(16),p=!1),this.o=this.o&&p,!p)_i(this.i,this.l,S,"[Invalid Chunked Response]"),Ln(this),Pn(this);else if(S.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Dc(xe),xe.P=!0,zt(11))}}else _i(this.i,this.l,S,null),Si(this,S);Le==4&&Ln(this),this.o&&!this.K&&(Le==4?Gh(this.j,this):(this.o=!1,Ei(this)))}else $s(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Ln(this),Pn(this)}}}catch{}finally{}};function Ec(p){if(!Io(p))return p.g.la();const _=vn(p.g);if(_==="")return"";let S="";const P=_.length,te=Wi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ln(p),Pn(p),"";p.h.i=new c.TextDecoder}for(let oe=0;oe<P;oe++)p.h.h=!0,S+=p.h.i.decode(_[oe],{stream:!(te&&oe==P-1)});return _.length=0,p.h.g+=S,p.C=0,p.h.g}function Io(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Oo(p,_){var S=p.C,P=_.indexOf(`
`,S);return P==-1?Gt:(S=Number(_.substring(S,P)),isNaN(S)?Pt:(P+=1,P+S>_.length?Gt:(_=_.slice(P,P+S),p.C=P+S,_)))}ri.prototype.cancel=function(){this.K=!0,Ln(this)};function Ei(p){p.T=Date.now()+p.H,Nr(p,p.H)}function Nr(p,_){if(p.D!=null)throw Error("WatchDog timer not null");p.D=bi(m(p.aa,p),_)}function ji(p){p.D&&(c.clearTimeout(p.D),p.D=null)}ri.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Us(this.i,this.B),this.M!=2&&(kn(),zt(17)),Ln(this),this.m=2,Pn(this)):Nr(this,this.T-p)};function Pn(p){p.j.I==0||p.K||Gh(p.j,p)}function Ln(p){ji(p);var _=p.O;_&&typeof _.dispose=="function"&&_.dispose(),p.O=null,ii(p.V),p.g&&(_=p.g,p.g=null,_.abort(),_.dispose())}function Si(p,_){try{var S=p.j;if(S.I!=0&&(S.g==p||oi(S.h,p))){if(!p.L&&oi(S.h,p)&&S.I==3){try{var P=S.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var te=P;if(te[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<p.F)$o(S),Ir(S);else break e;Ga(S),zt(18)}}else S.xa=te[1],0<S.xa-S.K&&te[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=bi(m(S.Va,S),6e3));Ti(S.h)<=1&&S.ta&&(S.ta=void 0)}else bs(S,11)}else if((p.L||S.g==p)&&$o(S),!I(_))for(te=S.Ba.g.parse(_),_=0;_<te.length;_++){let rt=te[_];const Ct=rt[0];if(!(Ct<=S.K))if(S.K=Ct,rt=rt[1],S.I==2)if(rt[0]=="c"){S.M=rt[1],S.ba=rt[2];const Ai=rt[3];Ai!=null&&(S.ka=Ai,S.j.info("VER="+S.ka));const _s=rt[4];_s!=null&&(S.za=_s,S.j.info("SVER="+S.za));const Ji=rt[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&(P=1.5*Ji,S.O=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const es=p.g;if(es){const Ka=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var oe=P.h;oe.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Ia(oe,oe.h),oe.h=null))}if(P.G){const Go=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(P.wa=Go,ft(P.J,P.G,Go))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-p.F,S.j.info("Handshake RTT: "+S.T+"ms")),P=S;var xe=p;if(P.na=Xh(P,P.L?P.ba:null,P.W),xe.L){Oa(P.h,xe);var Le=xe,Kt=P.O;Kt&&(Le.H=Kt),Le.D&&(ji(Le),Ei(Le)),P.g=xe}else qh(P);S.i.length>0&&xs(S)}else rt[0]!="stop"&&rt[0]!="close"||bs(S,7);else S.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?bs(S,7):Rc(S):rt[0]!="noop"&&S.l&&S.l.qa(rt),S.A=0)}}kn(4)}catch{}}var Lt=class{constructor(p,_){this.g=p,this.map=_}};function za(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Va(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ti(p){return p.h?1:p.g?p.g.size:0}function oi(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Ia(p,_){p.g?p.g.add(_):p.h=_}function Oa(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}za.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Pa(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const S of p.g.values())_=_.concat(S.G);return _}return w(p.i)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(p,_){if(p){p=p.split("&");for(let S=0;S<p.length;S++){const P=p[S].indexOf("=");let te,oe=null;P>=0?(te=p[S].substring(0,P),oe=p[S].substring(P+1)):te=p[S],_(te,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function li(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;p instanceof li?(this.l=p.l,mn(this,p.j),this.o=p.o,this.g=p.g,Ar(this,p.u),this.h=p.h,jc(this,Fh(p.i)),this.m=p.m):p&&(_=String(p).match(kr))?(this.l=!1,mn(this,_[1]||"",!0),this.o=ps(_[2]||""),this.g=ps(_[3]||"",!0),Ar(this,_[4]),this.h=ps(_[5]||"",!0),jc(this,_[6]||"",!0),this.m=ps(_[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}li.prototype.toString=function(){const p=[];var _=this.j;_&&p.push(Ba(_,Lo,!0),":");var S=this.g;return(S||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Ba(_,Lo,!0),"@"),p.push(Xi(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&p.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Ba(S,S.charAt(0)=="/"?Sc:Lh,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Ba(S,Bh)),p.join("")},li.prototype.resolve=function(p){const _=Wt(this);let S=!!p.j;S?mn(_,p.j):S=!!p.o,S?_.o=p.o:S=!!p.g,S?_.g=p.g:S=p.u!=null;var P=p.h;if(S)Ar(_,p.u);else if(S=!!p.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var te=_.h.lastIndexOf("/");te!=-1&&(P=_.h.slice(0,te+1)+P)}if(te=P,te==".."||te==".")P="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){P=te.lastIndexOf("/",0)==0,te=te.split("/");const oe=[];for(let xe=0;xe<te.length;){const Le=te[xe++];Le=="."?P&&xe==te.length&&oe.push(""):Le==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),P&&xe==te.length&&oe.push("")):(oe.push(Le),P=!0)}P=oe.join("/")}else P=te}return S?_.h=P:S=p.i.toString()!=="",S?jc(_,Fh(p.i)):S=!!p.m,S&&(_.m=p.m),_};function Wt(p){return new li(p)}function mn(p,_,S){p.j=S?ps(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Ar(p,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);p.u=_}else p.u=null}function jc(p,_,S){_ instanceof Rr?(p.i=_,Uo(p.i,p.l)):(S||(_=Ba(_,Cr)),p.i=new Rr(_,p.l))}function ft(p,_,S){p.i.set(_,S)}function La(p){return ft(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ps(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ba(p,_,S){return typeof p=="string"?(p=encodeURI(p).replace(_,$n),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function $n(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Lo=/[#\/\?@]/g,Lh=/[#\?:]/g,Sc=/[#\?]/g,Cr=/[#\?@]/g,Bh=/#/g;function Rr(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Gn(p){p.g||(p.g=new Map,p.h=0,p.i&&Po(p.i,function(_,S){p.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=Rr.prototype,t.add=function(p,_){Gn(this),this.i=null,p=Mr(this,p);let S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(_),this.h+=1,this};function Uh(p,_){Gn(p),_=Mr(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Tc(p,_){return Gn(p),_=Mr(p,_),p.g.has(_)}t.forEach=function(p,_){Gn(this),this.g.forEach(function(S,P){S.forEach(function(te){p.call(_,te,P,this)},this)},this)};function Nc(p,_){Gn(p);let S=[];if(typeof _=="string")Tc(p,_)&&(S=S.concat(p.g.get(Mr(p,_))));else for(p=Array.from(p.g.values()),_=0;_<p.length;_++)S=S.concat(p[_]);return S}t.set=function(p,_){return Gn(this),this.i=null,p=Mr(this,p),Tc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=Nc(this,p),p.length>0?String(p[0]):_):_};function Bo(p,_,S){Uh(p,_),S.length>0&&(p.i=null,p.g.set(Mr(p,_),w(S)),p.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var S=_[P];const te=Xi(S);S=Nc(this,S);for(let oe=0;oe<S.length;oe++){let xe=te;S[oe]!==""&&(xe+="="+Xi(S[oe])),p.push(xe)}}return this.i=p.join("&")};function Fh(p){const _=new Rr;return _.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),_}function Mr(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Uo(p,_){_&&!p.j&&(Gn(p),p.i=null,p.g.forEach(function(S,P){const te=P.toLowerCase();P!=te&&(Uh(this,P),Bo(this,te,S))},p)),p.j=_}function Zi(p,_){const S=new si;if(c.Image){const P=new Image;P.onload=g(Ni,S,"TestLoadImage: loaded",!0,_,P),P.onerror=g(Ni,S,"TestLoadImage: error",!1,_,P),P.onabort=g(Ni,S,"TestLoadImage: abort",!1,_,P),P.ontimeout=g(Ni,S,"TestLoadImage: timeout",!1,_,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=p}else _(!1)}function kc(p,_){const S=new si,P=new AbortController,te=setTimeout(()=>{P.abort(),Ni(S,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:P.signal}).then(oe=>{clearTimeout(te),oe.ok?Ni(S,"TestPingServer: ok",!0,_):Ni(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(te),Ni(S,"TestPingServer: error",!1,_)})}function Ni(p,_,S,P,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),P(S)}catch{}}function Dr(){this.g=new fs}function gs(p){this.i=p.Sb||null,this.h=p.ab||!1}x(gs,$t),gs.prototype.g=function(){return new Ua(this.i,this.h)};function Ua(p,_){$e.call(this),this.H=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ua,$e),t=Ua.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=_,this.readyState=1,Qi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(_.body=p),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?zr(this):Qi(this),this.readyState==3&&Fo(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,zr(this))},t.Na=function(p){this.g&&(this.response=p,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Qi(p)}t.setRequestHeader=function(p,_){this.A.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=_.next();return p.join(`\r
`)};function Qi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ki(p){let _="";return Q(p,function(S,P){_+=P,_+=":",_+=S,_+=`\r
`}),_}function Fa(p,_,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=ki(S),typeof p=="string"?S!=null&&Xi(S):ft(p,_,S))}function gt(p){$e.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(gt,$e);var ys=/^https?$/i,Ac=["POST","PUT"];t=gt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,_,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Da.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(oe){Ha(this,oe);return}if(p=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var te in P)S.set(te,P[te]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const oe of P.keys())S.set(oe,P.get(oe));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Ac,_,void 0)>=0)||P||te||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,xe]of S)this.g.setRequestHeader(oe,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(oe){Ha(this,oe)}};function Ha(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.o=5,Cc(p),qs(p)}function Cc(p){p.A||(p.A=!0,dt(p,"complete"),dt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,dt(this,"complete"),dt(this,"abort"),qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qs(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qa(this):this.Xa())},t.Xa=function(){qa(this)};function qa(p){if(p.h&&typeof l<"u"){if(p.v&&Wi(p)==4)setTimeout(p.Ca.bind(p),0);else if(dt(p,"readystatechange"),Wi(p)==4){p.h=!1;try{const oe=p.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var P;if(P=oe===0){let xe=String(p.D).match(kr)[1]||null;!xe&&c.self&&c.self.location&&(xe=c.self.location.protocol.slice(0,-1)),P=!ys.test(xe?xe.toLowerCase():"")}S=P}if(S)dt(p,"complete"),dt(p,"success");else{p.o=6;try{var te=Wi(p)>2?p.g.statusText:""}catch{te=""}p.l=te+" ["+p.ca()+"]",Cc(p)}}finally{qs(p)}}}}function qs(p,_){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const S=p.g;p.g=null,_||dt(p,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wi(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),ds(_)}};function vn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(p){const _={};p=(p.g&&Wi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<p.length;P++){if(I(p[P]))continue;var S=Vo(p[P]);const te=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const oe=_[te]||[];_[te]=oe,oe.push(S)}W(_,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(p,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||_}function Vr(p){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,p),this.Za=vs("retryDelaySeedMs",1e4,p),this.Ta=vs("forwardChannelMaxRetries",2,p),this.va=vs("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new za(p&&p.concurrentRequestLimit),this.Ba=new Dr,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vr.prototype,t.ka=8,t.I=1,t.connect=function(p,_,S,P){zt(0),this.W=p,this.H=_||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.J=Xh(this,null,this.W),xs(this)};function Rc(p){if(Ho(p),p.I==3){var _=p.V++,S=Wt(p.J);if(ft(S,"SID",p.M),ft(S,"RID",_),ft(S,"TYPE","terminate"),$a(p,S),_=new ri(p,p.j,_),_.M=2,_.A=La(Wt(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=Zh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ei(_)}Yh(p)}function Ir(p){p.g&&(Dc(p),p.g.cancel(),p.g=null)}function Ho(p){Ir(p),p.v&&(c.clearTimeout(p.v),p.v=null),$o(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function xs(p){if(!Va(p.h)&&!p.m){p.m=!0;var _=p.Ea;$||k(),X||($(),X=!0),A.add(_,p),p.D=0}}function qo(p,_){return Ti(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=_.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=bi(m(p.Ea,p,_),Kh(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const te=new ri(this,this.j,p);let oe=this.o;if(this.U&&(oe?(oe=V(oe),ae(oe,this.U)):oe=this.U),this.u!==null||this.R||(te.J=oe,oe=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Hh(this,te,_),S=Wt(this.J),ft(S,"RID",p),ft(S,"CVER",22),this.G&&ft(S,"X-HTTP-Session-Id",this.G),$a(this,S),oe&&(this.R?_="headers="+Xi(ki(oe))+"&"+_:this.u&&Fa(S,this.u,oe)),Ia(this.h,te),this.Ra&&ft(S,"TYPE","init"),this.S?(ft(S,"$req",_),ft(S,"SID","null"),te.U=!0,wi(te,S,null)):wi(te,S,_),this.I=2}}else this.I==3&&(p?Mc(this,p):this.i.length==0||Va(this.h)||Mc(this))};function Mc(p,_){var S;_?S=_.l:S=p.V++;const P=Wt(p.J);ft(P,"SID",p.M),ft(P,"RID",S),ft(P,"AID",p.K),$a(p,P),p.u&&p.o&&Fa(P,p.u,p.o),S=new ri(p,p.j,S,p.D+1),p.u===null&&(S.J=p.o),_&&(p.i=_.G.concat(p.i)),_=Hh(p,S,1e3),S.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ia(p.h,S),wi(S,P,_)}function $a(p,_){p.H&&Q(p.H,function(S,P){ft(_,P,S)}),p.l&&Q({},function(S,P){ft(_,P,S)})}function Hh(p,_,S){S=Math.min(p.i.length,S);const P=p.l?m(p.l.Ka,p.l,p):null;e:{var te=p.i;let Le=-1;for(;;){const Kt=["count="+S];Le==-1?S>0?(Le=te[0].g,Kt.push("ofs="+Le)):Le=0:Kt.push("ofs="+Le);let rt=!0;for(let Ct=0;Ct<S;Ct++){var oe=te[Ct].g;const Ai=te[Ct].map;if(oe-=Le,oe<0)Le=Math.max(0,te[Ct].g-100),rt=!1;else try{oe="req"+oe+"_"||"";try{var xe=Ai instanceof Map?Ai:Object.entries(Ai);for(const[_s,Ji]of xe){let es=Ji;d(Ji)&&(es=In(Ji)),Kt.push(oe+_s+"="+encodeURIComponent(es))}}catch(_s){throw Kt.push(oe+"type="+encodeURIComponent("_badmap")),_s}}catch{P&&P(Ai)}}if(rt){xe=Kt.join("&");break e}}xe=void 0}return p=p.i.splice(0,S),_.G=p,xe}function qh(p){if(!p.g&&!p.v){p.Y=1;var _=p.Da;$||k(),X||($(),X=!0),A.add(_,p),p.A=0}}function Ga(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=bi(m(p.Da,p),Kh(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,$h(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=bi(m(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),Ir(this),$h(this))};function Dc(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function $h(p){p.g=new ri(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var _=Wt(p.na);ft(_,"RID","rpc"),ft(_,"SID",p.M),ft(_,"AID",p.K),ft(_,"CI",p.F?"0":"1"),!p.F&&p.ia&&ft(_,"TO",p.ia),ft(_,"TYPE","xmlhttp"),$a(p,_),p.u&&p.o&&Fa(_,p.u,p.o),p.O&&(p.g.H=p.O);var S=p.g;p=p.ba,S.M=1,S.A=La(Wt(_)),S.u=null,S.R=!0,Tr(S,p)}t.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ga(this),zt(19))};function $o(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Gh(p,_){var S=null;if(p.g==_){$o(p),Dc(p),p.g=null;var P=2}else if(oi(p.h,_))S=_.G,Oa(p.h,_),P=1;else return;if(p.I!=0){if(_.o)if(P==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var te=p.D;P=ms(),dt(P,new fn(P,S)),xs(p)}else qh(p);else if(te=_.m,te==3||te==0&&_.X>0||!(P==1&&qo(p,_)||P==2&&Ga(p)))switch(S&&S.length>0&&(_=p.h,_.i=_.i.concat(S)),te){case 1:bs(p,5);break;case 4:bs(p,10);break;case 3:bs(p,6);break;default:bs(p,2)}}}function Kh(p,_){let S=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(S*=2),S*_}function bs(p,_){if(p.j.info("Error code "+_),_==2){var S=m(p.bb,p),P=p.Ua;const te=!P;P=new li(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mn(P,"https"),La(P),te?Zi(P.toString(),S):kc(P.toString(),S)}else zt(2);p.I=0,p.l&&p.l.pa(_),Yh(p),Ho(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Yh(p){if(p.I=0,p.ja=[],p.l){const _=Pa(p.h);(_.length!=0||p.i.length!=0)&&(N(p.ja,_),N(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Xh(p,_,S){var P=S instanceof li?Wt(S):new li(S);if(P.g!="")_&&(P.g=_+"."+P.g),Ar(P,P.u);else{var te=c.location;P=te.protocol,_=_?_+"."+te.hostname:te.hostname,te=+te.port;const oe=new li(null);P&&mn(oe,P),_&&(oe.g=_),te&&Ar(oe,te),S&&(oe.h=S),P=oe}return S=p.G,_=p.wa,S&&_&&ft(P,S,_),ft(P,"VER",p.ka),$a(p,P),P}function Zh(p,_,S){if(_&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Aa&&!p.ma?new gt(new gs({ab:S})):new gt(p.ma),_.Fa(p.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qh(){}t=Qh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Or(){}Or.prototype.g=function(p,_){return new Bn(p,_)};function Bn(p,_){$e.call(this),this.g=new Vr(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(p?p["X-WebChannel-Client-Profile"]=_.sa:p={"X-WebChannel-Client-Profile":_.sa}),this.g.U=p,(p=_&&_.Qb)&&!I(p)&&(this.g.u=p),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Gs(this)}x(Bn,$e),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Rc(this.g)},Bn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.v&&(S={},S.__data__=In(p),p=S);_.i.push(new Lt(_.Ya++,p)),_.I==3&&xs(_)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,Bn.Z.N.call(this)};function Wh(p){Tt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const S in _){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}x(Wh,Tt);function Jh(){cn.call(this),this.status=1}x(Jh,cn);function Gs(p){this.g=p}x(Gs,Qh),Gs.prototype.ra=function(){dt(this.g,"a")},Gs.prototype.qa=function(p){dt(this.g,new Wh(p))},Gs.prototype.pa=function(p){dt(this.g,new Jh)},Gs.prototype.oa=function(){dt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,ZN=function(){return new Or},XN=function(){return ms()},YN=tt,E0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Cf=Fs,Ma.COMPLETE="complete",KN=Ma,On.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",$e.prototype.listen=$e.prototype.J,ku=On,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,GN=gt}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const g2="@firebase/firestore",y2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new LN("@firebase/firestore");function Nl(){return ko.logLevel}function Ee(t,...e){if(ko.logLevel<=et.DEBUG){const n=e.map(sx);ko.debug(`Firestore (${pc}): ${t}`,...n)}}function _r(t,...e){if(ko.logLevel<=et.ERROR){const n=e.map(sx);ko.error(`Firestore (${pc}): ${t}`,...n)}}function Ql(t,...e){if(ko.logLevel<=et.WARN){const n=e.map(sx);ko.warn(`Firestore (${pc}): ${t}`,...n)}}function sx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,QN(t,i,n)}function QN(t,e,n){let i=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw _r(i),new Error(i)}function ct(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||QN(e,a,i)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends mc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class nP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iP{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pa,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pa)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new WN(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class sP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new sP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PO(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const i=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new v2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new v2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=oP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ye(t,e){return t<e?-1:t>e?1:0}function j0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return jy(a)===jy(l)?Ye(a,l):jy(a)?1:-1}return Ye(t.length,e.length)}const lP=55296,cP=57343;function jy(t){const e=t.charCodeAt(0);return e>=lP&&e<=cP}function Wl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="__name__";class Ts{constructor(e,n,i){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&De(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Ts.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ye(e.length,n.length)}static compareSegments(e,n){const i=Ts.isNumericId(e),a=Ts.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Ts.extractNumericId(e).compare(Ts.extractNumericId(n)):j0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class Et extends Ts{construct(e,n,i){return new Et(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const uP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Ts{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return uP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x2}static keyField(){return new Sn([x2])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new _e(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Et.fromString(e))}static fromName(e){return new Ae(Et.fromString(e).popFirst(5))}static empty(){return new Ae(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e,n){if(!n)throw new _e(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hP(t,e,n,i){if(e===!0&&i===!0)throw new _e(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b2(t){if(!Ae.isDocumentKey(t))throw new _e(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _2(t){if(Ae.isDocumentKey(t))throw new _e(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ek(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De(12329,{type:typeof t})}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mm(t);throw new _e(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ch(t,e){if(!ek(t))throw new _e(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new _e(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=-62135596800,E2=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*E2);return new At(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w2)throw new _e(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E2}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ch(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:on("string",At._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new At(0,0))}static max(){return new Ve(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=-1;function dP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new ba(a,Ae.empty(),e)}function fP(t){return new ba(t.readTime,t.key,ah)}class ba{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ba(Ve.min(),Ae.empty(),ah)}static max(){return new ba(Ve.max(),Ae.empty(),ah)}}function mP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==pP)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,i)=>{n(e)}))}static reject(e){return new ge(((n,i)=>{i(e)}))}static waitFor(e){return new ge(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=ge.resolve(!1);for(const i of e)n=n.next((a=>a?ge.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ge(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const m=f;n(e[m]).next((g=>{c[m]=g,++d,d===l&&i(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new ge(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function yP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=-1;function zm(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function vP(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="";function xP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=j2(e)),e=bP(t.get(n),e);return j2(e)}function bP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case tk:n+="";break;default:n+=l}}return n}function j2(t){return t+tk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??jn.RED,this.left=a??jn.EMPTY,this.right=l??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new jn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return jn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T2(this.data.getIterator())}getIteratorFrom(e){return new T2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class T2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new yi([])}unionWith(e){let n=new hn(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ik("Invalid base64 string: "+l):l}})(e);return new Tn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const _P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=_P.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wa(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="server_timestamp",rk="__type__",ak="__previous_value__",ok="__local_write_time__";function ox(t){return(t?.mapValue?.fields||{})[rk]?.stringValue===sk}function Vm(t){const e=t.mapValue.fields[ak];return ox(e)?Vm(e):e}function oh(t){const e=_a(t.mapValue.fields[ok].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,i,a,l,c,d,f,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g}}const Jf="(default)";class lh{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="__type__",EP="__max__",hf={mapValue:{}},ck="__vector__",em="value";function Ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ox(t)?4:SP(t)?9007199254740991:jP(t)?10:11:De(28295,{value:t})}function Is(t,e){if(t===e)return!0;const n=Ea(t);if(n!==Ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=_a(a.timestampValue),d=_a(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return wa(a.bytesValue).isEqual(wa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Qt(a.geoPointValue.latitude)===Qt(l.geoPointValue.latitude)&&Qt(a.geoPointValue.longitude)===Qt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Qt(a.integerValue)===Qt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Qt(a.doubleValue),d=Qt(l.doubleValue);return c===d?Wf(c)===Wf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(S2(c)!==S2(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Is(c[f],d[f])))return!1;return!0})(t,e);default:return De(52216,{left:t})}}function ch(t,e){return(t.values||[]).find((n=>Is(n,e)))!==void 0}function Jl(t,e){if(t===e)return 0;const n=Ea(t),i=Ea(e);if(n!==i)return Ye(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Qt(l.integerValue||l.doubleValue),f=Qt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return N2(t.timestampValue,e.timestampValue);case 4:return N2(oh(t),oh(e));case 5:return j0(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=wa(l),f=wa(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const g=Ye(d[m],f[m]);if(g!==0)return g}return Ye(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ye(Qt(l.latitude),Qt(c.latitude));return d!==0?d:Ye(Qt(l.longitude),Qt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return k2(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},f=c.fields||{},m=d[em]?.arrayValue,g=f[em]?.arrayValue,x=Ye(m?.values?.length||0,g?.values?.length||0);return x!==0?x:k2(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===hf.mapValue&&c===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(c===hf.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),m=c.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let x=0;x<f.length&&x<g.length;++x){const b=j0(f[x],g[x]);if(b!==0)return b;const w=Jl(d[f[x]],m[g[x]]);if(w!==0)return w}return Ye(f.length,g.length)})(t.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function N2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=_a(t),i=_a(e),a=Ye(n.seconds,i.seconds);return a!==0?a:Ye(n.nanos,i.nanos)}function k2(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Jl(n[a],i[a]);if(l)return l}return Ye(n.length,i.length)}function ec(t){return S0(t)}function S0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=_a(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=S0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${S0(n.fields[c])}`;return a+"}"})(t.mapValue):De(61005,{value:t})}function Rf(t){switch(Ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vm(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return wa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Rf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Aa(i.fields,((l,c)=>{a+=l.length+Rf(c)})),a})(t.mapValue);default:throw De(13486,{value:t})}}function A2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T0(t){return!!t&&"integerValue"in t}function lx(t){return!!t&&"arrayValue"in t}function C2(t){return!!t&&"nullValue"in t}function R2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}function jP(t){return(t?.mapValue?.fields||{})[lk]?.stringValue===ck}function Hu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Hu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hu(t.arrayValue.values[n]);return e}return{...t}}function SP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(n)}setAll(e){let n=Sn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=Hu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Aa(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Jn(Hu(this.value))}}function uk(t){const e=[];return Aa(t.fields,((n,i)=>{const a=new Sn([n]);if(Mf(i)){const l=uk(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Dn(e,0,Ve.min(),Ve.min(),Ve.min(),Jn.empty(),0)}static newFoundDocument(e,n,i,a){return new Dn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new Dn(e,2,n,Ve.min(),Ve.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Ve.min(),Ve.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.position=e,this.inclusive=n}}function M2(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),n.key):i=Jl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function D2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function TP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{}class an extends hk{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kP(e,n,i):n==="array-contains"?new RP(e,i):n==="in"?new MP(e,i):n==="not-in"?new DP(e,i):n==="array-contains-any"?new zP(e,i):new an(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new AP(e,i):new CP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&Ea(this.value)===Ea(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cs extends hk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cs(e,n)}matches(e){return dk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dk(t){return t.op==="and"}function fk(t){return NP(t)&&dk(t)}function NP(t){for(const e of t.filters)if(e instanceof cs)return!1;return!0}function N0(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(fk(t))return t.filters.map((e=>N0(e))).join(",");{const e=t.filters.map((n=>N0(n))).join(",");return`${t.op}(${e})`}}function mk(t,e){return t instanceof an?(function(i,a){return a instanceof an&&i.op===a.op&&i.field.isEqual(a.field)&&Is(i.value,a.value)})(t,e):t instanceof cs?(function(i,a){return a instanceof cs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&mk(c,a.filters[d])),!0):!1})(t,e):void De(19439)}function pk(t){return t instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`})(t):t instanceof cs?(function(n){return n.op.toString()+" {"+n.getFilters().map(pk).join(" ,")+"}"})(t):"Filter"}class kP extends an{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class AP extends an{constructor(e,n){super(e,"in",n),this.keys=gk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CP extends an{constructor(e,n){super(e,"not-in",n),this.keys=gk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gk(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class RP extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lx(n)&&ch(n.arrayValue,this.value)}}class MP extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class DP extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ch(this.value.arrayValue,n)}}class zP extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>ch(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function z2(t,e=null,n=[],i=[],a=null,l=null,c=null){return new VP(t,e,n,i,a,l,c)}function cx(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>N0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),zm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>ec(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>ec(i))).join(",")),e.Te=n}return e.Te}function ux(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D2(t.startAt,e.startAt)&&D2(t.endAt,e.endAt)}function k0(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IP(t,e,n,i,a,l,c,d){return new vc(t,e,n,i,a,l,c,d)}function Im(t){return new vc(t)}function V2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yk(t){return t.collectionGroup!==null}function qu(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new hn(Sn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new uh(l,i))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new uh(Sn.keyField(),i))}return e.Ie}function As(t){const e=Oe(t);return e.Ee||(e.Ee=OP(e,qu(t))),e.Ee}function OP(t,e){if(t.limitType==="F")return z2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new uh(a.field,l)}));const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return z2(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function A0(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nm(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Om(t,e){return ux(As(t),As(e))&&t.limitType===e.limitType}function vk(t){return`${cx(As(t))}|lt:${t.limitType}`}function kl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>pk(a))).join(", ")}]`),zm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>ec(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>ec(a))).join(",")),`Target(${i})`})(As(t))}; limitType=${t.limitType})`}function Pm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of qu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,f){const m=M2(c,d,f);return c.inclusive?m<=0:m<0})(i.startAt,qu(i),a)||i.endAt&&!(function(c,d,f){const m=M2(c,d,f);return c.inclusive?m>=0:m>0})(i.endAt,qu(i),a))})(t,e)}function PP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xk(t){return(e,n)=>{let i=!1;for(const a of qu(t)){const l=LP(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function LP(t,e,n){const i=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),m=d.data.field(l);return f!==null&&m!==null?Jl(f,m):De(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new Ot(Ae.comparator);function wr(){return BP}const bk=new Ot(Ae.comparator);function Au(...t){let e=bk;for(const n of t)e=e.insert(n.key,n);return e}function _k(t){let e=bk;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function vo(){return $u()}function wk(){return $u()}function $u(){return new Mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const UP=new Ot(Ae.comparator),FP=new hn(Ae.comparator);function Xe(...t){let e=FP;for(const n of t)e=e.add(n);return e}const HP=new hn(Ye);function qP(){return HP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function Ek(t){return{integerValue:""+t}}function $P(t,e){return vP(e)?Ek(e):hx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this._=void 0}}function GP(t,e,n){return t instanceof hh?(function(a,l){const c={fields:{[rk]:{stringValue:sk},[ok]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ox(l)&&(l=Vm(l)),l&&(c.fields[ak]=l),{mapValue:c}})(n,e):t instanceof dh?Sk(t,e):t instanceof fh?Tk(t,e):(function(a,l){const c=jk(a,l),d=I2(c)+I2(a.Ae);return T0(c)&&T0(a.Ae)?Ek(d):hx(a.serializer,d)})(t,e)}function KP(t,e,n){return t instanceof dh?Sk(t,e):t instanceof fh?Tk(t,e):n}function jk(t,e){return t instanceof im?(function(i){return T0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class hh extends Lm{}class dh extends Lm{constructor(e){super(),this.elements=e}}function Sk(t,e){const n=Nk(e);for(const i of t.elements)n.some((a=>Is(a,i)))||n.push(i);return{arrayValue:{values:n}}}class fh extends Lm{constructor(e){super(),this.elements=e}}function Tk(t,e){let n=Nk(e);for(const i of t.elements)n=n.filter((a=>!Is(a,i)));return{arrayValue:{values:n}}}class im extends Lm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I2(t){return Qt(t.integerValue||t.doubleValue)}function Nk(t){return lx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.field=e,this.transform=n}}function XP(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof dh&&a instanceof dh||i instanceof fh&&a instanceof fh?Wl(i.elements,a.elements,Is):i instanceof im&&a instanceof im?Is(i.Ae,a.Ae):i instanceof hh&&a instanceof hh})(t.transform,e.transform)}class ZP{constructor(e,n){this.version=e,this.transformResults=n}}class Gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bm{}function kk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dx(t.key,Gi.none()):new Rh(t.key,t.data,Gi.none());{const n=t.data,i=Jn.empty();let a=new hn(Sn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ca(t.key,i,new yi(a.toArray()),Gi.none())}}function QP(t,e,n){t instanceof Rh?(function(a,l,c){const d=a.value.clone(),f=P2(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ca?(function(a,l,c){if(!Df(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=P2(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(Ak(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Gu(t,e,n,i){return t instanceof Rh?(function(l,c,d,f){if(!Df(l.precondition,c))return d;const m=l.value.clone(),g=L2(l.fieldTransforms,f,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Ca?(function(l,c,d,f){if(!Df(l.precondition,c))return d;const m=L2(l.fieldTransforms,f,c),g=c.data;return g.setAll(Ak(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(l,c,d){return Df(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function WP(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=jk(i.transform,a||null);l!=null&&(n===null&&(n=Jn.empty()),n.set(i.field,l))}return n||null}function O2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Wl(i,a,((l,c)=>XP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rh extends Bm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends Bm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ak(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function P2(t,e,n){const i=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,KP(c,d,n[a]))}return i}function L2(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,GP(l,c,e))}return i}class dx extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JP extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&QP(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Gu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Gu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=wk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=kk(c,d);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((n,i)=>O2(n,i)))&&Wl(this.baseMutations,e.baseMutations,((n,i)=>O2(n,i)))}}class fx{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return UP})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new fx(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,Je;function i9(t){switch(t){case me.OK:return De(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return De(15467,{code:t})}}function Ck(t){if(t===void 0)return _r("GRPC error has no .code"),me.UNKNOWN;switch(t){case sn.OK:return me.OK;case sn.CANCELLED:return me.CANCELLED;case sn.UNKNOWN:return me.UNKNOWN;case sn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case sn.INTERNAL:return me.INTERNAL;case sn.UNAVAILABLE:return me.UNAVAILABLE;case sn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case sn.NOT_FOUND:return me.NOT_FOUND;case sn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case sn.ABORTED:return me.ABORTED;case sn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case sn.DATA_LOSS:return me.DATA_LOSS;default:return De(39323,{code:t})}}(Je=sn||(sn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new ma([4294967295,4294967295],0);function B2(t){const e=s9().encode(t),n=new $N;return n.update(e),new Uint8Array(n.digest())}function U2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ma([n,i],0),new ma([a,l],0)]}class mx{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(i<0)throw new Cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ma.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(ma.fromNumber(i)));return a.compare(r9)===1&&(a=new ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=B2(e),[i,a]=U2(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new mx(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=B2(e),[i,a]=U2(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Um(Ve.min(),a,new Ot(Ye),wr(),Xe())}}class Mh{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Mh(i,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class Rk{constructor(e,n){this.targetId=e,this.Ce=n}}class Mk{constructor(e,n,i=Tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class F2{constructor(){this.ve=0,this.Fe=H2(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),i=Xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}})),new Mh(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=H2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a9{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=df(),this.He=df(),this.Ye=new Ot(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(k0(l))if(i===0){const c=new Ae(l.path);this.et(n,c,Dn.newNoDocument(c,Ve.min()))}else ct(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=wa(i).toUint8Array()}catch(f){if(f instanceof ik)return Ql("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mx(c,a,l)}catch(f){return Ql(f instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&k0(d.target)){const f=new Ae(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Dn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let i=Xe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Um(e,n,this.Ye,this.je,i);return this.je=wr(),this.Je=df(),this.He=df(),this.Ye=new Ot(Ye),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new F2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new hn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new hn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function df(){return new Ot(Ae.comparator)}function H2(){return new Ot(Ae.comparator)}const o9={asc:"ASCENDING",desc:"DESCENDING"},l9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c9={and:"AND",or:"OR"};class u9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C0(t,e){return t.useProto3Json||zm(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h9(t,e){return sm(t,e.toTimestamp())}function Cs(t){return ct(!!t,49232),Ve.fromTimestamp((function(n){const i=_a(n);return new At(i.seconds,i.nanos)})(t))}function px(t,e){return R0(t,e).canonicalString()}function R0(t,e){const n=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zk(t){const e=Et.fromString(t);return ct(Lk(e),10190,{key:e.toString()}),e}function M0(t,e){return px(t.databaseId,e.path)}function Sy(t,e){const n=zk(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(Ik(n))}function Vk(t,e){return px(t.databaseId,e)}function d9(t){const e=zk(t);return e.length===4?Et.emptyPath():Ik(e)}function D0(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ik(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function q2(t,e,n){return{name:M0(t,e),fields:n.value.mapValue.fields}}function f9(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(ct(g===void 0||typeof g=="string",58123),Tn.fromBase64String(g||"")):(ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Tn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const g=m.code===void 0?me.UNKNOWN:Ck(m.code);return new _e(g,m.message||"")})(c);n=new Mk(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Sy(t,i.document.name),l=Cs(i.document.updateTime),c=i.document.createTime?Cs(i.document.createTime):Ve.min(),d=new Jn({mapValue:{fields:i.document.fields}}),f=Dn.newFoundDocument(a,l,c,d),m=i.targetIds||[],g=i.removedTargetIds||[];n=new zf(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Sy(t,i.document),l=i.readTime?Cs(i.readTime):Ve.min(),c=Dn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new zf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Sy(t,i.document),l=i.removedTargetIds||[];n=new zf([],l,a,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new n9(a,l),d=i.targetId;n=new Rk(d,c)}}return n}function m9(t,e){let n;if(e instanceof Rh)n={update:q2(t,e.key,e.value)};else if(e instanceof dx)n={delete:M0(t,e.key)};else if(e instanceof Ca)n={update:q2(t,e.key,e.data),updateMask:E9(e.fieldMask)};else{if(!(e instanceof JP))return De(16599,{Vt:e.type});n={verify:M0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof hh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof im)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw De(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:h9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(t,e.precondition)),n}function p9(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Cs(a.updateTime):Cs(l);return c.isEqual(Ve.min())&&(c=Cs(l)),new ZP(c,a.transformResults||[])})(n,e)))):[]}function g9(t,e){return{documents:[Vk(t,e.path)]}}function y9(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Vk(t,a);const l=(function(m){if(m.length!==0)return Pk(cs.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(b){return{field:Al(b.field),direction:b9(b.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=C0(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function v9(t){let e=d9(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ct(i===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(x){const b=Ok(x);return b instanceof cs&&fk(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(x){return x.map((b=>(function(N){return new uh(Cl(N.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(x){let b;return b=typeof x=="object"?x.value:x,zm(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(x){const b=!!x.before,w=x.values||[];return new tm(w,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(x){const b=!x.before,w=x.values||[];return new tm(w,b)})(n.endAt)),IP(e,a,c,l,d,"F",f,m)}function x9(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ok(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Cl(n.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(n.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Cl(n.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Cl(n.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(t):t.fieldFilter!==void 0?(function(n){return an.create(Cl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cs.create(n.compositeFilter.filters.map((i=>Ok(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(t):De(30097,{filter:t})}function b9(t){return o9[t]}function _9(t){return l9[t]}function w9(t){return c9[t]}function Al(t){return{fieldPath:t.canonicalString()}}function Cl(t){return Sn.fromServerFormat(t.fieldPath)}function Pk(t){return t instanceof an?(function(n){if(n.op==="=="){if(R2(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NAN"}};if(C2(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R2(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NAN"}};if(C2(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(n.field),op:_9(n.op),value:n.value}}})(t):t instanceof cs?(function(n){const i=n.getFilters().map((a=>Pk(a)));return i.length===1?i[0]:{compositeFilter:{op:w9(n.op),filters:i}}})(t):De(54877,{filter:t})}function E9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Lk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,i,a,l=Ve.min(),c=Ve.min(),d=Tn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.yt=e}}function S9(t){const e=v9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.Cn=new N9}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(ba.min())}updateCollectionGroup(e,n,i){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class N9{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new hn(Et.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new hn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bk=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(Bk,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tc(0)}static cr(){return new tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="LruGarbageCollector",k9=1048576;function K2([t,e],[n,i]){const a=Ye(t,n);return a===0?Ye(e,i):a}class A9{constructor(e){this.Ir=e,this.buffer=new hn(K2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();K2(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C9{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(G2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yc(n)?Ee(G2,"Ignoring IndexedDB error during garbage collection: ",n):await gc(n)}await this.Vr(3e5)}))}}class R9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(Dm.ce);const i=new A9(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve($2)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$2):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,c,d,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,c=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(i=x,d=Date.now(),this.removeTargets(e,i,n)))).next((x=>(l=x,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(m=Date.now(),Nl()<=et.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${x} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x}))))}}function M9(t,e){return new R9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.changes=new Mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ge.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Gu(i.mutation,a,yi.empty(),At.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Xe()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Xe()){const a=vo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Au();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=vo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Xe())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=wr();const c=$u(),d=(function(){return $u()})();return n.forEach(((f,m)=>{const g=i.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ca)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Gu(g.mutation,m,g.mutation.getFieldMask(),At.now())):c.set(m.key,yi.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>d.set(m,new z9(g,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=$u();let a=new Ot(((c,d)=>c-d)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let g=i.get(f)||yi.empty();g=d.applyToLocalView(m,g),i.set(f,g);const x=(a.get(d.batchId)||Xe()).add(f);a=a.insert(d.batchId,x)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,g=f.value,x=wk();g.forEach((b=>{if(!l.has(b)){const w=kk(n.get(b),i.get(b));w!==null&&x.set(b,w),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,x))}return ge.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ge.resolve(vo());let d=ah,f=l;return c.next((m=>ge.forEach(m,((g,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),l.get(g)?ge.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,f,m,Xe()))).next((g=>({batchId:d,changes:_k(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((i=>{let a=Au();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,l).next((d=>ge.forEach(d,(f=>{const m=(function(x,b){return new vc(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((g=>{g.forEach(((x,b)=>{c=c.insert(x,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,Dn.newInvalidDocument(g)))}));let d=Au();return c.forEach(((f,m)=>{const g=l.get(f);g!==void 0&&Gu(g.mutation,m,yi.empty(),At.now()),Pm(n,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Cs(a.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:S9(a.bundledQuery),readTime:Cs(a.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.overlays=new Ot(Ae.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const i=vo();return ge.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),ge.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ge.resolve()}getOverlaysForCollection(e,n,i){const a=vo(),l=n.length+1,c=new Ae(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ge.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Ot(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=l.get(m.largestBatchId);g===null&&(g=vo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=vo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>d.set(m,g))),!(d.size()>=a)););return ge.resolve(d)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new t9(n,i));let l=this.qr.get(n);l===void 0&&(l=Xe(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Qr=new hn(gn.$r),this.Ur=new hn(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new gn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ae(new Et([])),i=new gn(n,e),a=new gn(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new Et([])),i=new gn(n,e),a=new gn(n,e+1);let l=Xe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new gn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new hn(gn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new e9(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new gn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ge.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?ax:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new gn(n,0),a=new gn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ge.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new hn(Ye);return n.forEach((a=>{const l=new gn(a,0),c=new gn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),ge.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new gn(new Ae(l),0);let d=new hn(Ye);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(f.Yr)),!0)}),c),ge.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ge.forEach(n.mutations,(a=>{const l=new gn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new gn(n,0),a=this.Zr.firstAfterOrEqual(i);return ge.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ge.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let i=wr();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Dn.newInvalidDocument(a))})),ge.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=wr();const c=n.path,d=new Ae(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||mP(fP(g),i)<=0||(a.has(g.key)||Pm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return ge.resolve(l)}getAllFromCollectionGroup(e,n,i,a){De(9500)}ii(e,n){return ge.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new U9(this)}getSize(e){return ge.resolve(this.size)}}class U9 extends D9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.persistence=e,this.si=new Mo((n=>cx(n)),ux),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new gx,this.targetCount=0,this.ai=tc.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ge.waitFor(l).next((()=>a))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ge.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ge.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ge.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ge.resolve(i)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dm(0),this.li=!1,this.li=!0,this.hi=new P9,this.referenceDelegate=e(this),this.Pi=new F9(this),this.indexManager=new T9,this.remoteDocumentCache=(function(a){return new B9(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new j9(n),this.Ii=new I9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new L9(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const a=new H9(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ge.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class H9 extends gP{constructor(e){super(),this.currentSequenceNumber=e}}class yx{constructor(e){this.persistence=e,this.Ri=new gx,this.Vi=null}static mi(e){return new yx(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ge.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(i=>{const a=Ae.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rm{constructor(e,n){this.persistence=e,this.pi=new Mo((i=>xP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=M9(this,n)}static mi(e,n){return new rm(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ge.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(i++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,i){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ge.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Xe(),a=Xe();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new vx(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return V6()?8:yP(D6())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new q9;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(Nl()<=et.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Nl()<=et.DEBUG&&Ee("QueryEngine","Query:",kl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Nl()<=et.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):ge.resolve())}ys(e,n){if(V2(n))return ge.resolve(null);let i=As(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=nm(n,null,"F"),i=As(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Xe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const m=this.Ds(n,d);return this.Cs(n,m,c,f.readTime)?this.ys(e,nm(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,i,a){return V2(n)||a.isEqual(Ve.min())?ge.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,a)?ge.resolve(null):(Nl()<=et.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),kl(n)),this.vs(e,c,n,dP(a,ah)).next((d=>d)))}))}Ds(e,n){let i=new hn(xk(e));return n.forEach(((a,l)=>{Pm(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Nl()<=et.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ps.getDocumentsMatchingQuery(e,n,ba.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="LocalStore",G9=3e8;class K9{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ot(Ye),this.xs=new Mo((l=>cx(l)),ux),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Y9(t,e,n,i){return new K9(t,e,n,i)}async function Fk(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let f=Xe();for(const m of a){c.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of l){d.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function X9(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,g){const x=m.batch,b=x.keys();let w=ge.resolve();return b.forEach((N=>{w=w.next((()=>g.getEntry(f,N))).next((C=>{const T=m.docVersions.get(N);ct(T!==null,48541),C.version.compareTo(T)<0&&(x.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),g.addEntry(C)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,x)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Xe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function Hk(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Z9(t,e){const n=Oe(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((g,x)=>{const b=a.get(x);if(!b)return;d.push(n.Pi.removeMatchingKeys(l,g.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(l,g.addedDocuments,x))));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(Tn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,i)),a=a.insert(x,w),(function(C,T,j){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=G9?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(b,w,g)&&d.push(n.Pi.updateTargetData(l,w))}));let f=wr(),m=Xe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(Q9(l,c,e.documentUpdates).next((g=>{f=g.ks,m=g.qs}))),!i.isEqual(Ve.min())){const g=n.Pi.getLastRemoteSnapshotVersion(l).next((x=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(g)}return ge.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,m))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function Q9(t,e,n){let i=Xe(),a=Xe();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=wr();return n.forEach(((d,f)=>{const m=l.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Ee(xx,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function W9(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ax),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function J9(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,ge.resolve(a)):n.Pi.allocateTargetId(i).next((c=>(a=new ha(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function z0(t,e,n){const i=Oe(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!yc(c))throw c;Ee(xx,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Y2(t,e,n){const i=Oe(t);let a=Ve.min(),l=Xe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,g){const x=Oe(f),b=x.xs.get(g);return b!==void 0?ge.resolve(x.Ms.get(b)):x.Pi.getTargetData(m,g)})(i,c,As(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Xe()))).next((d=>(eL(i,PP(e),d),{documents:d,Qs:l})))))}function eL(t,e,n){let i=t.Os.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class X2{constructor(){this.activeTargetIds=qP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tL{constructor(){this.Mo=new X2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X2,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="ConnectivityMonitor";class Q2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(Z2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(Z2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function V0(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="RestConnection",iL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const c=V0(),d=this.zo(e,n.toUriEncodedString());Ee(Ty,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:m}=new URL(d),g=nx(m);return this.Jo(e,d,f,i,g).then((x=>(Ee(Ty,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw Ql(Ty,`RPC '${e}' ${c} failed with error: `,x,"url: ",d,"request:",i),x}))}Ho(e,n,i,a,l,c){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=iL[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class aL extends sL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const c=V0();return new Promise(((d,f)=>{const m=new GN;m.setWithCredentials(!0),m.listenOnce(KN.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cf.NO_ERROR:const x=m.getResponseJson();Ee(Cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case Cf.TIMEOUT:Ee(Cn,`RPC '${e}' ${c} timed out`),f(new _e(me.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const b=m.getStatus();if(Ee(Cn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w?.error;if(N&&N.status&&N.message){const C=(function(j){const R=j.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(R)>=0?R:me.UNKNOWN})(N.status);f(new _e(C,N.message))}else f(new _e(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new _e(me.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ee(Cn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Ee(Cn,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,i,15)}))}T_(e,n,i){const a=V0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ZN(),d=XN(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const g=l.join("");Ee(Cn,`Creating RPC '${e}' stream ${a}: ${g}`,f);const x=c.createWebChannel(g,f);this.I_(x);let b=!1,w=!1;const N=new rL({Yo:T=>{w?Ee(Cn,`Not sending because RPC '${e}' stream ${a} is closed:`,T):(b||(Ee(Cn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),Ee(Cn,`RPC '${e}' stream ${a} sending:`,T),x.send(T))},Zo:()=>x.close()}),C=(T,j,R)=>{T.listen(j,(O=>{try{R(O)}catch(F){setTimeout((()=>{throw F}),0)}}))};return C(x,ku.EventType.OPEN,(()=>{w||(Ee(Cn,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),C(x,ku.EventType.CLOSE,(()=>{w||(w=!0,Ee(Cn,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(x))})),C(x,ku.EventType.ERROR,(T=>{w||(w=!0,Ql(Cn,`RPC '${e}' stream ${a} transport errored. Name:`,T.name,"Message:",T.message),N.a_(new _e(me.UNAVAILABLE,"The operation could not be completed")))})),C(x,ku.EventType.MESSAGE,(T=>{if(!w){const j=T.data[0];ct(!!j,16349);const R=j,O=R?.error||R[0]?.error;if(O){Ee(Cn,`RPC '${e}' stream ${a} received error:`,O);const F=O.status;let $=(function(k){const M=sn[k];if(M!==void 0)return Ck(M)})(F),X=O.message;$===void 0&&($=me.INTERNAL,X="Unknown error status: "+F+" with message "+O.message),w=!0,N.a_(new _e($,X)),x.close()}else Ee(Cn,`RPC '${e}' stream ${a} received:`,j),N.u_(j)}})),C(d,YN.STAT_EVENT,(T=>{T.stat===E0.PROXY?Ee(Cn,`RPC '${e}' stream ${a} detected buffering proxy`):T.stat===E0.NOPROXY&&Ee(Cn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t){return new u9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="PersistentStream";class $k{constructor(e,n,i,a,l,c,d,f){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new _e(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(W2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(W2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oL extends $k{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f9(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Cs(c.readTime):Ve.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=D0(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=k0(f)?{documents:g9(l,f)}:{query:y9(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Dk(l,c.resumeToken);const m=C0(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=sm(l,c.snapshotVersion.toTimestamp());const m=C0(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const i=x9(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=D0(this.serializer),n.removeTarget=e,this.q_(n)}}class lL extends $k{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p9(e.writeResults,e.commitTime),i=Cs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=D0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>m9(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{}class uL extends cL{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,R0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(me.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,R0(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(me.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class dL{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Do(this)&&(Ee(Ao,"Restarting streams for network reachability change."),await(async function(f){const m=Oe(f);m.Ea.add(4),await Dh(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Hm(m)})(this))}))})),this.Ra=new hL(i,a)}}async function Hm(t){if(Do(t))for(const e of t.da)await e(!0)}async function Dh(t){for(const e of t.da)await e(!1)}function Gk(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ex(n)?wx(n):xc(n).O_()&&_x(n,e))}function bx(t,e){const n=Oe(t),i=xc(n);n.Ia.delete(e),i.O_()&&Kk(n,e),n.Ia.size===0&&(i.O_()?i.L_():Do(n)&&n.Ra.set("Unknown"))}function _x(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xc(t).Y_(e)}function Kk(t,e){t.Va.Ue(e),xc(t).Z_(e)}function wx(t){t.Va=new a9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xc(t).start(),t.Ra.ua()}function Ex(t){return Do(t)&&!xc(t).x_()&&t.Ia.size>0}function Do(t){return Oe(t).Ea.size===0}function Yk(t){t.Va=void 0}async function fL(t){t.Ra.set("Online")}async function mL(t){t.Ia.forEach(((e,n)=>{_x(t,e)}))}async function pL(t,e){Yk(t),Ex(t)?(t.Ra.ha(e),wx(t)):t.Ra.set("Unknown")}async function gL(t,e,n){if(t.Ra.set("Online"),e instanceof Mk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(i){Ee(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await am(t,i)}else if(e instanceof zf?t.Va.Ze(e):e instanceof Rk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const i=await Hk(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,m)=>{const g=l.Ia.get(f);if(!g)return;l.Ia.set(f,g.withResumeToken(Tn.EMPTY_BYTE_STRING,g.snapshotVersion)),Kk(l,f);const x=new ha(g.target,f,m,g.sequenceNumber);_x(l,x)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){Ee(Ao,"Failed to raise snapshot:",i),await am(t,i)}}async function am(t,e,n){if(!yc(e))throw e;t.Ea.add(1),await Dh(t),t.Ra.set("Offline"),n||(n=()=>Hk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hm(t)}))}function Xk(t,e){return e().catch((n=>am(t,n,e)))}async function qm(t){const e=Oe(t),n=ja(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ax;for(;yL(e);)try{const a=await W9(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,vL(e,a)}catch(a){await am(e,a)}Zk(e)&&Qk(e)}function yL(t){return Do(t)&&t.Ta.length<10}function vL(t,e){t.Ta.push(e);const n=ja(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Zk(t){return Do(t)&&!ja(t).x_()&&t.Ta.length>0}function Qk(t){ja(t).start()}async function xL(t){ja(t).ra()}async function bL(t){const e=ja(t);for(const n of t.Ta)e.ea(n.mutations)}async function _L(t,e,n){const i=t.Ta.shift(),a=fx.from(i,e,n);await Xk(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await qm(t)}async function wL(t,e){e&&ja(t).X_&&await(async function(i,a){if((function(c){return i9(c)&&c!==me.ABORTED})(a.code)){const l=i.Ta.shift();ja(i).B_(),await Xk(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await qm(i)}})(t,e),Zk(t)&&Qk(t)}async function J2(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),Ee(Ao,"RemoteStore received new credentials");const i=Do(n);n.Ea.add(3),await Dh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hm(n)}async function EL(t,e){const n=Oe(t);e?(n.Ea.delete(2),await Hm(n)):e||(n.Ea.add(2),await Dh(n),n.Ra.set("Unknown"))}function xc(t){return t.ma||(t.ma=(function(n,i,a){const l=Oe(n);return l.sa(),new oL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:fL.bind(null,t),t_:mL.bind(null,t),r_:pL.bind(null,t),H_:gL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ex(t)?wx(t):t.Ra.set("Unknown")):(await t.ma.stop(),Yk(t))}))),t.ma}function ja(t){return t.fa||(t.fa=(function(n,i,a){const l=Oe(n);return l.sa(),new lL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xL.bind(null,t),r_:wL.bind(null,t),ta:bL.bind(null,t),na:_L.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qm(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new jx(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sx(t,e){if(_r("AsyncQueue",`${e}: ${t}`),yc(t))return new _e(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=Au(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Bl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.ga=new Ot(Ae.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class nc{constructor(e,n,i,a,l,c,d,f,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new nc(e,n,Bl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SL{constructor(){this.queries=tj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Oe(n),l=a.queries;a.queries=tj(),l.forEach(((c,d)=>{for(const f of d.Sa)f.onError(i)}))})(this,new _e(me.ABORTED,"Firestore shutting down"))}}function tj(){return new Mo((t=>vk(t)),Om)}async function Wk(t,e){const n=Oe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new jL,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Sx(c,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Tx(n)}async function Jk(t,e){const n=Oe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function TL(t,e){const n=Oe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&Tx(n)}function NL(t,e,n){const i=Oe(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function Tx(t){t.Ca.forEach((e=>{e.next()}))}var I0,nj;(nj=I0||(I0={})).Ma="default",nj.Cache="cache";class eA{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new nc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==I0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.key=e}}class nA{constructor(e){this.key=e}}class kL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=xk(e),this.tu=new Bl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new ej,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,x)=>{const b=a.get(g),w=Pm(this.query,x)?x:null,N=!!b&&this.mutatedKeys.has(b.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let T=!1;b&&w?b.data.isEqual(w.data)?N!==C&&(i.track({type:3,doc:w}),T=!0):this.su(b,w)||(i.track({type:2,doc:w}),T=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(d=!0)):!b&&w?(i.track({type:0,doc:w}),T=!0):b&&!w&&(i.track({type:1,doc:b}),T=!0,(f||m)&&(d=!0)),T&&(w?(c=c.add(w),l=C?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,x)=>(function(w,N){const C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:T})}};return C(w)-C(N)})(g.type,x.type)||this.eu(g.doc,x.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new nc(this.query,e.tu,l,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ej,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new nA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new tA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nx="SyncEngine";class AL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class CL{constructor(e){this.key=e,this.hu=!1}}class RL{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Mo((d=>vk(d)),Om),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ae.comparator),this.Au=new Map,this.Ru=new gx,this.Vu={},this.mu=new Map,this.fu=tc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ML(t,e,n=!0){const i=lA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await iA(i,e,n,!0),a}async function DL(t,e){const n=lA(t);await iA(n,e,!0,!1)}async function iA(t,e,n,i){const a=await J9(t.localStore,As(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await zL(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&Gk(t.remoteStore,a),d}async function zL(t,e,n,i,a){t.pu=(x,b,w)=>(async function(C,T,j,R){let O=T.view.ru(j);O.Cs&&(O=await Y2(C.localStore,T.query,!1).then((({documents:A})=>T.view.ru(A,O))));const F=R&&R.targetChanges.get(T.targetId),$=R&&R.targetMismatches.get(T.targetId)!=null,X=T.view.applyChanges(O,C.isPrimaryClient,F,$);return sj(C,T.targetId,X.au),X.snapshot})(t,x,b,w);const l=await Y2(t.localStore,e,!0),c=new kL(e,l.Qs),d=c.ru(l.documents),f=Mh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(d,t.isPrimaryClient,f);sj(t,n,m.au);const g=new AL(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function VL(t,e,n){const i=Oe(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Om(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await z0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&bx(i.remoteStore,a.targetId),O0(i,a.targetId)})).catch(gc)):(O0(i,a.targetId),await z0(i.localStore,a.targetId,!0))}async function IL(t,e){const n=Oe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),bx(n.remoteStore,i.targetId))}async function OL(t,e,n){const i=qL(t);try{const a=await(function(c,d){const f=Oe(c),m=At.now(),g=d.reduce(((w,N)=>w.add(N.key)),Xe());let x,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let N=wr(),C=Xe();return f.Ns.getEntries(w,g).next((T=>{N=T,N.forEach(((j,R)=>{R.isValidDocument()||(C=C.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,N))).next((T=>{x=T;const j=[];for(const R of d){const O=WP(R,x.get(R.key).overlayedDocument);O!=null&&j.push(new Ca(R.key,O,uk(O.value.mapValue),Gi.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,j,d)})).next((T=>{b=T;const j=T.applyToLocalDocumentSet(x,C);return f.documentOverlayCache.saveOverlays(w,T.batchId,j)}))})).then((()=>({batchId:b.batchId,changes:_k(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new Ot(Ye)),m=m.insert(d,f),c.Vu[c.currentUser.toKey()]=m})(i,a.batchId,n),await zh(i,a.changes),await qm(i.remoteStore)}catch(a){const l=Sx(a,"Failed to persist write");n.reject(l)}}async function sA(t,e){const n=Oe(t);try{const i=await Z9(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ct(c.hu,14607):a.removedDocuments.size>0&&(ct(c.hu,42227),c.hu=!1))})),await zh(n,i,e)}catch(i){await gc(i)}}function ij(t,e,n){const i=Oe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Oe(c);f.onlineState=d;let m=!1;f.queries.forEach(((g,x)=>{for(const b of x.Sa)b.va(d)&&(m=!0)})),m&&Tx(f)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function PL(t,e,n){const i=Oe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Ot(Ae.comparator);c=c.insert(l,Dn.newNoDocument(l,Ve.min()));const d=Xe().add(l),f=new Um(Ve.min(),new Map,new Ot(Ye),c,d);await sA(i,f),i.du=i.du.remove(l),i.Au.delete(e),kx(i)}else await z0(i.localStore,e,!1).then((()=>O0(i,e,n))).catch(gc)}async function LL(t,e){const n=Oe(t),i=e.batch.batchId;try{const a=await X9(n.localStore,e);aA(n,i,null),rA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zh(n,a)}catch(a){await gc(a)}}async function BL(t,e,n){const i=Oe(t);try{const a=await(function(c,d){const f=Oe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,d).next((x=>(ct(x!==null,37113),g=x.keys(),f.mutationQueue.removeMutationBatch(m,x)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(i.localStore,e);aA(i,e,n),rA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zh(i,a)}catch(a){await gc(a)}}function rA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aA(t,e,n){const i=Oe(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function O0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||oA(t,i)}))}function oA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),kx(t))}function sj(t,e,n){for(const i of n)i instanceof tA?(t.Ru.addReference(i.key,e),UL(t,i)):i instanceof nA?(Ee(Nx,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||oA(t,i.key)):De(19791,{wu:i})}function UL(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ee(Nx,"New document in limbo: "+n),t.Eu.add(i),kx(t))}function kx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(Et.fromString(e)),i=t.fu.next();t.Au.set(i,new CL(n)),t.du=t.du.insert(n,i),Gk(t.remoteStore,new ha(As(Im(n.path)),i,"TargetPurposeLimboResolution",Dm.ce))}}async function zh(t,e,n){const i=Oe(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{c.push(i.pu(f,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){a.push(m);const g=vx.As(f.targetId,m);l.push(g)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,m){const g=Oe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ge.forEach(m,(b=>ge.forEach(b.Es,(w=>g.persistence.referenceDelegate.addReference(x,b.targetId,w))).next((()=>ge.forEach(b.ds,(w=>g.persistence.referenceDelegate.removeReference(x,b.targetId,w)))))))))}catch(x){if(!yc(x))throw x;Ee(xx,"Failed to update sequence numbers: "+x)}for(const x of m){const b=x.targetId;if(!x.fromCache){const w=g.Ms.get(b),N=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(b,C)}}})(i.localStore,l))}async function FL(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){Ee(Nx,"User change. New user:",e.toKey());const i=await Fk(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new _e(me.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zh(n,i.Ls)}}function HL(t,e){const n=Oe(t),i=n.Au.get(e);if(i&&i.hu)return Xe().add(i.key);{let a=Xe();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function lA(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PL.bind(null,e),e.Pu.H_=TL.bind(null,e.eventManager),e.Pu.yu=NL.bind(null,e.eventManager),e}function qL(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BL.bind(null,e),e}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Y9(this.persistence,new $9,e.initialUser,this.serializer)}Cu(e){return new Uk(yx.mi,this.serializer)}Du(e){return new tL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class $L extends om{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof rm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new C9(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new Uk((i=>rm.mi(i,n)),this.serializer)}}class P0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ij(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FL.bind(null,this.syncEngine),await EL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SL})()}createDatastore(e){const n=Fm(e.databaseInfo.databaseId),i=(function(l){return new aL(l)})(e.databaseInfo);return(function(l,c,d,f){return new uL(l,c,d,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new dL(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>ij(this.syncEngine,n,0)),(function(){return Q2.v()?new Q2:new nL})())}createSyncEngine(e,n){return(function(a,l,c,d,f,m,g){const x=new RL(a,l,c,d,f,m);return g&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Oe(n);Ee(Ao,"RemoteStore shutting down."),i.Ea.add(5),await Dh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}P0.provider={build:()=>new P0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class GL{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=rx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ee(Sa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ee(Sa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Sx(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ky(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Fk(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KL(t);Ee(Sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>J2(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>J2(e.remoteStore,a))),t._onlineComponents=e}async function KL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Sa,"Using user provided OfflineComponentProvider");try{await ky(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await ky(t,new om)}}else Ee(Sa,"Using default OfflineComponentProvider"),await ky(t,new $L(void 0));return t._offlineComponents}async function uA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Sa,"Using user provided OnlineComponentProvider"),await rj(t,t._uninitializedComponentsProvider._online)):(Ee(Sa,"Using default OnlineComponentProvider"),await rj(t,new P0))),t._onlineComponents}function YL(t){return uA(t).then((e=>e.syncEngine))}async function L0(t){const e=await uA(t),n=e.eventManager;return n.onListen=ML.bind(null,e.syncEngine),n.onUnlisten=VL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IL.bind(null,e.syncEngine),n}function XL(t,e,n={}){const i=new pa;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,m){const g=new cA({next:b=>{g.Nu(),c.enqueueAndForget((()=>Jk(l,x)));const w=b.docs.has(d);!w&&b.fromCache?m.reject(new _e(me.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&f&&f.source==="server"?m.reject(new _e(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new eA(Im(d.path),g,{includeMetadataChanges:!0,qa:!0});return Wk(l,x)})(await L0(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",oj=!0;class lj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=oj}else this.host=e.host,this.ssl=e.ssl??oj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k9)throw new _e(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new tP;switch(i.type){case"firstParty":return new rP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=aj.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),aj.delete(n),i.terminate())})(this),Promise.resolve()}}function ZL(t,e,n,i={}){t=$i(t,$m);const a=nx(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(k6(`https://${d}`),M6("Firestore",!0)),l.host!==dA&&l.host!==d&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:i};if(!Xf(f,c)&&(t._setSettings(f),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=Rn.MOCK_USER;else{m=A6(i.mockUserToken,t._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new _e(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Rn(x)}t._authCredentials=new nP(new WN(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class Ht{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ch(n,Ht._jsonSchema))return new Ht(e,i||null,new Ae(Et.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:on("string",Ht._jsonSchemaVersion),referencePath:on("string")};class ga extends Ra{constructor(e,n,i){super(e,n,Im(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ae(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Eo(t,e,...n){if(t=Vs(t),JN("collection","path",e),t instanceof $m){const i=Et.fromString(e,...n);return _2(i),new ga(t,null,i)}{if(!(t instanceof Ht||t instanceof ga))throw new _e(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return _2(i),new ga(t.firestore,null,i)}}function Os(t,e,...n){if(t=Vs(t),arguments.length===1&&(e=rx.newId()),JN("doc","path",e),t instanceof $m){const i=Et.fromString(e,...n);return b2(i),new Ht(t,null,new Ae(i))}{if(!(t instanceof Ht||t instanceof ga))throw new _e(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return b2(i),new Ht(t.firestore,t instanceof ga?t.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="AsyncQueue";class uj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qk(this,"async_queue_retry"),this._c=()=>{const i=Ny();i&&Ee(cj,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new pa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yc(e))throw e;Ee(cj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",hj(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jx.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&De(47125,{Pc:hj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Ta extends $m{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new uj,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uj(e),this._firestoreClient=void 0,await e}}}function QL(t,e){const n=typeof t=="object"?t:FO(),i=typeof t=="string"?t:Jf,a=OO(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=T6("firestore");l&&ZL(a,...l)}return a}function Ax(t){if(t._terminated)throw new _e(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WL(t),t._firestoreClient}function WL(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new wP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bi(Tn.fromBase64String(e))}catch(n){throw new _e(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bi(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ch(e,Bi._jsonSchema))return Bi.fromBase64String(e.bytes)}}Bi._jsonSchemaVersion="firestore/bytes/1.0",Bi._jsonSchema={type:on("string",Bi._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Ch(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:on("string",Rs._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ch(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ms(e.vectorValues);throw new _e(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:on("string",Ms._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=/^__.*__$/;class e8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rh(e,this.data,n,this.fieldTransforms)}}class fA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:t})}}class Cx{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mA(this.Ac)&&JL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Fm(e)}Cc(e,n,i,a=!1){return new Cx({Ac:e,methodName:n,Dc:i,path:Sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(t){const e=t._freezeSettings(),n=Fm(t._databaseId);return new t8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pA(t,e,n,i,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Mx("Data must be an object, but it was:",c,i);const d=gA(i,c);let f,m;if(l.merge)f=new yi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const x of l.mergeFields){const b=B0(e,x,n);if(!c.contains(b))throw new _e(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);vA(g,b)||g.push(b)}f=new yi(g),m=c.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,m=c.fieldTransforms;return new e8(new Jn(d),f,m)}class Xm extends Km{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xm}}class Rx extends Km{_toFieldTransform(e){return new YP(e.path,new hh)}isEqual(e){return e instanceof Rx}}function n8(t,e,n,i){const a=t.Cc(1,e,n);Mx("Data must be an object, but it was:",a,i);const l=[],c=Jn.empty();Aa(i,((f,m)=>{const g=Dx(e,f,n);m=Vs(m);const x=a.yc(g);if(m instanceof Xm)l.push(g);else{const b=Vh(m,x);b!=null&&(l.push(g),c.set(g,b))}}));const d=new yi(l);return new fA(c,d,a.fieldTransforms)}function i8(t,e,n,i,a,l){const c=t.Cc(1,e,n),d=[B0(e,i,n)],f=[a];if(l.length%2!=0)throw new _e(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(B0(e,l[b])),f.push(l[b+1]);const m=[],g=Jn.empty();for(let b=d.length-1;b>=0;--b)if(!vA(m,d[b])){const w=d[b];let N=f[b];N=Vs(N);const C=c.yc(w);if(N instanceof Xm)m.push(w);else{const T=Vh(N,C);T!=null&&(m.push(w),g.set(w,T))}}const x=new yi(m);return new fA(g,x,c.fieldTransforms)}function s8(t,e,n,i=!1){return Vh(n,t.Cc(i?4:3,e))}function Vh(t,e){if(yA(t=Vs(t)))return Mx("Unsupported field value:",e,t),gA(t,e);if(t instanceof Km)return(function(i,a){if(!mA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let f=Vh(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Vs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $P(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:sm(a.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sm(a.serializer,l)}}if(i instanceof Rs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bi)return{bytesValue:Dk(a.serializer,i._byteString)};if(i instanceof Ht){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:px(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ms)return(function(c,d){return{mapValue:{fields:{[lk]:{stringValue:ck},[em]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return hx(d.serializer,m)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Mm(i)}`)})(t,e)}function gA(t,e){const n={};return nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,((i,a)=>{const l=Vh(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function yA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Rs||t instanceof Bi||t instanceof Ht||t instanceof Km||t instanceof Ms)}function Mx(t,e,n){if(!yA(n)||!ek(n)){const i=Mm(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function B0(t,e,n){if((e=Vs(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return Dx(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const r8=new RegExp("[~\\*/\\[\\]]");function Dx(t,e,n){if(e.search(r8)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new _e(me.INVALID_ARGUMENT,d+t+f)}function vA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a8 extends xA{data(){return super.data()}}function zx(t,e){return typeof e=="string"?Dx(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vx{}class Ix extends Vx{}function Ox(t,e,...n){let i=[];e instanceof Vx&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof Lx)).length,d=l.filter((f=>f instanceof Px)).length;if(c>1||c>0&&d>0)throw new _e(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Px extends Ix{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Px(e,n,i)}_apply(e){const n=this._parse(e);return bA(e._query,n),new Ra(e.firestore,e.converter,A0(e._query,n))}_parse(e){const n=Ym(e.firestore);return(function(l,c,d,f,m,g,x){let b;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){mj(x,g);const N=[];for(const C of x)N.push(fj(f,l,C));b={arrayValue:{values:N}}}else b=fj(f,l,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||mj(x,g),b=s8(d,c,x,g==="in"||g==="not-in");return an.create(m,g,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Lx extends Vx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lx(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:cs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)bA(c,f),c=A0(c,f)})(e._query,n),new Ra(e.firestore,e.converter,A0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bx extends Ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bx(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new _e(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uh(l,c)})(e._query,this._field,this._direction);return new Ra(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new vc(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ux(t,e="asc"){const n=e,i=zx("orderBy",t);return Bx._create(i,n)}class Fx extends Ix{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Fx(e,n,i)}_apply(e){return new Ra(e.firestore,e.converter,nm(e._query,this._limit,this._limitType))}}function l8(t){return Fx._create("limit",t,"F")}function fj(t,e,n){if(typeof(n=Vs(n))=="string"){if(n==="")throw new _e(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yk(e)&&n.indexOf("/")!==-1)throw new _e(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Et.fromString(n));if(!Ae.isDocumentKey(i))throw new _e(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return A2(t,new Ae(i))}if(n instanceof Ht)return A2(t,n._key);throw new _e(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mm(n)}.`)}function mj(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c8{convertValue(e,n="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Aa(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[em].arrayValue?.values?.map((i=>Qt(i.doubleValue)));return new Ms(n)}convertGeoPoint(e){return new Rs(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Vm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const n=_a(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Et.fromString(e);ct(Lk(i),9688,{name:e});const a=new lh(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(n)||_r(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jo extends xA{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(zx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=jo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",jo._jsonSchema={type:on("string",jo._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Vf extends jo{data(e={}){return super.data(e)}}class Ul{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ru(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Vf(this._firestore,this._userDataWriter,i.key,i,new Ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ru(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:u8(d.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){t=$i(t,Ht);const e=$i(t.firestore,Ta);return XL(Ax(e),t._key).then((n=>SA(e,t,n)))}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:on("string",Ul._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class EA extends c8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Hx(t,e,n){t=$i(t,Ht);const i=$i(t.firestore,Ta),a=_A(t.converter,e);return Zm(i,[pA(Ym(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Gi.none())])}function jA(t,e,n,...i){t=$i(t,Ht);const a=$i(t.firestore,Ta),l=Ym(a);let c;return c=typeof(e=Vs(e))=="string"||e instanceof Gm?i8(l,"updateDoc",t._key,e,n,i):n8(l,"updateDoc",t._key,e),Zm(a,[c.toMutation(t._key,Gi.exists(!0))])}function qx(t){return Zm($i(t.firestore,Ta),[new dx(t._key,Gi.none())])}function $x(t,e){const n=$i(t.firestore,Ta),i=Os(t),a=_A(t.converter,e);return Zm(n,[pA(Ym(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Gi.exists(!1))]).then((()=>i))}function cm(t,...e){t=Vs(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||dj(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dj(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let l,c,d;if(t instanceof Ht)c=$i(t.firestore,Ta),d=Im(t._key.path),l={next:f=>{e[i]&&e[i](SA(c,t,f))},error:e[i+1],complete:e[i+2]};else{const f=$i(t,Ra);c=$i(f.firestore,Ta),d=f._query;const m=new EA(c);l={next:g=>{e[i]&&e[i](new Ul(c,m,f,g))},error:e[i+1],complete:e[i+2]},o8(t._query)}return(function(m,g,x,b){const w=new cA(b),N=new eA(g,w,x);return m.asyncQueue.enqueueAndForget((async()=>Wk(await L0(m),N))),()=>{w.Nu(),m.asyncQueue.enqueueAndForget((async()=>Jk(await L0(m),N)))}})(Ax(c),d,a,l)}function Zm(t,e){return(function(i,a){const l=new pa;return i.asyncQueue.enqueueAndForget((async()=>OL(await YL(i),a,l))),l.promise})(Ax(t),e)}function SA(t,e,n){const i=n.docs.get(e._key),a=new EA(t);return new jo(t,a,e._key,i,new Ru(n.hasPendingWrites,n.fromCache),e.converter)}function So(){return new Rx("serverTimestamp")}(function(e,n=!0){(function(a){pc=a})(UO),Qf(new sh("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ta(new iP(i.getProvider("auth-internal")),new aP(c,i.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(m.options.projectId,g)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Ll(g2,y2,e),Ll(g2,y2,"esm2020")})();const h8={apiKey:"AIzaSyCES_Zfi78paxI--dycL2LmBK0-g4fvvEM",authDomain:"famu-nodes.firebaseapp.com",projectId:"famu-nodes",storageBucket:"famu-nodes.firebasestorage.app",messagingSenderId:"67316044555",appId:"1:67316044555:web:72a88c28871236912f480e",measurementId:"G-LB6V1P1JVW"},d8=FN(h8),Vn=QL(d8);function f8(){const[t,e]=D.useState([]),[n,i]=D.useState(""),[a,l]=D.useState(""),[c,d]=D.useState(!1),[f,m]=D.useState(!1),[g,x]=D.useState([]),b=D.useRef(null),w=D.useRef(null);D.useEffect(()=>{const j=localStorage.getItem("chatUsername");j&&(l(j),d(!0))},[]),D.useEffect(()=>{if(!c||!a)return;const j=`${a}_${Date.now()}`;w.current=Os(Vn,"onlineUsers",j);const R=async()=>{try{await Hx(w.current,{username:a,lastSeen:So()})}catch(F){console.error("Error setting online status:",F)}};R();const O=setInterval(R,3e4);return()=>{clearInterval(O),w.current&&qx(w.current).catch(console.error)}},[c,a]),D.useEffect(()=>{if(!c)return;const j=Eo(Vn,"onlineUsers"),R=cm(j,O=>{const F=[],$=new Set;O.forEach(X=>{const A=X.data();$.has(A.username)||($.add(A.username),F.push(A.username))}),x(F.sort())});return()=>R()},[c]),D.useEffect(()=>{if(!c)return;const j=Eo(Vn,"messages"),R=Ox(j,Ux("timestamp","desc"),l8(100)),O=cm(R,F=>{const $=[];F.forEach(X=>{$.push({id:X.id,...X.data()})}),e($.reverse())});return()=>O()},[c]),D.useEffect(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[t]);const N=j=>{j.preventDefault(),a.trim()&&(localStorage.setItem("chatUsername",a.trim()),d(!0))},C=async j=>{if(j.preventDefault(),!(!n.trim()||f)){m(!0);try{await $x(Eo(Vn,"messages"),{text:n.trim(),username:a,timestamp:So()}),i("")}catch(R){console.error("Chyba při odesílání zprávy:",R),alert("Nepodařilo se odeslat zprávu. Zkontroluj připojení.")}finally{m(!1)}}},T=j=>j?j.toDate().toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"}):"";return c?u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[u.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[u.jsxs(st,{to:"/",className:"inline-flex items-center text-white hover:text-gray-100 mb-4 transition-colors",children:[u.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpět na hlavní stránku"]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Iu,{className:"w-10 h-10"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"💬 FAMU Chat"}),u.jsx("p",{className:"text-gray-200 text-sm",children:"Real-time komunikace"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-2 rounded-lg",children:[u.jsx(Sf,{className:"w-4 h-4"}),u.jsxs("span",{children:[g.length," online"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(_v,{className:"w-4 h-4"}),u.jsx("span",{children:a})]})]})]})]})}),u.jsxs("main",{className:"flex-1 max-w-7xl w-full mx-auto px-4 py-6 flex gap-4",children:[u.jsxs("div",{className:"hidden md:block w-64 bg-white rounded-lg shadow-lg border-2 border-gray-900 p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Sf,{className:"w-5 h-5 text-gray-900"}),u.jsxs("h3",{className:"font-bold text-gray-900",children:["Online (",g.length,")"]})]}),u.jsx("div",{className:"space-y-2",children:g.map((j,R)=>u.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${j===a?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"}`,children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),u.jsx("span",{className:"text-sm font-medium truncate",children:j}),j===a&&u.jsx("span",{className:"text-xs opacity-75",children:"(ty)"})]},R))})]}),u.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-lg border-2 border-gray-900 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[t.length===0?u.jsxs("div",{className:"text-center text-gray-500 py-12",children:[u.jsx(Iu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"Zatím žádné zprávy. Buď první kdo něco napíše!"})]}):t.map(j=>u.jsx("div",{className:`flex ${j.username===a?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${j.username===a?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"}`,children:[u.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[u.jsx("span",{className:"font-semibold text-sm",children:j.username}),u.jsx("span",{className:`text-xs ${j.username===a?"text-gray-300":"text-gray-500"}`,children:T(j.timestamp)})]}),u.jsx("p",{className:"break-words",children:j.text})]})},j.id)),u.jsx("div",{ref:b})]}),u.jsx("div",{className:"border-t-2 border-gray-900 p-4",children:u.jsxs("form",{onSubmit:C,className:"flex gap-2",children:[u.jsx("input",{type:"text",value:n,onChange:j=>i(j.target.value),placeholder:"Napiš zprávu...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none",disabled:f}),u.jsxs("button",{type:"submit",disabled:f||!n.trim(),className:"px-6 py-3 bg-gray-900 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u.jsx(uD,{className:"w-5 h-5"}),"Odeslat"]})]})})]}),u.jsxs("div",{className:"md:hidden fixed bottom-24 right-4 bg-gray-900 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2",children:[u.jsx(Sf,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:g.length})]})]})]}):u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-900 p-8 max-w-md w-full mx-4",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx(Iu,{className:"w-16 h-16 mx-auto mb-4 text-gray-900"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"FAMU Chat"}),u.jsx("p",{className:"text-gray-600",children:"Zadej svoje jméno pro vstup do chatu"})]}),u.jsxs("form",{onSubmit:N,children:[u.jsx("input",{type:"text",value:a,onChange:j=>l(j.target.value),placeholder:"Tvoje jméno...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none mb-4",maxLength:20,required:!0}),u.jsx("button",{type:"submit",className:"w-full bg-gray-900 hover:bg-gray-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Vstoupit do chatu"})]}),u.jsx(st,{to:"/",className:"block text-center mt-4 text-gray-600 hover:text-gray-900",children:"← Zpět na hlavní stránku"})]})})}const m8=[{day:0,left:430,width:280,top:0,height:119,code:"373AVTE1",teacher:"FABUŠ P.",room:"LAZ-423",time:"14:00 - 17:15",color:"#CCEEFF",link:"/subject/av"},{day:1,left:16,width:274,top:120,height:119,code:"Dílna",teacher:"TBA",room:"TBA",time:"9:50 - 13:00",color:"#CCCCCC",link:"/subject/general"},{day:1,left:430,width:215,top:120,height:119,code:"373PAD1",teacher:"RADAKULAN V.",room:"LAZ-423",time:"14:00 - 16:25",color:"#CCCCCC",link:"/subject/av"},{day:1,left:726,width:141,top:120,height:119,code:"373PR",teacher:"LUKÁČOVÁ M.",room:"LAZ-423",time:"17:20 - 18:55",color:"#CCCCCC",link:"/subject/general"},{day:2,left:504,width:280,top:240,height:119,code:"303DDF1",teacher:"ČENĚK D.",room:"LAZ-217",time:"14:50 - 18:05",color:"#CCEEFF",link:"/subject/ddf"},{day:2,left:800,width:141,top:300,height:59,code:"373AS7",teacher:"KLAJBANOVÁ N.",room:"LAZ-124",time:"18:10 - 19:45",color:"#CCEEFF",note:"Lichý",link:"/subject/av"},{day:3,left:102,width:133,top:360,height:119,code:"702FAOU3",teacher:"BOHUSLAVOVÁ L.",room:"LAZ-241",time:"10:45 - 12:15",color:"#CCCCCC",link:"/subject/general"},{day:3,left:430,width:141,top:360,height:119,code:"373AVTE1",teacher:"FABUŠ P.",room:"LAZ-423",time:"14:00 - 15:35",color:"#CCEEFF",link:"/subject/av"},{day:3,left:726,width:215,top:360,height:59,code:"373UI",teacher:"MALEČKOVÁ D.",room:"LAZ-107",time:"17:20 - 19:45",color:"#CCEEFF",note:"Sudý",link:"/subject/ai"}];function p8(){const t=new Date().getDay(),e=t===0?-1:t-1;return u.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-900 overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 px-6 py-4",children:[u.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"📅 Týdenní rozvrh"}),u.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Zimní semestr 2025/26"})]}),u.jsx("div",{className:"p-6 overflow-x-auto",children:u.jsxs("div",{className:"relative",style:{minWidth:"1100px"},children:[u.jsx("div",{className:"relative",style:{width:"1000px",height:"20px",marginLeft:"54px"},children:["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"].map((n,i)=>u.jsx("div",{className:"absolute text-xs text-gray-600 font-mono",style:{left:`${i*86}px`,top:"-5px",width:"86px",textAlign:"center"},children:n},n))}),u.jsx("div",{className:"absolute left-0 top-0",style:{width:"50px"},children:["Po","Ut","St","Čt","Pá"].map((n,i)=>{const a=i===e;return u.jsx("div",{className:`flex items-center justify-center font-bold text-sm border-b border-black ${a?"bg-yellow-400 text-gray-900":"bg-white text-gray-700"}`,style:{height:i===0?"120px":"119px",width:"50px"},children:n},n)})}),u.jsxs("div",{className:"relative border border-black",style:{marginLeft:"53px",height:"600px",width:"1032px",fontSize:"0px"},children:[[0,86,172,258,344,430,516,602,688,774,860,946].map((n,i)=>u.jsx("div",{className:"absolute",style:{top:"0px",height:"602px",width:"1px",left:`${n}px`,backgroundColor:"#E3DFDF"}},`vline-${i}`)),[120,240,360,480].map((n,i)=>u.jsx("div",{className:"absolute",style:{top:`${n}px`,left:"0px",width:"1032px",height:"1px",backgroundColor:"#E3DFDF"}},`hline-${i}`)),e>=0&&u.jsx("div",{className:"absolute bg-yellow-50 opacity-30",style:{top:`${e*120}px`,left:"0px",width:"1032px",height:e===0?"120px":"119px"}}),m8.map((n,i)=>u.jsx(st,{to:n.link,className:"absolute border border-black text-center cursor-pointer hover:shadow-xl hover:scale-105 transition-all",style:{position:"absolute",top:`${n.top}px`,left:`${n.left}px`,width:`${n.width}px`,height:`${n.height}px`,backgroundColor:n.color,fontFamily:"Helvetica, Arial, sans-serif",color:"#000000",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis"},children:u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"font-bold",children:n.code}),n.note&&u.jsxs("div",{className:"text-xs font-bold",children:["- ",n.note," -"]}),u.jsx("div",{className:"mt-1",children:n.teacher}),u.jsxs("div",{className:"mt-1",children:[n.room," /"]}),u.jsx("div",{className:"mt-1",children:n.time})]})},i))]}),u.jsx("div",{className:"mt-4 border border-black p-3",style:{width:"1085px",marginLeft:"53px"},children:u.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[u.jsx("span",{className:"font-bold",children:"Legenda:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:"Přednáška:"}),u.jsx("div",{className:"w-8 h-4 border border-black",style:{backgroundColor:"#DDEEFF"}})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{children:"Cvičení:"}),u.jsx("div",{className:"w-8 h-4 border border-black",style:{backgroundColor:"#CCCCCC"}})]})]})})]})})]})}function g8(){return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[u.jsx("header",{className:"bg-gradient-to-r from-gray-900 to-gray-800 text-white py-8 px-6 shadow-xl",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"📅 Rozvrh"}),u.jsx("p",{className:"text-gray-300",children:"Zimní semestr 2025/26"})]})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:pl-16",children:u.jsx(p8,{})})]})}function y8(){const[t,e]=D.useState([]),[n,i]=D.useState(!1),[a,l]=D.useState(null),[c,d]=D.useState({title:"",date:"",time:"",description:"",type:"deadline"}),f={deadline:{label:"Deadline",color:"bg-red-500"},exam:{label:"Zkouška",color:"bg-orange-500"},consultation:{label:"Konzultace",color:"bg-blue-500"},other:{label:"Ostatní",color:"bg-gray-500"}};D.useEffect(()=>{const j=Eo(Vn,"calendarEvents"),R=Ox(j,Ux("date","asc")),O=cm(R,F=>{const $=[];F.forEach(X=>{$.push({id:X.id,...X.data()})}),e($)});return()=>O()},[]);const m=async j=>{j.preventDefault();try{a?await jA(Os(Vn,"calendarEvents",a.id),{...c,updatedAt:So()}):await $x(Eo(Vn,"calendarEvents"),{...c,createdAt:So()}),d({title:"",date:"",time:"",description:"",type:"deadline"}),i(!1),l(null)}catch(R){console.error("Chyba při ukládání události:",R),alert("Nepodařilo se uložit událost.")}},g=async j=>{if(window.confirm("Opravdu chceš smazat tuto událost?"))try{await qx(Os(Vn,"calendarEvents",j))}catch(R){console.error("Chyba při mazání události:",R)}},x=j=>{l(j),d({title:j.title,date:j.date,time:j.time||"",description:j.description||"",type:j.type}),i(!0)},b=()=>{i(!1),l(null),d({title:"",date:"",time:"",description:"",type:"deadline"})},w=()=>{const j={};return t.forEach(R=>{j[R.date]||(j[R.date]=[]),j[R.date].push(R)}),j},N=j=>new Date(j).toLocaleDateString("cs-CZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=w(),T=Object.keys(C).sort();return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Gl,{className:"w-10 h-10"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"📅 Kalendář & Události"}),u.jsx("p",{className:"text-gray-200 text-sm",children:"Deadlines, zkoušky a další události"})]})]}),u.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-white text-gray-900 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:[u.jsx(Yl,{className:"w-5 h-5"}),"Přidat událost"]})]})})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.length===0?u.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-lg border-2 border-gray-900",children:[u.jsx(Gl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Žádné události"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Začni přidáním první události"}),u.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 bg-gray-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:[u.jsx(Yl,{className:"w-5 h-5"}),"Přidat první událost"]})]}):u.jsx("div",{className:"space-y-6",children:T.map(j=>u.jsxs("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-900 overflow-hidden",children:[u.jsx("div",{className:"bg-gray-100 px-6 py-4 border-b-2 border-gray-900",children:u.jsx("h3",{className:"font-bold text-gray-900",children:N(j)})}),u.jsx("div",{className:"p-6 space-y-4",children:C[j].map(R=>u.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border-2 border-gray-300 hover:border-gray-900 transition-colors",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${f[R.type].color} mt-1.5`}),u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:R.title}),u.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-2",children:[u.jsx("span",{className:"font-medium",children:f[R.type].label}),R.time&&u.jsxs("span",{children:["• ",R.time]})]}),R.description&&u.jsx("p",{className:"text-sm text-gray-700",children:R.description})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>x(R),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",children:u.jsx(bv,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>g(R.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",children:u.jsx(km,{className:"w-4 h-4"})})]})]})})]},R.id))})]},j))})}),n&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Upravit událost":"Nová událost"}),u.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded-full",children:u.jsx(uc,{className:"w-6 h-6 text-gray-500"})})]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Název události *"}),u.jsx("input",{type:"text",value:c.title,onChange:j=>d({...c,title:j.target.value}),placeholder:"např. Odevzdání projektu",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Datum *"}),u.jsx("input",{type:"date",value:c.date,onChange:j=>d({...c,date:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Čas"}),u.jsx("input",{type:"time",value:c.time,onChange:j=>d({...c,time:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Typ události *"}),u.jsx("select",{value:c.type,onChange:j=>d({...c,type:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",required:!0,children:Object.entries(f).map(([j,{label:R}])=>u.jsx("option",{value:j,children:R},j))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Popis"}),u.jsx("textarea",{value:c.description,onChange:j=>d({...c,description:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent resize-none",rows:"3",placeholder:"Doplňující informace..."})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Zrušit"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors",children:a?"Uložit":"Přidat"})]})]})]})})]})}function v8(){const[t,e]=D.useState([]),[n,i]=D.useState(!1),[a,l]=D.useState(null),[c,d]=D.useState({title:"",content:""});D.useEffect(()=>{const w=Eo(Vn,"notes"),N=Ox(w,Ux("updatedAt","desc")),C=cm(N,T=>{const j=[];T.forEach(R=>{j.push({id:R.id,...R.data()})}),e(j)});return()=>C()},[]);const f=async w=>{if(w.preventDefault(),!c.title.trim()){alert("Zadej název poznámky");return}try{a?await jA(Os(Vn,"notes",a.id),{title:c.title,content:c.content,updatedAt:So()}):await $x(Eo(Vn,"notes"),{title:c.title,content:c.content,createdAt:So(),updatedAt:So()}),d({title:"",content:""}),i(!1),l(null)}catch(N){console.error("Error saving note:",N),alert("Nepodařilo se uložit poznámku")}},m=w=>{l(w),d({title:w.title,content:w.content||""}),i(!0)},g=async w=>{if(window.confirm("Opravdu chceš smazat tuto poznámku?"))try{await qx(Os(Vn,"notes",w))}catch(N){console.error("Error deleting note:",N)}},x=()=>{d({title:"",content:""}),i(!1),l(null)},b=w=>w?w.toDate().toLocaleString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Kl,{className:"w-10 h-10"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold",children:"📝 Poznámky"}),u.jsx("p",{className:"text-gray-100 text-sm",children:"Vytvářej, edituj a organizuj své poznámky"})]})]}),!n&&u.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:[u.jsx(Yl,{className:"w-5 h-5"}),"Nová poznámka"]})]})})}),u.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&u.jsxs("div",{className:"bg-white rounded-xl shadow-xl border-2 border-blue-500 p-6 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Editovat poznámku":"Nová poznámka"}),u.jsx("button",{onClick:x,className:"text-gray-500 hover:text-gray-700",children:u.jsx(uc,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Název"}),u.jsx("input",{type:"text",value:c.title,onChange:w=>d({...c,title:w.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-lg font-semibold",placeholder:"Název poznámky...",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Obsah"}),u.jsx("textarea",{value:c.content,onChange:w=>d({...c,content:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none resize-none",rows:"15",placeholder:`Piš sem své poznámky...

✨ Podporuje:
• Markdown formátování
• Odrážky a seznamy
• Code snippets
• A cokoliv dalšího!`})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[u.jsx(Xy,{className:"w-5 h-5"}),a?"Uložit změny":"Vytvořit poznámku"]}),u.jsx("button",{type:"button",onClick:x,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Zrušit"})]})]})]}),t.length===0?u.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg border-2 border-gray-900",children:[u.jsx(Kl,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Zatím žádné poznámky"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Vytvoř svou první poznámku a začni si zapisovat!"}),u.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[u.jsx(Yl,{className:"w-5 h-5"}),"Vytvořit první poznámku"]})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>u.jsx("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-900 overflow-hidden hover:shadow-xl transition-all hover:-translate-y-1",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:w.title}),u.jsx("div",{className:"text-gray-600 mb-4 line-clamp-4 whitespace-pre-wrap text-sm",children:w.content||"Prázdná poznámka"}),u.jsx("div",{className:"text-xs text-gray-500 mb-4",children:b(w.updatedAt)}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>m(w),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[u.jsx(bv,{className:"w-4 h-4"}),"Editovat"]}),u.jsx("button",{onClick:()=>g(w.id),className:"px-4 py-2 border-2 border-red-500 text-red-500 rounded-lg hover:bg-red-50 transition-colors",children:u.jsx(km,{className:"w-4 h-4"})})]})]})},w.id))})]})]})}var x8={694:(t,e,n)=>{var i=n(925);function a(){}function l(){}l.resetWarningCache=a,t.exports=function(){function c(m,g,x,b,w,N){if(N!==i){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}function d(){return c}c.isRequired=c;var f={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:l,resetWarningCache:a};return f.PropTypes=f,f}},556:(t,e,n)=>{t.exports=n(694)()},925:t=>{t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},115:t=>{var e=typeof Element<"u",n=typeof Map=="function",i=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var f,m,g,x;if(Array.isArray(c)){if((f=c.length)!=d.length)return!1;for(m=f;m--!=0;)if(!l(c[m],d[m]))return!1;return!0}if(n&&c instanceof Map&&d instanceof Map){if(c.size!==d.size)return!1;for(x=c.entries();!(m=x.next()).done;)if(!d.has(m.value[0]))return!1;for(x=c.entries();!(m=x.next()).done;)if(!l(m.value[1],d.get(m.value[0])))return!1;return!0}if(i&&c instanceof Set&&d instanceof Set){if(c.size!==d.size)return!1;for(x=c.entries();!(m=x.next()).done;)if(!d.has(m.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(d)){if((f=c.length)!=d.length)return!1;for(m=f;m--!=0;)if(c[m]!==d[m])return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf&&typeof c.valueOf=="function"&&typeof d.valueOf=="function")return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString&&typeof c.toString=="function"&&typeof d.toString=="function")return c.toString()===d.toString();if((f=(g=Object.keys(c)).length)!==Object.keys(d).length)return!1;for(m=f;m--!=0;)if(!Object.prototype.hasOwnProperty.call(d,g[m]))return!1;if(e&&c instanceof Element)return!1;for(m=f;m--!=0;)if((g[m]!=="_owner"&&g[m]!=="__v"&&g[m]!=="__o"||!c.$$typeof)&&!l(c[g[m]],d[g[m]]))return!1;return!0}return c!=c&&d!=d}t.exports=function(c,d){try{return l(c,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}}}},pj={};function Mn(t){var e=pj[t];if(e!==void 0)return e.exports;var n=pj[t]={exports:{}};return x8[t](n,n.exports,Mn),n.exports}Mn.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Mn.d(e,{a:e}),e},Mn.d=(t,e)=>{for(var n in e)Mn.o(e,n)&&!Mn.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Mn.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),Mn.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var TA={};function NA(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=NA(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}Mn.d(TA,{A:()=>c7});const ho=function(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=NA(t))&&(i&&(i+=" "),i+=e);return i},be=(gj={default:()=>ue,useMemo:()=>D.useMemo,useRef:()=>D.useRef},Ay={},Mn.d(Ay,gj),Ay);var gj,Ay;const um=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},b8=typeof global=="object"&&global&&global.Object===Object&&global;var _8=typeof self=="object"&&self&&self.Object===Object&&self;const kA=b8||_8||Function("return this")(),Cy=function(){return kA.Date.now()};var w8=/\s/,E8=/^\s+/;const j8=function(t){return t&&t.slice(0,(function(e){for(var n=e.length;n--&&w8.test(e.charAt(n)););return n})(t)+1).replace(E8,"")},hm=kA.Symbol;var AA=Object.prototype,S8=AA.hasOwnProperty,T8=AA.toString,_u=hm?hm.toStringTag:void 0,N8=Object.prototype.toString,yj=hm?hm.toStringTag:void 0;const k8=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":yj&&yj in Object(t)?(function(e){var n=S8.call(e,_u),i=e[_u];try{e[_u]=void 0;var a=!0}catch{}var l=T8.call(e);return a&&(n?e[_u]=i:delete e[_u]),l})(t):(function(e){return N8.call(e)})(t)};var A8=/^[-+]0x[0-9a-f]+$/i,C8=/^0b[01]+$/i,R8=/^0o[0-7]+$/i,M8=parseInt;const vj=function(t){if(typeof t=="number")return t;if((function(i){return typeof i=="symbol"||(function(a){return a!=null&&typeof a=="object"})(i)&&k8(i)=="[object Symbol]"})(t))return NaN;if(um(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=um(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=j8(t);var n=C8.test(t);return n||R8.test(t)?M8(t.slice(2),n?2:8):A8.test(t)?NaN:+t};var D8=Math.max,z8=Math.min;const U0=function(t,e,n){var i,a,l,c,d,f,m=0,g=!1,x=!1,b=!0;if(typeof t!="function")throw new TypeError("Expected a function");function w(R){var O=i,F=a;return i=a=void 0,m=R,c=t.apply(F,O)}function N(R){var O=R-f;return f===void 0||O>=e||O<0||x&&R-m>=l}function C(){var R=Cy();if(N(R))return T(R);d=setTimeout(C,(function(O){var F=e-(O-f);return x?z8(F,l-(O-m)):F})(R))}function T(R){return d=void 0,b&&i?w(R):(i=a=void 0,c)}function j(){var R=Cy(),O=N(R);if(i=arguments,a=this,f=R,O){if(d===void 0)return(function(F){return m=F,d=setTimeout(C,e),g?w(F):c})(f);if(x)return clearTimeout(d),d=setTimeout(C,e),w(f)}return d===void 0&&(d=setTimeout(C,e)),c}return e=vj(e)||0,um(n)&&(g=!!n.leading,l=(x="maxWait"in n)?D8(vj(n.maxWait)||0,e):l,b="trailing"in n?!!n.trailing:b),j.cancel=function(){d!==void 0&&clearTimeout(d),m=0,i=f=a=d=void 0},j.flush=function(){return d===void 0?c:T(Cy())},j},xj=function(t,e,n){var i=!0,a=!0;if(typeof t!="function")throw new TypeError("Expected a function");return um(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),U0(t,e,{leading:i,maxWait:e,trailing:a})};var V8=Mn(115),I8=Mn.n(V8),CA=(function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some((function(a,l){return a[0]===n&&(i=l,!0)})),i}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),a=this.__entries__[i];return a&&a[1]},e.prototype.set=function(n,i){var a=t(this.__entries__,n);~a?this.__entries__[a][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,a=t(i,n);~a&&i.splice(a,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var a=0,l=this.__entries__;a<l.length;a++){var c=l[a];n.call(i,c[1],c[0])}},e})()})(),F0=typeof window<"u"&&typeof document<"u"&&window.document===document,dm=Mn.g!==void 0&&Mn.g.Math===Math?Mn.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),O8=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(dm):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},P8=["top","right","bottom","left","width","height","size","weight"],L8=typeof MutationObserver<"u",B8=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(function(e){var n=!1,i=!1,a=0;function l(){n&&(n=!1,e()),i&&d()}function c(){O8(l)}function d(){var f=Date.now();if(n){if(f-a<2)return;i=!0}else n=!0,i=!1,setTimeout(c,20);a=f}return d})(this.refresh.bind(this))}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter((function(n){return n.gatherActive(),n.hasActive()}));return e.forEach((function(n){return n.broadcastActive()})),e.length>0},t.prototype.connect_=function(){F0&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),L8?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){F0&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n;P8.some((function(a){return!!~i.indexOf(a)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),bj=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},ic=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||dm},_j=fm(0,0,0,0);function If(t){return parseFloat(t)||0}function wj(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(i,a){return i+If(t["border-"+a+"-width"])}),0)}var U8=typeof SVGGraphicsElement<"u"?function(t){return t instanceof ic(t).SVGGraphicsElement}:function(t){return t instanceof ic(t).SVGElement&&typeof t.getBBox=="function"};function F8(t){return F0?U8(t)?(function(e){var n=e.getBBox();return fm(0,0,n.width,n.height)})(t):(function(e){var n=e.clientWidth,i=e.clientHeight;if(!n&&!i)return _j;var a=ic(e).getComputedStyle(e),l=(function(b){for(var w={},N=0,C=["top","right","bottom","left"];N<C.length;N++){var T=C[N],j=b["padding-"+T];w[T]=If(j)}return w})(a),c=l.left+l.right,d=l.top+l.bottom,f=If(a.width),m=If(a.height);if(a.boxSizing==="border-box"&&(Math.round(f+c)!==n&&(f-=wj(a,"left","right")+c),Math.round(m+d)!==i&&(m-=wj(a,"top","bottom")+d)),!(function(b){return b===ic(b).document.documentElement})(e)){var g=Math.round(f+c)-n,x=Math.round(m+d)-i;Math.abs(g)!==1&&(f-=g),Math.abs(x)!==1&&(m-=x)}return fm(l.left,l.top,f,m)})(t):_j}function fm(t,e,n,i){return{x:t,y:e,width:n,height:i}}var H8=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=F8(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),q8=function(t,e){var n=(function(i){var a=i.x,l=i.y,c=i.width,d=i.height,f=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,m=Object.create(f.prototype);return bj(m,{x:a,y:l,width:c,height:d,top:l,right:a+c,bottom:d+l,left:a}),m})(e);bj(this,{target:t,contentRect:n})},$8=(function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new CA,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof ic(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new H8(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof ic(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(n){n.isActive()&&e.activeObservations_.push(n)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map((function(i){return new q8(i.target,i.broadcastRect())}));this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),RA=typeof WeakMap<"u"?new WeakMap:new CA,MA=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=B8.getInstance(),i=new $8(e,n,this);RA.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){MA.prototype[t]=function(){var e;return(e=RA.get(this))[t].apply(e,arguments)}}));const Ej=dm.ResizeObserver!==void 0?dm.ResizeObserver:MA,cr="Left",ur="Right",hr="Up",dr="Down",wl={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Ry={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},jj="mousemove",Sj="mouseup";function Tj(t,e){if(e===0)return t;const n=Math.PI/180*e;return[t[0]*Math.cos(n)+t[1]*Math.sin(n),t[1]*Math.cos(n)-t[0]*Math.sin(n)]}function G8(t){const{trackMouse:e}=t,n=be.useRef(Object.assign({},Ry)),i=be.useRef(Object.assign({},wl)),a=be.useRef(Object.assign({},i.current));let l;for(l in a.current=Object.assign({},i.current),i.current=Object.assign(Object.assign({},wl),t),wl)i.current[l]===void 0&&(i.current[l]=wl[l]);const[c,d]=be.useMemo((()=>(function(f,m){const g=T=>{const j="touches"in T;j&&T.touches.length>1||f(((R,O)=>{O.trackMouse&&!j&&(document.addEventListener(jj,x),document.addEventListener(Sj,w));const{clientX:F,clientY:$}=j?T.touches[0]:T,X=Tj([F,$],O.rotationAngle);return O.onTouchStartOrOnMouseDown&&O.onTouchStartOrOnMouseDown({event:T}),Object.assign(Object.assign(Object.assign({},R),Ry),{initial:X.slice(),xy:X,start:T.timeStamp||0})}))},x=T=>{f(((j,R)=>{const O="touches"in T;if(O&&T.touches.length>1)return j;if(T.timeStamp-j.start>R.swipeDuration)return j.swiping?Object.assign(Object.assign({},j),{swiping:!1}):j;const{clientX:F,clientY:$}=O?T.touches[0]:T,[X,A]=Tj([F,$],R.rotationAngle),k=X-j.xy[0],M=A-j.xy[1],B=Math.abs(k),L=Math.abs(M),q=(T.timeStamp||0)-j.start,I=Math.sqrt(B*B+L*L)/(q||1),H=[k/(q||1),M/(q||1)],ne=(function(Q,W,V,K){return Q>W?V>0?ur:cr:K>0?dr:hr})(B,L,k,M),U=typeof R.delta=="number"?R.delta:R.delta[ne.toLowerCase()]||wl.delta;if(B<U&&L<U&&!j.swiping)return j;const Y={absX:B,absY:L,deltaX:k,deltaY:M,dir:ne,event:T,first:j.first,initial:j.initial,velocity:I,vxvy:H};Y.first&&R.onSwipeStart&&R.onSwipeStart(Y),R.onSwiping&&R.onSwiping(Y);let ee=!1;return(R.onSwiping||R.onSwiped||R[`onSwiped${ne}`])&&(ee=!0),ee&&R.preventScrollOnSwipe&&R.trackTouch&&T.cancelable&&T.preventDefault(),Object.assign(Object.assign({},j),{first:!1,eventData:Y,swiping:!0})}))},b=T=>{f(((j,R)=>{let O;if(j.swiping&&j.eventData){if(T.timeStamp-j.start<R.swipeDuration){O=Object.assign(Object.assign({},j.eventData),{event:T}),R.onSwiped&&R.onSwiped(O);const F=R[`onSwiped${O.dir}`];F&&F(O)}}else R.onTap&&R.onTap({event:T});return R.onTouchEndOrOnMouseUp&&R.onTouchEndOrOnMouseUp({event:T}),Object.assign(Object.assign(Object.assign({},j),Ry),{eventData:O})}))},w=T=>{document.removeEventListener(jj,x),document.removeEventListener(Sj,w),b(T)},N=(T,j)=>{let R=()=>{};if(T&&T.addEventListener){const O=Object.assign(Object.assign({},wl.touchEventOptions),j.touchEventOptions),F=[["touchstart",g,O],["touchmove",x,Object.assign(Object.assign({},O),j.preventScrollOnSwipe?{passive:!1}:{})],["touchend",b,O]];F.forEach((([$,X,A])=>T.addEventListener($,X,A))),R=()=>F.forEach((([$,X])=>T.removeEventListener($,X)))}return R},C={ref:T=>{T!==null&&f(((j,R)=>{if(j.el===T)return j;const O={};return j.el&&j.el!==T&&j.cleanUpTouch&&(j.cleanUpTouch(),O.cleanUpTouch=void 0),R.trackTouch&&T&&(O.cleanUpTouch=N(T,R)),Object.assign(Object.assign(Object.assign({},j),{el:T}),O)}))}};return m.trackMouse&&(C.onMouseDown=g),[C,N]})((f=>n.current=f(n.current,i.current)),{trackMouse:e})),[e]);return n.current=(function(f,m,g,x){return m.trackTouch&&f.el?f.cleanUpTouch?m.preventScrollOnSwipe!==g.preventScrollOnSwipe||m.touchEventOptions.passive!==g.touchEventOptions.passive?(f.cleanUpTouch(),Object.assign(Object.assign({},f),{cleanUpTouch:x(f.el,m)})):f:Object.assign(Object.assign({},f),{cleanUpTouch:x(f.el,m)}):(f.cleanUpTouch&&f.cleanUpTouch(),Object.assign(Object.assign({},f),{cleanUpTouch:void 0}))})(n.current,i.current,a.current,d),c}var fe=Mn(556);function Ku(t){return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,i)}return n}function kj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(n),!0).forEach((function(i){K8(t,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}function K8(t,e,n){return(e=(function(i){var a=(function(l){if(Ku(l)!="object"||!l)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var d=c.call(l,"string");if(Ku(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)})(i);return Ku(a)=="symbol"?a:a+""})(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y8={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"},H0=be.default.memo((function(t){var e=kj(kj({},Y8),t),n=e.description,i=e.fullscreen,a=e.handleImageLoaded,l=e.isFullscreen,c=e.onImageError,d=e.original,f=e.originalAlt,m=e.originalHeight,g=e.originalWidth,x=e.originalTitle,b=e.sizes,w=e.srcSet,N=e.loading,C=l&&i||d;return be.default.createElement(be.default.Fragment,null,be.default.createElement("img",{className:"image-gallery-image",src:C,alt:f,srcSet:w,height:m,width:g,sizes:b,title:x,onLoad:function(T){return a(T,d)},onError:c,loading:N}),n&&be.default.createElement("span",{className:"image-gallery-description"},n))}));H0.displayName="Item",H0.propTypes={description:fe.string,fullscreen:fe.string,handleImageLoaded:fe.func.isRequired,isFullscreen:fe.bool,onImageError:fe.func.isRequired,original:fe.string.isRequired,originalAlt:fe.string,originalHeight:fe.string,originalWidth:fe.string,originalTitle:fe.string,sizes:fe.string,srcSet:fe.string,loading:fe.string};const X8=H0;function Yu(t){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,i)}return n}function Cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach((function(i){Z8(t,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}function Z8(t,e,n){return(e=(function(i){var a=(function(l){if(Yu(l)!="object"||!l)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var d=c.call(l,"string");if(Yu(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)})(i);return Yu(a)=="symbol"?a:a+""})(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q8={left:be.default.createElement("polyline",{points:"15 18 9 12 15 6"}),right:be.default.createElement("polyline",{points:"9 18 15 12 9 6"}),top:be.default.createElement("polyline",{points:"6 15 12 9 18 15"}),bottom:be.default.createElement("polyline",{points:"6 9 12 15 18 9"}),maximize:be.default.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:be.default.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:be.default.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:be.default.createElement(be.default.Fragment,null,be.default.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),be.default.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},W8={strokeWidth:1,viewBox:"0 0 24 24"},DA=function(t){var e=Cj(Cj({},W8),t),n=e.strokeWidth,i=e.viewBox,a=e.icon;return be.default.createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:i,fill:"none",stroke:"currentColor",strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"},Q8[a])};DA.propTypes={strokeWidth:fe.number,viewBox:fe.string,icon:(0,fe.oneOf)(["left","right","top","bottom","maximize","minimize","play","pause"]).isRequired};const bc=DA;var q0=be.default.memo((function(t){var e=t.isFullscreen,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:n,"aria-label":"Open Fullscreen"},be.default.createElement(bc,{strokeWidth:2,icon:e?"minimize":"maximize"}))}));q0.displayName="Fullscreen",q0.propTypes={isFullscreen:fe.bool.isRequired,onClick:fe.func.isRequired};const J8=q0;var $0=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:e,onClick:n,"aria-label":"Previous Slide"},be.default.createElement(bc,{icon:"left",viewBox:"6 0 12 24"}))}));$0.displayName="LeftNav",$0.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const e7=$0;var G0=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:e,onClick:n,"aria-label":"Next Slide"},be.default.createElement(bc,{icon:"right",viewBox:"6 0 12 24"}))}));G0.displayName="RightNav",G0.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const t7=G0;var K0=be.default.memo((function(t){var e=t.isPlaying,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:n,"aria-label":"Play or Pause Slideshow"},be.default.createElement(bc,{strokeWidth:2,icon:e?"pause":"play"}))}));K0.displayName="PlayPause",K0.propTypes={isPlaying:fe.bool.isRequired,onClick:fe.func.isRequired};const n7=K0;function Xu(t){return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Y0.apply(null,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,i)}return n}function Mj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach((function(i){i7(t,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}function i7(t,e,n){return(e=(function(i){var a=(function(l){if(Xu(l)!="object"||!l)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var d=c.call(l,"string");if(Xu(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)})(i);return Xu(a)=="symbol"?a:a+""})(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s7={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}},zA=function(t){var e=Mj(Mj({},s7),t),n=e.children,i=e.className,a=G8({delta:e.delta,onSwiping:e.onSwiping,onSwiped:e.onSwiped});return be.default.createElement("div",Y0({},a,{className:i}),n)};zA.propTypes={children:fe.node.isRequired,className:fe.string,delta:fe.number,onSwiped:fe.func,onSwiping:fe.func};const Dj=zA;var X0=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-top-nav",disabled:e,onClick:n,"aria-label":"Previous Slide"},be.default.createElement(bc,{icon:"top",viewBox:"6 0 12 24"}))}));X0.displayName="TopNav",X0.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const r7=X0;var Z0=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-bottom-nav",disabled:e,onClick:n,"aria-label":"Next Slide"},be.default.createElement(bc,{icon:"bottom",viewBox:"6 0 12 24"}))}));Z0.displayName="BottomNav",Z0.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const a7=Z0;function Fl(t){return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,i)}return n}function Vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach((function(i){Rl(t,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}function o7(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,IA(i.key),i)}}function VA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(VA=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mm(t)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q0(t,e)}function Rl(t,e,n){return(e=IA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IA(t){var e=(function(n){if(Fl(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,"string");if(Fl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(t);return Fl(e)=="symbol"?e:e+""}var Ij=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],l7=(0,fe.arrayOf)((0,fe.shape)({srcSet:fe.string,media:fe.string}));function Oj(t){var e=parseInt(t.keyCode||t.which||0,10);return e===66||e===62}var W0=(function(){function t(e){var n,i,a,l;return(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,t),Rl((i=this,l=[e],a=mm(a=t),n=(function(c,d){if(d&&(Fl(d)=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f})(c)})(i,VA()?Reflect.construct(a,l||[],mm(i).constructor):a.apply(i,l))),"onBulletClick",(function(c,d){var f=n.props,m=f.onBulletClick,g=f.items,x=n.state.currentIndex;c.target.blur(),x!==d&&(g.length===2?n.slideToIndexWithStyleReset(d,c):n.slideToIndex(d,c)),m&&m(c,d)})),n.state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,galleryHeight:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(e.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},n.loadedImages={},n.imageGallery=be.default.createRef(),n.thumbnailsWrapper=be.default.createRef(),n.thumbnails=be.default.createRef(),n.imageGallerySlideWrapper=be.default.createRef(),n.handleImageLoaded=n.handleImageLoaded.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleResize=n.handleResize.bind(n),n.handleOnSwiped=n.handleOnSwiped.bind(n),n.handleScreenChange=n.handleScreenChange.bind(n),n.handleSwiping=n.handleSwiping.bind(n),n.handleThumbnailSwiping=n.handleThumbnailSwiping.bind(n),n.handleOnThumbnailSwiped=n.handleOnThumbnailSwiped.bind(n),n.onThumbnailMouseLeave=n.onThumbnailMouseLeave.bind(n),n.handleImageError=n.handleImageError.bind(n),n.pauseOrPlay=n.pauseOrPlay.bind(n),n.renderThumbInner=n.renderThumbInner.bind(n),n.renderItem=n.renderItem.bind(n),n.slideLeft=n.slideLeft.bind(n),n.slideRight=n.slideRight.bind(n),n.toggleFullScreen=n.toggleFullScreen.bind(n),n.togglePlay=n.togglePlay.bind(n),n.unthrottledSlideToIndex=n.slideToIndex,n.slideToIndex=xj(n.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(n.lazyLoaded=[]),n}return(function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Q0(e,n)})(t,be.default.Component),(function(e,n){return n&&o7(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e})(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.autoPlay,i=e.useWindowKeyDown;n&&this.play(),i?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(e,n){var i=this.props,a=i.items,l=i.lazyLoad,c=i.slideDuration,d=i.slideInterval,f=i.startIndex,m=i.thumbnailPosition,g=i.showThumbnails,x=i.useWindowKeyDown,b=this.state,w=b.currentIndex,N=b.isPlaying,C=e.items.length!==a.length,T=!I8()(e.items,a),j=e.startIndex!==f,R=e.thumbnailPosition!==m,O=e.showThumbnails!==g;d===e.slideInterval&&c===e.slideDuration||N&&(this.pause(),this.play()),R&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),O&&g&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),O&&!g&&this.removeThumbnailsResizeObserver(),(C||O)&&this.handleResize(),n.currentIndex!==w&&this.slideThumbnailBar(),e.slideDuration!==c&&(this.slideToIndex=xj(this.unthrottledSlideToIndex,c,{trailing:!1})),!l||e.lazyLoad&&!T||(this.lazyLoaded=[]),x!==e.useWindowKeyDown&&(x?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(j||T)&&this.setState({currentIndex:f,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var e=this,n=this.state,i=n.currentIndex,a=n.isTransitioning,l=this.props,c=l.onSlide,d=l.slideDuration;this.transitionTimer=window.setTimeout((function(){a&&(e.setState({isTransitioning:!a,isSwipingThumbnail:!1}),c&&c(i))}),d+50)}},{key:"onThumbnailClick",value:function(e,n){var i=this.props,a=i.onThumbnailClick,l=i.items,c=this.state.currentIndex;e.target.parentNode.parentNode.blur(),c!==n&&(l.length===2?this.slideToIndexWithStyleReset(n,e):this.slideToIndex(n,e)),a&&a(e,n)}},{key:"onThumbnailMouseOver",value:function(e,n){var i=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){i.slideToIndex(n),i.pause()}),300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:"setThumbsTranslate",value:function(e){this.setState({thumbsTranslate:e})}},{key:"setModalFullscreen",value:function(e){var n=this.props.onScreenChange;this.setState({modalFullscreen:e}),n&&n(e)}},{key:"getThumbsTranslate",value:function(e){var n,i=this.props,a=i.disableThumbnailScroll,l=i.items,c=this.state,d=c.thumbnailsWrapperWidth,f=c.thumbnailsWrapperHeight,m=this.thumbnails&&this.thumbnails.current;if(a)return 0;if(m){if(this.isThumbnailVertical()){if(m.scrollHeight<=f)return 0;n=m.scrollHeight-f}else{if(m.scrollWidth<=d||d<=0)return 0;n=m.scrollWidth-d}return e*(n/(l.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(e){switch(e){case"left":e=" ".concat("image-gallery-thumbnails-left");break;case"right":e=" ".concat("image-gallery-thumbnails-right");break;case"bottom":e=" ".concat("image-gallery-thumbnails-bottom");break;case"top":e=" ".concat("image-gallery-thumbnails-top")}return e}},{key:"getAlignmentClassName",value:function(e){var n=this.state.currentIndex,i=this.props,a=i.infinite,l=i.items,c="",d="image-gallery-left",f="image-gallery-right";switch(e){case n-1:c=" ".concat(d);break;case n:c=" ".concat("image-gallery-center");break;case n+1:c=" ".concat(f)}return l.length>=3&&a&&(e===0&&n===l.length-1?c=" ".concat(f):e===l.length-1&&n===0&&(c=" ".concat(d))),c}},{key:"getTranslateXForTwoSlide",value:function(e){var n=this.state,i=n.currentIndex,a=n.currentSlideOffset,l=n.previousIndex,c=i!==l,d=e===0&&l===0,f=e===1&&l===1,m=e===0&&i===1,g=e===1&&i===0,x=a===0,b=-100*i+100*e+a;return a>0?this.direction="left":a<0&&(this.direction="right"),g&&a>0&&(b=-100+a),m&&a<0&&(b=100+a),c?d&&x&&this.direction==="left"?b=100:f&&x&&this.direction==="right"&&(b=-100):(g&&x&&this.direction==="left"&&(b=-100),m&&x&&this.direction==="right"&&(b=100)),b}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(e){var n=this.state,i=n.currentIndex,a=n.currentSlideOffset,l=n.slideStyle,c=this.props,d=c.infinite,f=c.items,m=c.useTranslate3D,g=c.isRTL,x=c.slideVertically,b=-100*i,w=f.length-1,N=(b+100*e)*(g?-1:1)+a;d&&f.length>2&&(i===0&&e===w?N=-100*(g?-1:1)+a:i===w&&e===0&&(N=100*(g?-1:1)+a)),d&&f.length===2&&(N=this.getTranslateXForTwoSlide(e));var C=x?"translate(0, ".concat(N,"%)"):"translate(".concat(N,"%, 0)");return m&&(C=x?"translate3d(0, ".concat(N,"%, 0)"):"translate3d(".concat(N,"%, 0, 0)")),Vj({display:this.isSlideVisible(e)?"inherit":"none",WebkitTransform:C,MozTransform:C,msTransform:C,OTransform:C,transform:C},l)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var e,n=this.props,i=n.useTranslate3D,a=n.isRTL,l=this.state,c=l.thumbsTranslate,d=l.thumbsStyle,f=a?-1*c:c;return this.isThumbnailVertical()?(e="translate(0, ".concat(c,"px)"),i&&(e="translate3d(0, ".concat(c,"px, 0)"))):(e="translate(".concat(f,"px, 0)"),i&&(e="translate3d(".concat(f,"px, 0, 0)"))),Vj({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},d)}},{key:"getSlideItems",value:function(){var e=this,n=this.state.currentIndex,i=this.props,a=i.items,l=i.slideOnThumbnailOver,c=i.onClick,d=i.lazyLoad,f=i.onTouchMove,m=i.onTouchEnd,g=i.onTouchStart,x=i.onMouseOver,b=i.onMouseLeave,w=i.renderItem,N=i.renderThumbInner,C=i.showThumbnails,T=i.showBullets,j=[],R=[],O=[];return a.forEach((function(F,$){var X=e.getAlignmentClassName($),A=F.originalClass?" ".concat(F.originalClass):"",k=F.thumbnailClass?" ".concat(F.thumbnailClass):"",M=F.renderItem||w||e.renderItem,B=F.renderThumbInner||N||e.renderThumbInner,L=!d||X||e.lazyLoaded[$];L&&d&&!e.lazyLoaded[$]&&(e.lazyLoaded[$]=!0);var q=e.getSlideStyle($),I=be.default.createElement("div",{"aria-label":"Go to Slide ".concat($+1),key:"slide-".concat($),tabIndex:"-1",className:"image-gallery-slide ".concat(X," ").concat(A),style:q,onClick:c,onKeyUp:e.handleSlideKeyUp,onTouchMove:f,onTouchEnd:m,onTouchStart:g,onMouseOver:x,onFocus:x,onMouseLeave:b,role:"button"},L?M(F):be.default.createElement("div",{style:{height:"100%"}}));if(j.push(I),C&&F.thumbnail){var H=ho("image-gallery-thumbnail",k,{active:n===$});R.push(be.default.createElement("button",{key:"thumbnail-".concat($),type:"button",tabIndex:"0","aria-pressed":n===$?"true":"false","aria-label":"Go to Slide ".concat($+1),className:H,onMouseLeave:l?e.onThumbnailMouseLeave:null,onMouseOver:function(U){return e.handleThumbnailMouseOver(U,$)},onFocus:function(U){return e.handleThumbnailMouseOver(U,$)},onKeyUp:function(U){return e.handleThumbnailKeyUp(U,$)},onClick:function(U){return e.onThumbnailClick(U,$)}},B(F)))}if(T){var ne=ho("image-gallery-bullet",F.bulletClass,{active:n===$});O.push(be.default.createElement("button",{type:"button",key:"bullet-".concat($),className:ne,onClick:function(U){return e.onBulletClick(U,$)},"aria-pressed":n===$?"true":"false","aria-label":"Go to Slide ".concat($+1)}))}})),{slides:j,thumbnails:R,bullets:O}}},{key:"ignoreIsTransitioning",value:function(){var e=this.props.items,n=this.state,i=n.previousIndex,a=n.currentIndex,l=e.length-1;return Math.abs(i-a)>1&&!(i===0&&a===l)&&!(i===l&&a===0)}},{key:"isFirstOrLastSlide",value:function(e){return e===this.props.items.length-1||e===0}},{key:"slideIsTransitioning",value:function(e){var n=this.state,i=n.isTransitioning,a=n.previousIndex,l=n.currentIndex;return i&&!(e===a||e===l)}},{key:"isSlideVisible",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:"slideThumbnailBar",value:function(){var e=this.state,n=e.currentIndex,i=e.isSwipingThumbnail,a=-this.getThumbsTranslate(n);i||(n===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:a,thumbsSwipedTranslate:a}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var e=this.props,n=e.infinite,i=e.isRTL;return n||(i?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var e=this.props,n=e.infinite,i=e.isRTL;return n||(i?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(e){var n=e.event,i=e.absX,a=e.absY,l=e.dir,c=this.props,d=c.disableSwipe,f=c.stopPropagation,m=c.swipingTransitionDuration,g=this.state,x=g.galleryWidth,b=g.galleryHeight,w=g.isTransitioning,N=g.swipingUpDown,C=g.swipingLeftRight,T=this.props.slideVertically;if((l!==hr&&l!==dr&&!N||C||(N||this.setState({swipingUpDown:!0}),T))&&(l!==cr&&l!==ur||C||this.setState({swipingLeftRight:!0}),!d))if(f&&n.preventDefault(),w)this.setState({currentSlideOffset:0});else{if((l===cr||l===ur)&&T||(l===hr||l===dr)&&!T)return;var j=Rl(Rl(Rl(Rl({},cr,-1),ur,1),hr,-1),dr,1)[l],R=i/x*100;T&&(R=a/b*100),Math.abs(R)>=100&&(R=100);var O={transition:"transform ".concat(m,"ms ease-out")};this.setState({currentSlideOffset:j*R,slideStyle:O})}}},{key:"handleThumbnailSwiping",value:function(e){var n=e.event,i=e.absX,a=e.absY,l=e.dir,c=this.props,d=c.stopPropagation,f=c.swipingThumbnailTransitionDuration,m=this.state,g=m.thumbsSwipedTranslate,x=m.thumbnailsWrapperHeight,b=m.thumbnailsWrapperWidth,w=m.swipingUpDown,N=m.swipingLeftRight;if(this.isThumbnailVertical()){if((l===cr||l===ur||N)&&!w)return void(N||this.setState({swipingLeftRight:!0}));l!==hr&&l!==dr||w||this.setState({swipingUpDown:!0})}else{if((l===hr||l===dr||w)&&!N)return void(w||this.setState({swipingUpDown:!0}));l!==cr&&l!==ur||N||this.setState({swipingLeftRight:!0})}var C,T,j,R,O,F=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(C=g+(l===dr?a:-a),T=F.scrollHeight-x+20,j=Math.abs(C)>T,R=C>20,O=F.scrollHeight<=x):(C=g+(l===ur?i:-i),T=F.scrollWidth-b+20,j=Math.abs(C)>T,R=C>20,O=F.scrollWidth<=b),!O&&(l!==cr&&l!==hr||!j)&&(l!==ur&&l!==dr||!R)){d&&n.stopPropagation();var $={transition:"transform ".concat(f,"ms ease-out")};this.setState({thumbsTranslate:C,thumbsStyle:$})}}},{key:"handleOnThumbnailSwiped",value:function(){var e=this.state.thumbsTranslate,n=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:"all ".concat(n,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var e=this.state.currentSlideOffset,n=this.props.swipeThreshold;return Math.abs(e)>n}},{key:"resetSwipingDirection",value:function(){var e=this.state,n=e.swipingUpDown,i=e.swipingLeftRight;n&&this.setState({swipingUpDown:!1}),i&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(e){var n=e.event,i=e.dir,a=e.velocity,l=this.props,c=l.disableSwipe,d=l.stopPropagation,f=l.flickThreshold,m=this.props.slideVertically;if(!c){var g=this.props.isRTL;d&&n.stopPropagation(),this.resetSwipingDirection();var x=(i===cr?1:-1)*(g?-1:1);m&&(x=i===hr?1:-1);var b=m?a>f&&!(i===cr||i===ur):a>f&&!(i===hr||i===dr);this.handleOnSwipedTo(x,b)}}},{key:"handleOnSwipedTo",value:function(e,n){var i=this.state,a=i.currentIndex,l=i.isTransitioning,c=a;!this.sufficientSwipe()&&!n||l||(c+=e),(e===-1&&!this.canSlideLeft()||e===1&&!this.canSlideRight())&&(c=a),this.unthrottledSlideToIndex(c)}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(e){var n=this.props,i=n.disableKeyDown,a=n.useBrowserFullscreen,l=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!i)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:l&&!a&&this.exitFullScreen()}}},{key:"handleImageError",value:function(e){var n=this.props.onErrorImageURL;n&&e.target.src.indexOf(n)===-1&&(e.target.src=n)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var e=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth,galleryHeight:this.imageGallery.current.offsetHeight}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:"initSlideWrapperResizeObserver",value:function(e){var n=this;e&&!e.current||(this.resizeSlideWrapperObserver=new Ej(U0((function(i){i&&i.forEach((function(a){n.setState({thumbnailsWrapperWidth:a.contentRect.width},n.handleResize)}))}),50)),this.resizeSlideWrapperObserver.observe(e.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(e){var n=this;e&&!e.current||(this.resizeThumbnailWrapperObserver=new Ej(U0((function(i){i&&i.forEach((function(a){n.setState({thumbnailsWrapperHeight:a.contentRect.height},n.handleResize)}))}),50)),this.resizeThumbnailWrapperObserver.observe(e.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var e=this.props,n=e.onScreenChange,i=e.useBrowserFullscreen,a=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,l=this.imageGallery.current===a;n&&n(l),i&&this.setState({isFullscreen:l})}},{key:"slideToIndex",value:function(e,n){var i=this.state,a=i.currentIndex,l=i.isTransitioning,c=this.props,d=c.items,f=c.slideDuration,m=c.onBeforeSlide;if(!l){n&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var g=d.length-1,x=e;e<0?x=g:e>g&&(x=0),m&&x!==a&&m(x),this.setState({previousIndex:a,currentIndex:x,isTransitioning:x!==a,currentSlideOffset:0,slideStyle:{transition:"all ".concat(f,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(e){var n=this.props.isRTL;this.slideTo(e,n?"right":"left")}},{key:"slideRight",value:function(e){var n=this.props.isRTL;this.slideTo(e,n?"left":"right")}},{key:"slideTo",value:function(e,n){var i=this.state,a=i.currentIndex,l=i.isTransitioning,c=this.props.items,d=a+(n==="left"?-1:1);l||(c.length===2?this.slideToIndexWithStyleReset(d,e):this.slideToIndex(d,e))}},{key:"slideToIndexWithStyleReset",value:function(e,n){var i=this,a=this.state,l=a.currentIndex,c=a.currentSlideOffset;this.setState({currentSlideOffset:c+(l>e?.001:-.001),slideStyle:{transition:"none"}},(function(){window.setTimeout((function(){return i.slideToIndex(e,n)}),25)}))}},{key:"handleThumbnailMouseOver",value:function(e,n){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,n)}},{key:"handleThumbnailKeyUp",value:function(e,n){Oj(e)&&this.onThumbnailClick(e,n)}},{key:"handleSlideKeyUp",value:function(e){Oj(e)&&(0,this.props.onClick)(e)}},{key:"isThumbnailVertical",value:function(){var e=this.props.thumbnailPosition;return e==="left"||e==="right"}},{key:"addScreenChangeEvent",value:function(){var e=this;Ij.forEach((function(n){document.addEventListener(n,e.handleScreenChange)}))}},{key:"removeScreenChangeEvent",value:function(){var e=this;Ij.forEach((function(n){document.removeEventListener(n,e.handleScreenChange)}))}},{key:"fullScreen",value:function(){var e=this.props.useBrowserFullscreen,n=this.imageGallery.current;e?n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var e=this.state.isFullscreen,n=this.props.useBrowserFullscreen;e&&(n?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var e=this.props.infinite,n=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(n+1):this.pause()}},{key:"play",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.props,i=n.onPlay,a=n.slideInterval,l=n.slideDuration,c=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(a,l)),i&&e&&i(c))}},{key:"pause",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.props.onPause,i=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),n&&e&&n(i))}},{key:"isImageLoaded",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:"handleImageLoaded",value:function(e,n){var i=this.props.onImageLoad;!this.loadedImages[n]&&i&&(this.loadedImages[n]=!0,i(e))}},{key:"renderItem",value:function(e){var n=this.state.isFullscreen,i=this.props.onImageError||this.handleImageError;return be.default.createElement(X8,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:n,onImageError:i,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,loading:e.loading,srcSet:e.srcSet})}},{key:"renderThumbInner",value:function(e){var n=this.props.onThumbnailError||this.handleImageError;return be.default.createElement("span",{className:"image-gallery-thumbnail-inner"},be.default.createElement("img",{className:"image-gallery-thumbnail-image",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,loading:e.thumbnailLoading,onError:n}),e.thumbnailLabel&&be.default.createElement("div",{className:"image-gallery-thumbnail-label"},e.thumbnailLabel))}},{key:"render",value:function(){var e=this.state,n=e.currentIndex,i=e.isFullscreen,a=e.modalFullscreen,l=e.isPlaying,c=this.props,d=c.additionalClass,f=c.disableThumbnailSwipe,m=c.indexSeparator,g=c.isRTL,x=c.items,b=c.thumbnailPosition,w=c.renderFullscreenButton,N=c.renderCustomControls,C=c.renderLeftNav,T=c.renderRightNav,j=c.renderTopNav,R=c.renderBottomNav,O=c.showBullets,F=c.showFullscreenButton,$=c.showIndex,X=c.showThumbnails,A=c.showNav,k=c.showPlayButton,M=c.slideVertically,B=c.renderPlayPauseButton,L=this.getThumbnailStyle(),q=this.getSlideItems(),I=q.slides,H=q.thumbnails,ne=q.bullets,U=ho("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(b),{"image-gallery-rtl":g}),Y=ho("image-gallery-bullets",{"image-gallery-bullets-vertical":M}),ee=be.default.createElement("div",{ref:this.imageGallerySlideWrapper,className:U},N&&N(),this.canSlide()?be.default.createElement(be.default.Fragment,null,A&&be.default.createElement(be.default.Fragment,null,M?j(this.slideLeft,!this.canSlideLeft()):C(this.slideLeft,!this.canSlideLeft()),M?R(this.slideRight,!this.canSlideRight()):T(this.slideRight,!this.canSlideRight())),be.default.createElement(Dj,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},be.default.createElement("div",{className:"image-gallery-slides"},I))):be.default.createElement("div",{className:"image-gallery-slides"},I),k&&B(this.togglePlay,l),O&&be.default.createElement("div",{className:Y},be.default.createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},ne)),F&&w(this.toggleFullScreen,i),$&&be.default.createElement("div",{className:"image-gallery-index"},be.default.createElement("span",{className:"image-gallery-index-current"},n+1),be.default.createElement("span",{className:"image-gallery-index-separator"},m),be.default.createElement("span",{className:"image-gallery-index-total"},x.length))),Q=ho("image-gallery",d,{"fullscreen-modal":a}),W=ho("image-gallery-content",this.getThumbnailPositionClassName(b),{fullscreen:i}),V=ho("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(b),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&g},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!f},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!f});return be.default.createElement("div",{ref:this.imageGallery,className:Q,"aria-live":"polite"},be.default.createElement("div",{className:W},(b==="bottom"||b==="right")&&ee,X&&H.length>0?be.default.createElement(Dj,{className:V,delta:0,onSwiping:!f&&this.handleThumbnailSwiping,onSwiped:!f&&this.handleOnThumbnailSwiped},be.default.createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},be.default.createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:L,"aria-label":"Thumbnail Navigation"},H))):null,(b==="top"||b==="left")&&ee))}}])})();W0.propTypes={flickThreshold:fe.number,items:(0,fe.arrayOf)((0,fe.shape)({bulletClass:fe.string,bulletOnClick:fe.func,description:fe.string,original:fe.string,originalHeight:fe.number,originalWidth:fe.number,loading:fe.string,thumbnailHeight:fe.number,thumbnailWidth:fe.number,thumbnailLoading:fe.string,fullscreen:fe.string,originalAlt:fe.string,originalTitle:fe.string,thumbnail:fe.string,thumbnailAlt:fe.string,thumbnailLabel:fe.string,thumbnailTitle:fe.string,originalClass:fe.string,thumbnailClass:fe.string,renderItem:fe.func,renderThumbInner:fe.func,imageSet:l7,srcSet:fe.string,sizes:fe.string})).isRequired,showNav:fe.bool,autoPlay:fe.bool,lazyLoad:fe.bool,infinite:fe.bool,showIndex:fe.bool,showBullets:fe.bool,showThumbnails:fe.bool,showPlayButton:fe.bool,showFullscreenButton:fe.bool,disableThumbnailScroll:fe.bool,disableKeyDown:fe.bool,disableSwipe:fe.bool,disableThumbnailSwipe:fe.bool,useBrowserFullscreen:fe.bool,onErrorImageURL:fe.string,indexSeparator:fe.string,thumbnailPosition:(0,fe.oneOf)(["top","bottom","left","right"]),startIndex:fe.number,slideDuration:fe.number,slideInterval:fe.number,slideOnThumbnailOver:fe.bool,swipeThreshold:fe.number,swipingTransitionDuration:fe.number,swipingThumbnailTransitionDuration:fe.number,onSlide:fe.func,onBeforeSlide:fe.func,onScreenChange:fe.func,onPause:fe.func,onPlay:fe.func,onClick:fe.func,onImageLoad:fe.func,onImageError:fe.func,onTouchMove:fe.func,onTouchEnd:fe.func,onTouchStart:fe.func,onMouseOver:fe.func,onMouseLeave:fe.func,onBulletClick:fe.func,onThumbnailError:fe.func,onThumbnailClick:fe.func,renderCustomControls:fe.func,renderLeftNav:fe.func,renderRightNav:fe.func,renderTopNav:fe.func,renderBottomNav:fe.func,renderPlayPauseButton:fe.func,renderFullscreenButton:fe.func,renderItem:fe.func,renderThumbInner:fe.func,stopPropagation:fe.bool,additionalClass:fe.string,useTranslate3D:fe.bool,isRTL:fe.bool,useWindowKeyDown:fe.bool,slideVertically:fe.bool},W0.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onBulletClick:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,slideVertically:!1,renderLeftNav:function(t,e){return be.default.createElement(e7,{onClick:t,disabled:e})},renderRightNav:function(t,e){return be.default.createElement(t7,{onClick:t,disabled:e})},renderTopNav:function(t,e){return be.default.createElement(r7,{onClick:t,disabled:e})},renderBottomNav:function(t,e){return be.default.createElement(a7,{onClick:t,disabled:e})},renderPlayPauseButton:function(t,e){return be.default.createElement(n7,{onClick:t,isPlaying:e})},renderFullscreenButton:function(t,e){return be.default.createElement(J8,{onClick:t,isFullscreen:e})},useWindowKeyDown:!0};const c7=W0;var u7=TA.A;const h7=[{id:"overview",title:"Přehled projektu",icon:iT,color:"blue"},{id:"interventions",title:"Typy intervencí",icon:Z4,color:"green"},{id:"timeline",title:"Časový plán",icon:Gl,color:"orange"},{id:"methodology",title:"Metodologie",icon:Sf,color:"purple"},{id:"outputs",title:"Výstupy",icon:tT,color:"red"},{id:"gallery",title:"Galerie",icon:nT,color:"pink"}];function Pj(){const{subpage:t}=Sm(),e=t||"overview";return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("header",{className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 text-white shadow-lg sticky top-0 z-50 transition-all duration-300 py-3",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!1,u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"transition-all duration-300 flex items-center gap-4",children:u.jsxs(u.Fragment,{children:[u.jsx(st,{to:"/",className:"hover:text-gray-100 transition-colors",children:u.jsx(cc,{className:"w-5 h-5"})}),u.jsx("div",{children:u.jsx("h1",{className:"text-xl font-bold",children:"🎨 Guerillové intervence"})})]})}),u.jsxs("a",{href:"/palmovka_project_proposal.pdf",download:!0,className:"flex items-center gap-2 bg-white text-teal-600 rounded-lg font-medium hover:bg-gray-100 transition-all shadow-lg px-3 py-2 text-sm",children:[u.jsx(P4,{className:"w-4 h-4"}),!1]})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:h7.map(n=>{const i=n.icon,a=e===n.id;return u.jsxs(st,{to:`/project/${n.id}`,className:`
                  p-4 rounded-xl border-2 transition-all hover:scale-105 hover:shadow-lg
                  ${a?"bg-gradient-to-br from-teal-500 to-cyan-500 text-white border-teal-600 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-teal-400"}
                `,children:[u.jsx(i,{className:`w-8 h-8 mx-auto mb-2 ${a?"text-white":"text-teal-600"}`}),u.jsx("p",{className:"text-center text-sm font-medium",children:n.title})]},n.id)})}),e==="overview"&&u.jsx(d7,{}),e==="interventions"&&u.jsx(f7,{}),e==="methodology"&&u.jsx(m7,{}),e==="outputs"&&u.jsx(p7,{}),e==="timeline"&&u.jsx(g7,{}),e==="gallery"&&u.jsx(y7,{officialProjects:OA,guerillaArt:PA})]})]})}function d7(){return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🎬 Video dokumentace projektu"}),u.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-black mb-4",children:u.jsx("iframe",{width:"100%",height:"100%",src:"https://youtube.com/embed/AKgS2maI94k",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Slunečnice na Palmovce"}),u.jsx("p",{className:"text-sm text-gray-600",children:"První realizovaná intervence - guerillová výsadba květin"})]}),u.jsxs("a",{href:"https://youtu.be/AKgS2maI94k",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:[u.jsx(Vu,{className:"w-4 h-4"}),"YouTube"]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"👥 Tým projektu"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg p-5 border-2 border-teal-200",children:u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"text-3xl",children:"🎬"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Martin Tomek"}),u.jsx("p",{className:"text-sm text-teal-700 font-medium",children:"Režisér, autor projektu"})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-5 border-2 border-blue-200",children:u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"text-3xl",children:"🎥"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Jiří Kejkula"}),u.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Produkce"})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg p-5 border-2 border-yellow-200",children:u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"text-3xl",children:"🍌"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Tomáš Vrána"}),u.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Spolupracující umělec"})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-5 border-2 border-purple-200",children:u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"text-3xl",children:"🎮"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900",children:"Michal Tancjura"}),u.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Spolupracující umělec - Game Design FAMU"})]})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"📚 Výzkumné podklady a dokumenty"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-6 border-2 border-indigo-200",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"text-4xl",children:"📄"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Sociologicko-antropologický výzkum žitého prostoru v lokalitě Palmovka"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Souhrnná zpráva z antropologického výzkumu Palmovky (Praha 8) - klíčový podklad pro metodologii projektu."}),u.jsxs("a",{href:"https://m.praha8.cz/file/GbS/Souhrnna-zprava-Sociologicko-antropologicky-vyzkum-ziteho-prost%20oru-v-lokalite-Palmovka.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:[u.jsx(Vu,{className:"w-4 h-4"}),"Stáhnout PDF zprávu"]})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg p-6 border-2 border-teal-200",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"text-4xl",children:"📋"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Plán mentoringu - Magisterský program"}),u.jsxs("div",{className:"space-y-4 text-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900",children:"Student:"}),u.jsx("p",{className:"text-gray-700",children:"Martin Tomek"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900",children:"Obor / Program:"}),u.jsx("p",{className:"text-gray-700",children:"CAS FAMU - Magisterský program"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Anotace praktického projektu:"}),u.jsx("p",{className:"text-gray-700",children:"Experimentální dokumentární film o guerillových intervencích ve veřejném prostoru Palmovky. Projekt zahrnuje participativní umění, tactical urbanism a komunitní aktivaci prostoru."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Mentor/ka pro praktický projekt:"}),u.jsx("p",{className:"text-gray-700",children:"TBD"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Anotace teoretického projektu:"}),u.jsx("p",{className:"text-gray-700",children:"Výzkum vlivu participativního umění na aktivaci zanedbaných veřejných prostorů. Analýza metodologie tactical urbanism a komunitního zapojení."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Mentor/ka pro teoretickou práci:"}),u.jsx("p",{className:"text-gray-700",children:"TBD"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Harmonogram:"}),u.jsx("p",{className:"text-gray-700",children:"2 roky (2025-2027) - Viz časový plán projektu"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Externí konzultace:"}),u.jsx("p",{className:"text-gray-700",children:"Bývalý student Časů Turner - veřejně prospěšné práce"})]})]})]})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"💰 Financování projektu"}),u.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-6 border-2 border-green-200",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"text-4xl",children:"📋"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Granty Praha 8 - Kultura 2025"}),u.jsx("p",{className:"text-gray-700 mb-3",children:"Grantový program pro kulturní a komunitní projekty na území Prahy 8."}),u.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border-l-4 border-yellow-500 rounded",children:u.jsx("p",{className:"text-sm font-bold text-yellow-900",children:"⚠️ Deadline: Do konce roku 2025"})}),u.jsxs("a",{href:"https://www.praha8.cz/Granty-Kultura-2025",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:[u.jsx(Vu,{className:"w-4 h-4"}),"Více informací o grantech"]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-blue-200",children:[u.jsx("h3",{className:"font-bold text-lg text-blue-900 mb-2",children:"🎯 Cíl"}),u.jsx("p",{className:"text-gray-700",children:"Oživit zanedbaná místa Palmovky pomocí participativního umění a mikro-intervencí"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-6 border-2 border-green-200",children:[u.jsx("h3",{className:"font-bold text-lg text-green-900 mb-2",children:"⏱️ Délka"}),u.jsx("p",{className:"text-gray-700",children:"2 roky průběžných intervencí s dokumentací celého procesu"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200",children:[u.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-2",children:"💰 Rozpočet"}),u.jsx("p",{className:"text-gray-700",children:"~20 000 Kč (materiál, film, technika)"})]})]})]})}const OA=[{title:"Hlasovací popelníky",subtitle:"Interaktivní mobiliář",icon:"🗳️",color:"red",description:'Experiment s veřejným zapojením skrze herní mechanismus "hlasování nedopalky"',artist:"Martin Tomek",status:"V plánu",details:["Gamifikace","Zapojení komunity","Čistší prostor"],fullDescription:`**Pozorování a problém**

Cigaretové nedopalky jsou jedním z nejběžnějších odpadků na ulici. Mnoho lidí (zejména starší generace) ani nevnímá nedopalky jako odpad – odhodit ho na zem je pro ně normální. Přitom nedopalky znečišťují prostředí a jejich úklid stojí nemalé peníze.

**Koncept hlasovacího popelníku**

Popelník rozdělený na dvě přihrádky s otázkou, na kterou kuřák "hlasuje" tím, že vhodí nedopalek do jedné či druhé části.

**Příklad:** "Je lepší káva, nebo čaj?" – jedna strana "káva", druhá "čaj"; lidé házejí špačky podle svého názoru.

Tento hravý prvek motivuje kuřáky dávat nedopalek do popelníku, ne na zem, a zároveň je to anketa.

**Motivace projektu**

• **Zlepšit čistotu Palmovky** - praktický dopad na prostředí

• **Nenásilná komunikace problému** - místo moralizování použít hravost

• **Mnohé kampaně nefungují, protože moralizují** - hravost by mohla fungovat lépe

**Plán realizace**

• Vyrobit či upravit stávající popelník

• Doplnit ho **průhlednou dvoukomorovou nádobou** s nápisem vyzývajícím k hlasování

• Téma může být neutrální nebo lokální (např. "Libeň nebo Karlín?" jako vtípek)

• Sledovat, zda se zvýší počet nedopalků v popelníku a sníží na zemi

**Metodologie výzkumu - Srovnání dvou lokalit**

• **Experimentální místo** - s hlasovacím popelníkem

• **Kontrolní místo** - bez hlasovacího popelníku

**Postup měření:**

1. Najít místo hodně znečištěné od nedopalků

2. Vyčistit místo a dokumentovat (baseline)

3. Počkat měsíc bez intervence

4. Znovu vyčistit a **spočítat/zvážit nedopalky**

5. Instalovat hlasovací popelník

6. Po týdnu sesbírat nedopalky z obou lokalit a zvážit či spočítat

**Sledované parametry:**

• Volby lidí (jaké odpovědi vyhrávají)

• Míru znečištění místa (počet nedopalků mimo popelník)

• Before/after data - funguje intervence?

**Vizualizace neviditelného**

Průhledná skleněná komora ukazuje nahromaděné nedopalky. Mnozí si možná vůbec poprvé **uvědomí, kolik nedopalků se denně vyhodí**. Forma vizualizace neviditelného problému.

**Potenciál pro město**

Získám **tvrdá data**, která mohou posloužit městu. Kdyby se to osvědčilo, mohla by radnice takové popelníky instalovat oficiálně.

**Časový harmonogram**

• **Zima 2025** (leden-březen) - Příprava, design, výroba

• **Jarní klauzurní práce** - Prezentace projektu a metodologie

• **Jaro 2026** - Instalace a testování (2 měsíce)

• **Léto 2026** - Vyhodnocení dat

Popelník lze vyrábět i v zimě, instalace a testování na jaře.`,materials:["Dřevo/kov pro konstrukci","Průhledný plexisklo","Popisky/otázky","Montážní materiál","Ochranný lak"],budget:"~1500 Kč na 1 popelník",timeline:"Zima 2025 (příprava) → Jaro 2026 (instalace) → 2 měsíce testování",location:"Frekventovaná místa s kuřáky na Palmovce",images:[{original:"/FAMU/projects/hlasovaci-popelnik/design.jpeg",thumbnail:"/FAMU/projects/hlasovaci-popelnik/design.jpeg",description:"Design hlasovacího popelníku"}]},{title:"Betonové banány - lavičky",subtitle:"Mobiliář",icon:"🍌",color:"yellow",description:'Série betonových laviček ve tvaru banánů. Funkční urbánní mobiliář s hravým designem inspirovaný "Tropical Palmbeach".',artist:"Martin Tomek",status:"V plánu",details:["Recyklovaný beton","Veřejné sedání","Tropical Palmbeach"],fullDescription:`**Koncept: Tropical Palmbeach**

Projekt vychází z lokální identity Palmovky. Podle antropologické zprávy místní obyvatelé říkají této čtvrti "Tropical Palmbeach" - inspirováno graffiti, které zde dříve bylo. Koncept tropického lesa: palmy, banány... tropická Palmovka.

Série betonových laviček ve tvaru banánů jako funkční urbánní mobiliář. Každá lavička bude mít personalizovanou "etiketu" s názvem Palmovka, připomínající banánové etikety z obchodu.

**Časový harmonogram:**

• **Zima 2025** (leden-březen) - Návrh, výroba formy, postupné odlévání
• **Jaro-Léto 2026** - Instalace a uvedení do provozu

Beton lze pracovat i v zimě (vnitřní prostory), instalace ideálně v teplém počasí.`,materials:["Rychletuhnoucí beton (12x 25kg)","Forma na odlévání","Pletivo pro výztuž","Nátěr/barva","Montážní materiál"],budget:"~3000 Kč na 1 lavičku",timeline:"Zima 2025 (výroba) → Jaro-Léto 2026 (instalace)",location:"Křižovatka před KB, okolí Palmovky",images:[]},{title:"Slunečnice a květiny na Palmovce",subtitle:"Výsadba + Guerilla Gardening",icon:"🌻",color:"green",description:"Guerillová výsadba 120 sazenic slunečnic do zanedbaných betonových květináčů - nejambicióznější akce z hlediska úsilí",artist:"Martin Tomek",status:"Realizováno",details:["120 sazenic","Recyklace","12 lokalit","Reflexní vesty"],fullDescription:`**Realizace 2025 - Testovací intervence**

V roce 2025 jsem realizoval testovací intervenci - výsadbu slunečnic a dalších květin do zanedbaných betonových květináčů na Palmovce. Tato testovací akce měla za cíl zjistit limity a možnosti guerillového zahradničení v městském prostoru.

**Kontext a motivace**

V lokalitě Palmovka je řada velkých kruhových nebo čtvercových záhonů a květináčů, které jsou však léta prázdné nebo v nich roste jen plevel a tráva, již komunální technika vždy poseká a tím udržuje místo mrtvé.

Přitom ještě v 90. letech při vzniku pěší zóny Palmovky tam byla vysázena zeleň. Dodnes lze na Google Street View najít, že v těch betonových ostrůvcích kdysi byly keře nebo stromky. Dnes nic. Palmovka tím působí obzvlášť nevlídně: minimum stínu, žádná barva, jen beton.

Motivace: zazelenit a rozveselit Palmovku aspoň symbolicky. Zjistit, jak lidé zareagují, když se ve "veřejném" květináči objeví květiny, aniž by to instalovala radnice.

**Postup výsadby**

Zjara jsem v bytě předpěstoval asi **120 sazenic** – semena slunečnic a popínavky jsem zasel do kelímků od kávy a jiných vyřazených nádob (recyklace). Mladé rostlinky jsem přesadil do větších nádob a po dvou měsících vyrostly do síly, že mohly ven.

S kamarádem jsme vytipovali **12 konkrétních květináčů a záhonů** na Palmovce. Den výsadby: za plného dne, v **reflexních vestách** (nalezených v kontejneru), s motykou a konví. Transparentní taktika - lidé nás pokládali za pracovníky města a nikdo se nepozastavoval. Naopak jsme dostali pochvalu.

**Interakce a vandalismus**

Po výsadbě nastalo několik týdnů péče. Ukázalo se, že největším nepřítelem nejsou zahradníci města, ale samotní lidé. Plůtky se staly terčem kopanců a vandalismu - děti i dospělí do nich kopali pro zábavu. Při každé návštěvě jsem našel některý plůtek vyvrácený. Trpělivě jsem je obnovoval.

Aktivní zalévání co dva dny - v horkém létě až 10 litrů vody z dálky. Při zalévání docházelo k přímým interakcím: lidé se ptali, většinou projevili překvapení a uznání. Cítil jsem, že osobní přítomnost a komunikace umí otočit vnímání lidí k pozitivnímu.

**Výsledek a úspěch**

Po dvou měsících přežily **tři slunečnice** z původních třiceti. Důvody nízkého přežití: komunální sekáči, vandalismus, vyčerpaná půda.

Ale jedna slunečnice dosáhla úžasných **3 metrů výšky** - byla viditelná z celé Palmovky! Lidé se na ni chodili dívat z dálky a stala se dominantou prostoru.

Zajímavý fenomén: Postupně si **někdo odnášel květy domů**. Tím si lidé přivlastňovali kus té instalace - spontánní interakce s dílem, kterou jsem neplánoval. Instalace se tak stala participativní i v tomto nečekaném směru.

**Poučení z testovací intervence 2025**

Práce s živým materiálem ve městě je náročná - květiny potřebují stálou péči. Půda v betonových květináčích je vyčerpaná, tvrdá, neudrží vlhkost.

**Plán pro rok 2026 - Poučení z chyb**

Na základě zkušeností z roku 2025 plánuji v roce 2026 více škálovat projekt s těmito vylepšeními:

• **Větší nádoby** - použít větší cihly/květináče pro lepší růst kořenů

• **Kvalitní substrát** - sehnat **černozem z lesa** a dovézt na místo místo vyčerpané městské hlíny

• **Lepší předpěst** - více času na růst sazenic před výsadbou

• **Škálovat nahoru** - cíl vysadit **alespoň 100 rostlin** místo 30

• **Systematický přístup** - aplikovat poučení z testovací fáze

Má guerilová akce v roce 2025 splnila symbolický účel: ukázala, že by to šlo, ale také proč to vyžaduje lepší přípravu. Rok 2026 bude o aplikaci těchto poznatků.`,materials:["Semena/sazenice slunečnic (120 ks)","Recyklované kelímky","Hlína","Kravské hnojivo","Plůtky (plastové pletivo)","Reflexní vesty","Motyka, konev"],budget:"~800 Kč (sazenice, hlína, hnojivo, plůtky)",timeline:"Jaro 2025 (předpěstování) → Léto 2025 (výsadba, péče)",location:"12 betonových záhonů a květináčů na Palmovce",images:[{original:"/FAMU/projects/slunecnice/IMG_4417.jpeg",thumbnail:"/FAMU/projects/slunecnice/IMG_4417.jpeg",description:"Slunečnice na Palmovce - výsadba"},{original:"/FAMU/projects/slunecnice/IMG_4421.jpeg",thumbnail:"/FAMU/projects/slunecnice/IMG_4421.jpeg",description:"Slunečnice rostou v betonovém prostoru"},{original:"/FAMU/projects/slunecnice/IMG_4702.jpeg",thumbnail:"/FAMU/projects/slunecnice/IMG_4702.jpeg",description:"Rozkvetlé slunečnice na Palmovce"}]},{title:"Parklety",subtitle:"Mobiliář / Tactical Urbanism",icon:"🪑",color:"orange",description:"Dočasná přeměna parkovacích míst na prostor pro setkávání - kompletní obývací pokoj pod širým nebem",artist:"Martin Tomek",status:"V plánu",details:["Dřevěné palety","Komunitní náměstí","Reversibilní","Obývák venku"],fullDescription:`**Koncept**

Přeměna parkovacího místa na dočasné komunitní náměstí pomocí recyklovaných dřevěných palet. Vytvoření kompletního obývacího pokoje ve veřejném prostoru - místo, kde předtím stálo pouze auto.

Cílem je vytvořit plnohodnotný obývák venku s lavičkami, stolkem, kobercem a květinami. Symbolické znovudobytí prostoru pro lidi místo aut.

**Mobiliář**

• **Lavičky z palet** - sedací prostor pro 4-6 lidí

• **Stolek** - centrální bod, možnost na kávu/knihu

• **Koberec** - definuje prostor, přidává domácí atmosféru

• **Květináč s květinami** - přináší zeleň a život do betonu

• **Polštáře** - komfort a barva

**Cíl projektu**

Ukázat potenciál městského prostoru a vyvolat debatu o prioritách ve veřejném prostoru.

**Časový harmonogram**

• **Jaro 2026** - Sběr palet, příprava materiálů

• **Léto 2026** - Stavba a instalace parkletů

Ideální pro teplé počasí, kdy lidé tráví čas venku.`,materials:["Dřevěné EURO palety (6-8 ks)","Venkovní koberec","Malý stolek","Polštáře/sedáky","Květináč + rostliny","Dekorace","Nářadí (šroubovák, bruska)"],budget:"~3000-4000 Kč (palety zdarma, materiály, rostliny)",timeline:"Jaro-Léto 2026 (sběr palet, stavba, instalace)",location:"Vybrané parkovací místo na Palmovce (viditelné, bezpečné)",images:[]},{title:"Křídový Game Jam",subtitle:"Interaktivní hra",icon:"🎮",color:"purple",description:"Spolupráce s Herní katedrou FAMU - venkovní interaktivní instalace a pouliční hry",artist:"Martin Tomek + Game Design FAMU",status:"V přípravě",details:["Festival Closur","Mezioborová spolupráce","Hernost ve veřejném prostoru"],fullDescription:"Mezioborová spolupráce s Katedrou herního designu FAMU. Jednodenní game jam zaměřený na tvorbu her a interaktivních instalací ve veřejném prostoru. Propojení herních principů s guerillovým uměním.",materials:["Křídy různých barev","Interaktivní prvky","Dokumentační technika"],budget:"~1000 Kč",timeline:"1 den (game jam) + příprava + dokumentace",location:"Palmovka, možná festival Closur",images:[],partner:"Michal z Herního designu FAMU"},{title:"Interaktivní kamerová hra",subtitle:"Game Design x Veřejný prostor",icon:"🎮",color:"purple",description:"Spolupráce s game designem na vytvoření interaktivní hry s kamerou. Témata: internetová bezpečnost a veřejný prostor.",artist:"Martin Tomek",status:"V plánu",details:["Computer vision","Interaktivní instalace","Edukace hrou"],fullDescription:"Mezioborová spolupráce s Katedrou herního designu FAMU na vytvoření interaktivní hry využívající kameru a computer vision. Hra bude instalována ve veřejném prostoru a zaměří se na témata jako internetová bezpečnost, soukromí ve veřejném prostoru, nebo sledování a datová stopa. Herní mechaniky pomohou lidem zážitkově pochopit digitální témata v offline prostředí.",materials:["Webkamera/tablet","Display/projekce","Počítač/Raspberry Pi","Software (Processing, Unity, web)","Ochranný kryt"],budget:"~5000 Kč (technika, výroba, instalace)",timeline:"2-3 měsíce (design, prototyping, testování, instalace)",location:"Palmovka - frekventované místo, možná čekárna/zastávka",images:[],partner:"Katedra herního designu FAMU"}],PA=[{title:"Detournement - Boj s reklamou",subtitle:"Guerilla Art / Reclaiming Public Space",icon:"🎭",color:"pink",description:"Přelepování nelegálních reklam uměleckými zásahy. Autorská reakce na vizuální smog a reclaiming public space.",artist:"Ptáček",status:"Probíhá",details:["Subvertising","Kritické umění","Anonymní akce","Reclaiming space"],fullDescription:`Systematická práce s reklamním prostorem na Palmovce jako forma kritického umění a "reclaiming public space".

Metodologie:

1. **Mapping nelegálních reklam** - Kompletní kontrola Palmovky a identifikace všech nelegálních reklam (bez povolení)

2. **Odstranění nelegálních reklam** - 100% odstranění identifikovaných nelegálních reklam (legální akce)

3. **Práce s reklamními rámy** - Hackování legálních reklamních sloupů a billboardů:
   • Použití reklamy jako rámu pro umění
   • Subvertising - přetvoření reklamního sdělení
   • Detournement - odklon významu reklamy
   • Instalace vlastních děl do prázdných rámů

4. **Reclaiming Public Space** - Symbolické znovudobytí veřejného prostoru od komerčního využití zpět pro komunitu a umění.

Inspirováno prací @oxpostertime - umělecké intervence v městském prostoru, které využívají reklamní infrastrukturu jako médium pro kritické umění.`,materials:["Vlastní tisky/plakáty","Lepidlo na plakáty","Ochranná vrstva (lak)","Dokumentační fotoaparát","Rukavice"],budget:"~500-1000 Kč (tisk, materiály)",timeline:"Průběžně - mapping 1 týden, intervence opakovaně",location:"Palmovka - reklamní sloupy, billboardy, nelegální plochy",images:[],inspiration:{name:"@oxpostertime",url:"https://www.instagram.com/oxpostertime/",description:"Umělecké posters ve veřejném prostoru"}},{title:"Street Art - Obrazy v ulicích",subtitle:"Guerilla Art",icon:"🎨",color:"blue",description:"Lepění autorských tisků, grafik a obrazů na různých materiálech do městského prostoru",artist:"Ptáček",status:"Probíhá",details:["Různé techniky","Spontánní instalace","Městská galerie"],fullDescription:`Guerillové lepení autorských tisků, grafik a obrazů na různých materiálech do městského prostoru. Přeměna šedých stěn a prázdných ploch na venkovní galerii dostupnou všem.

Cíl: Oživit městský prostor uměním, vytvořit neoficiální veřejnou galerii a přinést umění tam, kde se ho lidé nenadějí.`,materials:["Vlastní tisky/grafiky","Lepidlo na plakáty","Ochranná vrstva","Různé papíry a materiály"],budget:"~300-500 Kč (tisk, materiály)",timeline:"Průběžně - spontánní instalace",location:"Palmovka a okolí - prázdné plochy, stěny, vývěsky",images:[{original:"/FAMU/projects/streetart/IMG_4740.jpeg",thumbnail:"/FAMU/projects/streetart/IMG_4740.jpeg",description:"Street art instalace v Palmovce"}]},{title:"Guerillová galerie",subtitle:"Guerilla Art",icon:"🖼️",color:"teal",description:"Výlep uměleckých děl do prázdných městských rámů, vývěsek a prázdných ploch",artist:"Ptáček + další umělci",status:"Probíhá",details:["Prázdné plochy","Kolektivní akce","Neoficiální galerie"],fullDescription:`**Koncept**

Guerilová galerie je projekt zaměřený na oživení prázdných městských ploch pomocí uměleckých děl. Cílem je vytvořit neoficiální veřejnou galerii dostupnou všem.

**Realizace**

Výlep autorských tisků, grafik a uměleckých děl do:

• Prázdných městských rámů

• Vývěsek

• Prázdných ploch ve veřejném prostoru

**Kolektivní akce**

Projekt je otevřený pro další umělce a kreativce, kteří chtějí přispět svými díly do veřejného prostoru.

**Cíl**

Přeměnit šedé a opomíjené plochy města na venkovní galerii dostupnou všem. Demokratizace umění a přístup k němu přímo v ulicích.`,materials:["Vlastní tisky/grafiky","Lepidlo na plakáty","Ochranná vrstva"],budget:"~200-500 Kč (tisk, materiály)",timeline:"Průběžně - spontánní instalace",location:"Palmovka a okolí - prázdné plochy, vývěsky, rámy",images:[]},{title:"Houpačka na zapomenutém sušáku",subtitle:"Guerilla Art / Aktivace prostoru",icon:"🪢",color:"cyan",description:"Instalace houpačky na opuštěném kovové sušáku ve vnitrobloku - intervence která motivovala obyvatele k trvalé proměně místa",artist:"Ptáček",status:"Realizováno",details:["První intervence","Komunitní odezva","DIY","Trvalý efekt"],fullDescription:`**Kontext a motivace**

Jedním z prvních zásahů byla instalace houpačky ve vnitrobloku libeňského sídliště, na konstrukci starých kovových sušáků na prádlo. Tyto sušáky – typický relikt z dob socialismu – už dnes obyvatelé nevyužívali; stály opuštěné na travnaté ploše, kterou nikdo nepovažoval za hřiště či místo k trávení času.

Napadlo mě propůjčit jim nový smysl. Motivací bylo ukázat, že i zdánlivě mrtvý prvek může znovu ožít a přinést radost, pokud se změní úhel pohledu. Zároveň mě zajímalo, jak lidé zareagují: zda houpačku přijmou, ignorují, či odmítnou.

**Realizace - DIY přístup**

Realizace proběhla svépomocí z dostupných materiálů:

• Z odložené **dřevěné palety** (nalezené u kontejneru) jsem pomocí páčidla a pily vyrobil pevné prkno na sezení

• Vše jsem obrousil a natřel pro delší životnost

• Zakoupil jsem dostatečně dlouhé pevné lano

• Musel jsem se naučit **správné uzly** pro bezpečné zavěšení - osobní posun, protože předtím jsem vázat uzly neuměl

Houpačku jsem instaloval za víkendového podvečera: lano jsme uvázali na vodorovnou tyč sušáku. **První pokus ukázal chybu** - lano bylo příliš krátké, sedátko viselo dost vysoko. Než jsem stihl sehnat delší, nechal jsem provizorní houpačku na místě.

**Spontánní komunitní reakce**

Během dvou dnů se stalo něco pozoruhodného: **někdo z místních houpačku okamžitě použil a dokonce poopravil její zavěšení**, aby se na ní dalo lépe houpat. Jinými slovy, prostor začal žít: anonymní uživatel nejen akceptoval můj zásah, ale aktivně ho vylepšil.

Jakmile to bylo možné, pořídil jsem delší lano, vrátil se na místo a houpačku znovu zavěsil, tentokrát už pořádně. Houpačka poté plnila svou funkci po několik týdnů. **Děti z okolí ji používaly, dospělí ji tolerovali.**

Intervence splnila cíl:
• Upozornila na nevyužitý sušák
• Nabídla kolemjdoucím nečekanou atrakci
• Otevřela otázku, proč podobné prvky vymizely

**Trvalá proměna místa**

Po delší době jsem se na místo vrátil a čekalo mě **milé překvapení**:

• Celý kovový mobiliář sušáků byl **obroušen a nově natřen**

• Zásah očividně motivoval obyvatele či správce, aby prostředí zvelebili

• Na konstrukci se objevilo **nové lanko na prádlo**, které tam dříve nebylo

• Sušáky znovu slouží svému původnímu účelu

• Moji provizorní houpačku někdo **šetrně odložil vedle** místo aby ji vyhodil

**Reflexe a úspěch**

Toto finále považuji za **velký úspěch**: původní nevyužívané místo nezískalo jen dočasnou atrakci, ale dočkalo se trvalejší proměny a údržby.

Má intervence tak otevřela oči místním, že i starý sušák může mít smysl – a oni ho sami vzali za vlastní, převzali iniciativu. Lepší výsledek jsem si nemohl přát.

Odloženou dřevěnou houpačku mám nyní u sebe a přemýšlím, kam ji zavěsím příště, aby opět rozproudila život jinde.`,materials:["Dřevěná paleta (nalezená)","Pevné lano","Páčidlo, pila","Brusný papír","Nátěr/lak","Uzly (nová dovednost)"],budget:"~200 Kč (lano, nátěr)",timeline:"Víkend (instalace) → Několik týdnů (používání) → Trvalá proměna",location:"Vnitroblok libeňského sídliště, kovové sušáky",images:[{original:"/FAMU/projects/houpacka/IMG_2332.png",thumbnail:"/FAMU/projects/houpacka/IMG_2332.png",description:"Kovové sušáky ve vnitrobloku - místo instalace houpačky"}]}];function f7(){const[t,e]=D.useState(null);return D.useEffect(()=>{const n=i=>{i.key==="Escape"&&t&&e(null)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t]),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold",children:"OFICIÁLNÍ"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Podpis: Martin Tomek"})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"🏗️ Mobiliář & Oficiální intervence"}),u.jsx("p",{className:"text-gray-600",children:"Veřejně podepsané projekty zaměřené na urbánní mobiliář, komunitní aktivity a herní instalace"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:OA.map((n,i)=>u.jsxs("div",{onClick:()=>e(n),className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-blue-300 hover:shadow-xl transition-all cursor-pointer hover:scale-105",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"text-5xl",children:n.icon}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${n.status==="Realizováno"?"bg-green-200 text-green-800":n.status==="Probíhá"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:n.status})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:n.title}),u.jsx("p",{className:"text-sm text-blue-600 font-semibold mb-3",children:n.subtitle}),u.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),u.jsxs("div",{className:"border-t border-blue-200 pt-3",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:"KLÍČOVÉ PRVKY:"}),u.jsx("ul",{className:"space-y-1",children:n.details.map((a,l)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),a]},l))})]}),n.timeline&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 mb-1",children:"⏱️ TIMELINE:"}),u.jsx("p",{className:"text-xs text-gray-700",children:n.timeline})]}),u.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:u.jsxs("p",{className:"text-xs text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Autor:"})," ",n.artist]})})]},i))})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold",children:"GUERILLA ART"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Pseudonym: Ptáček"})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"🎨 Neoficiální street art & detournement"}),u.jsx("p",{className:"text-gray-600",children:"Anonymní intervence kritizující vizuální smog a obohacující městský prostor o umění"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:PA.map((n,i)=>u.jsxs("div",{onClick:()=>e(n),className:"bg-gradient-to-br from-red-50 to-pink-50 rounded-xl p-6 border-2 border-red-300 hover:shadow-xl transition-all cursor-pointer hover:scale-105",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"text-5xl",children:n.icon}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${n.status==="Realizováno"?"bg-green-200 text-green-800":n.status==="Probíhá"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:n.status})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:n.title}),u.jsx("p",{className:"text-sm text-red-600 font-semibold mb-3",children:n.subtitle}),u.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),u.jsxs("div",{className:"border-t border-red-200 pt-3",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:"CHARAKTERISTIKY:"}),u.jsx("ul",{className:"space-y-1",children:n.details.map((a,l)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),a]},l))})]}),n.timeline&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200",children:[u.jsx("p",{className:"text-xs font-bold text-gray-500 mb-1",children:"⏱️ TIMELINE:"}),u.jsx("p",{className:"text-xs text-gray-700",children:n.timeline})]}),u.jsx("div",{className:"mt-3 pt-3 border-t border-red-200",children:u.jsxs("p",{className:"text-xs text-gray-500",children:[u.jsx("span",{className:"font-semibold",children:"Street artist:"})," ",n.artist]})})]},i))})]}),u.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl shadow-xl p-6 text-white",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:"📋 Rozdělení projektu"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-blue-300 mb-2",children:"🏗️ OFICIÁLNÍ (Martin Tomek)"}),u.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[u.jsx("li",{children:"• Veřejně podepsané projekty"}),u.jsx("li",{children:"• Urbánní mobiliář"}),u.jsx("li",{children:"• Komunitní aktivity"}),u.jsx("li",{children:"• Spolupráce s institucemi"}),u.jsx("li",{children:"• Legální intervence"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-red-300 mb-2",children:"🎨 GUERILLA ART (Ptáček)"}),u.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[u.jsx("li",{children:"• Anonymní pseudonym"}),u.jsx("li",{children:"• Boj s reklamou & detournement"}),u.jsx("li",{children:"• Street art & lepení obrazů"}),u.jsx("li",{children:"• Kritické umění"}),u.jsx("li",{children:"• Spontánní akce"})]})]})]})]}),t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center p-4 overflow-y-auto",onClick:n=>{n.target===n.currentTarget&&e(null)},children:u.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-teal-600 to-cyan-600 text-white p-6 flex items-start justify-between rounded-t-2xl",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-6xl mb-3",children:t.icon}),u.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.title}),u.jsx("p",{className:"text-cyan-100",children:t.subtitle})]}),u.jsx("button",{onClick:()=>e(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(uc,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${t.status==="Realizováno"?"bg-green-200 text-green-800":t.status==="Probíhá"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:t.status}),u.jsxs("span",{className:"text-gray-600",children:[u.jsx("span",{className:"font-semibold",children:"Autor:"})," ",t.artist]})]}),t.fullDescription?u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"📝 Popis projektu"}),u.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:t.fullDescription.split(`

`).map((n,i)=>n.trim().startsWith("•")?u.jsx("ul",{className:"list-disc list-inside space-y-1 ml-4",children:n.split(`
`).filter(a=>a.trim()).map((a,l)=>u.jsx("li",{className:"text-gray-700",children:a.replace("•","").trim().split("**").map((c,d)=>d%2===1?u.jsx("strong",{children:c},d):c)},l))},i):u.jsx("p",{className:"text-gray-700",children:n.split("**").map((a,l)=>l%2===1?u.jsx("strong",{className:"font-semibold text-gray-900",children:a},l):a)},i))})]}):u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"📝 Popis projektu"}),u.jsx("p",{className:"text-gray-600 italic",children:"Detailní popis bude doplněn."})]}),t.videoUrl&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"🎬 Video dokumentace"}),u.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-black",children:u.jsx("iframe",{width:"100%",height:"100%",src:t.videoUrl.replace("youtu.be/","youtube.com/embed/").split("?")[0],title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),u.jsxs("a",{href:t.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-teal-600 hover:text-teal-700 font-medium",children:[u.jsx(Vu,{className:"w-4 h-4"}),"Otevřít na YouTube"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.materials&&u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"🛠️ Materiály"}),u.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:t.materials.map((n,i)=>u.jsxs("li",{children:["• ",n]},i))})]}),t.budget&&u.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-green-900 mb-2",children:"💰 Rozpočet"}),u.jsx("p",{className:"text-gray-700",children:t.budget})]}),t.timeline&&u.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-purple-900 mb-2",children:"⏱️ Časový plán"}),u.jsx("p",{className:"text-gray-700",children:t.timeline})]}),t.location&&u.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-orange-900 mb-2",children:"📍 Lokalita"}),u.jsx("p",{className:"text-gray-700",children:t.location})]})]}),t.partner&&u.jsxs("div",{className:"bg-teal-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-teal-900 mb-2",children:"🤝 Spolupráce"}),u.jsx("p",{className:"text-gray-700",children:t.partner})]}),t.inspiration&&u.jsxs("div",{className:"bg-pink-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-pink-900 mb-2",children:"💡 Inspirace"}),u.jsxs("a",{href:t.inspiration.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-pink-700 hover:text-pink-900 transition-colors",children:[u.jsx("span",{className:"font-medium",children:t.inspiration.name}),u.jsx(Vu,{className:"w-4 h-4"})]}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.inspiration.description})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"✨ Klíčové prvky"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.details.map((n,i)=>u.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[u.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full"}),n]},i))})]}),t.images&&t.images.length>0?u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"📸 Fotodokumentace"}),u.jsxs("div",{className:"rounded-xl overflow-hidden border-2 border-gray-200",children:[u.jsx("style",{children:`
                      .image-gallery-thumbnail img {
                        object-fit: cover !important;
                        height: 80px !important;
                      }
                      .image-gallery-image {
                        object-fit: contain !important;
                      }
                    `}),u.jsx(u7,{items:t.images,showPlayButton:!1,showFullscreenButton:!0,showIndex:!0,autoPlay:!1,thumbnailPosition:"bottom"})]})]}):u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-8 text-center border-2 border-purple-200",children:[u.jsx(nT,{className:"w-16 h-16 mx-auto mb-4 text-purple-400"}),u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"📸 Fotodokumentace"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Fotky budou přidány během realizace projektu"})]})]})]})})]})}function m7(){return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"🔬 Metodologie výzkumu"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Smíšený výzkumný design kombinující kvalitativní a kvantitativní přístupy pro ověření dopadu guerillových intervencí."}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-blue-300 mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"🎯 Cíl a výzkumné otázky"}),u.jsxs("div",{className:"bg-white rounded-lg p-5 mb-4",children:[u.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Hlavní cíl:"}),u.jsx("p",{className:"text-gray-700",children:'Ověřit, jak drobné nekomerční zásahy mění užívání, vnímání a kvalitu pobytu ve „neviditelných" místech Palmovky a Kolbenky.'})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"font-bold text-blue-900",children:"Klíčové výzkumné otázky:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),u.jsx("p",{className:"text-gray-700",children:"Jak se po intervenci mění chování a setrvání lidí v místě (dwell time, typ aktivit)?"})]}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),u.jsx("p",{className:"text-gray-700",children:'Jak se promění vnímaná „čitelnost" a hodnota místa (sentiment, témata v komentářích)?'})]}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),u.jsx("p",{className:"text-gray-700",children:"Jak dlouho zásah přežije a jaké zásahy vyvolá (údržba, adaptace, odpor)?"})]}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),u.jsx("p",{className:"text-gray-700",children:"Jaké jsou limity/vedlejší efekty (vandalismus, komercionalizace, konflikty)?"})]})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-6 border-2 border-green-300 mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-4",children:"📊 Výzkumný design (Mixed-Methods)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-green-900 mb-2",children:"Kvalitativně:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsx("li",{children:"• Účastnické pozorování"}),u.jsx("li",{children:"• Autoetnografie"}),u.jsx("li",{children:"• Neformální rozhovory"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-green-900 mb-2",children:"Kvantitativně:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsx("li",{children:"• Sčítání průchodů/užití"}),u.jsx("li",{children:"• Měření doby setrvání"}),u.jsx("li",{children:'• "Survival time" intervence'}),u.jsx("li",{children:"• A/B porovnání míst"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-green-900 mb-2",children:"Typ srovnání:"}),u.jsxs("ul",{className:"text-gray-700 space-y-1",children:[u.jsxs("li",{children:[u.jsx("span",{className:"font-semibold",children:"Before–After:"})," před vs. po zásahu"]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-semibold",children:"A/B lokality:"})," 1) místo s intervencí, 2) podobné kontrolní místo bez zásahu"]})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-300 mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"🎨 Typologie intervencí"}),u.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Pro srovnatelnost – každý typ testován min. na 2 místech (replikace)"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-5 border-l-4 border-blue-500",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("span",{className:"text-3xl",children:"🪑"}),u.jsx("h4",{className:"font-bold text-blue-900 text-lg",children:"1. Mobiliář"})]}),u.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Urbánní mobiliář měnící využití a komfort prostoru"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Lavičky (banány, palety)"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Solární světla"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Hlasovací popelníky"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Květiny (slunečnice)"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 border-l-4 border-pink-500",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("span",{className:"text-3xl",children:"🎨"}),u.jsx("h4",{className:"font-bold text-pink-900 text-lg",children:"2. Street Art"})]}),u.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Umělecké intervence obohacující městský prostor"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Obrazy v ulicích"}),u.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Výplň prázdných ploch"}),u.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Street art sprejem"}),u.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Guerillová galerie"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5 border-l-4 border-red-500",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("span",{className:"text-3xl",children:"🎭"}),u.jsx("h4",{className:"font-bold text-red-900 text-lg",children:"3. Boj s reklamou (Detournement)"})]}),u.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Kritická reakce na vizuální smog a nelegální reklamy"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Přelepování reklam"}),u.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Subvertising"}),u.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Kritické umění"}),u.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Anonymní akce (Ptáček)"})]})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 border-2 border-orange-300 mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-orange-900 mb-4",children:'📋 Protokol „před–během–po"'}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-5",children:[u.jsx("h4",{className:"font-bold text-orange-900 mb-3 text-lg",children:"📍 PŘED (T-7 až T-1 dní)"}),u.jsxs("ul",{className:"space-y-2 text-gray-700",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"Mapování místa (fotomapa 360°, náčrt proudů pohybu)"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"Baseline měření (2× 60 min v různých časech): počty průchodů, zastavení, aktivity"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:'Mikro-rozhovory s 5–8 kolemjdoucími („Co tady děláte? Co vám tu chybí?")'})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{className:"text-sm italic",children:"Etika: vyhnout se škodám, nezakrývat oficiální info, bez identifikace osob"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5",children:[u.jsx("h4",{className:"font-bold text-orange-900 mb-3 text-lg",children:"🔧 BĚHEM (den instalace)"}),u.jsxs("ul",{className:"space-y-2 text-gray-700",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"Vedení Intervenční karty: datum, čas, materiály, náklady, kdo pomáhal"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"Foto/video záznam (detail + celek, den/noc)"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"30–60 min observační okno hned po instalaci"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-5",children:[u.jsx("h4",{className:"font-bold text-orange-900 mb-3 text-lg",children:"📈 PO (T+1 až T+21 dní)"}),u.jsxs("ul",{className:"space-y-2 text-gray-700",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"Opakovaná měření v 5 fixních slotech (různé dny/časy, 30–60 min)"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:'Evidence "survival time": vandalismus, opravy, adopce komunitou'})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"5–8 neformálních rozhovorů o změně vnímání místa"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),u.jsx("span",{children:"A/B srovnání s kontrolní lokalitou"})]})]})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border-2 border-cyan-300",children:[u.jsx("h3",{className:"text-2xl font-bold text-cyan-900 mb-4",children:"📊 Hodnoticí ukazatele (KPI)"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K1 – Aktivace"}),u.jsx("p",{className:"text-sm text-gray-700",children:"+X % zastavení / +X % sezení/hry vs. baseline"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K2 – Vydrž"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Dny do zásahu/poškození; komunitní adopce"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K3 – Čistota"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Pokles nedopalků; subjektivní bezpečí"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K4 – Viditelnost"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Počet interakcí; spontánní vylepšení"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K5 – Přenositelnost"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Replikovatelnost na jiné lokaci"})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"📅 Harmonogram (12 týdnů)"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"px-3 py-1 bg-teal-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T1–2"}),u.jsx("p",{className:"text-gray-700 flex-1",children:"Výběr míst, baseline měření, příprava materiálů"})]}),u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"px-3 py-1 bg-blue-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T3–8"}),u.jsx("p",{className:"text-gray-700 flex-1",children:"Instalace 5–7 intervencí (po 1 týdnu), průběžná měření"})]}),u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"px-3 py-1 bg-purple-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T9–10"}),u.jsx("p",{className:"text-gray-700 flex-1",children:"Doplňkové rozhovory, A/B validace"})]}),u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"px-3 py-1 bg-green-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T11–12"}),u.jsx("p",{className:"text-gray-700 flex-1",children:"Analýza, syntéza, komunitní prezentace, metodická zpráva"})]})]})]})]})}function p7(){return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"🎬 Hlavní výstupy projektu"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Tři hlavní pilíře výzkumu a umělecké tvorby"}),u.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-8 border-2 border-blue-500 mb-6",children:u.jsxs("div",{className:"flex items-start gap-6",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-lg flex items-center justify-center",children:u.jsx(iT,{className:"w-12 h-12 text-white"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"1. Zdokumentované intervence"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Kompletní dokumentace všech realizovaných guerillových intervencí ve veřejném prostoru."}),u.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Obsah:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Fotodokumentace:"})," Před/během/po záběry všech intervencí"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Proces:"})," Popis realizace, materiály, časová osa"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Reakce:"})," Komunitní odezva, adopce, změny"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Měření:"})," Dwell time, survival time, využití prostoru"]})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Slunečnice"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Parklety"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Hlasovací popelníky"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Banány"}),u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Game Jam"})]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-8 border-2 border-red-500 mb-6",children:u.jsxs("div",{className:"flex items-start gap-6",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-20 h-20 bg-red-500 rounded-lg flex items-center justify-center",children:u.jsx(tT,{className:"w-12 h-12 text-white"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-2xl font-bold text-red-900 mb-2",children:"2. Experimentální dokumentární film"}),u.jsx("p",{className:"text-lg text-gray-700 mb-3",children:"Délka: 20–30 minut"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Observační a participační dokumentární film zachycující lidi, atmosféru a proměny veřejného prostoru."}),u.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Filmové techniky:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"8mm film:"})," Poetické a nostalgické pasáže"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"VHS:"})," Zrnitá textura a dokumentární autenticita"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Digitál:"})," Přesný záznam procesu a reakcí"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Animace:"})," Introspektivní roviny a metafory"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Přístup:"}),u.jsxs("p",{className:"text-sm text-gray-700",children:[u.jsx("strong",{children:"Observační:"})," Sledování komunitních reakcí bez ovlivňování",u.jsx("br",{}),u.jsx("strong",{children:"Participační:"})," Aktivní zapojení do intervencí, reflexe vlastní role"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Festival Anifilm"}),u.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Ji.hlava IDFF"}),u.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Projekce na Palmovce"})]})]})]})}),u.jsx("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-8 border-2 border-green-500 mb-6",children:u.jsxs("div",{className:"flex items-start gap-6",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-lg flex items-center justify-center",children:u.jsx(Kl,{className:"w-12 h-12 text-white"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-2",children:"3. Antropologický výzkum a magisterská práce"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Systematické pozorování dat, analýza a teoretické shrnutí guerillových intervencí ve veřejném prostoru."}),u.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Výzkumná část:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Kvantitativní data:"})," Before/After měření, dwell time, survival time"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Kvalitativní data:"})," Rozhovory, pozorování, terénní deník"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Analýza:"})," Tematické kódování, triangulace metod"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"KPI evaluace:"})," Aktivace, vytrvalost, čistota, viditelnost"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Magisterská práce (text):"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Teoretický rámec:"})," Právo na město, tactical urbanism, participativní umění"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Metodologie:"})," Mixed-methods, akční výzkum, autoetnografie"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Případové studie:"})," Detailní analýza každé intervence"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Závěry a doporučení:"})," Pro město, komunitu, další výzkum"]})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Teoretické shrnutí:"})," Příspěvek k oboru, reflexe procesu"]})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"FAMU Magisterská"}),u.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Publikace"}),u.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Data pro město Praha 8"})]})]})]})}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-300",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"📦 Doplňkové výstupy"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Otevřené manuály"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Návody pro replikaci intervencí"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Datový balíček"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Raw data, šablony, měření"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Komunitní prezentace"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Venkovní výstava na Palmovce"})]})]})]})]})})}function g7(){const t=[{phase:"❄️ Zima 2025",period:"Leden - Březen 2025",title:"Příprava a výroba",color:"from-blue-500 to-cyan-500",tasks:["💰 Žádost o grant Praha 8 - Kultura 2025 (deadline do konce roku)","🗳️ Hlasovací popelníky - design, výroba, jarní klauzurní práce","🍌 Betonové banány - návrh, výroba formy, odlévání","📋 Mapping lokality a výběr míst","🎭 Detournement - mapping nelegálních reklam"]},{phase:"🌸 Jaro 2026",period:"Duben - Červen 2026",title:"Instalace a sadba",color:"from-green-500 to-teal-500",tasks:["🌻 Slunečnice - předsadba na balkoně (březen-duben)","🌻 Slunečnice - přesadba do 10l květináčů (duben)","🌻 Slunečnice - sadba ven do Palmovky (duben-květen)","🗳️ Hlasovací popelníky - instalace a testování","🍌 Betonové banány - instalace laviček","🪑 Parklety - sběr palet a příprava materiálů"]},{phase:"☀️ Léto 2026",period:"Červenec - Září 2026",title:"Realizace a péče",color:"from-yellow-500 to-orange-500",tasks:["🌻 Slunečnice - péče, zalévání, hnojení","🌻 Slunečnice - hnojení na květ (konec léta)","🪑 Parklety - stavba a instalace obývacího pokoje","🎮 Game Jam - venkovní interaktivní instalace","📸 Kontinuální dokumentace všech intervencí"]},{phase:"🍂 Podzim 2026",period:"Říjen - Prosinec 2026",title:"Finální výsledky a sběr dat",color:"from-orange-600 to-red-500",tasks:["🌻 Slunečnice - rozkvetlé! Finální dokumentace","📊 Sběr dat z všech intervencí (before/after)","📊 Vyhodnocení KPI (aktivace, vytrvalost, čistota)","🎬 Začátek postprodukce dokumentárního filmu"]},{phase:"❄️ Zima 2027",period:"Leden - Březen 2027",title:"Postprodukce a psaní",color:"from-indigo-500 to-blue-600",tasks:["🎬 Postprodukce experimentálního dokumentárního filmu","📝 Psaní magisterské práce","📊 Analýza dat a teoretické shrnutí","📝 Příprava prezentací"]},{phase:"🌸 Jaro 2027",period:"Duben - Červen 2027",title:"Dokončení a prezentace",color:"from-purple-500 to-pink-500",tasks:["🎬 Dokončení experimentálního dokumentárního filmu (20-30 min)","📝 Finalizace magisterské práce","🎥 Festivaly: Anifilm, Ji.hlava IDFF","🎉 Komunitní projekce na Palmovce","🎓 Obhajoba magisterské práce"]}];return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"📅 Časový plán projektu"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Kompletní timeline od přípravy po finální prezentaci (2 roky)"}),u.jsx("div",{className:"space-y-6",children:t.map((e,n)=>u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:`bg-gradient-to-r ${e.color} rounded-xl p-6 text-white shadow-lg`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"px-4 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-bold",children:e.phase}),u.jsx("span",{className:"text-sm font-medium",children:e.period})]}),u.jsx("h3",{className:"text-2xl font-bold mb-4",children:e.title}),u.jsx("ul",{className:"space-y-2",children:e.tasks.map((i,a)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-white/80",children:"•"}),u.jsx("span",{className:"flex-1",children:i})]},a))})]}),n<t.length-1&&u.jsx("div",{className:"h-6 w-0.5 bg-gradient-to-b from-gray-300 to-gray-200 mx-auto my-2"})]},n))})]})})}function y7({officialProjects:t,guerillaArt:e}){const n=[{src:"/FAMU/projects/gallery/IMG_1694.png",title:"Palmovka - průzkum lokality",description:"Dokumentace veřejného prostoru"},{src:"/FAMU/projects/gallery/IMG_1719.png",title:"Palmovka - urbánní prostředí",description:"Analýza městského prostoru"},{src:"/FAMU/projects/gallery/IMG_2332.png",title:"Palmovka - veřejný prostor",description:"Výzkum lokality a komunity"},{src:"/FAMU/projects/gallery/IMG_4702.png",title:"Slunečnice na Palmovce",description:"První realizovaná intervence - guerillová výsadba"}],i=[];return t&&t.forEach(a=>{a.images&&a.images.length>0&&a.images.forEach(l=>{i.push({...l,projectTitle:a.title,projectIcon:a.icon})})}),e&&e.forEach(a=>{a.images&&a.images.length>0&&a.images.forEach(l=>{i.push({...l,projectTitle:a.title,projectIcon:a.icon})})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"📸 Galerie projektu"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Fotodokumentace lokality Palmovka a realizovaných intervencí"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((a,l)=>u.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border-2 border-gray-200 hover:border-teal-500 transition-all hover:shadow-xl",children:[u.jsx("div",{className:"aspect-square bg-gray-100",children:u.jsx("img",{src:a.src,alt:a.description,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:a.title}),u.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]},l))})]}),i.length>0&&u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🎨 Detail intervencí"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((a,l)=>u.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border-2 border-gray-200 hover:border-teal-500 transition-all hover:shadow-xl",children:[u.jsx("div",{className:"aspect-square bg-gray-100",children:u.jsx("img",{src:a.original,alt:a.description,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-2xl",children:a.projectIcon}),u.jsx("h3",{className:"font-bold text-gray-900",children:a.projectTitle})]}),u.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]},l))})]})]})}function v7(){return u.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[u.jsx("header",{className:"bg-gray-950 text-white shadow-lg",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[u.jsxs(st,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 mb-4 transition-colors",children:[u.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpět"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(H4,{className:"w-10 h-10"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"🍺 Skrytá hra - běSnění"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Easter egg pro ty, kdo znají tajemství piva..."})]})]})]})}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx("div",{className:"bg-gray-800 rounded-lg shadow-2xl overflow-hidden border-2 border-orange-500",children:u.jsx("iframe",{frameBorder:"0",src:"https://itch.io/embed-upload/15110547?color=802020",allowFullScreen:!0,width:"100%",height:"660",className:"w-full",title:"běSnění Game",children:u.jsx("a",{href:"https://jamiiethetrashman.itch.io/besneni",children:"Play běSnění on itch.io"})})}),u.jsxs("div",{className:"mt-6 text-center text-gray-400 text-sm",children:[u.jsx("p",{children:"🍺 Našel jsi Easter egg! 🎮"}),u.jsx("p",{className:"mt-2",children:"3 kliknutí na pivo = hra odhalena"})]})]})})]})}const My=[{name:"Žlutá",bg:"bg-yellow-200",hover:"hover:bg-yellow-300",border:"border-yellow-400"},{name:"Růžová",bg:"bg-pink-200",hover:"hover:bg-pink-300",border:"border-pink-400"},{name:"Modrá",bg:"bg-blue-200",hover:"hover:bg-blue-300",border:"border-blue-400"},{name:"Zelená",bg:"bg-green-200",hover:"hover:bg-green-300",border:"border-green-400"},{name:"Oranžová",bg:"bg-orange-200",hover:"hover:bg-orange-300",border:"border-orange-400"},{name:"Fialová",bg:"bg-purple-200",hover:"hover:bg-purple-300",border:"border-purple-400"}];function x7(){const[t,e]=D.useState([]),[n,i]=D.useState(!0),[a,l]=D.useState(!1),[c,d]=D.useState(null),[f,m]=D.useState(""),[g,x]=D.useState(0),b=D.useRef({noteId:null,offsetX:0,offsetY:0});D.useEffect(()=>{w()},[]);const w=async()=>{try{const A=Os(Vn,"stickyNotes","bulletin-board"),k=await wA(A);k.exists()&&e(k.data().notes||[])}catch(A){console.error("Chyba při načítání poznámek:",A)}finally{i(!1)}},N=async A=>{try{const k=Os(Vn,"stickyNotes","bulletin-board");await Hx(k,{notes:A})}catch(k){console.error("Chyba při ukládání poznámek:",k)}},C=()=>{if(!f.trim())return;const A={id:Date.now().toString(),text:f,colorIndex:g,x:Math.random()*300+100,y:Math.random()*300+100,createdAt:new Date().toISOString()},k=[...t,A];e(k),N(k),m(""),x(0),l(!1)},T=(A,k)=>{const M=t.map(B=>B.id===A?{...B,...k}:B);e(M),N(M)},j=A=>{const k=t.filter(M=>M.id!==A);e(k),N(k)},R=(A,k)=>{if(A.target.closest(".note-action-button"))return;const M=t.find(q=>q.id===k);let B,L;A.type==="touchstart"?(B=A.touches[0].clientX,L=A.touches[0].clientY):(B=A.clientX,L=A.clientY),b.current={noteId:k,offsetX:B-M.x,offsetY:L-M.y},document.addEventListener("mousemove",O),document.addEventListener("mouseup",F),document.addEventListener("touchmove",O,{passive:!1}),document.addEventListener("touchend",F)},O=A=>{if(!b.current.noteId)return;A.preventDefault();let k,M;A.type==="touchmove"?(k=A.touches[0].clientX,M=A.touches[0].clientY):(k=A.clientX,M=A.clientY);const B=k-b.current.offsetX,L=M-b.current.offsetY;e(q=>q.map(I=>I.id===b.current.noteId?{...I,x:Math.max(0,B),y:Math.max(0,L)}:I))},F=()=>{b.current.noteId&&(e(A=>(N(A),A)),b.current={noteId:null,offsetX:0,offsetY:0}),document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",F),document.removeEventListener("touchmove",O),document.removeEventListener("touchend",F)},$=A=>{d(A)},X=()=>{c&&c.text.trim()&&T(c.id,{text:c.text}),d(null)};return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Načítání nástěnky..."})]})}):u.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ff,{className:"w-8 h-8 text-yellow-500"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"📌 Nástěnka"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Sticky notes pro rychlé poznámky"})]})]}),u.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-lg font-medium shadow-md hover:shadow-lg transition-all",children:[u.jsx(Yl,{className:"w-5 h-5"}),"Nová poznámka"]})]})})}),u.jsxs("div",{className:"relative w-full",style:{minHeight:"calc(100vh - 100px)",height:"2000px"},children:[t.length===0&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-gray-400",children:[u.jsx(Ff,{className:"w-20 h-20 mx-auto mb-4 opacity-30"}),u.jsx("p",{className:"text-lg",children:"Zatím žádné poznámky"}),u.jsx("p",{className:"text-sm",children:'Klikni na "Nová poznámka" a začni!'})]})}),t.map(A=>{const k=My[A.colorIndex]||My[0];return u.jsxs("div",{onMouseDown:M=>R(M,A.id),onTouchStart:M=>R(M,A.id),style:{position:"absolute",left:`${A.x}px`,top:`${A.y}px`,cursor:"grab",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},className:`w-64 h-64 ${k.bg} ${k.border} border-2 rounded-lg shadow-lg hover:shadow-xl transition-shadow p-4 flex flex-col`,children:[u.jsxs("div",{className:"flex justify-end gap-1 mb-2",children:[u.jsx("button",{onClick:()=>$(A),className:"note-action-button p-1.5 bg-white/70 hover:bg-white rounded-full transition-colors",title:"Upravit",children:u.jsx(bv,{className:"w-4 h-4 text-gray-700"})}),u.jsx("button",{onClick:()=>j(A.id),className:"note-action-button p-1.5 bg-white/70 hover:bg-white rounded-full transition-colors",title:"Smazat",children:u.jsx(km,{className:"w-4 h-4 text-red-600"})})]}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsx("p",{className:"text-gray-800 whitespace-pre-wrap break-words font-handwriting",style:{fontSize:"15px",lineHeight:"1.5"},children:A.text})}),u.jsx("div",{className:"text-xs text-gray-600 mt-2 opacity-60",children:new Date(A.createdAt).toLocaleDateString("cs-CZ")})]},A.id)})]}),(a||c)&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"✏️ Upravit poznámku":"➕ Nová poznámka"}),u.jsx("button",{onClick:()=>{l(!1),d(null),m("")},className:"p-1 hover:bg-gray-100 rounded-full",children:u.jsx(uc,{className:"w-6 h-6 text-gray-500"})})]}),u.jsx("textarea",{value:c?c.text:f,onChange:A=>c?d({...c,text:A.target.value}):m(A.target.value),placeholder:"Napiš svou poznámku...",className:"w-full h-40 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",autoFocus:!0}),!c&&u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vyber barvu:"}),u.jsx("div",{className:"flex gap-2 flex-wrap",children:My.map((A,k)=>u.jsx("button",{onClick:()=>x(k),className:`w-12 h-12 ${A.bg} ${A.hover} ${A.border} border-2 rounded-lg transition-all ${g===k?"ring-4 ring-gray-900 ring-offset-2":""}`,title:A.name},k))})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:()=>{l(!1),d(null),m("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Zrušit"}),u.jsx("button",{onClick:c?X:C,className:"flex-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-lg font-medium shadow-md",children:c?"Uložit":"Přidat"})]})]})})]})}function Nn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Nn(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Dy={exports:{}},zy={},Vy={exports:{}},Iy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lj;function b7(){if(Lj)return Iy;Lj=1;var t=wh();function e(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(x,b){var w=b(),N=i({inst:{value:w,getSnapshot:b}}),C=N[0].inst,T=N[1];return l(function(){C.value=w,C.getSnapshot=b,f(C)&&T({inst:C})},[x,w,b]),a(function(){return f(C)&&T({inst:C}),x(function(){f(C)&&T({inst:C})})},[x]),c(w),w}function f(x){var b=x.getSnapshot;x=x.value;try{var w=b();return!n(x,w)}catch{return!0}}function m(x,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Iy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Iy}var Bj;function _7(){return Bj||(Bj=1,Vy.exports=b7()),Vy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj;function w7(){if(Uj)return zy;Uj=1;var t=wh(),e=_7();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var i=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return zy.useSyncExternalStoreWithSelector=function(m,g,x,b,w){var N=l(null);if(N.current===null){var C={hasValue:!1,value:null};N.current=C}else C=N.current;N=d(function(){function j(X){if(!R){if(R=!0,O=X,X=b(X),w!==void 0&&C.hasValue){var A=C.value;if(w(A,X))return F=A}return F=X}if(A=F,i(O,X))return A;var k=b(X);return w!==void 0&&w(A,k)?(O=X,A):(O=X,F=k)}var R=!1,O,F,$=x===void 0?null:x;return[function(){return j(g())},$===null?void 0:function(){return j($())}]},[g,x,b,w]);var T=a(m,N[0],N[1]);return c(function(){C.hasValue=!0,C.value=T},[T]),f(T),T},zy}var Fj;function E7(){return Fj||(Fj=1,Dy.exports=w7()),Dy.exports}var j7=E7();const S7=MS(j7),T7={},Hj=t=>{let e;const n=new Set,i=(g,x)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const w=e;e=x??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(N=>N(e,w))}},a=()=>e,f={setState:i,getState:a,getInitialState:()=>m,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(T7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=e=t(i,a,f);return f},N7=t=>t?Hj(t):Hj,{useDebugValue:k7}=ue,{useSyncExternalStoreWithSelector:A7}=S7,C7=t=>t;function LA(t,e=C7,n){const i=A7(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return k7(i),i}const qj=(t,e)=>{const n=N7(t),i=(a,l=e)=>LA(n,a,l);return Object.assign(i,n),i},R7=(t,e)=>t?qj(t,e):qj;function yn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[i,a]of t)if(!Object.is(a,e.get(i)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(e,i)||!Object.is(t[i],e[i]))return!1;return!0}var M7={value:()=>{}};function Qm(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Of(n)}function Of(t){this._=t}function D7(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");if(a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Of.prototype=Qm.prototype={constructor:Of,on:function(t,e){var n=this._,i=D7(t+"",n),a,l=-1,c=i.length;if(arguments.length<2){for(;++l<c;)if((a=(t=i[l]).type)&&(a=z7(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<c;)if(a=(t=i[l]).type)n[a]=$j(n[a],t.name,e);else if(e==null)for(a in n)n[a]=$j(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Of(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,l;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,a=l.length;i<a;++i)l[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],a=0,l=i.length;a<l;++a)i[a].value.apply(e,n)}};function z7(t,e){for(var n=0,i=t.length,a;n<i;++n)if((a=t[n]).name===e)return a.value}function $j(t,e,n){for(var i=0,a=t.length;i<a;++i)if(t[i].name===e){t[i]=M7,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var J0="http://www.w3.org/1999/xhtml";const Gj={svg:"http://www.w3.org/2000/svg",xhtml:J0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Gj.hasOwnProperty(e)?{space:Gj[e],local:t}:t}function V7(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===J0&&e.documentElement.namespaceURI===J0?e.createElement(t):e.createElementNS(n,t)}}function I7(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function BA(t){var e=Wm(t);return(e.local?I7:V7)(e)}function O7(){}function Gx(t){return t==null?O7:function(){return this.querySelector(t)}}function P7(t){typeof t!="function"&&(t=Gx(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var l=e[a],c=l.length,d=i[a]=new Array(c),f,m,g=0;g<c;++g)(f=l[g])&&(m=t.call(f,f.__data__,g,l))&&("__data__"in f&&(m.__data__=f.__data__),d[g]=m);return new vi(i,this._parents)}function L7(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function B7(){return[]}function UA(t){return t==null?B7:function(){return this.querySelectorAll(t)}}function U7(t){return function(){return L7(t.apply(this,arguments))}}function F7(t){typeof t=="function"?t=U7(t):t=UA(t);for(var e=this._groups,n=e.length,i=[],a=[],l=0;l<n;++l)for(var c=e[l],d=c.length,f,m=0;m<d;++m)(f=c[m])&&(i.push(t.call(f,f.__data__,m,c)),a.push(f));return new vi(i,a)}function FA(t){return function(){return this.matches(t)}}function HA(t){return function(e){return e.matches(t)}}var H7=Array.prototype.find;function q7(t){return function(){return H7.call(this.children,t)}}function $7(){return this.firstElementChild}function G7(t){return this.select(t==null?$7:q7(typeof t=="function"?t:HA(t)))}var K7=Array.prototype.filter;function Y7(){return Array.from(this.children)}function X7(t){return function(){return K7.call(this.children,t)}}function Z7(t){return this.selectAll(t==null?Y7:X7(typeof t=="function"?t:HA(t)))}function Q7(t){typeof t!="function"&&(t=FA(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var l=e[a],c=l.length,d=i[a]=[],f,m=0;m<c;++m)(f=l[m])&&t.call(f,f.__data__,m,l)&&d.push(f);return new vi(i,this._parents)}function qA(t){return new Array(t.length)}function W7(){return new vi(this._enter||this._groups.map(qA),this._parents)}function pm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}pm.prototype={constructor:pm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function J7(t){return function(){return t}}function eB(t,e,n,i,a,l){for(var c=0,d,f=e.length,m=l.length;c<m;++c)(d=e[c])?(d.__data__=l[c],i[c]=d):n[c]=new pm(t,l[c]);for(;c<f;++c)(d=e[c])&&(a[c]=d)}function tB(t,e,n,i,a,l,c){var d,f,m=new Map,g=e.length,x=l.length,b=new Array(g),w;for(d=0;d<g;++d)(f=e[d])&&(b[d]=w=c.call(f,f.__data__,d,e)+"",m.has(w)?a[d]=f:m.set(w,f));for(d=0;d<x;++d)w=c.call(t,l[d],d,l)+"",(f=m.get(w))?(i[d]=f,f.__data__=l[d],m.delete(w)):n[d]=new pm(t,l[d]);for(d=0;d<g;++d)(f=e[d])&&m.get(b[d])===f&&(a[d]=f)}function nB(t){return t.__data__}function iB(t,e){if(!arguments.length)return Array.from(this,nB);var n=e?tB:eB,i=this._parents,a=this._groups;typeof t!="function"&&(t=J7(t));for(var l=a.length,c=new Array(l),d=new Array(l),f=new Array(l),m=0;m<l;++m){var g=i[m],x=a[m],b=x.length,w=sB(t.call(g,g&&g.__data__,m,i)),N=w.length,C=d[m]=new Array(N),T=c[m]=new Array(N),j=f[m]=new Array(b);n(g,x,C,T,j,w,e);for(var R=0,O=0,F,$;R<N;++R)if(F=C[R]){for(R>=O&&(O=R+1);!($=T[O])&&++O<N;);F._next=$||null}}return c=new vi(c,i),c._enter=d,c._exit=f,c}function sB(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rB(){return new vi(this._exit||this._groups.map(qA),this._parents)}function aB(t,e,n){var i=this.enter(),a=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?l.remove():n(l),i&&a?i.merge(a).order():a}function oB(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,a=n.length,l=i.length,c=Math.min(a,l),d=new Array(a),f=0;f<c;++f)for(var m=n[f],g=i[f],x=m.length,b=d[f]=new Array(x),w,N=0;N<x;++N)(w=m[N]||g[N])&&(b[N]=w);for(;f<a;++f)d[f]=n[f];return new vi(d,this._parents)}function lB(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],a=i.length-1,l=i[a],c;--a>=0;)(c=i[a])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function cB(t){t||(t=uB);function e(x,b){return x&&b?t(x.__data__,b.__data__):!x-!b}for(var n=this._groups,i=n.length,a=new Array(i),l=0;l<i;++l){for(var c=n[l],d=c.length,f=a[l]=new Array(d),m,g=0;g<d;++g)(m=c[g])&&(f[g]=m);f.sort(e)}return new vi(a,this._parents).order()}function uB(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function hB(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function dB(){return Array.from(this)}function fB(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],a=0,l=i.length;a<l;++a){var c=i[a];if(c)return c}return null}function mB(){let t=0;for(const e of this)++t;return t}function pB(){return!this.node()}function gB(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var a=e[n],l=0,c=a.length,d;l<c;++l)(d=a[l])&&t.call(d,d.__data__,l,a);return this}function yB(t){return function(){this.removeAttribute(t)}}function vB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xB(t,e){return function(){this.setAttribute(t,e)}}function bB(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _B(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wB(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function EB(t,e){var n=Wm(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?vB:yB:typeof e=="function"?n.local?wB:_B:n.local?bB:xB)(n,e))}function $A(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jB(t){return function(){this.style.removeProperty(t)}}function SB(t,e,n){return function(){this.style.setProperty(t,e,n)}}function TB(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function NB(t,e,n){return arguments.length>1?this.each((e==null?jB:typeof e=="function"?TB:SB)(t,e,n??"")):sc(this.node(),t)}function sc(t,e){return t.style.getPropertyValue(e)||$A(t).getComputedStyle(t,null).getPropertyValue(e)}function kB(t){return function(){delete this[t]}}function AB(t,e){return function(){this[t]=e}}function CB(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function RB(t,e){return arguments.length>1?this.each((e==null?kB:typeof e=="function"?CB:AB)(t,e)):this.node()[t]}function GA(t){return t.trim().split(/^|\s+/)}function Kx(t){return t.classList||new KA(t)}function KA(t){this._node=t,this._names=GA(t.getAttribute("class")||"")}KA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function YA(t,e){for(var n=Kx(t),i=-1,a=e.length;++i<a;)n.add(e[i])}function XA(t,e){for(var n=Kx(t),i=-1,a=e.length;++i<a;)n.remove(e[i])}function MB(t){return function(){YA(this,t)}}function DB(t){return function(){XA(this,t)}}function zB(t,e){return function(){(e.apply(this,arguments)?YA:XA)(this,t)}}function VB(t,e){var n=GA(t+"");if(arguments.length<2){for(var i=Kx(this.node()),a=-1,l=n.length;++a<l;)if(!i.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?zB:e?MB:DB)(n,e))}function IB(){this.textContent=""}function OB(t){return function(){this.textContent=t}}function PB(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function LB(t){return arguments.length?this.each(t==null?IB:(typeof t=="function"?PB:OB)(t)):this.node().textContent}function BB(){this.innerHTML=""}function UB(t){return function(){this.innerHTML=t}}function FB(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function HB(t){return arguments.length?this.each(t==null?BB:(typeof t=="function"?FB:UB)(t)):this.node().innerHTML}function qB(){this.nextSibling&&this.parentNode.appendChild(this)}function $B(){return this.each(qB)}function GB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function KB(){return this.each(GB)}function YB(t){var e=typeof t=="function"?t:BA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function XB(){return null}function ZB(t,e){var n=typeof t=="function"?t:BA(t),i=e==null?XB:typeof e=="function"?e:Gx(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function QB(){var t=this.parentNode;t&&t.removeChild(this)}function WB(){return this.each(QB)}function JB(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eU(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tU(t){return this.select(t?eU:JB)}function nU(t){return arguments.length?this.property("__data__",t):this.node().__data__}function iU(t){return function(e){t.call(this,e,this.__data__)}}function sU(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function rU(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,a=e.length,l;n<a;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function aU(t,e,n){return function(){var i=this.__on,a,l=iU(e);if(i){for(var c=0,d=i.length;c<d;++c)if((a=i[c]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=n),a.value=e;return}}this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,options:n},i?i.push(a):this.__on=[a]}}function oU(t,e,n){var i=sU(t+""),a,l=i.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,m=d.length,g;f<m;++f)for(a=0,g=d[f];a<l;++a)if((c=i[a]).type===g.type&&c.name===g.name)return g.value}return}for(d=e?aU:rU,a=0;a<l;++a)this.each(d(i[a],e,n));return this}function ZA(t,e,n){var i=$A(t),a=i.CustomEvent;typeof a=="function"?a=new a(e,n):(a=i.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function lU(t,e){return function(){return ZA(this,t,e)}}function cU(t,e){return function(){return ZA(this,t,e.apply(this,arguments))}}function uU(t,e){return this.each((typeof e=="function"?cU:lU)(t,e))}function*hU(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],a=0,l=i.length,c;a<l;++a)(c=i[a])&&(yield c)}var QA=[null];function vi(t,e){this._groups=t,this._parents=e}function Ih(){return new vi([[document.documentElement]],QA)}function dU(){return this}vi.prototype=Ih.prototype={constructor:vi,select:P7,selectAll:F7,selectChild:G7,selectChildren:Z7,filter:Q7,data:iB,enter:W7,exit:rB,join:aB,merge:oB,selection:dU,order:lB,sort:cB,call:hB,nodes:dB,node:fB,size:mB,empty:pB,each:gB,attr:EB,style:NB,property:RB,classed:VB,text:LB,html:HB,raise:$B,lower:KB,append:YB,insert:ZB,remove:WB,clone:tU,datum:nU,on:oU,dispatch:uU,[Symbol.iterator]:hU};function Ui(t){return typeof t=="string"?new vi([[document.querySelector(t)]],[document.documentElement]):new vi([[t]],QA)}function fU(t){let e;for(;e=t.sourceEvent;)t=e;return t}function as(t,e){if(t=fU(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const mU={passive:!1},mh={capture:!0,passive:!1};function Oy(t){t.stopImmediatePropagation()}function Hl(t){t.preventDefault(),t.stopImmediatePropagation()}function WA(t){var e=t.document.documentElement,n=Ui(t).on("dragstart.drag",Hl,mh);"onselectstart"in e?n.on("selectstart.drag",Hl,mh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function JA(t,e){var n=t.document.documentElement,i=Ui(t).on("dragstart.drag",null);e&&(i.on("click.drag",Hl,mh),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const mf=t=>()=>t;function ev(t,{sourceEvent:e,subject:n,target:i,identifier:a,active:l,x:c,y:d,dx:f,dy:m,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:g}})}ev.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function pU(t){return!t.ctrlKey&&!t.button}function gU(){return this.parentNode}function yU(t,e){return e??{x:t.x,y:t.y}}function vU(){return navigator.maxTouchPoints||"ontouchstart"in this}function xU(){var t=pU,e=gU,n=yU,i=vU,a={},l=Qm("start","drag","end"),c=0,d,f,m,g,x=0;function b(F){F.on("mousedown.drag",w).filter(i).on("touchstart.drag",T).on("touchmove.drag",j,mU).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(F,$){if(!(g||!t.call(this,F,$))){var X=O(this,e.call(this,F,$),F,$,"mouse");X&&(Ui(F.view).on("mousemove.drag",N,mh).on("mouseup.drag",C,mh),WA(F.view),Oy(F),m=!1,d=F.clientX,f=F.clientY,X("start",F))}}function N(F){if(Hl(F),!m){var $=F.clientX-d,X=F.clientY-f;m=$*$+X*X>x}a.mouse("drag",F)}function C(F){Ui(F.view).on("mousemove.drag mouseup.drag",null),JA(F.view,m),Hl(F),a.mouse("end",F)}function T(F,$){if(t.call(this,F,$)){var X=F.changedTouches,A=e.call(this,F,$),k=X.length,M,B;for(M=0;M<k;++M)(B=O(this,A,F,$,X[M].identifier,X[M]))&&(Oy(F),B("start",F,X[M]))}}function j(F){var $=F.changedTouches,X=$.length,A,k;for(A=0;A<X;++A)(k=a[$[A].identifier])&&(Hl(F),k("drag",F,$[A]))}function R(F){var $=F.changedTouches,X=$.length,A,k;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),A=0;A<X;++A)(k=a[$[A].identifier])&&(Oy(F),k("end",F,$[A]))}function O(F,$,X,A,k,M){var B=l.copy(),L=as(M||X,$),q,I,H;if((H=n.call(F,new ev("beforestart",{sourceEvent:X,target:b,identifier:k,active:c,x:L[0],y:L[1],dx:0,dy:0,dispatch:B}),A))!=null)return q=H.x-L[0]||0,I=H.y-L[1]||0,function ne(U,Y,ee){var Q=L,W;switch(U){case"start":a[k]=ne,W=c++;break;case"end":delete a[k],--c;case"drag":L=as(ee||Y,$),W=c;break}B.call(U,F,new ev(U,{sourceEvent:Y,subject:H,target:b,identifier:k,active:W,x:L[0]+q,y:L[1]+I,dx:L[0]-Q[0],dy:L[1]-Q[1],dispatch:B}),A)}}return b.filter=function(F){return arguments.length?(t=typeof F=="function"?F:mf(!!F),b):t},b.container=function(F){return arguments.length?(e=typeof F=="function"?F:mf(F),b):e},b.subject=function(F){return arguments.length?(n=typeof F=="function"?F:mf(F),b):n},b.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:mf(!!F),b):i},b.on=function(){var F=l.on.apply(l,arguments);return F===l?b:F},b.clickDistance=function(F){return arguments.length?(x=(F=+F)*F,b):Math.sqrt(x)},b}function Yx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eC(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Oh(){}var ph=.7,gm=1/ph,ql="\\s*([+-]?\\d+)\\s*",gh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bU=/^#([0-9a-f]{3,8})$/,_U=new RegExp(`^rgb\\(${ql},${ql},${ql}\\)$`),wU=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),EU=new RegExp(`^rgba\\(${ql},${ql},${ql},${gh}\\)$`),jU=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${gh}\\)$`),SU=new RegExp(`^hsl\\(${gh},${Ds},${Ds}\\)$`),TU=new RegExp(`^hsla\\(${gh},${Ds},${Ds},${gh}\\)$`),Kj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yx(Oh,yh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yj,formatHex:Yj,formatHex8:NU,formatHsl:kU,formatRgb:Xj,toString:Xj});function Yj(){return this.rgb().formatHex()}function NU(){return this.rgb().formatHex8()}function kU(){return tC(this).formatHsl()}function Xj(){return this.rgb().formatRgb()}function yh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bU.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zj(e):n===3?new ti(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_U.exec(t))?new ti(e[1],e[2],e[3],1):(e=wU.exec(t))?new ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EU.exec(t))?pf(e[1],e[2],e[3],e[4]):(e=jU.exec(t))?pf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SU.exec(t))?Jj(e[1],e[2]/100,e[3]/100,1):(e=TU.exec(t))?Jj(e[1],e[2]/100,e[3]/100,e[4]):Kj.hasOwnProperty(t)?Zj(Kj[t]):t==="transparent"?new ti(NaN,NaN,NaN,0):null}function Zj(t){return new ti(t>>16&255,t>>8&255,t&255,1)}function pf(t,e,n,i){return i<=0&&(t=e=n=NaN),new ti(t,e,n,i)}function AU(t){return t instanceof Oh||(t=yh(t)),t?(t=t.rgb(),new ti(t.r,t.g,t.b,t.opacity)):new ti}function tv(t,e,n,i){return arguments.length===1?AU(t):new ti(t,e,n,i??1)}function ti(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Yx(ti,tv,eC(Oh,{brighter(t){return t=t==null?gm:Math.pow(gm,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ti(To(this.r),To(this.g),To(this.b),ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qj,formatHex:Qj,formatHex8:CU,formatRgb:Wj,toString:Wj}));function Qj(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}`}function CU(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}${xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wj(){const t=ym(this.opacity);return`${t===1?"rgb(":"rgba("}${To(this.r)}, ${To(this.g)}, ${To(this.b)}${t===1?")":`, ${t})`}`}function ym(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function To(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xo(t){return t=To(t),(t<16?"0":"")+t.toString(16)}function Jj(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new os(t,e,n,i)}function tC(t){if(t instanceof os)return new os(t.h,t.s,t.l,t.opacity);if(t instanceof Oh||(t=yh(t)),!t)return new os;if(t instanceof os)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,a=Math.min(e,n,i),l=Math.max(e,n,i),c=NaN,d=l-a,f=(l+a)/2;return d?(e===l?c=(n-i)/d+(n<i)*6:n===l?c=(i-e)/d+2:c=(e-n)/d+4,d/=f<.5?l+a:2-l-a,c*=60):d=f>0&&f<1?0:c,new os(c,d,f,t.opacity)}function RU(t,e,n,i){return arguments.length===1?tC(t):new os(t,e,n,i??1)}function os(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Yx(os,RU,eC(Oh,{brighter(t){return t=t==null?gm:Math.pow(gm,t),new os(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new os(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,a=2*n-i;return new ti(Py(t>=240?t-240:t+120,a,i),Py(t,a,i),Py(t<120?t+240:t-120,a,i),this.opacity)},clamp(){return new os(eS(this.h),gf(this.s),gf(this.l),ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ym(this.opacity);return`${t===1?"hsl(":"hsla("}${eS(this.h)}, ${gf(this.s)*100}%, ${gf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eS(t){return t=(t||0)%360,t<0?t+360:t}function gf(t){return Math.max(0,Math.min(1,t||0))}function Py(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nC=t=>()=>t;function MU(t,e){return function(n){return t+n*e}}function DU(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function zU(t){return(t=+t)==1?iC:function(e,n){return n-e?DU(e,n,t):nC(isNaN(e)?n:e)}}function iC(t,e){var n=e-t;return n?MU(t,n):nC(isNaN(t)?e:t)}const tS=(function t(e){var n=zU(e);function i(a,l){var c=n((a=tv(a)).r,(l=tv(l)).r),d=n(a.g,l.g),f=n(a.b,l.b),m=iC(a.opacity,l.opacity);return function(g){return a.r=c(g),a.g=d(g),a.b=f(g),a.opacity=m(g),a+""}}return i.gamma=t,i})(1);function la(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var nv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ly=new RegExp(nv.source,"g");function VU(t){return function(){return t}}function IU(t){return function(e){return t(e)+""}}function OU(t,e){var n=nv.lastIndex=Ly.lastIndex=0,i,a,l,c=-1,d=[],f=[];for(t=t+"",e=e+"";(i=nv.exec(t))&&(a=Ly.exec(e));)(l=a.index)>n&&(l=e.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(i=i[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:la(i,a)})),n=Ly.lastIndex;return n<e.length&&(l=e.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?IU(f[0].x):VU(e):(e=f.length,function(m){for(var g=0,x;g<e;++g)d[(x=f[g]).i]=x.x(m);return d.join("")})}var nS=180/Math.PI,iv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sC(t,e,n,i,a,l){var c,d,f;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(d=Math.sqrt(n*n+i*i))&&(n/=d,i/=d,f/=d),t*i<e*n&&(t=-t,e=-e,f=-f,c=-c),{translateX:a,translateY:l,rotate:Math.atan2(e,t)*nS,skewX:Math.atan(f)*nS,scaleX:c,scaleY:d}}var yf;function PU(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?iv:sC(e.a,e.b,e.c,e.d,e.e,e.f)}function LU(t){return t==null||(yf||(yf=document.createElementNS("http://www.w3.org/2000/svg","g")),yf.setAttribute("transform",t),!(t=yf.transform.baseVal.consolidate()))?iv:(t=t.matrix,sC(t.a,t.b,t.c,t.d,t.e,t.f))}function rC(t,e,n,i){function a(m){return m.length?m.pop()+" ":""}function l(m,g,x,b,w,N){if(m!==x||g!==b){var C=w.push("translate(",null,e,null,n);N.push({i:C-4,x:la(m,x)},{i:C-2,x:la(g,b)})}else(x||b)&&w.push("translate("+x+e+b+n)}function c(m,g,x,b){m!==g?(m-g>180?g+=360:g-m>180&&(m+=360),b.push({i:x.push(a(x)+"rotate(",null,i)-2,x:la(m,g)})):g&&x.push(a(x)+"rotate("+g+i)}function d(m,g,x,b){m!==g?b.push({i:x.push(a(x)+"skewX(",null,i)-2,x:la(m,g)}):g&&x.push(a(x)+"skewX("+g+i)}function f(m,g,x,b,w,N){if(m!==x||g!==b){var C=w.push(a(w)+"scale(",null,",",null,")");N.push({i:C-4,x:la(m,x)},{i:C-2,x:la(g,b)})}else(x!==1||b!==1)&&w.push(a(w)+"scale("+x+","+b+")")}return function(m,g){var x=[],b=[];return m=t(m),g=t(g),l(m.translateX,m.translateY,g.translateX,g.translateY,x,b),c(m.rotate,g.rotate,x,b),d(m.skewX,g.skewX,x,b),f(m.scaleX,m.scaleY,g.scaleX,g.scaleY,x,b),m=g=null,function(w){for(var N=-1,C=b.length,T;++N<C;)x[(T=b[N]).i]=T.x(w);return x.join("")}}}var BU=rC(PU,"px, ","px)","deg)"),UU=rC(LU,", ",")",")"),FU=1e-12;function iS(t){return((t=Math.exp(t))+1/t)/2}function HU(t){return((t=Math.exp(t))-1/t)/2}function qU(t){return((t=Math.exp(2*t))-1)/(t+1)}const $U=(function t(e,n,i){function a(l,c){var d=l[0],f=l[1],m=l[2],g=c[0],x=c[1],b=c[2],w=g-d,N=x-f,C=w*w+N*N,T,j;if(C<FU)j=Math.log(b/m)/e,T=function(A){return[d+A*w,f+A*N,m*Math.exp(e*A*j)]};else{var R=Math.sqrt(C),O=(b*b-m*m+i*C)/(2*m*n*R),F=(b*b-m*m-i*C)/(2*b*n*R),$=Math.log(Math.sqrt(O*O+1)-O),X=Math.log(Math.sqrt(F*F+1)-F);j=(X-$)/e,T=function(A){var k=A*j,M=iS($),B=m/(n*R)*(M*qU(e*k+$)-HU($));return[d+B*w,f+B*N,m*M/iS(e*k+$)]}}return T.duration=j*1e3*e/Math.SQRT2,T}return a.rho=function(l){var c=Math.max(.001,+l),d=c*c,f=d*d;return t(c,d,f)},a})(Math.SQRT2,2,4);var rc=0,Mu=0,wu=0,aC=1e3,vm,Du,xm=0,Co=0,Jm=0,vh=typeof performance=="object"&&performance.now?performance:Date,oC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xx(){return Co||(oC(GU),Co=vh.now()+Jm)}function GU(){Co=0}function bm(){this._call=this._time=this._next=null}bm.prototype=lC.prototype={constructor:bm,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Xx():+n)+(e==null?0:+e),!this._next&&Du!==this&&(Du?Du._next=this:vm=this,Du=this),this._call=t,this._time=n,sv()},stop:function(){this._call&&(this._call=null,this._time=1/0,sv())}};function lC(t,e,n){var i=new bm;return i.restart(t,e,n),i}function KU(){Xx(),++rc;for(var t=vm,e;t;)(e=Co-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rc}function sS(){Co=(xm=vh.now())+Jm,rc=Mu=0;try{KU()}finally{rc=0,XU(),Co=0}}function YU(){var t=vh.now(),e=t-xm;e>aC&&(Jm-=e,xm=t)}function XU(){for(var t,e=vm,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:vm=n);Du=t,sv(i)}function sv(t){if(!rc){Mu&&(Mu=clearTimeout(Mu));var e=t-Co;e>24?(t<1/0&&(Mu=setTimeout(sS,t-vh.now()-Jm)),wu&&(wu=clearInterval(wu))):(wu||(xm=vh.now(),wu=setInterval(YU,aC)),rc=1,oC(sS))}}function rS(t,e,n){var i=new bm;return e=e==null?0:+e,i.restart(a=>{i.stop(),t(a+e)},e,n),i}var ZU=Qm("start","end","cancel","interrupt"),QU=[],cC=0,aS=1,rv=2,Pf=3,oS=4,av=5,Lf=6;function ep(t,e,n,i,a,l){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;WU(t,n,{name:e,index:i,group:a,on:ZU,tween:QU,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:cC})}function Zx(t,e){var n=us(t,e);if(n.state>cC)throw new Error("too late; already scheduled");return n}function Bs(t,e){var n=us(t,e);if(n.state>Pf)throw new Error("too late; already running");return n}function us(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function WU(t,e,n){var i=t.__transition,a;i[e]=n,n.timer=lC(l,0,n.time);function l(m){n.state=aS,n.timer.restart(c,n.delay,n.time),n.delay<=m&&c(m-n.delay)}function c(m){var g,x,b,w;if(n.state!==aS)return f();for(g in i)if(w=i[g],w.name===n.name){if(w.state===Pf)return rS(c);w.state===oS?(w.state=Lf,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete i[g]):+g<e&&(w.state=Lf,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete i[g])}if(rS(function(){n.state===Pf&&(n.state=oS,n.timer.restart(d,n.delay,n.time),d(m))}),n.state=rv,n.on.call("start",t,t.__data__,n.index,n.group),n.state===rv){for(n.state=Pf,a=new Array(b=n.tween.length),g=0,x=-1;g<b;++g)(w=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(a[++x]=w);a.length=x+1}}function d(m){for(var g=m<n.duration?n.ease.call(null,m/n.duration):(n.timer.restart(f),n.state=av,1),x=-1,b=a.length;++x<b;)a[x].call(t,g);n.state===av&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Lf,n.timer.stop(),delete i[e];for(var m in i)return;delete t.__transition}}function Bf(t,e){var n=t.__transition,i,a,l=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){l=!1;continue}a=i.state>rv&&i.state<av,i.state=Lf,i.timer.stop(),i.on.call(a?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}l&&delete t.__transition}}function JU(t){return this.each(function(){Bf(this,t)})}function eF(t,e){var n,i;return function(){var a=Bs(this,t),l=a.tween;if(l!==n){i=n=l;for(var c=0,d=i.length;c<d;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}a.tween=i}}function tF(t,e,n){var i,a;if(typeof n!="function")throw new Error;return function(){var l=Bs(this,t),c=l.tween;if(c!==i){a=(i=c).slice();for(var d={name:e,value:n},f=0,m=a.length;f<m;++f)if(a[f].name===e){a[f]=d;break}f===m&&a.push(d)}l.tween=a}}function nF(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=us(this.node(),n).tween,a=0,l=i.length,c;a<l;++a)if((c=i[a]).name===t)return c.value;return null}return this.each((e==null?eF:tF)(n,t,e))}function Qx(t,e,n){var i=t._id;return t.each(function(){var a=Bs(this,i);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return us(a,i).value[e]}}function uC(t,e){var n;return(typeof e=="number"?la:e instanceof yh?tS:(n=yh(e))?(e=n,tS):OU)(t,e)}function iF(t){return function(){this.removeAttribute(t)}}function sF(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rF(t,e,n){var i,a=n+"",l;return function(){var c=this.getAttribute(t);return c===a?null:c===i?l:l=e(i=c,n)}}function aF(t,e,n){var i,a=n+"",l;return function(){var c=this.getAttributeNS(t.space,t.local);return c===a?null:c===i?l:l=e(i=c,n)}}function oF(t,e,n){var i,a,l;return function(){var c,d=n(this),f;return d==null?void this.removeAttribute(t):(c=this.getAttribute(t),f=d+"",c===f?null:c===i&&f===a?l:(a=f,l=e(i=c,d)))}}function lF(t,e,n){var i,a,l;return function(){var c,d=n(this),f;return d==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),f=d+"",c===f?null:c===i&&f===a?l:(a=f,l=e(i=c,d)))}}function cF(t,e){var n=Wm(t),i=n==="transform"?UU:uC;return this.attrTween(t,typeof e=="function"?(n.local?lF:oF)(n,i,Qx(this,"attr."+t,e)):e==null?(n.local?sF:iF)(n):(n.local?aF:rF)(n,i,e))}function uF(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function hF(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function dF(t,e){var n,i;function a(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&hF(t,l)),n}return a._value=e,a}function fF(t,e){var n,i;function a(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&uF(t,l)),n}return a._value=e,a}function mF(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Wm(t);return this.tween(n,(i.local?dF:fF)(i,e))}function pF(t,e){return function(){Zx(this,t).delay=+e.apply(this,arguments)}}function gF(t,e){return e=+e,function(){Zx(this,t).delay=e}}function yF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?pF:gF)(e,t)):us(this.node(),e).delay}function vF(t,e){return function(){Bs(this,t).duration=+e.apply(this,arguments)}}function xF(t,e){return e=+e,function(){Bs(this,t).duration=e}}function bF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vF:xF)(e,t)):us(this.node(),e).duration}function _F(t,e){if(typeof e!="function")throw new Error;return function(){Bs(this,t).ease=e}}function wF(t){var e=this._id;return arguments.length?this.each(_F(e,t)):us(this.node(),e).ease}function EF(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Bs(this,t).ease=n}}function jF(t){if(typeof t!="function")throw new Error;return this.each(EF(this._id,t))}function SF(t){typeof t!="function"&&(t=FA(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var l=e[a],c=l.length,d=i[a]=[],f,m=0;m<c;++m)(f=l[m])&&t.call(f,f.__data__,m,l)&&d.push(f);return new Er(i,this._parents,this._name,this._id)}function TF(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,a=n.length,l=Math.min(i,a),c=new Array(i),d=0;d<l;++d)for(var f=e[d],m=n[d],g=f.length,x=c[d]=new Array(g),b,w=0;w<g;++w)(b=f[w]||m[w])&&(x[w]=b);for(;d<i;++d)c[d]=e[d];return new Er(c,this._parents,this._name,this._id)}function NF(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function kF(t,e,n){var i,a,l=NF(e)?Zx:Bs;return function(){var c=l(this,t),d=c.on;d!==i&&(a=(i=d).copy()).on(e,n),c.on=a}}function AF(t,e){var n=this._id;return arguments.length<2?us(this.node(),n).on.on(t):this.each(kF(n,t,e))}function CF(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function RF(){return this.on("end.remove",CF(this._id))}function MF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gx(t));for(var i=this._groups,a=i.length,l=new Array(a),c=0;c<a;++c)for(var d=i[c],f=d.length,m=l[c]=new Array(f),g,x,b=0;b<f;++b)(g=d[b])&&(x=t.call(g,g.__data__,b,d))&&("__data__"in g&&(x.__data__=g.__data__),m[b]=x,ep(m[b],e,n,b,m,us(g,n)));return new Er(l,this._parents,e,n)}function DF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=UA(t));for(var i=this._groups,a=i.length,l=[],c=[],d=0;d<a;++d)for(var f=i[d],m=f.length,g,x=0;x<m;++x)if(g=f[x]){for(var b=t.call(g,g.__data__,x,f),w,N=us(g,n),C=0,T=b.length;C<T;++C)(w=b[C])&&ep(w,e,n,C,b,N);l.push(b),c.push(g)}return new Er(l,c,e,n)}var zF=Ih.prototype.constructor;function VF(){return new zF(this._groups,this._parents)}function IF(t,e){var n,i,a;return function(){var l=sc(this,t),c=(this.style.removeProperty(t),sc(this,t));return l===c?null:l===n&&c===i?a:a=e(n=l,i=c)}}function hC(t){return function(){this.style.removeProperty(t)}}function OF(t,e,n){var i,a=n+"",l;return function(){var c=sc(this,t);return c===a?null:c===i?l:l=e(i=c,n)}}function PF(t,e,n){var i,a,l;return function(){var c=sc(this,t),d=n(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(t),sc(this,t))),c===f?null:c===i&&f===a?l:(a=f,l=e(i=c,d))}}function LF(t,e){var n,i,a,l="style."+e,c="end."+l,d;return function(){var f=Bs(this,t),m=f.on,g=f.value[l]==null?d||(d=hC(e)):void 0;(m!==n||a!==g)&&(i=(n=m).copy()).on(c,a=g),f.on=i}}function BF(t,e,n){var i=(t+="")=="transform"?BU:uC;return e==null?this.styleTween(t,IF(t,i)).on("end.style."+t,hC(t)):typeof e=="function"?this.styleTween(t,PF(t,i,Qx(this,"style."+t,e))).each(LF(this._id,t)):this.styleTween(t,OF(t,i,e),n).on("end.style."+t,null)}function UF(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function FF(t,e,n){var i,a;function l(){var c=e.apply(this,arguments);return c!==a&&(i=(a=c)&&UF(t,c,n)),i}return l._value=e,l}function HF(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,FF(t,e,n??""))}function qF(t){return function(){this.textContent=t}}function $F(t){return function(){var e=t(this);this.textContent=e??""}}function GF(t){return this.tween("text",typeof t=="function"?$F(Qx(this,"text",t)):qF(t==null?"":t+""))}function KF(t){return function(e){this.textContent=t.call(this,e)}}function YF(t){var e,n;function i(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&KF(a)),e}return i._value=t,i}function XF(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,YF(t))}function ZF(){for(var t=this._name,e=this._id,n=dC(),i=this._groups,a=i.length,l=0;l<a;++l)for(var c=i[l],d=c.length,f,m=0;m<d;++m)if(f=c[m]){var g=us(f,e);ep(f,t,n,m,c,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Er(i,this._parents,t,n)}function QF(){var t,e,n=this,i=n._id,a=n.size();return new Promise(function(l,c){var d={value:c},f={value:function(){--a===0&&l()}};n.each(function(){var m=Bs(this,i),g=m.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(d),e._.interrupt.push(d),e._.end.push(f)),m.on=e}),a===0&&l()})}var WF=0;function Er(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function dC(){return++WF}var lr=Ih.prototype;Er.prototype={constructor:Er,select:MF,selectAll:DF,selectChild:lr.selectChild,selectChildren:lr.selectChildren,filter:SF,merge:TF,selection:VF,transition:ZF,call:lr.call,nodes:lr.nodes,node:lr.node,size:lr.size,empty:lr.empty,each:lr.each,on:AF,attr:cF,attrTween:mF,style:BF,styleTween:HF,text:GF,textTween:XF,remove:RF,tween:nF,delay:yF,duration:bF,ease:wF,easeVarying:jF,end:QF,[Symbol.iterator]:lr[Symbol.iterator]};function JF(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var eH={time:null,delay:0,duration:250,ease:JF};function tH(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nH(t){var e,n;t instanceof Er?(e=t._id,t=t._name):(e=dC(),(n=eH).time=Xx(),t=t==null?null:t+"");for(var i=this._groups,a=i.length,l=0;l<a;++l)for(var c=i[l],d=c.length,f,m=0;m<d;++m)(f=c[m])&&ep(f,t,e,m,c,n||tH(f,e));return new Er(i,this._parents,t,e)}Ih.prototype.interrupt=JU;Ih.prototype.transition=nH;const vf=t=>()=>t;function iH(t,{sourceEvent:e,target:n,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function mr(t,e,n){this.k=t,this.x=e,this.y=n}mr.prototype={constructor:mr,scale:function(t){return t===1?this:new mr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new mr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gr=new mr(1,0,0);mr.prototype;function By(t){t.stopImmediatePropagation()}function Eu(t){t.preventDefault(),t.stopImmediatePropagation()}function sH(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rH(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function lS(){return this.__zoom||gr}function aH(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function oH(){return navigator.maxTouchPoints||"ontouchstart"in this}function lH(t,e,n){var i=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),c>l?(l+c)/2:Math.min(0,l)||Math.max(0,c))}function fC(){var t=sH,e=rH,n=lH,i=aH,a=oH,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,f=$U,m=Qm("start","zoom","end"),g,x,b,w=500,N=150,C=0,T=10;function j(H){H.property("__zoom",lS).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",B).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(H,ne,U,Y){var ee=H.selection?H.selection():H;ee.property("__zoom",lS),H!==ee?$(H,ne,U,Y):ee.interrupt().each(function(){X(this,arguments).event(Y).start().zoom(null,typeof ne=="function"?ne.apply(this,arguments):ne).end()})},j.scaleBy=function(H,ne,U,Y){j.scaleTo(H,function(){var ee=this.__zoom.k,Q=typeof ne=="function"?ne.apply(this,arguments):ne;return ee*Q},U,Y)},j.scaleTo=function(H,ne,U,Y){j.transform(H,function(){var ee=e.apply(this,arguments),Q=this.__zoom,W=U==null?F(ee):typeof U=="function"?U.apply(this,arguments):U,V=Q.invert(W),K=typeof ne=="function"?ne.apply(this,arguments):ne;return n(O(R(Q,K),W,V),ee,c)},U,Y)},j.translateBy=function(H,ne,U,Y){j.transform(H,function(){return n(this.__zoom.translate(typeof ne=="function"?ne.apply(this,arguments):ne,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),c)},null,Y)},j.translateTo=function(H,ne,U,Y,ee){j.transform(H,function(){var Q=e.apply(this,arguments),W=this.__zoom,V=Y==null?F(Q):typeof Y=="function"?Y.apply(this,arguments):Y;return n(gr.translate(V[0],V[1]).scale(W.k).translate(typeof ne=="function"?-ne.apply(this,arguments):-ne,typeof U=="function"?-U.apply(this,arguments):-U),Q,c)},Y,ee)};function R(H,ne){return ne=Math.max(l[0],Math.min(l[1],ne)),ne===H.k?H:new mr(ne,H.x,H.y)}function O(H,ne,U){var Y=ne[0]-U[0]*H.k,ee=ne[1]-U[1]*H.k;return Y===H.x&&ee===H.y?H:new mr(H.k,Y,ee)}function F(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function $(H,ne,U,Y){H.on("start.zoom",function(){X(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(Y).end()}).tween("zoom",function(){var ee=this,Q=arguments,W=X(ee,Q).event(Y),V=e.apply(ee,Q),K=U==null?F(V):typeof U=="function"?U.apply(ee,Q):U,ae=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),le=ee.__zoom,ye=typeof ne=="function"?ne.apply(ee,Q):ne,ve=f(le.invert(K).concat(ae/le.k),ye.invert(K).concat(ae/ye.k));return function(we){if(we===1)we=ye;else{var Re=ve(we),Se=ae/Re[2];we=new mr(Se,K[0]-Re[0]*Se,K[1]-Re[1]*Se)}W.zoom(null,we)}})}function X(H,ne,U){return!U&&H.__zooming||new A(H,ne)}function A(H,ne){this.that=H,this.args=ne,this.active=0,this.sourceEvent=null,this.extent=e.apply(H,ne),this.taps=0}A.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,ne){return this.mouse&&H!=="mouse"&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var ne=Ui(this.that).datum();m.call(H,this.that,new iH(H,{sourceEvent:this.sourceEvent,target:j,transform:this.that.__zoom,dispatch:m}),ne)}};function k(H,...ne){if(!t.apply(this,arguments))return;var U=X(this,ne).event(H),Y=this.__zoom,ee=Math.max(l[0],Math.min(l[1],Y.k*Math.pow(2,i.apply(this,arguments)))),Q=as(H);if(U.wheel)(U.mouse[0][0]!==Q[0]||U.mouse[0][1]!==Q[1])&&(U.mouse[1]=Y.invert(U.mouse[0]=Q)),clearTimeout(U.wheel);else{if(Y.k===ee)return;U.mouse=[Q,Y.invert(Q)],Bf(this),U.start()}Eu(H),U.wheel=setTimeout(W,N),U.zoom("mouse",n(O(R(Y,ee),U.mouse[0],U.mouse[1]),U.extent,c));function W(){U.wheel=null,U.end()}}function M(H,...ne){if(b||!t.apply(this,arguments))return;var U=H.currentTarget,Y=X(this,ne,!0).event(H),ee=Ui(H.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",ae,!0),Q=as(H,U),W=H.clientX,V=H.clientY;WA(H.view),By(H),Y.mouse=[Q,this.__zoom.invert(Q)],Bf(this),Y.start();function K(le){if(Eu(le),!Y.moved){var ye=le.clientX-W,ve=le.clientY-V;Y.moved=ye*ye+ve*ve>C}Y.event(le).zoom("mouse",n(O(Y.that.__zoom,Y.mouse[0]=as(le,U),Y.mouse[1]),Y.extent,c))}function ae(le){ee.on("mousemove.zoom mouseup.zoom",null),JA(le.view,Y.moved),Eu(le),Y.event(le).end()}}function B(H,...ne){if(t.apply(this,arguments)){var U=this.__zoom,Y=as(H.changedTouches?H.changedTouches[0]:H,this),ee=U.invert(Y),Q=U.k*(H.shiftKey?.5:2),W=n(O(R(U,Q),Y,ee),e.apply(this,ne),c);Eu(H),d>0?Ui(this).transition().duration(d).call($,W,Y,H):Ui(this).call(j.transform,W,Y,H)}}function L(H,...ne){if(t.apply(this,arguments)){var U=H.touches,Y=U.length,ee=X(this,ne,H.changedTouches.length===Y).event(H),Q,W,V,K;for(By(H),W=0;W<Y;++W)V=U[W],K=as(V,this),K=[K,this.__zoom.invert(K),V.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==K[2]&&(ee.touch1=K,ee.taps=0):(ee.touch0=K,Q=!0,ee.taps=1+!!g);g&&(g=clearTimeout(g)),Q&&(ee.taps<2&&(x=K[0],g=setTimeout(function(){g=null},w)),Bf(this),ee.start())}}function q(H,...ne){if(this.__zooming){var U=X(this,ne).event(H),Y=H.changedTouches,ee=Y.length,Q,W,V,K;for(Eu(H),Q=0;Q<ee;++Q)W=Y[Q],V=as(W,this),U.touch0&&U.touch0[2]===W.identifier?U.touch0[0]=V:U.touch1&&U.touch1[2]===W.identifier&&(U.touch1[0]=V);if(W=U.that.__zoom,U.touch1){var ae=U.touch0[0],le=U.touch0[1],ye=U.touch1[0],ve=U.touch1[1],we=(we=ye[0]-ae[0])*we+(we=ye[1]-ae[1])*we,Re=(Re=ve[0]-le[0])*Re+(Re=ve[1]-le[1])*Re;W=R(W,Math.sqrt(we/Re)),V=[(ae[0]+ye[0])/2,(ae[1]+ye[1])/2],K=[(le[0]+ve[0])/2,(le[1]+ve[1])/2]}else if(U.touch0)V=U.touch0[0],K=U.touch0[1];else return;U.zoom("touch",n(O(W,V,K),U.extent,c))}}function I(H,...ne){if(this.__zooming){var U=X(this,ne).event(H),Y=H.changedTouches,ee=Y.length,Q,W;for(By(H),b&&clearTimeout(b),b=setTimeout(function(){b=null},w),Q=0;Q<ee;++Q)W=Y[Q],U.touch0&&U.touch0[2]===W.identifier?delete U.touch0:U.touch1&&U.touch1[2]===W.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(W=as(W,this),Math.hypot(x[0]-W[0],x[1]-W[1])<T)){var V=Ui(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return j.wheelDelta=function(H){return arguments.length?(i=typeof H=="function"?H:vf(+H),j):i},j.filter=function(H){return arguments.length?(t=typeof H=="function"?H:vf(!!H),j):t},j.touchable=function(H){return arguments.length?(a=typeof H=="function"?H:vf(!!H),j):a},j.extent=function(H){return arguments.length?(e=typeof H=="function"?H:vf([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),j):e},j.scaleExtent=function(H){return arguments.length?(l[0]=+H[0],l[1]=+H[1],j):[l[0],l[1]]},j.translateExtent=function(H){return arguments.length?(c[0][0]=+H[0][0],c[1][0]=+H[1][0],c[0][1]=+H[0][1],c[1][1]=+H[1][1],j):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},j.constrain=function(H){return arguments.length?(n=H,j):n},j.duration=function(H){return arguments.length?(d=+H,j):d},j.interpolate=function(H){return arguments.length?(f=H,j):f},j.on=function(){var H=m.on.apply(m,arguments);return H===m?j:H},j.clickDistance=function(H){return arguments.length?(C=(H=+H)*H,j):Math.sqrt(C)},j.tapDistance=function(H){return arguments.length?(T=+H,j):T},j}const tp=D.createContext(null),cH=tp.Provider,jr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},mC=jr.error001();function jt(t,e){const n=D.useContext(tp);if(n===null)throw new Error(mC);return LA(n,t,e)}const dn=()=>{const t=D.useContext(tp);if(t===null)throw new Error(mC);return D.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},uH=t=>t.userSelectionActive?"none":"all";function Wx({position:t,children:e,className:n,style:i,...a}){const l=jt(uH),c=`${t}`.split("-");return ue.createElement("div",{className:Nn(["react-flow__panel",n,...c]),style:{...i,pointerEvents:l},...a},e)}function hH({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:ue.createElement(Wx,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ue.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const dH=({x:t,y:e,label:n,labelStyle:i={},labelShowBg:a=!0,labelBgStyle:l={},labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:f,className:m,...g})=>{const x=D.useRef(null),[b,w]=D.useState({x:0,y:0,width:0,height:0}),N=Nn(["react-flow__edge-textwrapper",m]);return D.useEffect(()=>{if(x.current){const C=x.current.getBBox();w({x:C.x,y:C.y,width:C.width,height:C.height})}},[n]),typeof n>"u"||!n?null:ue.createElement("g",{transform:`translate(${t-b.width/2} ${e-b.height/2})`,className:N,visibility:b.width?"visible":"hidden",...g},a&&ue.createElement("rect",{width:b.width+2*c[0],x:-c[0],y:-c[1],height:b.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:d,ry:d}),ue.createElement("text",{className:"react-flow__edge-text",y:b.height/2,dy:"0.3em",ref:x,style:i},n),f)};var fH=D.memo(dH);const Jx=t=>({width:t.offsetWidth,height:t.offsetHeight}),ac=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),eb=(t={x:0,y:0},e)=>({x:ac(t.x,e[0][0],e[1][0]),y:ac(t.y,e[0][1],e[1][1])}),cS=(t,e,n)=>t<e?ac(Math.abs(t-e),1,50)/50:t>n?-ac(Math.abs(t-n),1,50)/50:0,pC=(t,e)=>{const n=cS(t.x,35,e.width-35)*20,i=cS(t.y,35,e.height-35)*20;return[n,i]},gC=t=>t.getRootNode?.()||window?.document,yC=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),xh=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),vC=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),uS=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),mH=(t,e)=>vC(yC(xh(t),xh(e))),ov=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},pH=t=>Hi(t.width)&&Hi(t.height)&&Hi(t.x)&&Hi(t.y),Hi=t=>!isNaN(t)&&isFinite(t),qt=Symbol.for("internals"),xC=["Enter"," ","Escape"],gH=(t,e)=>{},yH=t=>"nativeEvent"in t;function lv(t){const n=(yH(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const bC=t=>"clientX"in t,ya=(t,e)=>{const n=bC(t),i=n?t.clientX:t.touches?.[0].clientX,a=n?t.clientY:t.touches?.[0].clientY;return{x:i-(e?.left??0),y:a-(e?.top??0)}},_m=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Ph=({id:t,path:e,labelX:n,labelY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:b,interactionWidth:w=20})=>ue.createElement(ue.Fragment,null,ue.createElement("path",{id:t,style:g,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:x,markerStart:b}),w&&ue.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:w,className:"react-flow__edge-interaction"}),a&&Hi(n)&&Hi(i)?ue.createElement(fH,{x:n,y:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m}):null);Ph.displayName="BaseEdge";function ju(t,e,n){return n===void 0?n:i=>{const a=e().edges.find(l=>l.id===t);a&&n(i,{...a})}}function _C({sourceX:t,sourceY:e,targetX:n,targetY:i}){const a=Math.abs(n-t)/2,l=n<t?n+a:n-a,c=Math.abs(i-e)/2,d=i<e?i+c:i-c;return[l,d,a,c]}function wC({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d}){const f=t*.125+a*.375+c*.375+n*.125,m=e*.125+l*.375+d*.375+i*.125,g=Math.abs(f-t),x=Math.abs(m-e);return[f,m,g,x]}var Ro;(function(t){t.Strict="strict",t.Loose="loose"})(Ro||(Ro={}));var bo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(bo||(bo={}));var bh;(function(t){t.Partial="partial",t.Full="full"})(bh||(bh={}));var ua;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ua||(ua={}));var fr;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(fr||(fr={}));var Ce;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ce||(Ce={}));function hS({pos:t,x1:e,y1:n,x2:i,y2:a}){return t===Ce.Left||t===Ce.Right?[.5*(e+i),n]:[e,.5*(n+a)]}function EC({sourceX:t,sourceY:e,sourcePosition:n=Ce.Bottom,targetX:i,targetY:a,targetPosition:l=Ce.Top}){const[c,d]=hS({pos:n,x1:t,y1:e,x2:i,y2:a}),[f,m]=hS({pos:l,x1:i,y1:a,x2:t,y2:e}),[g,x,b,w]=wC({sourceX:t,sourceY:e,targetX:i,targetY:a,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:m});return[`M${t},${e} C${c},${d} ${f},${m} ${i},${a}`,g,x,b,w]}const tb=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:i,sourcePosition:a=Ce.Bottom,targetPosition:l=Ce.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:N,interactionWidth:C})=>{const[T,j,R]=EC({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:i,targetPosition:l});return ue.createElement(Ph,{path:T,labelX:j,labelY:R,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:N,interactionWidth:C})});tb.displayName="SimpleBezierEdge";const dS={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},vH=({source:t,sourcePosition:e=Ce.Bottom,target:n})=>e===Ce.Left||e===Ce.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},fS=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function xH({source:t,sourcePosition:e=Ce.Bottom,target:n,targetPosition:i=Ce.Top,center:a,offset:l}){const c=dS[e],d=dS[i],f={x:t.x+c.x*l,y:t.y+c.y*l},m={x:n.x+d.x*l,y:n.y+d.y*l},g=vH({source:f,sourcePosition:e,target:m}),x=g.x!==0?"x":"y",b=g[x];let w=[],N,C;const T={x:0,y:0},j={x:0,y:0},[R,O,F,$]=_C({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[x]*d[x]===-1){N=a.x??R,C=a.y??O;const A=[{x:N,y:f.y},{x:N,y:m.y}],k=[{x:f.x,y:C},{x:m.x,y:C}];c[x]===b?w=x==="x"?A:k:w=x==="x"?k:A}else{const A=[{x:f.x,y:m.y}],k=[{x:m.x,y:f.y}];if(x==="x"?w=c.x===b?k:A:w=c.y===b?A:k,e===i){const I=Math.abs(t[x]-n[x]);if(I<=l){const H=Math.min(l-1,l-I);c[x]===b?T[x]=(f[x]>t[x]?-1:1)*H:j[x]=(m[x]>n[x]?-1:1)*H}}if(e!==i){const I=x==="x"?"y":"x",H=c[x]===d[I],ne=f[I]>m[I],U=f[I]<m[I];(c[x]===1&&(!H&&ne||H&&U)||c[x]!==1&&(!H&&U||H&&ne))&&(w=x==="x"?A:k)}const M={x:f.x+T.x,y:f.y+T.y},B={x:m.x+j.x,y:m.y+j.y},L=Math.max(Math.abs(M.x-w[0].x),Math.abs(B.x-w[0].x)),q=Math.max(Math.abs(M.y-w[0].y),Math.abs(B.y-w[0].y));L>=q?(N=(M.x+B.x)/2,C=w[0].y):(N=w[0].x,C=(M.y+B.y)/2)}return[[t,{x:f.x+T.x,y:f.y+T.y},...w,{x:m.x+j.x,y:m.y+j.y},n],N,C,F,$]}function bH(t,e,n,i){const a=Math.min(fS(t,e)/2,fS(e,n)/2,i),{x:l,y:c}=e;if(t.x===l&&l===n.x||t.y===c&&c===n.y)return`L${l} ${c}`;if(t.y===c){const m=t.x<n.x?-1:1,g=t.y<n.y?1:-1;return`L ${l+a*m},${c}Q ${l},${c} ${l},${c+a*g}`}const d=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${l},${c+a*f}Q ${l},${c} ${l+a*d},${c}`}function cv({sourceX:t,sourceY:e,sourcePosition:n=Ce.Bottom,targetX:i,targetY:a,targetPosition:l=Ce.Top,borderRadius:c=5,centerX:d,centerY:f,offset:m=20}){const[g,x,b,w,N]=xH({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:a},targetPosition:l,center:{x:d,y:f},offset:m});return[g.reduce((T,j,R)=>{let O="";return R>0&&R<g.length-1?O=bH(g[R-1],j,g[R+1],c):O=`${R===0?"M":"L"}${j.x} ${j.y}`,T+=O,T},""),x,b,w,N]}const np=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:g,sourcePosition:x=Ce.Bottom,targetPosition:b=Ce.Top,markerEnd:w,markerStart:N,pathOptions:C,interactionWidth:T})=>{const[j,R,O]=cv({sourceX:t,sourceY:e,sourcePosition:x,targetX:n,targetY:i,targetPosition:b,borderRadius:C?.borderRadius,offset:C?.offset});return ue.createElement(Ph,{path:j,labelX:R,labelY:O,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:w,markerStart:N,interactionWidth:T})});np.displayName="SmoothStepEdge";const nb=D.memo(t=>ue.createElement(np,{...t,pathOptions:D.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));nb.displayName="StepEdge";function _H({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[a,l,c,d]=_C({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,a,l,c,d]}const ib=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:i,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:b,interactionWidth:w})=>{const[N,C,T]=_H({sourceX:t,sourceY:e,targetX:n,targetY:i});return ue.createElement(Ph,{path:N,labelX:C,labelY:T,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:b,interactionWidth:w})});ib.displayName="StraightEdge";function xf(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function mS({pos:t,x1:e,y1:n,x2:i,y2:a,c:l}){switch(t){case Ce.Left:return[e-xf(e-i,l),n];case Ce.Right:return[e+xf(i-e,l),n];case Ce.Top:return[e,n-xf(n-a,l)];case Ce.Bottom:return[e,n+xf(a-n,l)]}}function jC({sourceX:t,sourceY:e,sourcePosition:n=Ce.Bottom,targetX:i,targetY:a,targetPosition:l=Ce.Top,curvature:c=.25}){const[d,f]=mS({pos:n,x1:t,y1:e,x2:i,y2:a,c}),[m,g]=mS({pos:l,x1:i,y1:a,x2:t,y2:e,c}),[x,b,w,N]=wC({sourceX:t,sourceY:e,targetX:i,targetY:a,sourceControlX:d,sourceControlY:f,targetControlX:m,targetControlY:g});return[`M${t},${e} C${d},${f} ${m},${g} ${i},${a}`,x,b,w,N]}const wm=D.memo(({sourceX:t,sourceY:e,targetX:n,targetY:i,sourcePosition:a=Ce.Bottom,targetPosition:l=Ce.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:N,pathOptions:C,interactionWidth:T})=>{const[j,R,O]=jC({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:i,targetPosition:l,curvature:C?.curvature});return ue.createElement(Ph,{path:j,labelX:R,labelY:O,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:N,interactionWidth:T})});wm.displayName="BezierEdge";const sb=D.createContext(null),wH=sb.Provider;sb.Consumer;const EH=()=>D.useContext(sb),jH=t=>"id"in t&&"source"in t&&"target"in t,SH=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`reactflow__edge-${t}${e||""}-${n}${i||""}`,uv=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`,TH=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),NH=(t,e)=>{if(!t.source||!t.target)return e;let n;return jH(t)?n={...t}:n={...t,id:SH(t)},TH(n,e)?e:e.concat(n)},hv=({x:t,y:e},[n,i,a],l,[c,d])=>{const f={x:(t-n)/a,y:(e-i)/a};return l?{x:c*Math.round(f.x/c),y:d*Math.round(f.y/d)}:f},SC=({x:t,y:e},[n,i,a])=>({x:t*a+n,y:e*a+i}),No=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],i=(t.height??0)*e[1],a={x:t.position.x-n,y:t.position.y-i};return{...a,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-i}:a}},ip=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,a)=>{const{x:l,y:c}=No(a,e).positionAbsolute;return yC(i,xh({x:l,y:c,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return vC(n)},TC=(t,e,[n,i,a]=[0,0,1],l=!1,c=!1,d=[0,0])=>{const f={x:(e.x-n)/a,y:(e.y-i)/a,width:e.width/a,height:e.height/a},m=[];return t.forEach(g=>{const{width:x,height:b,selectable:w=!0,hidden:N=!1}=g;if(c&&!w||N)return!1;const{positionAbsolute:C}=No(g,d),T={x:C.x,y:C.y,width:x||0,height:b||0},j=ov(f,T),R=typeof x>"u"||typeof b>"u"||x===null||b===null,O=l&&j>0,F=(x||0)*(b||0);(R||O||j>=F||g.dragging)&&m.push(g)}),m},NC=(t,e)=>{const n=t.map(i=>i.id);return e.filter(i=>n.includes(i.source)||n.includes(i.target))},kC=(t,e,n,i,a,l=.1)=>{const c=e/(t.width*(1+l)),d=n/(t.height*(1+l)),f=Math.min(c,d),m=ac(f,i,a),g=t.x+t.width/2,x=t.y+t.height/2,b=e/2-g*m,w=n/2-x*m;return{x:b,y:w,zoom:m}},po=(t,e=0)=>t.transition().duration(e);function pS(t,e,n,i){return(e[n]||[]).reduce((a,l)=>(`${t.id}-${l.id}-${n}`!==i&&a.push({id:l.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+l.x+l.width/2,y:(t.positionAbsolute?.y??0)+l.y+l.height/2}),a),[])}function kH(t,e,n,i,a,l){const{x:c,y:d}=ya(t),m=e.elementsFromPoint(c,d).find(N=>N.classList.contains("react-flow__handle"));if(m){const N=m.getAttribute("data-nodeid");if(N){const C=rb(void 0,m),T=m.getAttribute("data-handleid"),j=l({nodeId:N,id:T,type:C});if(j){const R=a.find(O=>O.nodeId===N&&O.type===C&&O.id===T);return{handle:{id:T,type:C,nodeId:N,x:R?.x||n.x,y:R?.y||n.y},validHandleResult:j}}}}let g=[],x=1/0;if(a.forEach(N=>{const C=Math.sqrt((N.x-n.x)**2+(N.y-n.y)**2);if(C<=i){const T=l(N);C<=x&&(C<x?g=[{handle:N,validHandleResult:T}]:C===x&&g.push({handle:N,validHandleResult:T}),x=C)}}),!g.length)return{handle:null,validHandleResult:AC()};if(g.length===1)return g[0];const b=g.some(({validHandleResult:N})=>N.isValid),w=g.some(({handle:N})=>N.type==="target");return g.find(({handle:N,validHandleResult:C})=>w?N.type==="target":b?C.isValid:!0)||g[0]}const AH={source:null,target:null,sourceHandle:null,targetHandle:null},AC=()=>({handleDomNode:null,isValid:!1,connection:AH,endHandle:null});function CC(t,e,n,i,a,l,c){const d=a==="target",f=c.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),m={...AC(),handleDomNode:f};if(f){const g=rb(void 0,f),x=f.getAttribute("data-nodeid"),b=f.getAttribute("data-handleid"),w=f.classList.contains("connectable"),N=f.classList.contains("connectableend"),C={source:d?x:n,sourceHandle:d?b:i,target:d?n:x,targetHandle:d?i:b};m.connection=C,w&&N&&(e===Ro.Strict?d&&g==="source"||!d&&g==="target":x!==n||b!==i)&&(m.endHandle={nodeId:x,handleId:b,type:g},m.isValid=l(C))}return m}function CH({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((a,l)=>{if(l[qt]){const{handleBounds:c}=l[qt];let d=[],f=[];c&&(d=pS(l,c,"source",`${e}-${n}-${i}`),f=pS(l,c,"target",`${e}-${n}-${i}`)),a.push(...d,...f)}return a},[])}function rb(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Uy(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function RH(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function RC({event:t,handleId:e,nodeId:n,onConnect:i,isTarget:a,getState:l,setState:c,isValidConnection:d,edgeUpdaterType:f,onReconnectEnd:m}){const g=gC(t.target),{connectionMode:x,domNode:b,autoPanOnConnect:w,connectionRadius:N,onConnectStart:C,panBy:T,getNodes:j,cancelConnection:R}=l();let O=0,F;const{x:$,y:X}=ya(t),A=g?.elementFromPoint($,X),k=rb(f,A),M=b?.getBoundingClientRect();if(!M||!k)return;let B,L=ya(t,M),q=!1,I=null,H=!1,ne=null;const U=CH({nodes:j(),nodeId:n,handleId:e,handleType:k}),Y=()=>{if(!w)return;const[W,V]=pC(L,M);T({x:W,y:V}),O=requestAnimationFrame(Y)};c({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:k,connectionStartHandle:{nodeId:n,handleId:e,type:k},connectionEndHandle:null}),C?.(t,{nodeId:n,handleId:e,handleType:k});function ee(W){const{transform:V}=l();L=ya(W,M);const{handle:K,validHandleResult:ae}=kH(W,g,hv(L,V,!1,[1,1]),N,U,le=>CC(le,x,n,e,a?"target":"source",d,g));if(F=K,q||(Y(),q=!0),ne=ae.handleDomNode,I=ae.connection,H=ae.isValid,c({connectionPosition:F&&H?SC({x:F.x,y:F.y},V):L,connectionStatus:RH(!!F,H),connectionEndHandle:ae.endHandle}),!F&&!H&&!ne)return Uy(B);I.source!==I.target&&ne&&(Uy(B),B=ne,ne.classList.add("connecting","react-flow__handle-connecting"),ne.classList.toggle("valid",H),ne.classList.toggle("react-flow__handle-valid",H))}function Q(W){(F||ne)&&I&&H&&i?.(I),l().onConnectEnd?.(W),f&&m?.(W),Uy(B),R(),cancelAnimationFrame(O),q=!1,H=!1,I=null,ne=null,g.removeEventListener("mousemove",ee),g.removeEventListener("mouseup",Q),g.removeEventListener("touchmove",ee),g.removeEventListener("touchend",Q)}g.addEventListener("mousemove",ee),g.addEventListener("mouseup",Q),g.addEventListener("touchmove",ee),g.addEventListener("touchend",Q)}const gS=()=>!0,MH=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),DH=(t,e,n)=>i=>{const{connectionStartHandle:a,connectionEndHandle:l,connectionClickStartHandle:c}=i;return{connecting:a?.nodeId===t&&a?.handleId===e&&a?.type===n||l?.nodeId===t&&l?.handleId===e&&l?.type===n,clickConnecting:c?.nodeId===t&&c?.handleId===e&&c?.type===n}},MC=D.forwardRef(({type:t="source",position:e=Ce.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:a=!0,isConnectableEnd:l=!0,id:c,onConnect:d,children:f,className:m,onMouseDown:g,onTouchStart:x,...b},w)=>{const N=c||null,C=t==="target",T=dn(),j=EH(),{connectOnClick:R,noPanClassName:O}=jt(MH,yn),{connecting:F,clickConnecting:$}=jt(DH(j,N,t),yn);j||T.getState().onError?.("010",jr.error010());const X=M=>{const{defaultEdgeOptions:B,onConnect:L,hasDefaultEdges:q}=T.getState(),I={...B,...M};if(q){const{edges:H,setEdges:ne}=T.getState();ne(NH(I,H))}L?.(I),d?.(I)},A=M=>{if(!j)return;const B=bC(M);a&&(B&&M.button===0||!B)&&RC({event:M,handleId:N,nodeId:j,onConnect:X,isTarget:C,getState:T.getState,setState:T.setState,isValidConnection:n||T.getState().isValidConnection||gS}),B?g?.(M):x?.(M)},k=M=>{const{onClickConnectStart:B,onClickConnectEnd:L,connectionClickStartHandle:q,connectionMode:I,isValidConnection:H}=T.getState();if(!j||!q&&!a)return;if(!q){B?.(M,{nodeId:j,handleId:N,handleType:t}),T.setState({connectionClickStartHandle:{nodeId:j,type:t,handleId:N}});return}const ne=gC(M.target),U=n||H||gS,{connection:Y,isValid:ee}=CC({nodeId:j,id:N,type:t},I,q.nodeId,q.handleId||null,q.type,U,ne);ee&&X(Y),L?.(M),T.setState({connectionClickStartHandle:null})};return ue.createElement("div",{"data-handleid":N,"data-nodeid":j,"data-handlepos":e,"data-id":`${j}-${N}-${t}`,className:Nn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",O,m,{source:!C,target:C,connectable:i,connectablestart:a,connectableend:l,connecting:$,connectionindicator:i&&(a&&!F||l&&F)}]),onMouseDown:A,onTouchStart:A,onClick:R?k:void 0,ref:w,...b},f)});MC.displayName="Handle";var Em=D.memo(MC);const DC=({data:t,isConnectable:e,targetPosition:n=Ce.Top,sourcePosition:i=Ce.Bottom})=>ue.createElement(ue.Fragment,null,ue.createElement(Em,{type:"target",position:n,isConnectable:e}),t?.label,ue.createElement(Em,{type:"source",position:i,isConnectable:e}));DC.displayName="DefaultNode";var dv=D.memo(DC);const zC=({data:t,isConnectable:e,sourcePosition:n=Ce.Bottom})=>ue.createElement(ue.Fragment,null,t?.label,ue.createElement(Em,{type:"source",position:n,isConnectable:e}));zC.displayName="InputNode";var VC=D.memo(zC);const IC=({data:t,isConnectable:e,targetPosition:n=Ce.Top})=>ue.createElement(ue.Fragment,null,ue.createElement(Em,{type:"target",position:n,isConnectable:e}),t?.label);IC.displayName="OutputNode";var OC=D.memo(IC);const ab=()=>null;ab.displayName="GroupNode";const zH=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),bf=t=>t.id;function VH(t,e){return yn(t.selectedNodes.map(bf),e.selectedNodes.map(bf))&&yn(t.selectedEdges.map(bf),e.selectedEdges.map(bf))}const PC=D.memo(({onSelectionChange:t})=>{const e=dn(),{selectedNodes:n,selectedEdges:i}=jt(zH,VH);return D.useEffect(()=>{const a={nodes:n,edges:i};t?.(a),e.getState().onSelectionChange.forEach(l=>l(a))},[n,i,t]),null});PC.displayName="SelectionListener";const IH=t=>!!t.onSelectionChange;function OH({onSelectionChange:t}){const e=jt(IH);return t||e?ue.createElement(PC,{onSelectionChange:t}):null}const PH=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function El(t,e){D.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Fe(t,e,n){D.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const LH=({nodes:t,edges:e,defaultNodes:n,defaultEdges:i,onConnect:a,onConnectStart:l,onConnectEnd:c,onClickConnectStart:d,onClickConnectEnd:f,nodesDraggable:m,nodesConnectable:g,nodesFocusable:x,edgesFocusable:b,edgesUpdatable:w,elevateNodesOnSelect:N,minZoom:C,maxZoom:T,nodeExtent:j,onNodesChange:R,onEdgesChange:O,elementsSelectable:F,connectionMode:$,snapGrid:X,snapToGrid:A,translateExtent:k,connectOnClick:M,defaultEdgeOptions:B,fitView:L,fitViewOptions:q,onNodesDelete:I,onEdgesDelete:H,onNodeDrag:ne,onNodeDragStart:U,onNodeDragStop:Y,onSelectionDrag:ee,onSelectionDragStart:Q,onSelectionDragStop:W,noPanClassName:V,nodeOrigin:K,rfId:ae,autoPanOnConnect:le,autoPanOnNodeDrag:ye,onError:ve,connectionRadius:we,isValidConnection:Re,nodeDragThreshold:Se})=>{const{setNodes:Pe,setEdges:wt,setDefaultNodesAndEdges:ut,setMinZoom:bt,setMaxZoom:ot,setTranslateExtent:ht,setNodeExtent:Dt,reset:We}=jt(PH,yn),Ne=dn();return D.useEffect(()=>{const $e=i?.map(dt=>({...dt,...B}));return ut(n,$e),()=>{We()}},[]),Fe("defaultEdgeOptions",B,Ne.setState),Fe("connectionMode",$,Ne.setState),Fe("onConnect",a,Ne.setState),Fe("onConnectStart",l,Ne.setState),Fe("onConnectEnd",c,Ne.setState),Fe("onClickConnectStart",d,Ne.setState),Fe("onClickConnectEnd",f,Ne.setState),Fe("nodesDraggable",m,Ne.setState),Fe("nodesConnectable",g,Ne.setState),Fe("nodesFocusable",x,Ne.setState),Fe("edgesFocusable",b,Ne.setState),Fe("edgesUpdatable",w,Ne.setState),Fe("elementsSelectable",F,Ne.setState),Fe("elevateNodesOnSelect",N,Ne.setState),Fe("snapToGrid",A,Ne.setState),Fe("snapGrid",X,Ne.setState),Fe("onNodesChange",R,Ne.setState),Fe("onEdgesChange",O,Ne.setState),Fe("connectOnClick",M,Ne.setState),Fe("fitViewOnInit",L,Ne.setState),Fe("fitViewOnInitOptions",q,Ne.setState),Fe("onNodesDelete",I,Ne.setState),Fe("onEdgesDelete",H,Ne.setState),Fe("onNodeDrag",ne,Ne.setState),Fe("onNodeDragStart",U,Ne.setState),Fe("onNodeDragStop",Y,Ne.setState),Fe("onSelectionDrag",ee,Ne.setState),Fe("onSelectionDragStart",Q,Ne.setState),Fe("onSelectionDragStop",W,Ne.setState),Fe("noPanClassName",V,Ne.setState),Fe("nodeOrigin",K,Ne.setState),Fe("rfId",ae,Ne.setState),Fe("autoPanOnConnect",le,Ne.setState),Fe("autoPanOnNodeDrag",ye,Ne.setState),Fe("onError",ve,Ne.setState),Fe("connectionRadius",we,Ne.setState),Fe("isValidConnection",Re,Ne.setState),Fe("nodeDragThreshold",Se,Ne.setState),El(t,Pe),El(e,wt),El(C,bt),El(T,ot),El(k,ht),El(j,Dt),null},yS={display:"none"},BH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},LC="react-flow__node-desc",BC="react-flow__edge-desc",UH="react-flow__aria-live",FH=t=>t.ariaLiveMessage;function HH({rfId:t}){const e=jt(FH);return ue.createElement("div",{id:`${UH}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:BH},e)}function qH({rfId:t,disableKeyboardA11y:e}){return ue.createElement(ue.Fragment,null,ue.createElement("div",{id:`${LC}-${t}`,style:yS},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ue.createElement("div",{id:`${BC}-${t}`,style:yS},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ue.createElement(HH,{rfId:t}))}var _h=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,i]=D.useState(!1),a=D.useRef(!1),l=D.useRef(new Set([])),[c,d]=D.useMemo(()=>{if(t!==null){const m=(Array.isArray(t)?t:[t]).filter(x=>typeof x=="string").map(x=>x.split("+")),g=m.reduce((x,b)=>x.concat(...b),[]);return[m,g]}return[[],[]]},[t]);return D.useEffect(()=>{const f=typeof document<"u"?document:null,m=e?.target||f;if(t!==null){const g=w=>{if(a.current=w.ctrlKey||w.metaKey||w.shiftKey,(!a.current||a.current&&!e.actInsideInputWithModifier)&&lv(w))return!1;const C=xS(w.code,d);l.current.add(w[C]),vS(c,l.current,!1)&&(w.preventDefault(),i(!0))},x=w=>{if((!a.current||a.current&&!e.actInsideInputWithModifier)&&lv(w))return!1;const C=xS(w.code,d);vS(c,l.current,!0)?(i(!1),l.current.clear()):l.current.delete(w[C]),w.key==="Meta"&&l.current.clear(),a.current=!1},b=()=>{l.current.clear(),i(!1)};return m?.addEventListener("keydown",g),m?.addEventListener("keyup",x),window.addEventListener("blur",b),()=>{m?.removeEventListener("keydown",g),m?.removeEventListener("keyup",x),window.removeEventListener("blur",b)}}},[t,i]),n};function vS(t,e,n){return t.filter(i=>n||i.length===e.size).some(i=>i.every(a=>e.has(a)))}function xS(t,e){return e.includes(t)?"code":"key"}function UC(t,e,n,i){const a=t.parentNode||t.parentId;if(!a)return n;const l=e.get(a),c=No(l,i);return UC(l,e,{x:(n.x??0)+c.x,y:(n.y??0)+c.y,z:(l[qt]?.z??0)>(n.z??0)?l[qt]?.z??0:n.z??0},i)}function FC(t,e,n){t.forEach(i=>{const a=i.parentNode||i.parentId;if(a&&!t.has(a))throw new Error(`Parent node ${a} not found`);if(a||n?.[i.id]){const{x:l,y:c,z:d}=UC(i,t,{...i.position,z:i[qt]?.z??0},e);i.positionAbsolute={x:l,y:c},i[qt].z=d,n?.[i.id]&&(i[qt].isParent=!0)}})}function Fy(t,e,n,i){const a=new Map,l={},c=i?1e3:0;return t.forEach(d=>{const f=(Hi(d.zIndex)?d.zIndex:0)+(d.selected?c:0),m=e.get(d.id),g={...d,positionAbsolute:{x:d.position.x,y:d.position.y}},x=d.parentNode||d.parentId;x&&(l[x]=!0);const b=m?.type&&m?.type!==d.type;Object.defineProperty(g,qt,{enumerable:!1,value:{handleBounds:b?void 0:m?.[qt]?.handleBounds,z:f}}),a.set(d.id,g)}),FC(a,n,l),a}function HC(t,e={}){const{getNodes:n,width:i,height:a,minZoom:l,maxZoom:c,d3Zoom:d,d3Selection:f,fitViewOnInitDone:m,fitViewOnInit:g,nodeOrigin:x}=t(),b=e.initial&&!m&&g;if(d&&f&&(b||!e.initial)){const N=n().filter(T=>{const j=e.includeHiddenNodes?T.width&&T.height:!T.hidden;return e.nodes?.length?j&&e.nodes.some(R=>R.id===T.id):j}),C=N.every(T=>T.width&&T.height);if(N.length>0&&C){const T=ip(N,x),{x:j,y:R,zoom:O}=kC(T,i,a,e.minZoom??l,e.maxZoom??c,e.padding??.1),F=gr.translate(j,R).scale(O);return typeof e.duration=="number"&&e.duration>0?d.transform(po(f,e.duration),F):d.transform(f,F),!0}}return!1}function $H(t,e){return t.forEach(n=>{const i=e.get(n.id);i&&e.set(i.id,{...i,[qt]:i[qt],selected:n.selected})}),new Map(e)}function GH(t,e){return e.map(n=>{const i=t.find(a=>a.id===n.id);return i&&(n.selected=i.selected),n})}function _f({changedNodes:t,changedEdges:e,get:n,set:i}){const{nodeInternals:a,edges:l,onNodesChange:c,onEdgesChange:d,hasDefaultNodes:f,hasDefaultEdges:m}=n();t?.length&&(f&&i({nodeInternals:$H(t,a)}),c?.(t)),e?.length&&(m&&i({edges:GH(e,l)}),d?.(e))}const jl=()=>{},KH={zoomIn:jl,zoomOut:jl,zoomTo:jl,getZoom:()=>1,setViewport:jl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:jl,fitBounds:jl,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},YH=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),XH=()=>{const t=dn(),{d3Zoom:e,d3Selection:n}=jt(YH,yn);return D.useMemo(()=>n&&e?{zoomIn:a=>e.scaleBy(po(n,a?.duration),1.2),zoomOut:a=>e.scaleBy(po(n,a?.duration),1/1.2),zoomTo:(a,l)=>e.scaleTo(po(n,l?.duration),a),getZoom:()=>t.getState().transform[2],setViewport:(a,l)=>{const[c,d,f]=t.getState().transform,m=gr.translate(a.x??c,a.y??d).scale(a.zoom??f);e.transform(po(n,l?.duration),m)},getViewport:()=>{const[a,l,c]=t.getState().transform;return{x:a,y:l,zoom:c}},fitView:a=>HC(t.getState,a),setCenter:(a,l,c)=>{const{width:d,height:f,maxZoom:m}=t.getState(),g=typeof c?.zoom<"u"?c.zoom:m,x=d/2-a*g,b=f/2-l*g,w=gr.translate(x,b).scale(g);e.transform(po(n,c?.duration),w)},fitBounds:(a,l)=>{const{width:c,height:d,minZoom:f,maxZoom:m}=t.getState(),{x:g,y:x,zoom:b}=kC(a,c,d,f,m,l?.padding??.1),w=gr.translate(g,x).scale(b);e.transform(po(n,l?.duration),w)},project:a=>{const{transform:l,snapToGrid:c,snapGrid:d}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),hv(a,l,c,d)},screenToFlowPosition:a=>{const{transform:l,snapToGrid:c,snapGrid:d,domNode:f}=t.getState();if(!f)return a;const{x:m,y:g}=f.getBoundingClientRect(),x={x:a.x-m,y:a.y-g};return hv(x,l,c,d)},flowToScreenPosition:a=>{const{transform:l,domNode:c}=t.getState();if(!c)return a;const{x:d,y:f}=c.getBoundingClientRect(),m=SC(a,l);return{x:m.x+d,y:m.y+f}},viewportInitialized:!0}:KH,[e,n])};function ob(){const t=XH(),e=dn(),n=D.useCallback(()=>e.getState().getNodes().map(C=>({...C})),[]),i=D.useCallback(C=>e.getState().nodeInternals.get(C),[]),a=D.useCallback(()=>{const{edges:C=[]}=e.getState();return C.map(T=>({...T}))},[]),l=D.useCallback(C=>{const{edges:T=[]}=e.getState();return T.find(j=>j.id===C)},[]),c=D.useCallback(C=>{const{getNodes:T,setNodes:j,hasDefaultNodes:R,onNodesChange:O}=e.getState(),F=T(),$=typeof C=="function"?C(F):C;if(R)j($);else if(O){const X=$.length===0?F.map(A=>({type:"remove",id:A.id})):$.map(A=>({item:A,type:"reset"}));O(X)}},[]),d=D.useCallback(C=>{const{edges:T=[],setEdges:j,hasDefaultEdges:R,onEdgesChange:O}=e.getState(),F=typeof C=="function"?C(T):C;if(R)j(F);else if(O){const $=F.length===0?T.map(X=>({type:"remove",id:X.id})):F.map(X=>({item:X,type:"reset"}));O($)}},[]),f=D.useCallback(C=>{const T=Array.isArray(C)?C:[C],{getNodes:j,setNodes:R,hasDefaultNodes:O,onNodesChange:F}=e.getState();if(O){const X=[...j(),...T];R(X)}else if(F){const $=T.map(X=>({item:X,type:"add"}));F($)}},[]),m=D.useCallback(C=>{const T=Array.isArray(C)?C:[C],{edges:j=[],setEdges:R,hasDefaultEdges:O,onEdgesChange:F}=e.getState();if(O)R([...j,...T]);else if(F){const $=T.map(X=>({item:X,type:"add"}));F($)}},[]),g=D.useCallback(()=>{const{getNodes:C,edges:T=[],transform:j}=e.getState(),[R,O,F]=j;return{nodes:C().map($=>({...$})),edges:T.map($=>({...$})),viewport:{x:R,y:O,zoom:F}}},[]),x=D.useCallback(({nodes:C,edges:T})=>{const{nodeInternals:j,getNodes:R,edges:O,hasDefaultNodes:F,hasDefaultEdges:$,onNodesDelete:X,onEdgesDelete:A,onNodesChange:k,onEdgesChange:M}=e.getState(),B=(C||[]).map(ne=>ne.id),L=(T||[]).map(ne=>ne.id),q=R().reduce((ne,U)=>{const Y=U.parentNode||U.parentId,ee=!B.includes(U.id)&&Y&&ne.find(W=>W.id===Y);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(B.includes(U.id)||ee)&&ne.push(U),ne},[]),I=O.filter(ne=>typeof ne.deletable=="boolean"?ne.deletable:!0),H=I.filter(ne=>L.includes(ne.id));if(q||H){const ne=NC(q,I),U=[...H,...ne],Y=U.reduce((ee,Q)=>(ee.includes(Q.id)||ee.push(Q.id),ee),[]);if(($||F)&&($&&e.setState({edges:O.filter(ee=>!Y.includes(ee.id))}),F&&(q.forEach(ee=>{j.delete(ee.id)}),e.setState({nodeInternals:new Map(j)}))),Y.length>0&&(A?.(U),M&&M(Y.map(ee=>({id:ee,type:"remove"})))),q.length>0&&(X?.(q),k)){const ee=q.map(Q=>({id:Q.id,type:"remove"}));k(ee)}}},[]),b=D.useCallback(C=>{const T=pH(C),j=T?null:e.getState().nodeInternals.get(C.id);return!T&&!j?[null,null,T]:[T?C:uS(j),j,T]},[]),w=D.useCallback((C,T=!0,j)=>{const[R,O,F]=b(C);return R?(j||e.getState().getNodes()).filter($=>{if(!F&&($.id===O.id||!$.positionAbsolute))return!1;const X=uS($),A=ov(X,R);return T&&A>0||A>=R.width*R.height}):[]},[]),N=D.useCallback((C,T,j=!0)=>{const[R]=b(C);if(!R)return!1;const O=ov(R,T);return j&&O>0||O>=R.width*R.height},[]);return D.useMemo(()=>({...t,getNodes:n,getNode:i,getEdges:a,getEdge:l,setNodes:c,setEdges:d,addNodes:f,addEdges:m,toObject:g,deleteElements:x,getIntersectingNodes:w,isNodeIntersecting:N}),[t,n,i,a,l,c,d,f,m,g,x,w,N])}const ZH={actInsideInputWithModifier:!1};var QH=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=dn(),{deleteElements:i}=ob(),a=_h(t,ZH),l=_h(e);D.useEffect(()=>{if(a){const{edges:c,getNodes:d}=n.getState(),f=d().filter(g=>g.selected),m=c.filter(g=>g.selected);i({nodes:f,edges:m}),n.setState({nodesSelectionActive:!1})}},[a]),D.useEffect(()=>{n.setState({multiSelectionActive:l})},[l])};function WH(t){const e=dn();D.useEffect(()=>{let n;const i=()=>{if(!t.current)return;const a=Jx(t.current);(a.height===0||a.width===0)&&e.getState().onError?.("004",jr.error004()),e.setState({width:a.width||500,height:a.height||500})};return i(),window.addEventListener("resize",i),t.current&&(n=new ResizeObserver(()=>i()),n.observe(t.current)),()=>{window.removeEventListener("resize",i),n&&t.current&&n.unobserve(t.current)}},[])}const lb={position:"absolute",width:"100%",height:"100%",top:0,left:0},JH=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,wf=t=>({x:t.x,y:t.y,zoom:t.k}),Sl=(t,e)=>t.target.closest(`.${e}`),bS=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),_S=t=>{const e=t.ctrlKey&&_m()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},eq=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),tq=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:i,zoomOnScroll:a=!0,zoomOnPinch:l=!0,panOnScroll:c=!1,panOnScrollSpeed:d=.5,panOnScrollMode:f=bo.Free,zoomOnDoubleClick:m=!0,elementsSelectable:g,panOnDrag:x=!0,defaultViewport:b,translateExtent:w,minZoom:N,maxZoom:C,zoomActivationKeyCode:T,preventScrolling:j=!0,children:R,noWheelClassName:O,noPanClassName:F})=>{const $=D.useRef(),X=dn(),A=D.useRef(!1),k=D.useRef(!1),M=D.useRef(null),B=D.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:q,d3ZoomHandler:I,userSelectionActive:H}=jt(eq,yn),ne=_h(T),U=D.useRef(0),Y=D.useRef(!1),ee=D.useRef();return WH(M),D.useEffect(()=>{if(M.current){const Q=M.current.getBoundingClientRect(),W=fC().scaleExtent([N,C]).translateExtent(w),V=Ui(M.current).call(W),K=gr.translate(b.x,b.y).scale(ac(b.zoom,N,C)),ae=[[0,0],[Q.width,Q.height]],le=W.constrain()(K,ae,w);W.transform(V,le),W.wheelDelta(_S),X.setState({d3Zoom:W,d3Selection:V,d3ZoomHandler:V.on("wheel.zoom"),transform:[le.x,le.y,le.k],domNode:M.current.closest(".react-flow")})}},[]),D.useEffect(()=>{q&&L&&(c&&!ne&&!H?q.on("wheel.zoom",Q=>{if(Sl(Q,O))return!1;Q.preventDefault(),Q.stopImmediatePropagation();const W=q.property("__zoom").k||1;if(Q.ctrlKey&&l){const Re=as(Q),Se=_S(Q),Pe=W*Math.pow(2,Se);L.scaleTo(q,Pe,Re,Q);return}const V=Q.deltaMode===1?20:1;let K=f===bo.Vertical?0:Q.deltaX*V,ae=f===bo.Horizontal?0:Q.deltaY*V;!_m()&&Q.shiftKey&&f!==bo.Vertical&&(K=Q.deltaY*V,ae=0),L.translateBy(q,-(K/W)*d,-(ae/W)*d,{internal:!0});const le=wf(q.property("__zoom")),{onViewportChangeStart:ye,onViewportChange:ve,onViewportChangeEnd:we}=X.getState();clearTimeout(ee.current),Y.current||(Y.current=!0,e?.(Q,le),ye?.(le)),Y.current&&(t?.(Q,le),ve?.(le),ee.current=setTimeout(()=>{n?.(Q,le),we?.(le),Y.current=!1},150))},{passive:!1}):typeof I<"u"&&q.on("wheel.zoom",function(Q,W){if(!j&&Q.type==="wheel"&&!Q.ctrlKey||Sl(Q,O))return null;Q.preventDefault(),I.call(this,Q,W)},{passive:!1}))},[H,c,f,q,L,I,ne,l,j,O,e,t,n]),D.useEffect(()=>{L&&L.on("start",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;U.current=Q.sourceEvent?.button;const{onViewportChangeStart:W}=X.getState(),V=wf(Q.transform);A.current=!0,B.current=V,Q.sourceEvent?.type==="mousedown"&&X.setState({paneDragging:!0}),W?.(V),e?.(Q.sourceEvent,V)})},[L,e]),D.useEffect(()=>{L&&(H&&!A.current?L.on("zoom",null):H||L.on("zoom",Q=>{const{onViewportChange:W}=X.getState();if(X.setState({transform:[Q.transform.x,Q.transform.y,Q.transform.k]}),k.current=!!(i&&bS(x,U.current??0)),(t||W)&&!Q.sourceEvent?.internal){const V=wf(Q.transform);W?.(V),t?.(Q.sourceEvent,V)}}))},[H,L,t,x,i]),D.useEffect(()=>{L&&L.on("end",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;const{onViewportChangeEnd:W}=X.getState();if(A.current=!1,X.setState({paneDragging:!1}),i&&bS(x,U.current??0)&&!k.current&&i(Q.sourceEvent),k.current=!1,(n||W)&&JH(B.current,Q.transform)){const V=wf(Q.transform);B.current=V,clearTimeout($.current),$.current=setTimeout(()=>{W?.(V),n?.(Q.sourceEvent,V)},c?150:0)}})},[L,c,x,n,i]),D.useEffect(()=>{L&&L.filter(Q=>{const W=ne||a,V=l&&Q.ctrlKey;if((x===!0||Array.isArray(x)&&x.includes(1))&&Q.button===1&&Q.type==="mousedown"&&(Sl(Q,"react-flow__node")||Sl(Q,"react-flow__edge")))return!0;if(!x&&!W&&!c&&!m&&!l||H||!m&&Q.type==="dblclick"||Sl(Q,O)&&Q.type==="wheel"||Sl(Q,F)&&(Q.type!=="wheel"||c&&Q.type==="wheel"&&!ne)||!l&&Q.ctrlKey&&Q.type==="wheel"||!W&&!c&&!V&&Q.type==="wheel"||!x&&(Q.type==="mousedown"||Q.type==="touchstart")||Array.isArray(x)&&!x.includes(Q.button)&&Q.type==="mousedown")return!1;const K=Array.isArray(x)&&x.includes(Q.button)||!Q.button||Q.button<=1;return(!Q.ctrlKey||Q.type==="wheel")&&K})},[H,L,a,l,c,m,x,g,ne]),ue.createElement("div",{className:"react-flow__renderer",ref:M,style:lb},R)},nq=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function iq(){const{userSelectionActive:t,userSelectionRect:e}=jt(nq,yn);return t&&e?ue.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function wS(t,e){const n=e.parentNode||e.parentId,i=t.find(a=>a.id===n);if(i){const a=e.position.x+e.width-i.width,l=e.position.y+e.height-i.height;if(a>0||l>0||e.position.x<0||e.position.y<0){if(i.style={...i.style},i.style.width=i.style.width??i.width,i.style.height=i.style.height??i.height,a>0&&(i.style.width+=a),l>0&&(i.style.height+=l),e.position.x<0){const c=Math.abs(e.position.x);i.position.x=i.position.x-c,i.style.width+=c,e.position.x=0}if(e.position.y<0){const c=Math.abs(e.position.y);i.position.y=i.position.y-c,i.style.height+=c,e.position.y=0}i.width=i.style.width,i.height=i.style.height}}}function qC(t,e){if(t.some(i=>i.type==="reset"))return t.filter(i=>i.type==="reset").map(i=>i.item);const n=t.filter(i=>i.type==="add").map(i=>i.item);return e.reduce((i,a)=>{const l=t.filter(d=>d.id===a.id);if(l.length===0)return i.push(a),i;const c={...a};for(const d of l)if(d)switch(d.type){case"select":{c.selected=d.selected;break}case"position":{typeof d.position<"u"&&(c.position=d.position),typeof d.positionAbsolute<"u"&&(c.positionAbsolute=d.positionAbsolute),typeof d.dragging<"u"&&(c.dragging=d.dragging),c.expandParent&&wS(i,c);break}case"dimensions":{typeof d.dimensions<"u"&&(c.width=d.dimensions.width,c.height=d.dimensions.height),typeof d.updateStyle<"u"&&(c.style={...c.style||{},...d.dimensions}),typeof d.resizing=="boolean"&&(c.resizing=d.resizing),c.expandParent&&wS(i,c);break}case"remove":return i}return i.push(c),i},n)}function $C(t,e){return qC(t,e)}function sq(t,e){return qC(t,e)}const ca=(t,e)=>({id:t,type:"select",selected:e});function Ol(t,e){return t.reduce((n,i)=>{const a=e.includes(i.id);return!i.selected&&a?(i.selected=!0,n.push(ca(i.id,!0))):i.selected&&!a&&(i.selected=!1,n.push(ca(i.id,!1))),n},[])}const Hy=(t,e)=>n=>{n.target===e.current&&t?.(n)},rq=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),GC=D.memo(({isSelecting:t,selectionMode:e=bh.Full,panOnDrag:n,onSelectionStart:i,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:g,children:x})=>{const b=D.useRef(null),w=dn(),N=D.useRef(0),C=D.useRef(0),T=D.useRef(),{userSelectionActive:j,elementsSelectable:R,dragging:O}=jt(rq,yn),F=()=>{w.setState({userSelectionActive:!1,userSelectionRect:null}),N.current=0,C.current=0},$=I=>{l?.(I),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},X=I=>{if(Array.isArray(n)&&n?.includes(2)){I.preventDefault();return}c?.(I)},A=d?I=>d(I):void 0,k=I=>{const{resetSelectedElements:H,domNode:ne}=w.getState();if(T.current=ne?.getBoundingClientRect(),!R||!t||I.button!==0||I.target!==b.current||!T.current)return;const{x:U,y:Y}=ya(I,T.current);H(),w.setState({userSelectionRect:{width:0,height:0,startX:U,startY:Y,x:U,y:Y}}),i?.(I)},M=I=>{const{userSelectionRect:H,nodeInternals:ne,edges:U,transform:Y,onNodesChange:ee,onEdgesChange:Q,nodeOrigin:W,getNodes:V}=w.getState();if(!t||!T.current||!H)return;w.setState({userSelectionActive:!0,nodesSelectionActive:!1});const K=ya(I,T.current),ae=H.startX??0,le=H.startY??0,ye={...H,x:K.x<ae?K.x:ae,y:K.y<le?K.y:le,width:Math.abs(K.x-ae),height:Math.abs(K.y-le)},ve=V(),we=TC(ne,ye,Y,e===bh.Partial,!0,W),Re=NC(we,U).map(Pe=>Pe.id),Se=we.map(Pe=>Pe.id);if(N.current!==Se.length){N.current=Se.length;const Pe=Ol(ve,Se);Pe.length&&ee?.(Pe)}if(C.current!==Re.length){C.current=Re.length;const Pe=Ol(U,Re);Pe.length&&Q?.(Pe)}w.setState({userSelectionRect:ye})},B=I=>{if(I.button!==0)return;const{userSelectionRect:H}=w.getState();!j&&H&&I.target===b.current&&$?.(I),w.setState({nodesSelectionActive:N.current>0}),F(),a?.(I)},L=I=>{j&&(w.setState({nodesSelectionActive:N.current>0}),a?.(I)),F()},q=R&&(t||j);return ue.createElement("div",{className:Nn(["react-flow__pane",{dragging:O,selection:t}]),onClick:q?void 0:Hy($,b),onContextMenu:Hy(X,b),onWheel:Hy(A,b),onMouseEnter:q?void 0:f,onMouseDown:q?k:void 0,onMouseMove:q?M:m,onMouseUp:q?B:void 0,onMouseLeave:q?L:g,ref:b,style:lb},x,ue.createElement(iq,null))});GC.displayName="Pane";function KC(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const i=e.get(n);return i?i.selected?!0:KC(i,e):!1}function ES(t,e,n){let i=t;do{if(i?.matches(e))return!0;if(i===n.current)return!1;i=i.parentElement}while(i);return!1}function aq(t,e,n,i){return Array.from(t.values()).filter(a=>(a.selected||a.id===i)&&(!a.parentNode||a.parentId||!KC(a,t))&&(a.draggable||e&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(a.positionAbsolute?.x??0),y:n.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function oq(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function YC(t,e,n,i,a=[0,0],l){const c=oq(t,t.extent||i);let d=c;const f=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(f&&t.width&&t.height){const x=n.get(f),{x:b,y:w}=No(x,a).positionAbsolute;d=x&&Hi(b)&&Hi(w)&&Hi(x.width)&&Hi(x.height)?[[b+t.width*a[0],w+t.height*a[1]],[b+x.width-t.width+t.width*a[0],w+x.height-t.height+t.height*a[1]]]:d}else l?.("005",jr.error005()),d=c;else if(t.extent&&f&&t.extent!=="parent"){const x=n.get(f),{x:b,y:w}=No(x,a).positionAbsolute;d=[[t.extent[0][0]+b,t.extent[0][1]+w],[t.extent[1][0]+b,t.extent[1][1]+w]]}let m={x:0,y:0};if(f){const x=n.get(f);m=No(x,a).positionAbsolute}const g=d&&d!=="parent"?eb(e,d):e;return{position:{x:g.x-m.x,y:g.y-m.y},positionAbsolute:g}}function qy({nodeId:t,dragItems:e,nodeInternals:n}){const i=e.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[t?i.find(a=>a.id===t):i[0],i]}const jS=(t,e,n,i)=>{const a=e.querySelectorAll(t);if(!a||!a.length)return null;const l=Array.from(a),c=e.getBoundingClientRect(),d={x:c.width*i[0],y:c.height*i[1]};return l.map(f=>{const m=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(m.left-c.left-d.x)/n,y:(m.top-c.top-d.y)/n,...Jx(f)}})};function Su(t,e,n){return n===void 0?n:i=>{const a=e().nodeInternals.get(t);a&&n(i,{...a})}}function fv({id:t,store:e,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:a,unselectNodesAndEdges:l,multiSelectionActive:c,nodeInternals:d,onError:f}=e.getState(),m=d.get(t);if(!m){f?.("012",jr.error012(t));return}e.setState({nodesSelectionActive:!1}),m.selected?(n||m.selected&&c)&&(l({nodes:[m],edges:[]}),requestAnimationFrame(()=>i?.current?.blur())):a([t])}function lq(){const t=dn();return D.useCallback(({sourceEvent:n})=>{const{transform:i,snapGrid:a,snapToGrid:l}=t.getState(),c=n.touches?n.touches[0].clientX:n.clientX,d=n.touches?n.touches[0].clientY:n.clientY,f={x:(c-i[0])/i[2],y:(d-i[1])/i[2]};return{xSnapped:l?a[0]*Math.round(f.x/a[0]):f.x,ySnapped:l?a[1]*Math.round(f.y/a[1]):f.y,...f}},[])}function $y(t){return(e,n,i)=>t?.(e,i)}function XC({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:i,nodeId:a,isSelectable:l,selectNodesOnDrag:c}){const d=dn(),[f,m]=D.useState(!1),g=D.useRef([]),x=D.useRef({x:null,y:null}),b=D.useRef(0),w=D.useRef(null),N=D.useRef({x:0,y:0}),C=D.useRef(null),T=D.useRef(!1),j=D.useRef(!1),R=D.useRef(!1),O=lq();return D.useEffect(()=>{if(t?.current){const F=Ui(t.current),$=({x:k,y:M})=>{const{nodeInternals:B,onNodeDrag:L,onSelectionDrag:q,updateNodePositions:I,nodeExtent:H,snapGrid:ne,snapToGrid:U,nodeOrigin:Y,onError:ee}=d.getState();x.current={x:k,y:M};let Q=!1,W={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&H){const K=ip(g.current,Y);W=xh(K)}if(g.current=g.current.map(K=>{const ae={x:k-K.distance.x,y:M-K.distance.y};U&&(ae.x=ne[0]*Math.round(ae.x/ne[0]),ae.y=ne[1]*Math.round(ae.y/ne[1]));const le=[[H[0][0],H[0][1]],[H[1][0],H[1][1]]];g.current.length>1&&H&&!K.extent&&(le[0][0]=K.positionAbsolute.x-W.x+H[0][0],le[1][0]=K.positionAbsolute.x+(K.width??0)-W.x2+H[1][0],le[0][1]=K.positionAbsolute.y-W.y+H[0][1],le[1][1]=K.positionAbsolute.y+(K.height??0)-W.y2+H[1][1]);const ye=YC(K,ae,B,le,Y,ee);return Q=Q||K.position.x!==ye.position.x||K.position.y!==ye.position.y,K.position=ye.position,K.positionAbsolute=ye.positionAbsolute,K}),!Q)return;I(g.current,!0,!0),m(!0);const V=a?L:$y(q);if(V&&C.current){const[K,ae]=qy({nodeId:a,dragItems:g.current,nodeInternals:B});V(C.current,K,ae)}},X=()=>{if(!w.current)return;const[k,M]=pC(N.current,w.current);if(k!==0||M!==0){const{transform:B,panBy:L}=d.getState();x.current.x=(x.current.x??0)-k/B[2],x.current.y=(x.current.y??0)-M/B[2],L({x:k,y:M})&&$(x.current)}b.current=requestAnimationFrame(X)},A=k=>{const{nodeInternals:M,multiSelectionActive:B,nodesDraggable:L,unselectNodesAndEdges:q,onNodeDragStart:I,onSelectionDragStart:H}=d.getState();j.current=!0;const ne=a?I:$y(H);(!c||!l)&&!B&&a&&(M.get(a)?.selected||q()),a&&l&&c&&fv({id:a,store:d,nodeRef:t});const U=O(k);if(x.current=U,g.current=aq(M,L,U,a),ne&&g.current){const[Y,ee]=qy({nodeId:a,dragItems:g.current,nodeInternals:M});ne(k.sourceEvent,Y,ee)}};if(e)F.on(".drag",null);else{const k=xU().on("start",M=>{const{domNode:B,nodeDragThreshold:L}=d.getState();L===0&&A(M),R.current=!1;const q=O(M);x.current=q,w.current=B?.getBoundingClientRect()||null,N.current=ya(M.sourceEvent,w.current)}).on("drag",M=>{const B=O(M),{autoPanOnNodeDrag:L,nodeDragThreshold:q}=d.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(R.current=!0),!R.current){if(!T.current&&j.current&&L&&(T.current=!0,X()),!j.current){const I=B.xSnapped-(x?.current?.x??0),H=B.ySnapped-(x?.current?.y??0);Math.sqrt(I*I+H*H)>q&&A(M)}(x.current.x!==B.xSnapped||x.current.y!==B.ySnapped)&&g.current&&j.current&&(C.current=M.sourceEvent,N.current=ya(M.sourceEvent,w.current),$(B))}}).on("end",M=>{if(!(!j.current||R.current)&&(m(!1),T.current=!1,j.current=!1,cancelAnimationFrame(b.current),g.current)){const{updateNodePositions:B,nodeInternals:L,onNodeDragStop:q,onSelectionDragStop:I}=d.getState(),H=a?q:$y(I);if(B(g.current,!1,!1),H){const[ne,U]=qy({nodeId:a,dragItems:g.current,nodeInternals:L});H(M.sourceEvent,ne,U)}}}).filter(M=>{const B=M.target;return!M.button&&(!n||!ES(B,`.${n}`,t))&&(!i||ES(B,i,t))});return F.call(k),()=>{F.on(".drag",null)}}}},[t,e,n,i,l,d,a,c,O]),f}function ZC(){const t=dn();return D.useCallback(n=>{const{nodeInternals:i,nodeExtent:a,updateNodePositions:l,getNodes:c,snapToGrid:d,snapGrid:f,onError:m,nodesDraggable:g}=t.getState(),x=c().filter(R=>R.selected&&(R.draggable||g&&typeof R.draggable>"u")),b=d?f[0]:5,w=d?f[1]:5,N=n.isShiftPressed?4:1,C=n.x*b*N,T=n.y*w*N,j=x.map(R=>{if(R.positionAbsolute){const O={x:R.positionAbsolute.x+C,y:R.positionAbsolute.y+T};d&&(O.x=f[0]*Math.round(O.x/f[0]),O.y=f[1]*Math.round(O.y/f[1]));const{positionAbsolute:F,position:$}=YC(R,O,i,a,void 0,m);R.position=$,R.positionAbsolute=F}return R});l(j,!0,!1)},[])}const $l={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Tu=t=>{const e=({id:n,type:i,data:a,xPos:l,yPos:c,xPosOrigin:d,yPosOrigin:f,selected:m,onClick:g,onMouseEnter:x,onMouseMove:b,onMouseLeave:w,onContextMenu:N,onDoubleClick:C,style:T,className:j,isDraggable:R,isSelectable:O,isConnectable:F,isFocusable:$,selectNodesOnDrag:X,sourcePosition:A,targetPosition:k,hidden:M,resizeObserver:B,dragHandle:L,zIndex:q,isParent:I,noDragClassName:H,noPanClassName:ne,initialized:U,disableKeyboardA11y:Y,ariaLabel:ee,rfId:Q,hasHandleBounds:W})=>{const V=dn(),K=D.useRef(null),ae=D.useRef(null),le=D.useRef(A),ye=D.useRef(k),ve=D.useRef(i),we=O||R||g||x||b||w,Re=ZC(),Se=Su(n,V.getState,x),Pe=Su(n,V.getState,b),wt=Su(n,V.getState,w),ut=Su(n,V.getState,N),bt=Su(n,V.getState,C),ot=We=>{const{nodeDragThreshold:Ne}=V.getState();if(O&&(!X||!R||Ne>0)&&fv({id:n,store:V,nodeRef:K}),g){const $e=V.getState().nodeInternals.get(n);$e&&g(We,{...$e})}},ht=We=>{if(!lv(We)&&!Y)if(xC.includes(We.key)&&O){const Ne=We.key==="Escape";fv({id:n,store:V,unselect:Ne,nodeRef:K})}else R&&m&&Object.prototype.hasOwnProperty.call($l,We.key)&&(V.setState({ariaLiveMessage:`Moved selected node ${We.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~l}, y: ${~~c}`}),Re({x:$l[We.key].x,y:$l[We.key].y,isShiftPressed:We.shiftKey}))};D.useEffect(()=>()=>{ae.current&&(B?.unobserve(ae.current),ae.current=null)},[]),D.useEffect(()=>{if(K.current&&!M){const We=K.current;(!U||!W||ae.current!==We)&&(ae.current&&B?.unobserve(ae.current),B?.observe(We),ae.current=We)}},[M,U,W]),D.useEffect(()=>{const We=ve.current!==i,Ne=le.current!==A,$e=ye.current!==k;K.current&&(We||Ne||$e)&&(We&&(ve.current=i),Ne&&(le.current=A),$e&&(ye.current=k),V.getState().updateNodeDimensions([{id:n,nodeElement:K.current,forceUpdate:!0}]))},[n,i,A,k]);const Dt=XC({nodeRef:K,disabled:M||!R,noDragClassName:H,handleSelector:L,nodeId:n,isSelectable:O,selectNodesOnDrag:X});return M?null:ue.createElement("div",{className:Nn(["react-flow__node",`react-flow__node-${i}`,{[ne]:R},j,{selected:m,selectable:O,parent:I,dragging:Dt}]),ref:K,style:{zIndex:q,transform:`translate(${d}px,${f}px)`,pointerEvents:we?"all":"none",visibility:U?"visible":"hidden",...T},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Se,onMouseMove:Pe,onMouseLeave:wt,onContextMenu:ut,onClick:ot,onDoubleClick:bt,onKeyDown:$?ht:void 0,tabIndex:$?0:void 0,role:$?"button":void 0,"aria-describedby":Y?void 0:`${LC}-${Q}`,"aria-label":ee},ue.createElement(wH,{value:n},ue.createElement(t,{id:n,data:a,type:i,xPos:l,yPos:c,selected:m,isConnectable:F,sourcePosition:A,targetPosition:k,dragging:Dt,dragHandle:L,zIndex:q})))};return e.displayName="NodeWrapper",D.memo(e)};const cq=t=>{const e=t.getNodes().filter(n=>n.selected);return{...ip(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function uq({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const i=dn(),{width:a,height:l,x:c,y:d,transformString:f,userSelectionActive:m}=jt(cq,yn),g=ZC(),x=D.useRef(null);if(D.useEffect(()=>{n||x.current?.focus({preventScroll:!0})},[n]),XC({nodeRef:x}),m||!a||!l)return null;const b=t?N=>{const C=i.getState().getNodes().filter(T=>T.selected);t(N,C)}:void 0,w=N=>{Object.prototype.hasOwnProperty.call($l,N.key)&&g({x:$l[N.key].x,y:$l[N.key].y,isShiftPressed:N.shiftKey})};return ue.createElement("div",{className:Nn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:f}},ue.createElement("div",{ref:x,className:"react-flow__nodesselection-rect",onContextMenu:b,tabIndex:n?void 0:-1,onKeyDown:n?void 0:w,style:{width:a,height:l,top:d,left:c}}))}var hq=D.memo(uq);const dq=t=>t.nodesSelectionActive,QC=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,deleteKeyCode:d,onMove:f,onMoveStart:m,onMoveEnd:g,selectionKeyCode:x,selectionOnDrag:b,selectionMode:w,onSelectionStart:N,onSelectionEnd:C,multiSelectionKeyCode:T,panActivationKeyCode:j,zoomActivationKeyCode:R,elementsSelectable:O,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:X,panOnScrollSpeed:A,panOnScrollMode:k,zoomOnDoubleClick:M,panOnDrag:B,defaultViewport:L,translateExtent:q,minZoom:I,maxZoom:H,preventScrolling:ne,onSelectionContextMenu:U,noWheelClassName:Y,noPanClassName:ee,disableKeyboardA11y:Q})=>{const W=jt(dq),V=_h(x),K=_h(j),ae=K||B,le=K||X,ye=V||b&&ae!==!0;return QH({deleteKeyCode:d,multiSelectionKeyCode:T}),ue.createElement(tq,{onMove:f,onMoveStart:m,onMoveEnd:g,onPaneContextMenu:l,elementsSelectable:O,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:le,panOnScrollSpeed:A,panOnScrollMode:k,zoomOnDoubleClick:M,panOnDrag:!V&&ae,defaultViewport:L,translateExtent:q,minZoom:I,maxZoom:H,zoomActivationKeyCode:R,preventScrolling:ne,noWheelClassName:Y,noPanClassName:ee},ue.createElement(GC,{onSelectionStart:N,onSelectionEnd:C,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,panOnDrag:ae,isSelecting:!!ye,selectionMode:w},t,W&&ue.createElement(hq,{onSelectionContextMenu:U,noPanClassName:ee,disableKeyboardA11y:Q})))};QC.displayName="FlowRenderer";var fq=D.memo(QC);function mq(t){return jt(D.useCallback(n=>t?TC(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function pq(t){const e={input:Tu(t.input||VC),default:Tu(t.default||dv),output:Tu(t.output||OC),group:Tu(t.group||ab)},n={},i=Object.keys(t).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,l)=>(a[l]=Tu(t[l]||dv),a),n);return{...e,...i}}const gq=({x:t,y:e,width:n,height:i,origin:a})=>!n||!i?{x:t,y:e}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:e}:{x:t-n*a[0],y:e-i*a[1]},yq=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),WC=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:i,elementsSelectable:a,updateNodeDimensions:l,onError:c}=jt(yq,yn),d=mq(t.onlyRenderVisibleElements),f=D.useRef(),m=D.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(x=>{const b=x.map(w=>({id:w.target.getAttribute("data-id"),nodeElement:w.target,forceUpdate:!0}));l(b)});return f.current=g,g},[]);return D.useEffect(()=>()=>{f?.current?.disconnect()},[]),ue.createElement("div",{className:"react-flow__nodes",style:lb},d.map(g=>{let x=g.type||"default";t.nodeTypes[x]||(c?.("003",jr.error003(x)),x="default");const b=t.nodeTypes[x]||t.nodeTypes.default,w=!!(g.draggable||e&&typeof g.draggable>"u"),N=!!(g.selectable||a&&typeof g.selectable>"u"),C=!!(g.connectable||n&&typeof g.connectable>"u"),T=!!(g.focusable||i&&typeof g.focusable>"u"),j=t.nodeExtent?eb(g.positionAbsolute,t.nodeExtent):g.positionAbsolute,R=j?.x??0,O=j?.y??0,F=gq({x:R,y:O,width:g.width??0,height:g.height??0,origin:t.nodeOrigin});return ue.createElement(b,{key:g.id,id:g.id,className:g.className,style:g.style,type:x,data:g.data,sourcePosition:g.sourcePosition||Ce.Bottom,targetPosition:g.targetPosition||Ce.Top,hidden:g.hidden,xPos:R,yPos:O,xPosOrigin:F.x,yPosOrigin:F.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!g.selected,isDraggable:w,isSelectable:N,isConnectable:C,isFocusable:T,resizeObserver:m,dragHandle:g.dragHandle,zIndex:g[qt]?.z??0,isParent:!!g[qt]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!g.width&&!!g.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!g[qt]?.handleBounds})}))};WC.displayName="NodeRenderer";var vq=D.memo(WC);const xq=(t,e,n)=>n===Ce.Left?t-e:n===Ce.Right?t+e:t,bq=(t,e,n)=>n===Ce.Top?t-e:n===Ce.Bottom?t+e:t,SS="react-flow__edgeupdater",TS=({position:t,centerX:e,centerY:n,radius:i=10,onMouseDown:a,onMouseEnter:l,onMouseOut:c,type:d})=>ue.createElement("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:c,className:Nn([SS,`${SS}-${d}`]),cx:xq(e,i,t),cy:bq(n,i,t),r:i,stroke:"transparent",fill:"transparent"}),_q=()=>!0;var Tl=t=>{const e=({id:n,className:i,type:a,data:l,onClick:c,onEdgeDoubleClick:d,selected:f,animated:m,label:g,labelStyle:x,labelShowBg:b,labelBgStyle:w,labelBgPadding:N,labelBgBorderRadius:C,style:T,source:j,target:R,sourceX:O,sourceY:F,targetX:$,targetY:X,sourcePosition:A,targetPosition:k,elementsSelectable:M,hidden:B,sourceHandleId:L,targetHandleId:q,onContextMenu:I,onMouseEnter:H,onMouseMove:ne,onMouseLeave:U,reconnectRadius:Y,onReconnect:ee,onReconnectStart:Q,onReconnectEnd:W,markerEnd:V,markerStart:K,rfId:ae,ariaLabel:le,isFocusable:ye,isReconnectable:ve,pathOptions:we,interactionWidth:Re,disableKeyboardA11y:Se})=>{const Pe=D.useRef(null),[wt,ut]=D.useState(!1),[bt,ot]=D.useState(!1),ht=dn(),Dt=D.useMemo(()=>`url('#${uv(K,ae)}')`,[K,ae]),We=D.useMemo(()=>`url('#${uv(V,ae)}')`,[V,ae]);if(B)return null;const Ne=$t=>{const{edges:On,addSelectedEdges:ln,unselectNodesAndEdges:Tt,multiSelectionActive:cn}=ht.getState(),tt=On.find(xi=>xi.id===n);tt&&(M&&(ht.setState({nodesSelectionActive:!1}),tt.selected&&cn?(Tt({nodes:[],edges:[tt]}),Pe.current?.blur()):ln([n])),c&&c($t,tt))},$e=ju(n,ht.getState,d),dt=ju(n,ht.getState,I),Hn=ju(n,ht.getState,H),hs=ju(n,ht.getState,ne),Ki=ju(n,ht.getState,U),St=($t,On)=>{if($t.button!==0)return;const{edges:ln,isValidConnection:Tt}=ht.getState(),cn=On?R:j,tt=(On?q:L)||null,xi=On?"target":"source",ms=Tt||_q,Sr=On,kn=ln.find(fn=>fn.id===n);ot(!0),Q?.($t,kn,xi);const Yi=fn=>{ot(!1),W?.(fn,kn,xi)};RC({event:$t,handleId:tt,nodeId:cn,onConnect:fn=>ee?.(kn,fn),isTarget:Sr,getState:ht.getState,setState:ht.setState,isValidConnection:ms,edgeUpdaterType:xi,onReconnectEnd:Yi})},qn=$t=>St($t,!0),ni=$t=>St($t,!1),ii=()=>ut(!0),In=()=>ut(!1),ds=!M&&!c,fs=$t=>{if(!Se&&xC.includes($t.key)&&M){const{unselectNodesAndEdges:On,addSelectedEdges:ln,edges:Tt}=ht.getState();$t.key==="Escape"?(Pe.current?.blur(),On({edges:[Tt.find(tt=>tt.id===n)]})):ln([n])}};return ue.createElement("g",{className:Nn(["react-flow__edge",`react-flow__edge-${a}`,i,{selected:f,animated:m,inactive:ds,updating:wt}]),onClick:Ne,onDoubleClick:$e,onContextMenu:dt,onMouseEnter:Hn,onMouseMove:hs,onMouseLeave:Ki,onKeyDown:ye?fs:void 0,tabIndex:ye?0:void 0,role:ye?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":le===null?void 0:le||`Edge from ${j} to ${R}`,"aria-describedby":ye?`${BC}-${ae}`:void 0,ref:Pe},!bt&&ue.createElement(t,{id:n,source:j,target:R,selected:f,animated:m,label:g,labelStyle:x,labelShowBg:b,labelBgStyle:w,labelBgPadding:N,labelBgBorderRadius:C,data:l,style:T,sourceX:O,sourceY:F,targetX:$,targetY:X,sourcePosition:A,targetPosition:k,sourceHandleId:L,targetHandleId:q,markerStart:Dt,markerEnd:We,pathOptions:we,interactionWidth:Re}),ve&&ue.createElement(ue.Fragment,null,(ve==="source"||ve===!0)&&ue.createElement(TS,{position:A,centerX:O,centerY:F,radius:Y,onMouseDown:qn,onMouseEnter:ii,onMouseOut:In,type:"source"}),(ve==="target"||ve===!0)&&ue.createElement(TS,{position:k,centerX:$,centerY:X,radius:Y,onMouseDown:ni,onMouseEnter:ii,onMouseOut:In,type:"target"})))};return e.displayName="EdgeWrapper",D.memo(e)};function wq(t){const e={default:Tl(t.default||wm),straight:Tl(t.bezier||ib),step:Tl(t.step||nb),smoothstep:Tl(t.step||np),simplebezier:Tl(t.simplebezier||tb)},n={},i=Object.keys(t).filter(a=>!["default","bezier"].includes(a)).reduce((a,l)=>(a[l]=Tl(t[l]||wm),a),n);return{...e,...i}}function NS(t,e,n=null){const i=(n?.x||0)+e.x,a=(n?.y||0)+e.y,l=n?.width||e.width,c=n?.height||e.height;switch(t){case Ce.Top:return{x:i+l/2,y:a};case Ce.Right:return{x:i+l,y:a+c/2};case Ce.Bottom:return{x:i+l/2,y:a+c};case Ce.Left:return{x:i,y:a+c/2}}}function kS(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const Eq=(t,e,n,i,a,l)=>{const c=NS(n,t,e),d=NS(l,i,a);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y}};function jq({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:i,targetWidth:a,targetHeight:l,width:c,height:d,transform:f}){const m={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+a),y2:Math.max(t.y+i,e.y+l)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const g=xh({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:c/f[2],height:d/f[2]}),x=Math.max(0,Math.min(g.x2,m.x2)-Math.max(g.x,m.x)),b=Math.max(0,Math.min(g.y2,m.y2)-Math.max(g.y,m.y));return Math.ceil(x*b)>0}function AS(t){const e=t?.[qt]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const Sq=[{level:0,isMaxLevel:!0,edges:[]}];function Tq(t,e,n=!1){let i=-1;const a=t.reduce((c,d)=>{const f=Hi(d.zIndex);let m=f?d.zIndex:0;if(n){const g=e.get(d.target),x=e.get(d.source),b=d.selected||g?.selected||x?.selected,w=Math.max(x?.[qt]?.z||0,g?.[qt]?.z||0,1e3);m=(f?d.zIndex:0)+(b?w:0)}return c[m]?c[m].push(d):c[m]=[d],i=m>i?m:i,c},{}),l=Object.entries(a).map(([c,d])=>{const f=+c;return{edges:d,level:f,isMaxLevel:f===i}});return l.length===0?Sq:l}function Nq(t,e,n){const i=jt(D.useCallback(a=>t?a.edges.filter(l=>{const c=e.get(l.source),d=e.get(l.target);return c?.width&&c?.height&&d?.width&&d?.height&&jq({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:d.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:d.width,targetHeight:d.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[t,e]));return Tq(i,e,n)}const kq=({color:t="none",strokeWidth:e=1})=>ue.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Aq=({color:t="none",strokeWidth:e=1})=>ue.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),CS={[fr.Arrow]:kq,[fr.ArrowClosed]:Aq};function Cq(t){const e=dn();return D.useMemo(()=>Object.prototype.hasOwnProperty.call(CS,t)?CS[t]:(e.getState().onError?.("009",jr.error009(t)),null),[t])}const Rq=({id:t,type:e,color:n,width:i=12.5,height:a=12.5,markerUnits:l="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const f=Cq(e);return f?ue.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${i}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:d,refX:"0",refY:"0"},ue.createElement(f,{color:n,strokeWidth:c})):null},Mq=({defaultColor:t,rfId:e})=>n=>{const i=[];return n.edges.reduce((a,l)=>([l.markerStart,l.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const d=uv(c,e);i.includes(d)||(a.push({id:d,color:c.color||t,...c}),i.push(d))}}),a),[]).sort((a,l)=>a.id.localeCompare(l.id))},JC=({defaultColor:t,rfId:e})=>{const n=jt(D.useCallback(Mq({defaultColor:t,rfId:e}),[t,e]),(i,a)=>!(i.length!==a.length||i.some((l,c)=>l.id!==a[c].id)));return ue.createElement("defs",null,n.map(i=>ue.createElement(Rq,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};JC.displayName="MarkerDefinitions";var Dq=D.memo(JC);const zq=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),eR=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:i,edgeTypes:a,noPanClassName:l,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:m,onEdgeClick:g,onEdgeDoubleClick:x,onReconnect:b,onReconnectStart:w,onReconnectEnd:N,reconnectRadius:C,children:T,disableKeyboardA11y:j})=>{const{edgesFocusable:R,edgesUpdatable:O,elementsSelectable:F,width:$,height:X,connectionMode:A,nodeInternals:k,onError:M}=jt(zq,yn),B=Nq(e,k,n);return $?ue.createElement(ue.Fragment,null,B.map(({level:L,edges:q,isMaxLevel:I})=>ue.createElement("svg",{key:L,style:{zIndex:L},width:$,height:X,className:"react-flow__edges react-flow__container"},I&&ue.createElement(Dq,{defaultColor:t,rfId:i}),ue.createElement("g",null,q.map(H=>{const[ne,U,Y]=AS(k.get(H.source)),[ee,Q,W]=AS(k.get(H.target));if(!Y||!W)return null;let V=H.type||"default";a[V]||(M?.("011",jr.error011(V)),V="default");const K=a[V]||a.default,ae=A===Ro.Strict?Q.target:(Q.target??[]).concat(Q.source??[]),le=kS(U.source,H.sourceHandle),ye=kS(ae,H.targetHandle),ve=le?.position||Ce.Bottom,we=ye?.position||Ce.Top,Re=!!(H.focusable||R&&typeof H.focusable>"u"),Se=H.reconnectable||H.updatable,Pe=typeof b<"u"&&(Se||O&&typeof Se>"u");if(!le||!ye)return M?.("008",jr.error008(le,H)),null;const{sourceX:wt,sourceY:ut,targetX:bt,targetY:ot}=Eq(ne,le,ve,ee,ye,we);return ue.createElement(K,{key:H.id,id:H.id,className:Nn([H.className,l]),type:V,data:H.data,selected:!!H.selected,animated:!!H.animated,hidden:!!H.hidden,label:H.label,labelStyle:H.labelStyle,labelShowBg:H.labelShowBg,labelBgStyle:H.labelBgStyle,labelBgPadding:H.labelBgPadding,labelBgBorderRadius:H.labelBgBorderRadius,style:H.style,source:H.source,target:H.target,sourceHandleId:H.sourceHandle,targetHandleId:H.targetHandle,markerEnd:H.markerEnd,markerStart:H.markerStart,sourceX:wt,sourceY:ut,targetX:bt,targetY:ot,sourcePosition:ve,targetPosition:we,elementsSelectable:F,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:m,onClick:g,onEdgeDoubleClick:x,onReconnect:b,onReconnectStart:w,onReconnectEnd:N,reconnectRadius:C,rfId:i,ariaLabel:H.ariaLabel,isFocusable:Re,isReconnectable:Pe,pathOptions:"pathOptions"in H?H.pathOptions:void 0,interactionWidth:H.interactionWidth,disableKeyboardA11y:j})})))),T):null};eR.displayName="EdgeRenderer";var Vq=D.memo(eR);const Iq=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Oq({children:t}){const e=jt(Iq);return ue.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function Pq(t){const e=ob(),n=D.useRef(!1);D.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Lq={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top},tR=({nodeId:t,handleType:e,style:n,type:i=ua.Bezier,CustomComponent:a,connectionStatus:l})=>{const{fromNode:c,handleId:d,toX:f,toY:m,connectionMode:g}=jt(D.useCallback(X=>({fromNode:X.nodeInternals.get(t),handleId:X.connectionHandleId,toX:(X.connectionPosition.x-X.transform[0])/X.transform[2],toY:(X.connectionPosition.y-X.transform[1])/X.transform[2],connectionMode:X.connectionMode}),[t]),yn),x=c?.[qt]?.handleBounds;let b=x?.[e];if(g===Ro.Loose&&(b=b||x?.[e==="source"?"target":"source"]),!c||!b)return null;const w=d?b.find(X=>X.id===d):b[0],N=w?w.x+w.width/2:(c.width??0)/2,C=w?w.y+w.height/2:c.height??0,T=(c.positionAbsolute?.x??0)+N,j=(c.positionAbsolute?.y??0)+C,R=w?.position,O=R?Lq[R]:null;if(!R||!O)return null;if(a)return ue.createElement(a,{connectionLineType:i,connectionLineStyle:n,fromNode:c,fromHandle:w,fromX:T,fromY:j,toX:f,toY:m,fromPosition:R,toPosition:O,connectionStatus:l});let F="";const $={sourceX:T,sourceY:j,sourcePosition:R,targetX:f,targetY:m,targetPosition:O};return i===ua.Bezier?[F]=jC($):i===ua.Step?[F]=cv({...$,borderRadius:0}):i===ua.SmoothStep?[F]=cv($):i===ua.SimpleBezier?[F]=EC($):F=`M${T},${j} ${f},${m}`,ue.createElement("path",{d:F,fill:"none",className:"react-flow__connection-path",style:n})};tR.displayName="ConnectionLine";const Bq=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Uq({containerStyle:t,style:e,type:n,component:i}){const{nodeId:a,handleType:l,nodesConnectable:c,width:d,height:f,connectionStatus:m}=jt(Bq,yn);return!(a&&l&&d&&c)?null:ue.createElement("svg",{style:t,width:d,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},ue.createElement("g",{className:Nn(["react-flow__connection",m])},ue.createElement(tR,{nodeId:a,handleType:l,style:e,type:n,CustomComponent:i,connectionStatus:m})))}function RS(t,e){return D.useRef(null),dn(),D.useMemo(()=>e(t),[t])}const nR=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:i,onMoveEnd:a,onInit:l,onNodeClick:c,onEdgeClick:d,onNodeDoubleClick:f,onEdgeDoubleClick:m,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:b,onNodeContextMenu:w,onSelectionContextMenu:N,onSelectionStart:C,onSelectionEnd:T,connectionLineType:j,connectionLineStyle:R,connectionLineComponent:O,connectionLineContainerStyle:F,selectionKeyCode:$,selectionOnDrag:X,selectionMode:A,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:B,deleteKeyCode:L,onlyRenderVisibleElements:q,elementsSelectable:I,selectNodesOnDrag:H,defaultViewport:ne,translateExtent:U,minZoom:Y,maxZoom:ee,preventScrolling:Q,defaultMarkerColor:W,zoomOnScroll:V,zoomOnPinch:K,panOnScroll:ae,panOnScrollSpeed:le,panOnScrollMode:ye,zoomOnDoubleClick:ve,panOnDrag:we,onPaneClick:Re,onPaneMouseEnter:Se,onPaneMouseMove:Pe,onPaneMouseLeave:wt,onPaneScroll:ut,onPaneContextMenu:bt,onEdgeContextMenu:ot,onEdgeMouseEnter:ht,onEdgeMouseMove:Dt,onEdgeMouseLeave:We,onReconnect:Ne,onReconnectStart:$e,onReconnectEnd:dt,reconnectRadius:Hn,noDragClassName:hs,noWheelClassName:Ki,noPanClassName:St,elevateEdgesOnSelect:qn,disableKeyboardA11y:ni,nodeOrigin:ii,nodeExtent:In,rfId:ds})=>{const fs=RS(t,pq),$t=RS(e,wq);return Pq(l),ue.createElement(fq,{onPaneClick:Re,onPaneMouseEnter:Se,onPaneMouseMove:Pe,onPaneMouseLeave:wt,onPaneContextMenu:bt,onPaneScroll:ut,deleteKeyCode:L,selectionKeyCode:$,selectionOnDrag:X,selectionMode:A,onSelectionStart:C,onSelectionEnd:T,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:B,elementsSelectable:I,onMove:n,onMoveStart:i,onMoveEnd:a,zoomOnScroll:V,zoomOnPinch:K,zoomOnDoubleClick:ve,panOnScroll:ae,panOnScrollSpeed:le,panOnScrollMode:ye,panOnDrag:we,defaultViewport:ne,translateExtent:U,minZoom:Y,maxZoom:ee,onSelectionContextMenu:N,preventScrolling:Q,noDragClassName:hs,noWheelClassName:Ki,noPanClassName:St,disableKeyboardA11y:ni},ue.createElement(Oq,null,ue.createElement(Vq,{edgeTypes:$t,onEdgeClick:d,onEdgeDoubleClick:m,onlyRenderVisibleElements:q,onEdgeContextMenu:ot,onEdgeMouseEnter:ht,onEdgeMouseMove:Dt,onEdgeMouseLeave:We,onReconnect:Ne,onReconnectStart:$e,onReconnectEnd:dt,reconnectRadius:Hn,defaultMarkerColor:W,noPanClassName:St,elevateEdgesOnSelect:!!qn,disableKeyboardA11y:ni,rfId:ds},ue.createElement(Uq,{style:R,type:j,component:O,containerStyle:F})),ue.createElement("div",{className:"react-flow__edgelabel-renderer"}),ue.createElement(vq,{nodeTypes:fs,onNodeClick:c,onNodeDoubleClick:f,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:b,onNodeContextMenu:w,selectNodesOnDrag:H,onlyRenderVisibleElements:q,noPanClassName:St,noDragClassName:hs,disableKeyboardA11y:ni,nodeOrigin:ii,nodeExtent:In,rfId:ds})))};nR.displayName="GraphView";var Fq=D.memo(nR);const mv=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],aa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:mv,nodeExtent:mv,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ro.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:gH,isValidConnection:void 0},Hq=()=>R7((t,e)=>({...aa,setNodes:n=>{const{nodeInternals:i,nodeOrigin:a,elevateNodesOnSelect:l}=e();t({nodeInternals:Fy(n,i,a,l)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:i={}}=e();t({edges:n.map(a=>({...i,...a}))})},setDefaultNodesAndEdges:(n,i)=>{const a=typeof n<"u",l=typeof i<"u",c=a?Fy(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:c,edges:l?i:[],hasDefaultNodes:a,hasDefaultEdges:l})},updateNodeDimensions:n=>{const{onNodesChange:i,nodeInternals:a,fitViewOnInit:l,fitViewOnInitDone:c,fitViewOnInitOptions:d,domNode:f,nodeOrigin:m}=e(),g=f?.querySelector(".react-flow__viewport");if(!g)return;const x=window.getComputedStyle(g),{m22:b}=new window.DOMMatrixReadOnly(x.transform),w=n.reduce((C,T)=>{const j=a.get(T.id);if(j?.hidden)a.set(j.id,{...j,[qt]:{...j[qt],handleBounds:void 0}});else if(j){const R=Jx(T.nodeElement);!!(R.width&&R.height&&(j.width!==R.width||j.height!==R.height||T.forceUpdate))&&(a.set(j.id,{...j,[qt]:{...j[qt],handleBounds:{source:jS(".source",T.nodeElement,b,m),target:jS(".target",T.nodeElement,b,m)}},...R}),C.push({id:j.id,type:"dimensions",dimensions:R}))}return C},[]);FC(a,m);const N=c||l&&!c&&HC(e,{initial:!0,...d});t({nodeInternals:new Map(a),fitViewOnInitDone:N}),w?.length>0&&i?.(w)},updateNodePositions:(n,i=!0,a=!1)=>{const{triggerNodeChanges:l}=e(),c=n.map(d=>{const f={id:d.id,type:"position",dragging:a};return i&&(f.positionAbsolute=d.positionAbsolute,f.position=d.position),f});l(c)},triggerNodeChanges:n=>{const{onNodesChange:i,nodeInternals:a,hasDefaultNodes:l,nodeOrigin:c,getNodes:d,elevateNodesOnSelect:f}=e();if(n?.length){if(l){const m=$C(n,d()),g=Fy(m,a,c,f);t({nodeInternals:g})}i?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:i,edges:a,getNodes:l}=e();let c,d=null;i?c=n.map(f=>ca(f,!0)):(c=Ol(l(),n),d=Ol(a,[])),_f({changedNodes:c,changedEdges:d,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:i,edges:a,getNodes:l}=e();let c,d=null;i?c=n.map(f=>ca(f,!0)):(c=Ol(a,n),d=Ol(l(),[])),_f({changedNodes:d,changedEdges:c,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:i}={})=>{const{edges:a,getNodes:l}=e(),c=n||l(),d=i||a,f=c.map(g=>(g.selected=!1,ca(g.id,!1))),m=d.map(g=>ca(g.id,!1));_f({changedNodes:f,changedEdges:m,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:i,maxZoom:a}=e();i?.scaleExtent([n,a]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:i,minZoom:a}=e();i?.scaleExtent([a,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:i}=e(),l=i().filter(d=>d.selected).map(d=>ca(d.id,!1)),c=n.filter(d=>d.selected).map(d=>ca(d.id,!1));_f({changedNodes:l,changedEdges:c,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:i}=e();i.forEach(a=>{a.positionAbsolute=eb(a.position,n)}),t({nodeExtent:n,nodeInternals:new Map(i)})},panBy:n=>{const{transform:i,width:a,height:l,d3Zoom:c,d3Selection:d,translateExtent:f}=e();if(!c||!d||!n.x&&!n.y)return!1;const m=gr.translate(i[0]+n.x,i[1]+n.y).scale(i[2]),g=[[0,0],[a,l]],x=c?.constrain()(m,g,f);return c.transform(d,x),i[0]!==x.x||i[1]!==x.y||i[2]!==x.k},cancelConnection:()=>t({connectionNodeId:aa.connectionNodeId,connectionHandleId:aa.connectionHandleId,connectionHandleType:aa.connectionHandleType,connectionStatus:aa.connectionStatus,connectionStartHandle:aa.connectionStartHandle,connectionEndHandle:aa.connectionEndHandle}),reset:()=>t({...aa})}),Object.is),iR=({children:t})=>{const e=D.useRef(null);return e.current||(e.current=Hq()),ue.createElement(cH,{value:e.current},t)};iR.displayName="ReactFlowProvider";const sR=({children:t})=>D.useContext(tp)?ue.createElement(ue.Fragment,null,t):ue.createElement(iR,null,t);sR.displayName="ReactFlowWrapper";const qq={input:VC,default:dv,output:OC,group:ab},$q={default:wm,straight:ib,step:nb,smoothstep:np,simplebezier:tb},Gq=[0,0],Kq=[15,15],Yq={x:0,y:0,zoom:1},Xq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},rR=D.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:i,className:a,nodeTypes:l=qq,edgeTypes:c=$q,onNodeClick:d,onEdgeClick:f,onInit:m,onMove:g,onMoveStart:x,onMoveEnd:b,onConnect:w,onConnectStart:N,onConnectEnd:C,onClickConnectStart:T,onClickConnectEnd:j,onNodeMouseEnter:R,onNodeMouseMove:O,onNodeMouseLeave:F,onNodeContextMenu:$,onNodeDoubleClick:X,onNodeDragStart:A,onNodeDrag:k,onNodeDragStop:M,onNodesDelete:B,onEdgesDelete:L,onSelectionChange:q,onSelectionDragStart:I,onSelectionDrag:H,onSelectionDragStop:ne,onSelectionContextMenu:U,onSelectionStart:Y,onSelectionEnd:ee,connectionMode:Q=Ro.Strict,connectionLineType:W=ua.Bezier,connectionLineStyle:V,connectionLineComponent:K,connectionLineContainerStyle:ae,deleteKeyCode:le="Backspace",selectionKeyCode:ye="Shift",selectionOnDrag:ve=!1,selectionMode:we=bh.Full,panActivationKeyCode:Re="Space",multiSelectionKeyCode:Se=_m()?"Meta":"Control",zoomActivationKeyCode:Pe=_m()?"Meta":"Control",snapToGrid:wt=!1,snapGrid:ut=Kq,onlyRenderVisibleElements:bt=!1,selectNodesOnDrag:ot=!0,nodesDraggable:ht,nodesConnectable:Dt,nodesFocusable:We,nodeOrigin:Ne=Gq,edgesFocusable:$e,edgesUpdatable:dt,elementsSelectable:Hn,defaultViewport:hs=Yq,minZoom:Ki=.5,maxZoom:St=2,translateExtent:qn=mv,preventScrolling:ni=!0,nodeExtent:ii,defaultMarkerColor:In="#b1b1b7",zoomOnScroll:ds=!0,zoomOnPinch:fs=!0,panOnScroll:$t=!1,panOnScrollSpeed:On=.5,panOnScrollMode:ln=bo.Free,zoomOnDoubleClick:Tt=!0,panOnDrag:cn=!0,onPaneClick:tt,onPaneMouseEnter:xi,onPaneMouseMove:ms,onPaneMouseLeave:Sr,onPaneScroll:kn,onPaneContextMenu:Yi,children:zt,onEdgeContextMenu:fn,onEdgeDoubleClick:bi,onEdgeMouseEnter:si,onEdgeMouseMove:_c,onEdgeMouseLeave:zo,onEdgeUpdate:_i,onEdgeUpdateStart:Us,onEdgeUpdateEnd:wc,onReconnect:Fs,onReconnectStart:Ma,onReconnectEnd:Da,reconnectRadius:Hs=10,edgeUpdaterRadius:Xi=10,onNodesChange:Vo,onEdgesChange:ri,noDragClassName:ai="nodrag",noWheelClassName:Pt="nowheel",noPanClassName:Gt="nopan",fitView:wi=!1,fitViewOptions:Tr,connectOnClick:Ec=!0,attributionPosition:Io,proOptions:Oo,defaultEdgeOptions:Ei,elevateNodesOnSelect:Nr=!0,elevateEdgesOnSelect:ji=!1,disableKeyboardA11y:Pn=!1,autoPanOnConnect:Ln=!0,autoPanOnNodeDrag:Si=!0,connectionRadius:Lt=20,isValidConnection:za,onError:Va,style:Ti,id:oi,nodeDragThreshold:Ia,...Oa},Pa)=>{const kr=oi||"1";return ue.createElement("div",{...Oa,style:{...Ti,...Xq},ref:Pa,className:Nn(["react-flow",a]),"data-testid":"rf__wrapper",id:oi},ue.createElement(sR,null,ue.createElement(Fq,{onInit:m,onMove:g,onMoveStart:x,onMoveEnd:b,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:R,onNodeMouseMove:O,onNodeMouseLeave:F,onNodeContextMenu:$,onNodeDoubleClick:X,nodeTypes:l,edgeTypes:c,connectionLineType:W,connectionLineStyle:V,connectionLineComponent:K,connectionLineContainerStyle:ae,selectionKeyCode:ye,selectionOnDrag:ve,selectionMode:we,deleteKeyCode:le,multiSelectionKeyCode:Se,panActivationKeyCode:Re,zoomActivationKeyCode:Pe,onlyRenderVisibleElements:bt,selectNodesOnDrag:ot,defaultViewport:hs,translateExtent:qn,minZoom:Ki,maxZoom:St,preventScrolling:ni,zoomOnScroll:ds,zoomOnPinch:fs,zoomOnDoubleClick:Tt,panOnScroll:$t,panOnScrollSpeed:On,panOnScrollMode:ln,panOnDrag:cn,onPaneClick:tt,onPaneMouseEnter:xi,onPaneMouseMove:ms,onPaneMouseLeave:Sr,onPaneScroll:kn,onPaneContextMenu:Yi,onSelectionContextMenu:U,onSelectionStart:Y,onSelectionEnd:ee,onEdgeContextMenu:fn,onEdgeDoubleClick:bi,onEdgeMouseEnter:si,onEdgeMouseMove:_c,onEdgeMouseLeave:zo,onReconnect:Fs??_i,onReconnectStart:Ma??Us,onReconnectEnd:Da??wc,reconnectRadius:Hs??Xi,defaultMarkerColor:In,noDragClassName:ai,noWheelClassName:Pt,noPanClassName:Gt,elevateEdgesOnSelect:ji,rfId:kr,disableKeyboardA11y:Pn,nodeOrigin:Ne,nodeExtent:ii}),ue.createElement(LH,{nodes:t,edges:e,defaultNodes:n,defaultEdges:i,onConnect:w,onConnectStart:N,onConnectEnd:C,onClickConnectStart:T,onClickConnectEnd:j,nodesDraggable:ht,nodesConnectable:Dt,nodesFocusable:We,edgesFocusable:$e,edgesUpdatable:dt,elementsSelectable:Hn,elevateNodesOnSelect:Nr,minZoom:Ki,maxZoom:St,nodeExtent:ii,onNodesChange:Vo,onEdgesChange:ri,snapToGrid:wt,snapGrid:ut,connectionMode:Q,translateExtent:qn,connectOnClick:Ec,defaultEdgeOptions:Ei,fitView:wi,fitViewOptions:Tr,onNodesDelete:B,onEdgesDelete:L,onNodeDragStart:A,onNodeDrag:k,onNodeDragStop:M,onSelectionDrag:H,onSelectionDragStart:I,onSelectionDragStop:ne,noPanClassName:Gt,nodeOrigin:Ne,rfId:kr,autoPanOnConnect:Ln,autoPanOnNodeDrag:Si,onError:Va,connectionRadius:Lt,isValidConnection:za,nodeDragThreshold:Ia}),ue.createElement(OH,{onSelectionChange:q}),zt,ue.createElement(hH,{proOptions:Oo,position:Io}),ue.createElement(qH,{rfId:kr,disableKeyboardA11y:Pn})))});rR.displayName="ReactFlow";function aR(t){return e=>{const[n,i]=D.useState(e),a=D.useCallback(l=>i(c=>t(l,c)),[]);return[n,i,a]}}const Zq=aR($C),Qq=aR(sq),oR=({id:t,x:e,y:n,width:i,height:a,style:l,color:c,strokeColor:d,strokeWidth:f,className:m,borderRadius:g,shapeRendering:x,onClick:b,selected:w})=>{const{background:N,backgroundColor:C}=l||{},T=c||N||C;return ue.createElement("rect",{className:Nn(["react-flow__minimap-node",{selected:w},m]),x:e,y:n,rx:g,ry:g,width:i,height:a,fill:T,stroke:d,strokeWidth:f,shapeRendering:x,onClick:b?j=>b(j,t):void 0})};oR.displayName="MiniMapNode";var Wq=D.memo(oR);const Jq=t=>t.nodeOrigin,e$=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Gy=t=>t instanceof Function?t:()=>t;function t$({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:l=Wq,onClick:c}){const d=jt(e$,yn),f=jt(Jq),m=Gy(e),g=Gy(t),x=Gy(n),b=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ue.createElement(ue.Fragment,null,d.map(w=>{const{x:N,y:C}=No(w,f).positionAbsolute;return ue.createElement(l,{key:w.id,x:N,y:C,width:w.width,height:w.height,style:w.style,selected:w.selected,className:x(w),color:m(w),borderRadius:i,strokeColor:g(w),strokeWidth:a,shapeRendering:b,onClick:c,id:w.id})}))}var n$=D.memo(t$);const i$=200,s$=150,r$=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?mH(ip(e,t.nodeOrigin),n):n,rfId:t.rfId}},a$="react-flow__minimap-desc";function lR({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:i="#e2e2e2",nodeClassName:a="",nodeBorderRadius:l=5,nodeStrokeWidth:c=2,nodeComponent:d,maskColor:f="rgb(240, 240, 240, 0.6)",maskStrokeColor:m="none",maskStrokeWidth:g=1,position:x="bottom-right",onClick:b,onNodeClick:w,pannable:N=!1,zoomable:C=!1,ariaLabel:T="React Flow mini map",inversePan:j=!1,zoomStep:R=10,offsetScale:O=5}){const F=dn(),$=D.useRef(null),{boundingRect:X,viewBB:A,rfId:k}=jt(r$,yn),M=t?.width??i$,B=t?.height??s$,L=X.width/M,q=X.height/B,I=Math.max(L,q),H=I*M,ne=I*B,U=O*I,Y=X.x-(H-X.width)/2-U,ee=X.y-(ne-X.height)/2-U,Q=H+U*2,W=ne+U*2,V=`${a$}-${k}`,K=D.useRef(0);K.current=I,D.useEffect(()=>{if($.current){const ye=Ui($.current),ve=Se=>{const{transform:Pe,d3Selection:wt,d3Zoom:ut}=F.getState();if(Se.sourceEvent.type!=="wheel"||!wt||!ut)return;const bt=-Se.sourceEvent.deltaY*(Se.sourceEvent.deltaMode===1?.05:Se.sourceEvent.deltaMode?1:.002)*R,ot=Pe[2]*Math.pow(2,bt);ut.scaleTo(wt,ot)},we=Se=>{const{transform:Pe,d3Selection:wt,d3Zoom:ut,translateExtent:bt,width:ot,height:ht}=F.getState();if(Se.sourceEvent.type!=="mousemove"||!wt||!ut)return;const Dt=K.current*Math.max(1,Pe[2])*(j?-1:1),We={x:Pe[0]-Se.sourceEvent.movementX*Dt,y:Pe[1]-Se.sourceEvent.movementY*Dt},Ne=[[0,0],[ot,ht]],$e=gr.translate(We.x,We.y).scale(Pe[2]),dt=ut.constrain()($e,Ne,bt);ut.transform(wt,dt)},Re=fC().on("zoom",N?we:null).on("zoom.wheel",C?ve:null);return ye.call(Re),()=>{ye.on("zoom",null)}}},[N,C,j,R]);const ae=b?ye=>{const ve=as(ye);b(ye,{x:ve[0],y:ve[1]})}:void 0,le=w?(ye,ve)=>{const we=F.getState().nodeInternals.get(ve);w(ye,we)}:void 0;return ue.createElement(Wx,{position:x,style:t,className:Nn(["react-flow__minimap",e]),"data-testid":"rf__minimap"},ue.createElement("svg",{width:M,height:B,viewBox:`${Y} ${ee} ${Q} ${W}`,role:"img","aria-labelledby":V,ref:$,onClick:ae},T&&ue.createElement("title",{id:V},T),ue.createElement(n$,{onClick:le,nodeColor:i,nodeStrokeColor:n,nodeBorderRadius:l,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:d}),ue.createElement("path",{className:"react-flow__minimap-mask",d:`M${Y-U},${ee-U}h${Q+U*2}v${W+U*2}h${-Q-U*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fill:f,fillRule:"evenodd",stroke:m,strokeWidth:g,pointerEvents:"none"})))}lR.displayName="MiniMap";var o$=D.memo(lR);function l$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ue.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function c$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ue.createElement("path",{d:"M0 0h32v4.2H0z"}))}function u$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ue.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function h$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function d$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const zu=({children:t,className:e,...n})=>ue.createElement("button",{type:"button",className:Nn(["react-flow__controls-button",e]),...n},t);zu.displayName="ControlButton";const f$=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),cR=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:a,onZoomIn:l,onZoomOut:c,onFitView:d,onInteractiveChange:f,className:m,children:g,position:x="bottom-left"})=>{const b=dn(),[w,N]=D.useState(!1),{isInteractive:C,minZoomReached:T,maxZoomReached:j}=jt(f$,yn),{zoomIn:R,zoomOut:O,fitView:F}=ob();if(D.useEffect(()=>{N(!0)},[]),!w)return null;const $=()=>{R(),l?.()},X=()=>{O(),c?.()},A=()=>{F(a),d?.()},k=()=>{b.setState({nodesDraggable:!C,nodesConnectable:!C,elementsSelectable:!C}),f?.(!C)};return ue.createElement(Wx,{className:Nn(["react-flow__controls",m]),position:x,style:t,"data-testid":"rf__controls"},e&&ue.createElement(ue.Fragment,null,ue.createElement(zu,{onClick:$,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:j},ue.createElement(l$,null)),ue.createElement(zu,{onClick:X,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:T},ue.createElement(c$,null))),n&&ue.createElement(zu,{className:"react-flow__controls-fitview",onClick:A,title:"fit view","aria-label":"fit view"},ue.createElement(u$,null)),i&&ue.createElement(zu,{className:"react-flow__controls-interactive",onClick:k,title:"toggle interactivity","aria-label":"toggle interactivity"},C?ue.createElement(d$,null):ue.createElement(h$,null)),g)};cR.displayName="Controls";var m$=D.memo(cR),ls;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ls||(ls={}));function p$({color:t,dimensions:e,lineWidth:n}){return ue.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function g$({color:t,radius:e}){return ue.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const y$={[ls.Dots]:"#91919a",[ls.Lines]:"#eee",[ls.Cross]:"#e2e2e2"},v$={[ls.Dots]:1,[ls.Lines]:1,[ls.Cross]:6},x$=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function uR({id:t,variant:e=ls.Dots,gap:n=20,size:i,lineWidth:a=1,offset:l=2,color:c,style:d,className:f}){const m=D.useRef(null),{transform:g,patternId:x}=jt(x$,yn),b=c||y$[e],w=i||v$[e],N=e===ls.Dots,C=e===ls.Cross,T=Array.isArray(n)?n:[n,n],j=[T[0]*g[2]||1,T[1]*g[2]||1],R=w*g[2],O=C?[R,R]:j,F=N?[R/l,R/l]:[O[0]/l,O[1]/l];return ue.createElement("svg",{className:Nn(["react-flow__background",f]),style:{...d,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:m,"data-testid":"rf__background"},ue.createElement("pattern",{id:x+t,x:g[0]%j[0],y:g[1]%j[1],width:j[0],height:j[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`},N?ue.createElement(g$,{color:b,radius:R/l}):ue.createElement(p$,{dimensions:O,color:b,lineWidth:a})),ue.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${x+t})`}))}uR.displayName="Background";var b$=D.memo(uR);const lt={subject:{bg:"#1f2937",border:"#fbbf24"},class:{bg:"#3b82f6",border:"#60a5fa"},topic:{bg:"#10b981",border:"#34d399"},detail:{bg:"#f59e0b",border:"#fbbf24"},custom:{bg:"#8b5cf6",border:"#a78bfa"}};function _$(){const{subjectId:t}=Sm(),e=Qu.find(W=>W.id===t),[n,i]=D.useState([]),[a,l]=D.useState([]),[c,d]=D.useState({}),[f,m]=D.useState(!0),[g,x]=D.useState(!1),[b,w]=D.useState(!1),[N,C]=D.useState(""),[T,j]=D.useState("subject");D.useEffect(()=>{(async()=>{if(t)try{const V=Os(Vn,"mindMaps",t),K=await wA(V);if(K.exists()){const ae=K.data();ae.customNodes&&i(ae.customNodes),ae.customEdges&&l(ae.customEdges),ae.nodePositions&&d(ae.nodePositions)}}catch(V){console.error("Error loading mind map data:",V)}finally{m(!1)}})()},[t]);const R=async()=>{if(t){x(!0);try{const W=Os(Vn,"mindMaps",t);await Hx(W,{customNodes:n,customEdges:a,nodePositions:c,updatedAt:new Date().toISOString()})}catch(W){console.error("Error saving mind map data:",W),alert("Chyba při ukládání!")}finally{x(!1)}}};D.useEffect(()=>{if(!f&&(n.length>0||Object.keys(c).length>0)){console.log("Auto-save triggered. Positions:",Object.keys(c).length);const W=setTimeout(()=>{R()},1e3);return()=>clearTimeout(W)}},[n,a,c,f]);const{initialNodes:O,initialEdges:F}=D.useMemo(()=>{if(!e)return{initialNodes:[],initialEdges:[]};const W=[],V=[];W.push({id:"subject",type:"input",data:{label:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold text-lg",children:e.shortName}),u.jsx("div",{className:"text-xs mt-1 opacity-80",children:e.name})]})},position:c.subject||{x:400,y:50},style:{background:lt.subject.bg,color:"white",border:`3px solid ${lt.subject.border}`,borderRadius:"12px",padding:"20px",fontSize:"14px",fontWeight:"bold",minWidth:"250px"}});const K=300,ae=2*Math.PI/e.classes.length;return e.classes.forEach((le,ye)=>{const ve=ye*ae-Math.PI/2,we=400+K*Math.cos(ve),Re=250+K*Math.sin(ve),Se=`class-${le.id}`,Pe=w$(le);W.push({id:Se,data:{label:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"font-bold",children:["Hodina ",le.id]}),u.jsx("div",{className:"text-xs mt-1",children:le.title}),u.jsx("div",{className:"text-xs opacity-70 mt-1",children:le.date}),u.jsx("div",{className:"text-xs opacity-70",children:le.lecturer})]})},position:c[Se]||{x:we,y:Re},style:{background:lt.class.bg,color:"white",border:`2px solid ${lt.class.border}`,borderRadius:"10px",padding:"15px",fontSize:"12px",minWidth:"180px",cursor:"pointer"}}),V.push({id:`edge-subject-${Se}`,source:"subject",target:Se,type:"smoothstep",animated:!0,style:{stroke:lt.class.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.class.bg}}),Pe.forEach((wt,ut)=>{const bt=`topic-${le.id}-${ut}`,ot=ve+(ut-Pe.length/2)*.15,ht=400+(K+180)*Math.cos(ot),Dt=250+(K+180)*Math.sin(ot);W.push({id:bt,data:{label:wt},position:c[bt]||{x:ht,y:Dt},style:{background:lt.detail.bg,color:"white",border:`2px solid ${lt.detail.border}`,borderRadius:"8px",padding:"10px",fontSize:"11px",maxWidth:"150px"}}),V.push({id:`edge-${Se}-${bt}`,source:Se,target:bt,type:"smoothstep",style:{stroke:lt.detail.bg,strokeWidth:1.5},markerEnd:{type:fr.ArrowClosed,color:lt.detail.bg}})})}),e.links&&e.links.length>0&&(W.push({id:"links",data:{label:u.jsxs("div",{children:[u.jsx("div",{className:"font-bold mb-2",children:"📎 Odkazy"}),e.links.map((le,ye)=>u.jsx("div",{className:"text-xs mb-1",children:u.jsx("a",{href:le.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:le.name})},ye))]})},position:{x:100,y:250},style:{background:lt.topic.bg,color:"white",border:`2px solid ${lt.topic.border}`,borderRadius:"10px",padding:"12px",fontSize:"11px",minWidth:"150px"}}),V.push({id:"edge-subject-links",source:"subject",target:"links",type:"smoothstep",style:{stroke:lt.topic.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.topic.bg}})),{initialNodes:W,initialEdges:V}},[e,c]),$=D.useMemo(()=>[...O,...n],[O,n]),X=D.useMemo(()=>[...F,...a],[F,a]),[A,k,M]=Zq($),[B,L,q]=Qq(X);D.useMemo(()=>{k($)},[$,k]),D.useMemo(()=>{L(X)},[X,L]);const I=D.useCallback(W=>{M(W),W.forEach(V=>{V.type==="position"&&V.position&&(V.dragging===!1||V.dragging===void 0)&&d(K=>({...K,[V.id]:V.position}))})},[M]),H=D.useCallback((W,V)=>{console.log("Node drag stopped:",V.id,V.position),d(K=>{const ae={...K,[V.id]:V.position};return console.log("Updated positions:",ae),ae})},[]),ne=D.useCallback((W,V)=>{if(V.id.startsWith("class-")){const K=V.id.replace("class-","");window.location.href=`/FAMU/subject/${t}/class/${K}`}},[t]),U=D.useCallback(W=>{const V={...W,id:`custom-edge-${Date.now()}`,type:"smoothstep",animated:!0,style:{stroke:lt.custom.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.custom.bg}};l(K=>[...K,V])},[]),Y=()=>{if(!N.trim())return;const W={id:`custom-${Date.now()}`,data:{label:N},position:{x:Math.random()*400+200,y:Math.random()*400+200},draggable:!0,style:{background:lt.custom.bg,color:"white",border:`2px solid ${lt.custom.border}`,borderRadius:"10px",padding:"12px",fontSize:"12px",minWidth:"120px",cursor:"move"}};if(i(V=>[...V,W]),T){const V={id:`edge-${T}-${W.id}`,source:T,target:W.id,type:"smoothstep",animated:!0,style:{stroke:lt.custom.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.custom.bg}};l(K=>[...K,V])}C(""),w(!1)},ee=W=>{i(V=>V.filter(K=>K.id!==W)),l(V=>V.filter(K=>K.source!==W&&K.target!==W))};if(!e)return u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Předmět nenalezen"}),u.jsx(st,{to:"/",className:"text-blue-600 hover:underline",children:"Zpět na hlavní stránku"})]})});const Q=A.map(W=>({id:W.id,label:typeof W.data.label=="string"?W.data.label:W.id}));return u.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[u.jsx("header",{className:"bg-white border-b-2 border-gray-900 shadow-sm z-10",children:u.jsx("div",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(st,{to:`/subject/${t}`,className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors",children:[u.jsx(cc,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Zpět na předmět"})]}),u.jsx("div",{className:"h-6 w-px bg-gray-300"}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["🧠 Mind Map: ",e.shortName]}),u.jsx("p",{className:"text-sm text-gray-600",children:e.name})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[g&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(Xy,{className:"w-4 h-4 animate-pulse"}),u.jsx("span",{children:"Ukládám..."})]}),!g&&!f&&(n.length>0||Object.keys(c).length>0)&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[u.jsx(Xy,{className:"w-4 h-4"}),u.jsx("span",{children:"Uloženo"})]}),u.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[u.jsx(Yl,{className:"w-4 h-4"}),"Přidat node"]}),u.jsxs("button",{onClick:()=>{const W=document.querySelector(".react-flow");W.requestFullscreen&&W.requestFullscreen()},className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[u.jsx(W4,{className:"w-4 h-4"}),"Fullscreen"]})]})]})})}),u.jsxs("div",{className:"flex-1 relative",children:[u.jsxs(rR,{nodes:A,edges:B,onNodesChange:I,onEdgesChange:q,onNodeClick:ne,onNodeDragStop:H,onConnect:U,fitView:!0,attributionPosition:"bottom-left",children:[u.jsx(m$,{}),u.jsx(o$,{nodeColor:W=>W.id==="subject"?lt.subject.bg:W.id.startsWith("class-")?lt.class.bg:W.id.startsWith("topic-")?lt.detail.bg:W.id.startsWith("custom-")?lt.custom.bg:lt.topic.bg,maskColor:"rgba(0, 0, 0, 0.1)"}),u.jsx(b$,{variant:"dots",gap:16,size:1,color:"#e5e7eb"})]}),u.jsxs("div",{className:"absolute bottom-20 left-4 bg-white rounded-lg shadow-lg border-2 border-gray-900 p-4 z-10",children:[u.jsx("h3",{className:"font-bold text-sm mb-3 text-gray-900",children:"Legenda"}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.subject.bg}}),u.jsx("span",{children:"Předmět"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.class.bg}}),u.jsx("span",{children:"Hodina (kliknutelná)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.detail.bg}}),u.jsx("span",{children:"Téma"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.topic.bg}}),u.jsx("span",{children:"Odkazy"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.custom.bg}}),u.jsx("span",{children:"Vlastní node"})]})]}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-600",children:[u.jsx("p",{children:"💡 Přetáhni nody pro přesunutí"}),u.jsx("p",{children:"💡 Klikni na hodinu pro poznámky"}),u.jsx("p",{children:"💡 Propoj nody tažením z okraje"})]})]}),n.length>0&&u.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg border-2 border-gray-900 p-4 z-10 max-w-xs",children:[u.jsx("h3",{className:"font-bold text-sm mb-3 text-gray-900",children:"Vlastní nody"}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map(W=>u.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-purple-50 rounded border border-purple-200",children:[u.jsx("span",{className:"text-xs truncate flex-1",children:W.data.label}),u.jsx("button",{onClick:()=>ee(W.id),className:"p-1 hover:bg-purple-200 rounded transition-colors",title:"Smazat",children:u.jsx(km,{className:"w-3 h-3 text-purple-700"})})]},W.id))})]})]}),b&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"➕ Přidat nový node"}),u.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:u.jsx(uc,{className:"w-6 h-6 text-gray-500"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Název nodu *"}),u.jsx("input",{type:"text",value:N,onChange:W=>C(W.target.value),placeholder:"např. Důležitá poznámka, Téma...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Připojit k nodu"}),u.jsxs("select",{value:T,onChange:W=>j(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Bez připojení"}),Q.map(W=>u.jsx("option",{value:W.id,children:W.label},W.id))]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Zrušit"}),u.jsx("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Přidat"})]})]})]})})]})}function w$(t){const e=[];if(t.title&&t.title.split(/[,;–—-]/).forEach(i=>{const a=i.trim();a.length>3&&a.length<50&&e.push(a)}),t.description){const n=t.description.match(/[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ][a-záčďéěíňóřšťúůýž]+(?:\s+[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ][a-záčďéěíňóřšťúůýž]+)*/g);n&&n.forEach(a=>{a.length>5&&a.length<40&&!e.includes(a)&&e.push(a)});const i=t.description.match(/[•\-*]\s*([^\n]+)/g);i&&i.forEach(a=>{const l=a.replace(/^[•\-*]\s*/,"").trim();l.length>5&&l.length<40&&!e.includes(l)&&e.push(l)})}return e.slice(0,3)}function E$(){return u.jsx(l4,{basename:"/FAMU",children:u.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[u.jsx(_D,{}),u.jsx("main",{className:"flex-1 lg:ml-0",children:u.jsxs(LM,{children:[u.jsx(gi,{path:"/",element:u.jsx(n6,{})}),u.jsx(gi,{path:"/bulletin-board",element:u.jsx(x7,{})}),u.jsx(gi,{path:"/chat",element:u.jsx(f8,{})}),u.jsx(gi,{path:"/timetable",element:u.jsx(g8,{})}),u.jsx(gi,{path:"/calendar",element:u.jsx(y8,{})}),u.jsx(gi,{path:"/notes",element:u.jsx(v8,{})}),u.jsx(gi,{path:"/project",element:u.jsx(Pj,{})}),u.jsx(gi,{path:"/project/:subpage",element:u.jsx(Pj,{})}),u.jsx(gi,{path:"/secret-game",element:u.jsx(v7,{})}),u.jsx(gi,{path:"/subject/:subjectId",element:u.jsx(a6,{})}),u.jsx(gi,{path:"/subject/:subjectId/mindmap",element:u.jsx(_$,{})}),u.jsx(gi,{path:"/subject/:subjectId/class/:classId",element:u.jsx(p6,{})})]})}),u.jsx(wD,{})]})})}X3.createRoot(document.getElementById("root")).render(u.jsx(D.StrictMode,{children:u.jsx(E$,{})}));
