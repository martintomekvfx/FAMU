(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function z2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qg={exports:{}},gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function U3(){if(Aw)return gu;Aw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var h in a)h!=="key"&&(c[h]=a[h])}else c=a;return a=c.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:c}}return gu.Fragment=e,gu.jsx=n,gu.jsxs=n,gu}var Cw;function F3(){return Cw||(Cw=1,Qg.exports=U3()),Qg.exports}var o=F3(),Wg={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function H3(){if(Rw)return Ie;Rw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function E(V,K,ae){this.props=V,this.context=K,this.refs=S,this.updater=ae||T}E.prototype.isReactComponent={},E.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function R(){}R.prototype=E.prototype;function P(V,K,ae){this.props=V,this.context=K,this.refs=S,this.updater=ae||T}var F=P.prototype=new R;F.constructor=P,C(F,E.prototype),F.isPureReactComponent=!0;var $=Array.isArray;function X(){}var A={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function z(V,K,ae){var le=ae.ref;return{$$typeof:t,type:V,key:K,ref:le!==void 0?le:null,props:ae}}function B(V,K){return z(V.type,K,V.props)}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function q(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return K[ae]})}var I=/\/+/g;function H(V,K){return typeof V=="object"&&V!==null&&V.key!=null?q(""+V.key):K.toString(36)}function ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(X,X):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function U(V,K,ae,le,ye){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(ve){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case t:case e:we=!0;break;case g:return we=V._init,U(we(V._payload),K,ae,le,ye)}}if(we)return ye=ye(V),we=le===""?"."+H(V,0):le,$(ye)?(ae="",we!=null&&(ae=we.replace(I,"$&/")+"/"),U(ye,K,ae,"",function(Oe){return Oe})):ye!=null&&(L(ye)&&(ye=B(ye,ae+(ye.key==null||V&&V.key===ye.key?"":(""+ye.key).replace(I,"$&/")+"/")+we)),K.push(ye)),1;we=0;var Re=le===""?".":le+":";if($(V))for(var ke=0;ke<V.length;ke++)le=V[ke],ve=Re+H(le,ke),we+=U(le,K,ae,ve,ye);else if(ke=w(V),typeof ke=="function")for(V=ke.call(V),ke=0;!(le=V.next()).done;)le=le.value,ve=Re+H(le,ke++),we+=U(le,K,ae,ve,ye);else if(ve==="object"){if(typeof V.then=="function")return U(ne(V),K,ae,le,ye);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(V,K,ae){if(V==null)return V;var le=[],ye=0;return U(V,le,"","",function(ve){return K.call(ae,ve,ye++)}),le}function ee(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Q=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},W={map:Y,forEach:function(V,K,ae){Y(V,function(){K.apply(this,arguments)},ae)},count:function(V){var K=0;return Y(V,function(){K++}),K},toArray:function(V){return Y(V,function(K){return K})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=x,Ie.Children=W,Ie.Component=E,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=P,Ie.StrictMode=s,Ie.Suspense=f,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return A.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,K,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=C({},V.props),ye=V.key;if(K!=null)for(ve in K.key!==void 0&&(ye=""+K.key),K)!N.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(le[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)le.children=ae;else if(1<ve){for(var we=Array(ve),Re=0;Re<ve;Re++)we[Re]=arguments[Re+2];le.children=we}return z(V.type,ye,le)},Ie.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ie.createElement=function(V,K,ae){var le,ye={},ve=null;if(K!=null)for(le in K.key!==void 0&&(ve=""+K.key),K)N.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=K[le]);var we=arguments.length-2;if(we===1)ye.children=ae;else if(1<we){for(var Re=Array(we),ke=0;ke<we;ke++)Re[ke]=arguments[ke+2];ye.children=Re}if(V&&V.defaultProps)for(le in we=V.defaultProps,we)ye[le]===void 0&&(ye[le]=we[le]);return z(V,ve,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:h,render:V}},Ie.isValidElement=L,Ie.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:ee}},Ie.memo=function(V,K){return{$$typeof:m,type:V,compare:K===void 0?null:K}},Ie.startTransition=function(V){var K=A.T,ae={};A.T=ae;try{var le=V(),ye=A.S;ye!==null&&ye(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(X,Q)}catch(ve){Q(ve)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),A.T=K}},Ie.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ie.use=function(V){return A.H.use(V)},Ie.useActionState=function(V,K,ae){return A.H.useActionState(V,K,ae)},Ie.useCallback=function(V,K){return A.H.useCallback(V,K)},Ie.useContext=function(V){return A.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,K){return A.H.useDeferredValue(V,K)},Ie.useEffect=function(V,K){return A.H.useEffect(V,K)},Ie.useEffectEvent=function(V){return A.H.useEffectEvent(V)},Ie.useId=function(){return A.H.useId()},Ie.useImperativeHandle=function(V,K,ae){return A.H.useImperativeHandle(V,K,ae)},Ie.useInsertionEffect=function(V,K){return A.H.useInsertionEffect(V,K)},Ie.useLayoutEffect=function(V,K){return A.H.useLayoutEffect(V,K)},Ie.useMemo=function(V,K){return A.H.useMemo(V,K)},Ie.useOptimistic=function(V,K){return A.H.useOptimistic(V,K)},Ie.useReducer=function(V,K,ae){return A.H.useReducer(V,K,ae)},Ie.useRef=function(V){return A.H.useRef(V)},Ie.useState=function(V){return A.H.useState(V)},Ie.useSyncExternalStore=function(V,K,ae){return A.H.useSyncExternalStore(V,K,ae)},Ie.useTransition=function(){return A.H.useTransition()},Ie.version="19.2.0",Ie}var zw;function wd(){return zw||(zw=1,Wg.exports=H3()),Wg.exports}var M=wd();const ue=z2(M);var Jg={exports:{}},yu={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function q3(){return Mw||(Mw=1,(function(t){function e(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var Q=ee-1>>>1,W=U[Q];if(0<a(W,Y))U[Q]=Y,U[ee]=W,ee=Q;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var Q=0,W=U.length,V=W>>>1;Q<V;){var K=2*(Q+1)-1,ae=U[K],le=K+1,ye=U[le];if(0>a(ae,ee))le<W&&0>a(ye,ae)?(U[Q]=ye,U[le]=ee,Q=le):(U[Q]=ae,U[K]=ee,Q=K);else if(le<W&&0>a(ye,ee))U[Q]=ye,U[le]=ee,Q=le;else break e}}return Y}function a(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,x=null,b=3,w=!1,T=!1,C=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function F(U){for(var Y=n(m);Y!==null;){if(Y.callback===null)s(m);else if(Y.startTime<=U)s(m),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(m)}}function $(U){if(C=!1,F(U),!T)if(n(f)!==null)T=!0,X||(X=!0,q());else{var Y=n(m);Y!==null&&ne($,Y.startTime-U)}}var X=!1,A=-1,N=5,z=-1;function B(){return S?!0:!(t.unstable_now()-z<N)}function L(){if(S=!1,X){var U=t.unstable_now();z=U;var Y=!0;try{e:{T=!1,C&&(C=!1,R(A),A=-1),w=!0;var ee=b;try{t:{for(F(U),x=n(f);x!==null&&!(x.expirationTime>U&&B());){var Q=x.callback;if(typeof Q=="function"){x.callback=null,b=x.priorityLevel;var W=Q(x.expirationTime<=U);if(U=t.unstable_now(),typeof W=="function"){x.callback=W,F(U),Y=!0;break t}x===n(f)&&s(f),F(U)}else s(f);x=n(f)}if(x!==null)Y=!0;else{var V=n(m);V!==null&&ne($,V.startTime-U),Y=!1}}break e}finally{x=null,b=ee,w=!1}Y=void 0}}finally{Y?q():X=!1}}}var q;if(typeof P=="function")q=function(){P(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=L,q=function(){H.postMessage(null)}}else q=function(){E(L,0)};function ne(U,Y){A=E(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(U){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var ee=b;b=Y;try{return U()}finally{b=ee}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=b;b=U;try{return Y()}finally{b=ee}},t.unstable_scheduleCallback=function(U,Y,ee){var Q=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Q+ee:Q):ee=Q,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ee+W,U={id:g++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:W,sortIndex:-1},ee>Q?(U.sortIndex=ee,e(m,U),n(f)===null&&U===n(m)&&(C?(R(A),A=-1):C=!0,ne($,ee-Q))):(U.sortIndex=W,e(f,U),T||w||(T=!0,X||(X=!0,q()))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var Y=b;return function(){var ee=b;b=Y;try{return U.apply(this,arguments)}finally{b=ee}}}})(ty)),ty}var Dw;function $3(){return Dw||(Dw=1,ey.exports=q3()),ey.exports}var ny={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function G3(){if(Vw)return An;Vw=1;var t=wd();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(f,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,An.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(f,m,null,g)},An.flushSync=function(f){var m=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=m,s.p=g,s.d.f()}},An.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},An.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},An.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,x=h(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):g==="script"&&s.d.X(f,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},An.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},An.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=h(g,m.crossOrigin);s.d.L(f,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},An.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},An.requestFormReset=function(f){s.d.r(f)},An.unstable_batchedUpdates=function(f,m){return f(m)},An.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},An.useFormStatus=function(){return u.H.useHostTransitionStatus()},An.version="19.2.0",An}var Iw;function M2(){if(Iw)return ny.exports;Iw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=G3(),ny.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function K3(){if(Pw)return yu;Pw=1;var t=$3(),e=wd(),n=M2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(c(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,d=r;;){var y=l.return;if(y===null)break;var v=y.alternate;if(v===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===l)return f(y),i;if(v===d)return f(y),r;v=v.sibling}throw Error(s(188))}if(l.return!==d.return)l=y,d=v;else{for(var _=!1,D=y.child;D;){if(D===l){_=!0,l=y,d=v;break}if(D===d){_=!0,d=y,l=v;break}D=D.sibling}if(!_){for(D=v.child;D;){if(D===l){_=!0,l=v,d=y;break}if(D===d){_=!0,d=v,l=y;break}D=D.sibling}if(!_)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function H(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case X:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case P:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case F:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return r=i.displayName||null,r!==null?r:H(i.type)||"Memo";case N:r=i._payload,i=i._init;try{return H(i(r))}catch{}}return null}var ne=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Q=[],W=-1;function V(i){return{current:i}}function K(i){0>W||(i.current=Q[W],Q[W]=null,W--)}function ae(i,r){W++,Q[W]=i.current,i.current=r}var le=V(null),ye=V(null),ve=V(null),we=V(null);function Re(i,r){switch(ae(ve,r),ae(ye,i),ae(le,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Wj(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Wj(r),i=Jj(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(le),ae(le,i)}function ke(){K(le),K(ye),K(ve)}function Oe(i){i.memoizedState!==null&&ae(we,i);var r=le.current,l=Jj(r,i.type);r!==l&&(ae(ye,i),ae(le,l))}function wt(i){ye.current===i&&(K(le),K(ye)),we.current===i&&(K(we),hu._currentValue=ee)}var ut,bt;function ot(i){if(ut===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ut=r&&r[1]||"",bt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+i+bt}var dt=!1;function Mt(i,r){if(!i||dt)return"";dt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ce){var re=ce}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(ce){re=ce}i.call(pe.prototype)}}else{try{throw Error()}catch(ce){re=ce}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),_=v[0],D=v[1];if(_&&D){var G=_.split(`
`),ie=D.split(`
`);for(y=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ie.length&&!ie[y].includes("DetermineComponentFrameRoot");)y++;if(d===G.length||y===ie.length)for(d=G.length-1,y=ie.length-1;1<=d&&0<=y&&G[d]!==ie[y];)y--;for(;1<=d&&0<=y;d--,y--)if(G[d]!==ie[y]){if(d!==1||y!==1)do if(d--,y--,0>y||G[d]!==ie[y]){var de=`
`+G[d].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=d&&0<=y);break}}}finally{dt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ot(l):""}function We(i,r){switch(i.tag){case 26:case 27:case 5:return ot(i.type);case 16:return ot("Lazy");case 13:return i.child!==r&&r!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return Mt(i.type,!1);case 11:return Mt(i.type.render,!1);case 1:return Mt(i.type,!0);case 31:return ot("Activity");default:return""}}function Te(i){try{var r="",l=null;do r+=We(i,l),l=i,i=i.return;while(i);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var $e=Object.prototype.hasOwnProperty,ht=t.unstable_scheduleCallback,Hn=t.unstable_cancelCallback,di=t.unstable_shouldYield,Ks=t.unstable_requestPaint,kt=t.unstable_now,qn=t.unstable_getCurrentPriorityLevel,ns=t.unstable_ImmediatePriority,ss=t.unstable_UserBlockingPriority,In=t.unstable_NormalPriority,hi=t.unstable_LowPriority,fi=t.unstable_IdlePriority,$t=t.log,Pn=t.unstable_setDisableYieldValue,ln=null,St=null;function cn(i){if(typeof $t=="function"&&Pn(i),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ln,i)}catch{}}var tt=Math.clz32?Math.clz32:kr,xs=Math.log,mi=Math.LN2;function kr(i){return i>>>=0,i===0?32:31-(xs(i)/mi|0)|0}var Nn=256,Ys=262144,Dt=4194304;function fn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bs(i,r,l){var d=i.pendingLanes;if(d===0)return 0;var y=0,v=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var D=d&134217727;return D!==0?(d=D&~v,d!==0?y=fn(d):(_&=D,_!==0?y=fn(_):l||(l=D&~i,l!==0&&(y=fn(l))))):(D=d&~v,D!==0?y=fn(D):_!==0?y=fn(_):l||(l=d&~i,l!==0&&(y=fn(l)))),y===0?0:r!==0&&r!==y&&(r&v)===0&&(v=y&-y,l=r&-r,v>=l||v===32&&(l&4194048)!==0)?r:y}function is(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function jc(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var i=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),i}function js(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Ui(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function wc(i,r,l,d,y,v){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,G=i.expirationTimes,ie=i.hiddenUpdates;for(l=_&~l;0<l;){var de=31-tt(l),pe=1<<de;D[de]=0,G[de]=-1;var re=ie[de];if(re!==null)for(ie[de]=null,de=0;de<re.length;de++){var ce=re[de];ce!==null&&(ce.lane&=-536870913)}l&=~pe}d!==0&&Fi(i,d,0),v!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=v&~(_&~r))}function Fi(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-tt(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function za(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var d=31-tt(l),y=1<<d;y&r|i[d]&r&&(i[d]|=r),l&=~y}}function Ma(i,r){var l=r&-r;return l=(l&42)!==0?1:Hi(l),(l&(i.suspendedLanes|r))!==0?0:l}function Hi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vo(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:ww(i.type))}function rs(i,r){var l=Y.p;try{return Y.p=i,r()}finally{Y.p=l}}var as=Math.random().toString(36).slice(2),Ot="__reactFiber$"+as,Gt="__reactProps$"+as,ws="__reactContainer$"+as,Sr="__reactEvents$"+as,_c="__reactListeners$"+as,Io="__reactHandles$"+as,Po="__reactResources$"+as,_s="__reactMarker$"+as;function Tr(i){delete i[Ot],delete i[Gt],delete i[Sr],delete i[_c],delete i[Io]}function Es(i){var r=i[Ot];if(r)return r;for(var l=i.parentNode;l;){if(r=l[ws]||l[Ot]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=aw(i);i!==null;){if(l=i[Ot])return l;i=aw(i)}return r}i=l,l=i.parentNode}return null}function On(i){if(i=i[Ot]||i[ws]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Ln(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ks(i){var r=i[Po];return r||(r=i[Po]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(i){i[_s]=!0}var Da=new Set,Va={};function Ss(i,r){os(i,r),os(i+"Capture",r)}function os(i,r){for(Va[i]=r,i=0;i<r.length;i++)Da.add(r[i])}var Ia=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pa={},Oa={};function Nr(i){return $e.call(Oa,i)?!0:$e.call(Pa,i)?!1:Ia.test(i)?Oa[i]=!0:(Pa[i]=!0,!1)}function Oo(i,r,l){if(Nr(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function ls(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Wt(i,r,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+d)}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ar(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ec(i,r,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,v=d.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(_){l=""+_,v.call(this,_)}}),Object.defineProperty(i,r,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ft(i){if(!i._valueTracker){var r=Ar(i)?"checked":"value";i._valueTracker=Ec(i,r,""+i[r])}}function La(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return i&&(d=Ar(i)?i.checked?"true":"false":i.value),i=d,i!==l?(r.setValue(i),!0):!1}function pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ba=/[\n"\\]/g;function $n(i){return i.replace(Ba,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Lo(i,r,l,d,y,v,_,D){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+mn(r)):i.value!==""+mn(r)&&(i.value=""+mn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?kc(i,_,mn(r)):l!=null?kc(i,_,mn(l)):d!=null&&i.removeAttribute("value"),y==null&&v!=null&&(i.defaultChecked=!!v),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+mn(D):i.removeAttribute("name")}function Ld(i,r,l,d,y,v,_,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){ft(i);return}l=l!=null?""+mn(l):"",r=r!=null?""+mn(r):l,D||r===i.value||(i.value=r),i.defaultValue=r}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=D?i.checked:!!d,i.defaultChecked=!!d,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),ft(i)}function kc(i,r,l){r==="number"&&pi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Cr(i,r,l,d){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&d&&(i[l].defaultSelected=!0)}else{for(l=""+mn(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function Bd(i,r,l){if(r!=null&&(r=""+mn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+mn(l):""}function Rr(i,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(s(92));if(ne(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=mn(r),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),ft(i)}function Gn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Ud=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(i,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,l):typeof l!="number"||l===0||Ud.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Tc(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in r)d=r[y],r.hasOwnProperty(y)&&l[y]!==d&&Sc(i,y,d)}else for(var v in r)r.hasOwnProperty(v)&&Sc(i,v,r[v])}function Bo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(i){return zr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zs(){}var Nc=null;function Ts(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mr=null,gi=null;function Ua(i){var r=On(i);if(r&&(i=r.stateNode)){var l=i[Gt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Lo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$n(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==i&&d.form===i.form){var y=d[Gt]||null;if(!y)throw Error(s(90));Lo(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===i.form&&La(d)}break e;case"textarea":Bd(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Cr(i,!!l.multiple,r,!1)}}}var Fo=!1;function Dr(i,r,l){if(Fo)return i(r,l);Fo=!0;try{var d=i(r);return d}finally{if(Fo=!1,(Mr!==null||gi!==null)&&(Vh(),Mr&&(r=Mr,i=gi,gi=Mr=null,Ua(r),i)))for(r=0;r<i.length;r++)Ua(i[r])}}function Qs(i,r){var l=i.stateNode;if(l===null)return null;var d=l[Gt]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Ns)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Fa=!1}var yi=null,Ac=null,Ha=null;function Cc(){if(Ha)return Ha;var i,r=Ac,l=r.length,d,y="value"in yi?yi.value:yi.textContent,v=y.length;for(i=0;i<l&&r[i]===y[i];i++);var _=l-i;for(d=1;d<=_&&r[l-d]===y[v-d];d++);return Ha=y.slice(i,1<d?1-d:void 0)}function qa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function qi(){return!0}function Ws(){return!1}function vn(i){function r(l,d,y,v,_){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qi:Ws,this.isPropagationStopped=Ws,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=vn($i),Vr=x({},$i,{view:0,detail:0}),Rc=vn(Vr),Ir,Ho,xi,qo=x({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xi&&(xi&&i.type==="mousemove"?(Ir=i.screenX-xi.screenX,Ho=i.screenY-xi.screenY):Ho=Ir=0,xi=i),Ir)},movementY:function(i){return"movementY"in i?i.movementY:Ho}}),zc=vn(qo),$a=x({},qo,{dataTransfer:0}),Hd=vn($a),qd=x({},Vr,{relatedTarget:0}),Ga=vn(qd),Mc=x({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),$d=vn(Mc),$o=x({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gd=vn($o),Kd=x({},$i,{data:0}),bi=vn(Kd),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qd(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Zd[i])?!!r[i]:!1}function Pr(){return Qd}var Bn=x({},Vr,{key:function(i){if(i.key){var r=Yd[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=qa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(i){return i.type==="keypress"?qa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wd=vn(Bn),Jd=x({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=vn(Jd),p=x({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),j=vn(p),k=x({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=vn(k),te=x({},qo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=vn(te),xe=x({},$i,{newState:0,oldState:0}),Le=vn(xe),Kt=[9,13,27,32],rt=Ns&&"CompositionEvent"in window,Ct=null;Ns&&"documentMode"in document&&(Ct=document.documentMode);var As=Ns&&"TextEvent"in window&&!Ct,ji=Ns&&(!rt||Ct&&8<Ct&&11>=Ct),Js=" ",ei=!1;function Ka(i,r){switch(i){case"keyup":return Kt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Go(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ko=!1;function dR(i,r){switch(i){case"compositionend":return Go(r);case"keypress":return r.which!==32?null:(ei=!0,Js);case"textInput":return i=r.data,i===Js&&ei?null:i;default:return null}}function hR(i,r){if(Ko)return i==="compositionend"||!rt&&Ka(i,r)?(i=Cc(),Ha=Ac=yi=null,Ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cb(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!fR[i.type]:r==="textarea"}function ub(i,r,l,d){Mr?gi?gi.push(d):gi=[d]:Mr=d,r=Fh(r,"onChange"),0<r.length&&(l=new vi("onChange","change",null,l,d),i.push({event:l,listeners:r}))}var Dc=null,Vc=null;function mR(i){Gj(i,0)}function eh(i){var r=Ln(i);if(La(r))return i}function db(i,r){if(i==="change")return r}var hb=!1;if(Ns){var ip;if(Ns){var rp="oninput"in document;if(!rp){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),rp=typeof fb.oninput=="function"}ip=rp}else ip=!1;hb=ip&&(!document.documentMode||9<document.documentMode)}function mb(){Dc&&(Dc.detachEvent("onpropertychange",pb),Vc=Dc=null)}function pb(i){if(i.propertyName==="value"&&eh(Vc)){var r=[];ub(r,Vc,i,Ts(i)),Dr(mR,r)}}function pR(i,r,l){i==="focusin"?(mb(),Dc=r,Vc=l,Dc.attachEvent("onpropertychange",pb)):i==="focusout"&&mb()}function gR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eh(Vc)}function yR(i,r){if(i==="click")return eh(r)}function vR(i,r){if(i==="input"||i==="change")return eh(r)}function xR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var cs=typeof Object.is=="function"?Object.is:xR;function Ic(i,r){if(cs(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!$e.call(r,y)||!cs(i[y],r[y]))return!1}return!0}function gb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yb(i,r){var l=gb(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=r&&d>=r)return{node:l,offset:r-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gb(l)}}function vb(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?vb(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function xb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=pi(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=pi(i.document)}return r}function ap(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var bR=Ns&&"documentMode"in document&&11>=document.documentMode,Yo=null,op=null,Pc=null,lp=!1;function bb(i,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lp||Yo==null||Yo!==pi(d)||(d=Yo,"selectionStart"in d&&ap(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pc&&Ic(Pc,d)||(Pc=d,d=Fh(op,"onSelect"),0<d.length&&(r=new vi("onSelect","select",null,r,l),i.push({event:r,listeners:d}),r.target=Yo)))}function Ya(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Xo={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},cp={},jb={};Ns&&(jb=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Xa(i){if(cp[i])return cp[i];if(!Xo[i])return i;var r=Xo[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in jb)return cp[i]=r[l];return i}var wb=Xa("animationend"),_b=Xa("animationiteration"),Eb=Xa("animationstart"),jR=Xa("transitionrun"),wR=Xa("transitionstart"),_R=Xa("transitioncancel"),kb=Xa("transitionend"),Sb=new Map,up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");up.push("scrollEnd");function ti(i,r){Sb.set(i,r),Ss(r,[i])}var th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Cs=[],Zo=0,dp=0;function nh(){for(var i=Zo,r=dp=Zo=0;r<i;){var l=Cs[r];Cs[r++]=null;var d=Cs[r];Cs[r++]=null;var y=Cs[r];Cs[r++]=null;var v=Cs[r];if(Cs[r++]=null,d!==null&&y!==null){var _=d.pending;_===null?y.next=y:(y.next=_.next,_.next=y),d.pending=y}v!==0&&Tb(l,y,v)}}function sh(i,r,l,d){Cs[Zo++]=i,Cs[Zo++]=r,Cs[Zo++]=l,Cs[Zo++]=d,dp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function hp(i,r,l,d){return sh(i,r,l,d),ih(i)}function Za(i,r){return sh(i,null,null,r),ih(i)}function Tb(i,r,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var y=!1,v=i.return;v!==null;)v.childLanes|=l,d=v.alternate,d!==null&&(d.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(y=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,y&&r!==null&&(y=31-tt(l),i=v.hiddenUpdates,d=i[y],d===null?i[y]=[r]:d.push(r),r.lane=l|536870912),v):null}function ih(i){if(50<ru)throw ru=0,jg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Qo={};function ER(i,r,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(i,r,l,d){return new ER(i,r,l,d)}function fp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ki(i,r){var l=i.alternate;return l===null?(l=us(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Nb(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function rh(i,r,l,d,y,v){var _=0;if(d=i,typeof i=="function")fp(i)&&(_=1);else if(typeof i=="string")_=A3(i,l,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=us(31,l,r,y),i.elementType=z,i.lanes=v,i;case C:return Qa(l.children,y,v,r);case S:_=8,y|=24;break;case E:return i=us(12,l,r,y|2),i.elementType=E,i.lanes=v,i;case $:return i=us(13,l,r,y),i.elementType=$,i.lanes=v,i;case X:return i=us(19,l,r,y),i.elementType=X,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:_=10;break e;case R:_=9;break e;case F:_=11;break e;case A:_=14;break e;case N:_=16,d=null;break e}_=29,l=Error(s(130,i===null?"null":typeof i,"")),d=null}return r=us(_,l,r,y),r.elementType=i,r.type=d,r.lanes=v,r}function Qa(i,r,l,d){return i=us(7,i,d,r),i.lanes=l,i}function mp(i,r,l){return i=us(6,i,null,r),i.lanes=l,i}function Ab(i){var r=us(18,null,null,0);return r.stateNode=i,r}function pp(i,r,l){return r=us(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Cb=new WeakMap;function Rs(i,r){if(typeof i=="object"&&i!==null){var l=Cb.get(i);return l!==void 0?l:(r={value:i,source:r,stack:Te(r)},Cb.set(i,r),r)}return{value:i,source:r,stack:Te(r)}}var Wo=[],Jo=0,ah=null,Oc=0,zs=[],Ms=0,Or=null,wi=1,_i="";function Yi(i,r){Wo[Jo++]=Oc,Wo[Jo++]=ah,ah=i,Oc=r}function Rb(i,r,l){zs[Ms++]=wi,zs[Ms++]=_i,zs[Ms++]=Or,Or=i;var d=wi;i=_i;var y=32-tt(d)-1;d&=~(1<<y),l+=1;var v=32-tt(r)+y;if(30<v){var _=y-y%5;v=(d&(1<<_)-1).toString(32),d>>=_,y-=_,wi=1<<32-tt(r)+y|l<<y|d,_i=v+i}else wi=1<<v|l<<y|d,_i=i}function gp(i){i.return!==null&&(Yi(i,1),Rb(i,1,0))}function yp(i){for(;i===ah;)ah=Wo[--Jo],Wo[Jo]=null,Oc=Wo[--Jo],Wo[Jo]=null;for(;i===Or;)Or=zs[--Ms],zs[Ms]=null,_i=zs[--Ms],zs[Ms]=null,wi=zs[--Ms],zs[Ms]=null}function zb(i,r){zs[Ms++]=wi,zs[Ms++]=_i,zs[Ms++]=Or,wi=r.id,_i=r.overflow,Or=i}var xn=null,Tt=null,Ze=!1,Lr=null,Ds=!1,vp=Error(s(519));function Br(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lc(Rs(r,i)),vp}function Mb(i){var r=i.stateNode,l=i.type,d=i.memoizedProps;switch(r[Ot]=i,r[Gt]=d,l){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(l=0;l<ou.length;l++)qe(ou[l],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Ld(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),Rr(r,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||Zj(r.textContent,l)?(d.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),d.onScroll!=null&&qe("scroll",r),d.onScrollEnd!=null&&qe("scrollend",r),d.onClick!=null&&(r.onclick=Zs),r=!0):r=!1,r||Br(i,!0)}function Db(i){for(xn=i.return;xn;)switch(xn.tag){case 5:case 31:case 13:Ds=!1;return;case 27:case 3:Ds=!0;return;default:xn=xn.return}}function el(i){if(i!==xn)return!1;if(!Ze)return Db(i),Ze=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ig(i.type,i.memoizedProps)),l=!l),l&&Tt&&Br(i),Db(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Tt=rw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Tt=rw(i)}else r===27?(r=Tt,ea(i.type)?(i=Ug,Ug=null,Tt=i):Tt=r):Tt=xn?Is(i.stateNode.nextSibling):null;return!0}function Wa(){Tt=xn=null,Ze=!1}function xp(){var i=Lr;return i!==null&&(Zn===null?Zn=i:Zn.push.apply(Zn,i),Lr=null),i}function Lc(i){Lr===null?Lr=[i]:Lr.push(i)}var bp=V(null),Ja=null,Xi=null;function Ur(i,r,l){ae(bp,r._currentValue),r._currentValue=l}function Zi(i){i._currentValue=bp.current,K(bp)}function jp(i,r,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===l)break;i=i.return}}function wp(i,r,l,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var v=y.dependencies;if(v!==null){var _=y.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=y;for(var G=0;G<r.length;G++)if(D.context===r[G]){v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),jp(v.return,l,i),d||(_=null);break e}v=D.next}}else if(y.tag===18){if(_=y.return,_===null)throw Error(s(341));_.lanes|=l,v=_.alternate,v!==null&&(v.lanes|=l),jp(_,l,i),_=null}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===i){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}}function tl(i,r,l,d){i=null;for(var y=r,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var _=y.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var D=y.type;cs(y.pendingProps.value,_.value)||(i!==null?i.push(D):i=[D])}}else if(y===we.current){if(_=y.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(hu):i=[hu])}y=y.return}i!==null&&wp(r,i,l,d),r.flags|=262144}function oh(i){for(i=i.firstContext;i!==null;){if(!cs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function eo(i){Ja=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bn(i){return Vb(Ja,i)}function lh(i,r){return Ja===null&&eo(i),Vb(i,r)}function Vb(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Xi===null){if(i===null)throw Error(s(308));Xi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Xi=Xi.next=r;return l}var kR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},SR=t.unstable_scheduleCallback,TR=t.unstable_NormalPriority,Jt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new kR,data:new Map,refCount:0}}function Bc(i){i.refCount--,i.refCount===0&&SR(TR,function(){i.controller.abort()})}var Uc=null,Ep=0,nl=0,sl=null;function NR(i,r){if(Uc===null){var l=Uc=[];Ep=0,nl=Tg(),sl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Ep++,r.then(Ib,Ib),r}function Ib(){if(--Ep===0&&Uc!==null){sl!==null&&(sl.status="fulfilled");var i=Uc;Uc=null,nl=0,sl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function AR(i,r){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var Pb=U.S;U.S=function(i,r){bj=kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NR(i,r),Pb!==null&&Pb(i,r)};var to=V(null);function kp(){var i=to.current;return i!==null?i:jt.pooledCache}function ch(i,r){r===null?ae(to,to.current):ae(to,r.pool)}function Ob(){var i=kp();return i===null?null:{parent:Jt._currentValue,pool:i}}var il=Error(s(460)),Sp=Error(s(474)),uh=Error(s(542)),dh={then:function(){}};function Lb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bb(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Zs,Zs),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Fb(i),i;default:if(typeof r.status=="string")r.then(Zs,Zs);else{if(i=jt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=d}},function(d){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Fb(i),i}throw so=r,il}}function no(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(so=l,il):l}}var so=null;function Ub(){if(so===null)throw Error(s(459));var i=so;return so=null,i}function Fb(i){if(i===il||i===uh)throw Error(s(483))}var rl=null,Fc=0;function hh(i){var r=Fc;return Fc+=1,rl===null&&(rl=[]),Bb(rl,i,r)}function Hc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function fh(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Hb(i){function r(J,Z){if(i){var se=J.deletions;se===null?(J.deletions=[Z],J.flags|=16):se.push(Z)}}function l(J,Z){if(!i)return null;for(;Z!==null;)r(J,Z),Z=Z.sibling;return null}function d(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function y(J,Z){return J=Ki(J,Z),J.index=0,J.sibling=null,J}function v(J,Z,se){return J.index=se,i?(se=J.alternate,se!==null?(se=se.index,se<Z?(J.flags|=67108866,Z):se):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function _(J){return i&&J.alternate===null&&(J.flags|=67108866),J}function D(J,Z,se,he){return Z===null||Z.tag!==6?(Z=mp(se,J.mode,he),Z.return=J,Z):(Z=y(Z,se),Z.return=J,Z)}function G(J,Z,se,he){var Ne=se.type;return Ne===C?de(J,Z,se.props.children,he,se.key):Z!==null&&(Z.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&no(Ne)===Z.type)?(Z=y(Z,se.props),Hc(Z,se),Z.return=J,Z):(Z=rh(se.type,se.key,se.props,null,J.mode,he),Hc(Z,se),Z.return=J,Z)}function ie(J,Z,se,he){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==se.containerInfo||Z.stateNode.implementation!==se.implementation?(Z=pp(se,J.mode,he),Z.return=J,Z):(Z=y(Z,se.children||[]),Z.return=J,Z)}function de(J,Z,se,he,Ne){return Z===null||Z.tag!==7?(Z=Qa(se,J.mode,he,Ne),Z.return=J,Z):(Z=y(Z,se),Z.return=J,Z)}function pe(J,Z,se){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=mp(""+Z,J.mode,se),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return se=rh(Z.type,Z.key,Z.props,null,J.mode,se),Hc(se,Z),se.return=J,se;case T:return Z=pp(Z,J.mode,se),Z.return=J,Z;case N:return Z=no(Z),pe(J,Z,se)}if(ne(Z)||q(Z))return Z=Qa(Z,J.mode,se,null),Z.return=J,Z;if(typeof Z.then=="function")return pe(J,hh(Z),se);if(Z.$$typeof===P)return pe(J,lh(J,Z),se);fh(J,Z)}return null}function re(J,Z,se,he){var Ne=Z!==null?Z.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ne!==null?null:D(J,Z,""+se,he);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return se.key===Ne?G(J,Z,se,he):null;case T:return se.key===Ne?ie(J,Z,se,he):null;case N:return se=no(se),re(J,Z,se,he)}if(ne(se)||q(se))return Ne!==null?null:de(J,Z,se,he,null);if(typeof se.then=="function")return re(J,Z,hh(se),he);if(se.$$typeof===P)return re(J,Z,lh(J,se),he);fh(J,se)}return null}function ce(J,Z,se,he,Ne){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(se)||null,D(Z,J,""+he,Ne);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return J=J.get(he.key===null?se:he.key)||null,G(Z,J,he,Ne);case T:return J=J.get(he.key===null?se:he.key)||null,ie(Z,J,he,Ne);case N:return he=no(he),ce(J,Z,se,he,Ne)}if(ne(he)||q(he))return J=J.get(se)||null,de(Z,J,he,Ne,null);if(typeof he.then=="function")return ce(J,Z,se,hh(he),Ne);if(he.$$typeof===P)return ce(J,Z,se,lh(Z,he),Ne);fh(Z,he)}return null}function Ee(J,Z,se,he){for(var Ne=null,nt=null,Se=Z,Ue=Z=0,Ke=null;Se!==null&&Ue<se.length;Ue++){Se.index>Ue?(Ke=Se,Se=null):Ke=Se.sibling;var st=re(J,Se,se[Ue],he);if(st===null){Se===null&&(Se=Ke);break}i&&Se&&st.alternate===null&&r(J,Se),Z=v(st,Z,Ue),nt===null?Ne=st:nt.sibling=st,nt=st,Se=Ke}if(Ue===se.length)return l(J,Se),Ze&&Yi(J,Ue),Ne;if(Se===null){for(;Ue<se.length;Ue++)Se=pe(J,se[Ue],he),Se!==null&&(Z=v(Se,Z,Ue),nt===null?Ne=Se:nt.sibling=Se,nt=Se);return Ze&&Yi(J,Ue),Ne}for(Se=d(Se);Ue<se.length;Ue++)Ke=ce(Se,J,Ue,se[Ue],he),Ke!==null&&(i&&Ke.alternate!==null&&Se.delete(Ke.key===null?Ue:Ke.key),Z=v(Ke,Z,Ue),nt===null?Ne=Ke:nt.sibling=Ke,nt=Ke);return i&&Se.forEach(function(ra){return r(J,ra)}),Ze&&Yi(J,Ue),Ne}function ze(J,Z,se,he){if(se==null)throw Error(s(151));for(var Ne=null,nt=null,Se=Z,Ue=Z=0,Ke=null,st=se.next();Se!==null&&!st.done;Ue++,st=se.next()){Se.index>Ue?(Ke=Se,Se=null):Ke=Se.sibling;var ra=re(J,Se,st.value,he);if(ra===null){Se===null&&(Se=Ke);break}i&&Se&&ra.alternate===null&&r(J,Se),Z=v(ra,Z,Ue),nt===null?Ne=ra:nt.sibling=ra,nt=ra,Se=Ke}if(st.done)return l(J,Se),Ze&&Yi(J,Ue),Ne;if(Se===null){for(;!st.done;Ue++,st=se.next())st=pe(J,st.value,he),st!==null&&(Z=v(st,Z,Ue),nt===null?Ne=st:nt.sibling=st,nt=st);return Ze&&Yi(J,Ue),Ne}for(Se=d(Se);!st.done;Ue++,st=se.next())st=ce(Se,J,Ue,st.value,he),st!==null&&(i&&st.alternate!==null&&Se.delete(st.key===null?Ue:st.key),Z=v(st,Z,Ue),nt===null?Ne=st:nt.sibling=st,nt=st);return i&&Se.forEach(function(B3){return r(J,B3)}),Ze&&Yi(J,Ue),Ne}function xt(J,Z,se,he){if(typeof se=="object"&&se!==null&&se.type===C&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case w:e:{for(var Ne=se.key;Z!==null;){if(Z.key===Ne){if(Ne=se.type,Ne===C){if(Z.tag===7){l(J,Z.sibling),he=y(Z,se.props.children),he.return=J,J=he;break e}}else if(Z.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===N&&no(Ne)===Z.type){l(J,Z.sibling),he=y(Z,se.props),Hc(he,se),he.return=J,J=he;break e}l(J,Z);break}else r(J,Z);Z=Z.sibling}se.type===C?(he=Qa(se.props.children,J.mode,he,se.key),he.return=J,J=he):(he=rh(se.type,se.key,se.props,null,J.mode,he),Hc(he,se),he.return=J,J=he)}return _(J);case T:e:{for(Ne=se.key;Z!==null;){if(Z.key===Ne)if(Z.tag===4&&Z.stateNode.containerInfo===se.containerInfo&&Z.stateNode.implementation===se.implementation){l(J,Z.sibling),he=y(Z,se.children||[]),he.return=J,J=he;break e}else{l(J,Z);break}else r(J,Z);Z=Z.sibling}he=pp(se,J.mode,he),he.return=J,J=he}return _(J);case N:return se=no(se),xt(J,Z,se,he)}if(ne(se))return Ee(J,Z,se,he);if(q(se)){if(Ne=q(se),typeof Ne!="function")throw Error(s(150));return se=Ne.call(se),ze(J,Z,se,he)}if(typeof se.then=="function")return xt(J,Z,hh(se),he);if(se.$$typeof===P)return xt(J,Z,lh(J,se),he);fh(J,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Z!==null&&Z.tag===6?(l(J,Z.sibling),he=y(Z,se),he.return=J,J=he):(l(J,Z),he=mp(se,J.mode,he),he.return=J,J=he),_(J)):l(J,Z)}return function(J,Z,se,he){try{Fc=0;var Ne=xt(J,Z,se,he);return rl=null,Ne}catch(Se){if(Se===il||Se===uh)throw Se;var nt=us(29,Se,null,J.mode);return nt.lanes=he,nt.return=J,nt}finally{}}}var io=Hb(!0),qb=Hb(!1),Fr=!1;function Tp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Np(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qr(i,r,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(at&2)!==0){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,r=ih(i),Tb(i,null,l),r}return sh(i,d,r,l),ih(i)}function qc(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,za(i,l)}}function Ap(i,r){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?y=v=_:v=v.next=_,l=l.next}while(l!==null);v===null?y=v=r:v=v.next=r}else y=v=r;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Cp=!1;function $c(){if(Cp){var i=sl;if(i!==null)throw i}}function Gc(i,r,l,d){Cp=!1;var y=i.updateQueue;Fr=!1;var v=y.firstBaseUpdate,_=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var G=D,ie=G.next;G.next=null,_===null?v=ie:_.next=ie,_=G;var de=i.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==_&&(D===null?de.firstBaseUpdate=ie:D.next=ie,de.lastBaseUpdate=G))}if(v!==null){var pe=y.baseState;_=0,de=ie=G=null,D=v;do{var re=D.lane&-536870913,ce=re!==D.lane;if(ce?(Ge&re)===re:(d&re)===re){re!==0&&re===nl&&(Cp=!0),de!==null&&(de=de.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ee=i,ze=D;re=r;var xt=l;switch(ze.tag){case 1:if(Ee=ze.payload,typeof Ee=="function"){pe=Ee.call(xt,pe,re);break e}pe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ze.payload,re=typeof Ee=="function"?Ee.call(xt,pe,re):Ee,re==null)break e;pe=x({},pe,re);break e;case 2:Fr=!0}}re=D.callback,re!==null&&(i.flags|=64,ce&&(i.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(ie=de=ce,G=pe):de=de.next=ce,_|=re;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;ce=D,D=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);de===null&&(G=pe),y.baseState=G,y.firstBaseUpdate=ie,y.lastBaseUpdate=de,v===null&&(y.shared.lanes=0),Xr|=_,i.lanes=_,i.memoizedState=pe}}function $b(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Gb(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)$b(l[i],r)}var al=V(null),mh=V(0);function Kb(i,r){i=rr,ae(mh,i),ae(al,r),rr=i|r.baseLanes}function Rp(){ae(mh,rr),ae(al,al.current)}function zp(){rr=mh.current,K(al),K(mh)}var ds=V(null),Vs=null;function $r(i){var r=i.alternate;ae(Yt,Yt.current&1),ae(ds,i),Vs===null&&(r===null||al.current!==null||r.memoizedState!==null)&&(Vs=i)}function Mp(i){ae(Yt,Yt.current),ae(ds,i),Vs===null&&(Vs=i)}function Yb(i){i.tag===22?(ae(Yt,Yt.current),ae(ds,i),Vs===null&&(Vs=i)):Gr()}function Gr(){ae(Yt,Yt.current),ae(ds,ds.current)}function hs(i){K(ds),Vs===i&&(Vs=null),K(Yt)}var Yt=V(0);function ph(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Lg(l)||Bg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Qi=0,Be=null,yt=null,en=null,gh=!1,ol=!1,ro=!1,yh=0,Kc=0,ll=null,CR=0;function Bt(){throw Error(s(321))}function Dp(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!cs(i[l],r[l]))return!1;return!0}function Vp(i,r,l,d,y,v){return Qi=v,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?R1:Zp,ro=!1,v=l(d,y),ro=!1,ol&&(v=Zb(r,l,d,y)),Xb(i),v}function Xb(i){U.H=Zc;var r=yt!==null&&yt.next!==null;if(Qi=0,en=yt=Be=null,gh=!1,Kc=0,ll=null,r)throw Error(s(300));i===null||tn||(i=i.dependencies,i!==null&&oh(i)&&(tn=!0))}function Zb(i,r,l,d){Be=i;var y=0;do{if(ol&&(ll=null),Kc=0,ol=!1,25<=y)throw Error(s(301));if(y+=1,en=yt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=z1,v=r(l,d)}while(ol);return v}function RR(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?Yc(r):r,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(Be.flags|=1024),r}function Ip(){var i=yh!==0;return yh=0,i}function Pp(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Op(i){if(gh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}gh=!1}Qi=0,en=yt=Be=null,ol=!1,Kc=yh=0,ll=null}function Un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Be.memoizedState=en=i:en=en.next=i,en}function Xt(){if(yt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var r=en===null?Be.memoizedState:en.next;if(r!==null)en=r,yt=i;else{if(i===null)throw Be.alternate===null?Error(s(467)):Error(s(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},en===null?Be.memoizedState=en=i:en=en.next=i}return en}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(i){var r=Kc;return Kc+=1,ll===null&&(ll=[]),i=Bb(ll,i,r),r=Be,(en===null?r.memoizedState:en.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?R1:Zp),i}function xh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yc(i);if(i.$$typeof===P)return bn(i)}throw Error(s(438,String(i)))}function Lp(i){var r=null,l=Be.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=Be.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=vh(),Be.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),d=0;d<i;d++)l[d]=B;return r.index++,l}function Wi(i,r){return typeof r=="function"?r(i):r}function bh(i){var r=Xt();return Bp(r,yt,i)}function Bp(i,r,l){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var y=i.baseQueue,v=d.pending;if(v!==null){if(y!==null){var _=y.next;y.next=v.next,v.next=_}r.baseQueue=y=v,d.pending=null}if(v=i.baseState,y===null)i.memoizedState=v;else{r=y.next;var D=_=null,G=null,ie=r,de=!1;do{var pe=ie.lane&-536870913;if(pe!==ie.lane?(Ge&pe)===pe:(Qi&pe)===pe){var re=ie.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),pe===nl&&(de=!0);else if((Qi&re)===re){ie=ie.next,re===nl&&(de=!0);continue}else pe={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(D=G=pe,_=v):G=G.next=pe,Be.lanes|=re,Xr|=re;pe=ie.action,ro&&l(v,pe),v=ie.hasEagerState?ie.eagerState:l(v,pe)}else re={lane:pe,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(D=G=re,_=v):G=G.next=re,Be.lanes|=pe,Xr|=pe;ie=ie.next}while(ie!==null&&ie!==r);if(G===null?_=v:G.next=D,!cs(v,i.memoizedState)&&(tn=!0,de&&(l=sl,l!==null)))throw l;i.memoizedState=v,i.baseState=_,i.baseQueue=G,d.lastRenderedState=v}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Up(i){var r=Xt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=l.dispatch,y=l.pending,v=r.memoizedState;if(y!==null){l.pending=null;var _=y=y.next;do v=i(v,_.action),_=_.next;while(_!==y);cs(v,r.memoizedState)||(tn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,d]}function Qb(i,r,l){var d=Be,y=Xt(),v=Ze;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=r();var _=!cs((yt||y).memoizedState,l);if(_&&(y.memoizedState=l,tn=!0),y=y.queue,qp(e1.bind(null,d,y,i),[i]),y.getSnapshot!==r||_||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,cl(9,{destroy:void 0},Jb.bind(null,d,y,l,r),null),jt===null)throw Error(s(349));v||(Qi&127)!==0||Wb(d,r,l)}return l}function Wb(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Be.updateQueue,r===null?(r=vh(),Be.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function Jb(i,r,l,d){r.value=l,r.getSnapshot=d,t1(r)&&n1(i)}function e1(i,r,l){return l(function(){t1(r)&&n1(i)})}function t1(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!cs(i,l)}catch{return!0}}function n1(i){var r=Za(i,2);r!==null&&Qn(r,i,2)}function Fp(i){var r=Un();if(typeof i=="function"){var l=i;if(i=l(),ro){cn(!0);try{l()}finally{cn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:i},r}function s1(i,r,l,d){return i.baseState=l,Bp(i,yt,typeof d=="function"?d:Wi)}function zR(i,r,l,d,y){if(_h(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};U.T!==null?l(!0):v.isTransition=!1,d(v),l=r.pending,l===null?(v.next=r.pending=v,i1(r,v)):(v.next=l.next,r.pending=l.next=v)}}function i1(i,r){var l=r.action,d=r.payload,y=i.state;if(r.isTransition){var v=U.T,_={};U.T=_;try{var D=l(y,d),G=U.S;G!==null&&G(_,D),r1(i,r,D)}catch(ie){Hp(i,r,ie)}finally{v!==null&&_.types!==null&&(v.types=_.types),U.T=v}}else try{v=l(y,d),r1(i,r,v)}catch(ie){Hp(i,r,ie)}}function r1(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){a1(i,r,d)},function(d){return Hp(i,r,d)}):a1(i,r,l)}function a1(i,r,l){r.status="fulfilled",r.value=l,o1(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,i1(i,l)))}function Hp(i,r,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,o1(r),r=r.next;while(r!==d)}i.action=null}function o1(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function l1(i,r){return r}function c1(i,r){if(Ze){var l=jt.formState;if(l!==null){e:{var d=Be;if(Ze){if(Tt){t:{for(var y=Tt,v=Ds;y.nodeType!==8;){if(!v){y=null;break t}if(y=Is(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Tt=Is(y.nextSibling),d=y.data==="F!";break e}}Br(d)}d=!1}d&&(r=l[0])}}return l=Un(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l1,lastRenderedState:r},l.queue=d,l=N1.bind(null,Be,d),d.dispatch=l,d=Fp(!1),v=Xp.bind(null,Be,!1,d.queue),d=Un(),y={state:r,dispatch:null,action:i,pending:null},d.queue=y,l=zR.bind(null,Be,y,v,l),y.dispatch=l,d.memoizedState=i,[r,l,!1]}function u1(i){var r=Xt();return d1(r,yt,i)}function d1(i,r,l){if(r=Bp(i,r,l1)[0],i=bh(Wi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Yc(r)}catch(_){throw _===il?uh:_}else d=r;r=Xt();var y=r.queue,v=y.dispatch;return l!==r.memoizedState&&(Be.flags|=2048,cl(9,{destroy:void 0},MR.bind(null,y,l),null)),[d,v,i]}function MR(i,r){i.action=r}function h1(i){var r=Xt(),l=yt;if(l!==null)return d1(r,l,i);Xt(),r=r.memoizedState,l=Xt();var d=l.queue.dispatch;return l.memoizedState=i,[r,d,!1]}function cl(i,r,l,d){return i={tag:i,create:l,deps:d,inst:r,next:null},r=Be.updateQueue,r===null&&(r=vh(),Be.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,r.lastEffect=i),i}function f1(){return Xt().memoizedState}function jh(i,r,l,d){var y=Un();Be.flags|=i,y.memoizedState=cl(1|r,{destroy:void 0},l,d===void 0?null:d)}function wh(i,r,l,d){var y=Xt();d=d===void 0?null:d;var v=y.memoizedState.inst;yt!==null&&d!==null&&Dp(d,yt.memoizedState.deps)?y.memoizedState=cl(r,v,l,d):(Be.flags|=i,y.memoizedState=cl(1|r,v,l,d))}function m1(i,r){jh(8390656,8,i,r)}function qp(i,r){wh(2048,8,i,r)}function DR(i){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=vh(),Be.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function p1(i){var r=Xt().memoizedState;return DR({ref:r,nextImpl:i}),function(){if((at&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function g1(i,r){return wh(4,2,i,r)}function y1(i,r){return wh(4,4,i,r)}function v1(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function x1(i,r,l){l=l!=null?l.concat([i]):null,wh(4,4,v1.bind(null,r,i),l)}function $p(){}function b1(i,r){var l=Xt();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&Dp(r,d[1])?d[0]:(l.memoizedState=[i,r],i)}function j1(i,r){var l=Xt();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&Dp(r,d[1]))return d[0];if(d=i(),ro){cn(!0);try{i()}finally{cn(!1)}}return l.memoizedState=[d,r],d}function Gp(i,r,l){return l===void 0||(Qi&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=wj(),Be.lanes|=i,Xr|=i,l)}function w1(i,r,l,d){return cs(l,r)?l:al.current!==null?(i=Gp(i,l,d),cs(i,r)||(tn=!0),i):(Qi&42)===0||(Qi&1073741824)!==0&&(Ge&261930)===0?(tn=!0,i.memoizedState=l):(i=wj(),Be.lanes|=i,Xr|=i,r)}function _1(i,r,l,d,y){var v=Y.p;Y.p=v!==0&&8>v?v:8;var _=U.T,D={};U.T=D,Xp(i,!1,r,l);try{var G=y(),ie=U.S;if(ie!==null&&ie(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var de=AR(G,d);Xc(i,r,de,ps(i))}else Xc(i,r,d,ps(i))}catch(pe){Xc(i,r,{then:function(){},status:"rejected",reason:pe},ps())}finally{Y.p=v,_!==null&&D.types!==null&&(_.types=D.types),U.T=_}}function VR(){}function Kp(i,r,l,d){if(i.tag!==5)throw Error(s(476));var y=E1(i).queue;_1(i,y,r,ee,l===null?VR:function(){return k1(i),l(d)})}function E1(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:ee},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function k1(i){var r=E1(i);r.next===null&&(r=i.alternate.memoizedState),Xc(i,r.next.queue,{},ps())}function Yp(){return bn(hu)}function S1(){return Xt().memoizedState}function T1(){return Xt().memoizedState}function IR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ps();i=Hr(l);var d=qr(r,i,l);d!==null&&(Qn(d,r,l),qc(d,r,l)),r={cache:_p()},i.payload=r;return}r=r.return}}function PR(i,r,l){var d=ps();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_h(i)?A1(r,l):(l=hp(i,r,l,d),l!==null&&(Qn(l,i,d),C1(l,r,d)))}function N1(i,r,l){var d=ps();Xc(i,r,l,d)}function Xc(i,r,l,d){var y={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_h(i))A1(r,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var _=r.lastRenderedState,D=v(_,l);if(y.hasEagerState=!0,y.eagerState=D,cs(D,_))return sh(i,r,y,0),jt===null&&nh(),!1}catch{}finally{}if(l=hp(i,r,y,d),l!==null)return Qn(l,i,d),C1(l,r,d),!0}return!1}function Xp(i,r,l,d){if(d={lane:2,revertLane:Tg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_h(i)){if(r)throw Error(s(479))}else r=hp(i,l,d,2),r!==null&&Qn(r,i,2)}function _h(i){var r=i.alternate;return i===Be||r!==null&&r===Be}function A1(i,r){ol=gh=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function C1(i,r,l){if((l&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,za(i,l)}}var Zc={readContext:bn,use:xh,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};Zc.useEffectEvent=Bt;var R1={readContext:bn,use:xh,useCallback:function(i,r){return Un().memoizedState=[i,r===void 0?null:r],i},useContext:bn,useEffect:m1,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,jh(4194308,4,v1.bind(null,r,i),l)},useLayoutEffect:function(i,r){return jh(4194308,4,i,r)},useInsertionEffect:function(i,r){jh(4,2,i,r)},useMemo:function(i,r){var l=Un();r=r===void 0?null:r;var d=i();if(ro){cn(!0);try{i()}finally{cn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(i,r,l){var d=Un();if(l!==void 0){var y=l(r);if(ro){cn(!0);try{l(r)}finally{cn(!1)}}}else y=r;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=PR.bind(null,Be,i),[d.memoizedState,i]},useRef:function(i){var r=Un();return i={current:i},r.memoizedState=i},useState:function(i){i=Fp(i);var r=i.queue,l=N1.bind(null,Be,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(i,r){var l=Un();return Gp(l,i,r)},useTransition:function(){var i=Fp(!1);return i=_1.bind(null,Be,i.queue,!0,!1),Un().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var d=Be,y=Un();if(Ze){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),jt===null)throw Error(s(349));(Ge&127)!==0||Wb(d,r,l)}y.memoizedState=l;var v={value:l,getSnapshot:r};return y.queue=v,m1(e1.bind(null,d,v,i),[i]),d.flags|=2048,cl(9,{destroy:void 0},Jb.bind(null,d,v,l,r),null),l},useId:function(){var i=Un(),r=jt.identifierPrefix;if(Ze){var l=_i,d=wi;l=(d&~(1<<32-tt(d)-1)).toString(32)+l,r="_"+r+"R_"+l,l=yh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=CR++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Yp,useFormState:c1,useActionState:c1,useOptimistic:function(i){var r=Un();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Xp.bind(null,Be,!0,l),l.dispatch=r,[i,r]},useMemoCache:Lp,useCacheRefresh:function(){return Un().memoizedState=IR.bind(null,Be)},useEffectEvent:function(i){var r=Un(),l={impl:i};return r.memoizedState=l,function(){if((at&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Zp={readContext:bn,use:xh,useCallback:b1,useContext:bn,useEffect:qp,useImperativeHandle:x1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:j1,useReducer:bh,useRef:f1,useState:function(){return bh(Wi)},useDebugValue:$p,useDeferredValue:function(i,r){var l=Xt();return w1(l,yt.memoizedState,i,r)},useTransition:function(){var i=bh(Wi)[0],r=Xt().memoizedState;return[typeof i=="boolean"?i:Yc(i),r]},useSyncExternalStore:Qb,useId:S1,useHostTransitionStatus:Yp,useFormState:u1,useActionState:u1,useOptimistic:function(i,r){var l=Xt();return s1(l,yt,i,r)},useMemoCache:Lp,useCacheRefresh:T1};Zp.useEffectEvent=p1;var z1={readContext:bn,use:xh,useCallback:b1,useContext:bn,useEffect:qp,useImperativeHandle:x1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:j1,useReducer:Up,useRef:f1,useState:function(){return Up(Wi)},useDebugValue:$p,useDeferredValue:function(i,r){var l=Xt();return yt===null?Gp(l,i,r):w1(l,yt.memoizedState,i,r)},useTransition:function(){var i=Up(Wi)[0],r=Xt().memoizedState;return[typeof i=="boolean"?i:Yc(i),r]},useSyncExternalStore:Qb,useId:S1,useHostTransitionStatus:Yp,useFormState:h1,useActionState:h1,useOptimistic:function(i,r){var l=Xt();return yt!==null?s1(l,yt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Lp,useCacheRefresh:T1};z1.useEffectEvent=p1;function Qp(i,r,l,d){r=i.memoizedState,l=l(d,r),l=l==null?r:x({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Wp={enqueueSetState:function(i,r,l){i=i._reactInternals;var d=ps(),y=Hr(d);y.payload=r,l!=null&&(y.callback=l),r=qr(i,y,d),r!==null&&(Qn(r,i,d),qc(r,i,d))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var d=ps(),y=Hr(d);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=qr(i,y,d),r!==null&&(Qn(r,i,d),qc(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ps(),d=Hr(l);d.tag=2,r!=null&&(d.callback=r),r=qr(i,d,l),r!==null&&(Qn(r,i,l),qc(r,i,l))}};function M1(i,r,l,d,y,v,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,_):r.prototype&&r.prototype.isPureReactComponent?!Ic(l,d)||!Ic(y,v):!0}function D1(i,r,l,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==i&&Wp.enqueueReplaceState(r,r.state,null)}function ao(i,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(i=i.defaultProps){l===r&&(l=x({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function V1(i){th(i)}function I1(i){console.error(i)}function P1(i){th(i)}function Eh(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function O1(i,r,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Jp(i,r,l){return l=Hr(l),l.tag=3,l.payload={element:null},l.callback=function(){Eh(i,r)},l}function L1(i){return i=Hr(i),i.tag=3,i}function B1(i,r,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=d.value;i.payload=function(){return y(v)},i.callback=function(){O1(r,l,d)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){O1(r,l,d),typeof y!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function OR(i,r,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&tl(r,l,y,!0),l=ds.current,l!==null){switch(l.tag){case 31:case 13:return Vs===null?Ih():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===dh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),Eg(i,d,y)),!1;case 22:return l.flags|=65536,d===dh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),Eg(i,d,y)),!1}throw Error(s(435,l.tag))}return Eg(i,d,y),Ih(),!1}if(Ze)return r=ds.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,d!==vp&&(i=Error(s(422),{cause:d}),Lc(Rs(i,l)))):(d!==vp&&(r=Error(s(423),{cause:d}),Lc(Rs(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=Rs(d,l),y=Jp(i.stateNode,d,y),Ap(i,y),Ut!==4&&(Ut=2)),!1;var v=Error(s(520),{cause:d});if(v=Rs(v,l),iu===null?iu=[v]:iu.push(v),Ut!==4&&(Ut=2),r===null)return!0;d=Rs(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=Jp(l.stateNode,d,i),Ap(l,i),!1;case 1:if(r=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zr===null||!Zr.has(v))))return l.flags|=65536,y&=-y,l.lanes|=y,y=L1(y),B1(y,i,l,d),Ap(l,y),!1}l=l.return}while(l!==null);return!1}var eg=Error(s(461)),tn=!1;function jn(i,r,l,d){r.child=i===null?qb(r,null,l,d):io(r,i.child,l,d)}function U1(i,r,l,d,y){l=l.render;var v=r.ref;if("ref"in d){var _={};for(var D in d)D!=="ref"&&(_[D]=d[D])}else _=d;return eo(r),d=Vp(i,r,l,_,v,y),D=Ip(),i!==null&&!tn?(Pp(i,r,y),Ji(i,r,y)):(Ze&&D&&gp(r),r.flags|=1,jn(i,r,d,y),r.child)}function F1(i,r,l,d,y){if(i===null){var v=l.type;return typeof v=="function"&&!fp(v)&&v.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=v,H1(i,r,v,d,y)):(i=rh(l.type,null,d,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!lg(i,y)){var _=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ic,l(_,d)&&i.ref===r.ref)return Ji(i,r,y)}return r.flags|=1,i=Ki(v,d),i.ref=r.ref,i.return=r,r.child=i}function H1(i,r,l,d,y){if(i!==null){var v=i.memoizedProps;if(Ic(v,d)&&i.ref===r.ref)if(tn=!1,r.pendingProps=d=v,lg(i,y))(i.flags&131072)!==0&&(tn=!0);else return r.lanes=i.lanes,Ji(i,r,y)}return tg(i,r,l,d,y)}function q1(i,r,l,d){var y=d.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(d=r.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~v}else d=0,r.child=null;return $1(i,r,v,l,d)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ch(r,v!==null?v.cachePool:null),v!==null?Kb(r,v):Rp(),Yb(r);else return d=r.lanes=536870912,$1(i,r,v!==null?v.baseLanes|l:l,l,d)}else v!==null?(ch(r,v.cachePool),Kb(r,v),Gr(),r.memoizedState=null):(i!==null&&ch(r,null),Rp(),Gr());return jn(i,r,y,l),r.child}function Qc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $1(i,r,l,d,y){var v=kp();return v=v===null?null:{parent:Jt._currentValue,pool:v},r.memoizedState={baseLanes:l,cachePool:v},i!==null&&ch(r,null),Rp(),Yb(r),i!==null&&tl(i,r,d,!0),r.childLanes=y,null}function kh(i,r){return r=Th({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function G1(i,r,l){return io(r,i.child,null,l),i=kh(r,r.pendingProps),i.flags|=2,hs(r),r.memoizedState=null,i}function LR(i,r,l){var d=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ze){if(d.mode==="hidden")return i=kh(r,d),r.lanes=536870912,Qc(null,i);if(Mp(r),(i=Tt)?(i=iw(i,Ds),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Or!==null?{id:wi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},l=Ab(i),l.return=r,r.child=l,xn=r,Tt=null)):i=null,i===null)throw Br(r);return r.lanes=536870912,null}return kh(r,d)}var v=i.memoizedState;if(v!==null){var _=v.dehydrated;if(Mp(r),y)if(r.flags&256)r.flags&=-257,r=G1(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(tn||tl(i,r,l,!1),y=(l&i.childLanes)!==0,tn||y){if(d=jt,d!==null&&(_=Ma(d,l),_!==0&&_!==v.retryLane))throw v.retryLane=_,Za(i,_),Qn(d,i,_),eg;Ih(),r=G1(i,r,l)}else i=v.treeContext,Tt=Is(_.nextSibling),xn=r,Ze=!0,Lr=null,Ds=!1,i!==null&&zb(r,i),r=kh(r,d),r.flags|=4096;return r}return i=Ki(i.child,{mode:d.mode,children:d.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Sh(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function tg(i,r,l,d,y){return eo(r),l=Vp(i,r,l,d,void 0,y),d=Ip(),i!==null&&!tn?(Pp(i,r,y),Ji(i,r,y)):(Ze&&d&&gp(r),r.flags|=1,jn(i,r,l,y),r.child)}function K1(i,r,l,d,y,v){return eo(r),r.updateQueue=null,l=Zb(r,d,l,y),Xb(i),d=Ip(),i!==null&&!tn?(Pp(i,r,v),Ji(i,r,v)):(Ze&&d&&gp(r),r.flags|=1,jn(i,r,l,v),r.child)}function Y1(i,r,l,d,y){if(eo(r),r.stateNode===null){var v=Qo,_=l.contextType;typeof _=="object"&&_!==null&&(v=bn(_)),v=new l(d,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Wp,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=d,v.state=r.memoizedState,v.refs={},Tp(r),_=l.contextType,v.context=typeof _=="object"&&_!==null?bn(_):Qo,v.state=r.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Qp(r,l,_,d),v.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&Wp.enqueueReplaceState(v,v.state,null),Gc(r,d,v,y),$c(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){v=r.stateNode;var D=r.memoizedProps,G=ao(l,D);v.props=G;var ie=v.context,de=l.contextType;_=Qo,typeof de=="object"&&de!==null&&(_=bn(de));var pe=l.getDerivedStateFromProps;de=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,de||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||ie!==_)&&D1(r,v,d,_),Fr=!1;var re=r.memoizedState;v.state=re,Gc(r,d,v,y),$c(),ie=r.memoizedState,D||re!==ie||Fr?(typeof pe=="function"&&(Qp(r,l,pe,d),ie=r.memoizedState),(G=Fr||M1(r,l,G,d,re,ie,_))?(de||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=ie),v.props=d,v.state=ie,v.context=_,d=G):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{v=r.stateNode,Np(i,r),_=r.memoizedProps,de=ao(l,_),v.props=de,pe=r.pendingProps,re=v.context,ie=l.contextType,G=Qo,typeof ie=="object"&&ie!==null&&(G=bn(ie)),D=l.getDerivedStateFromProps,(ie=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==pe||re!==G)&&D1(r,v,d,G),Fr=!1,re=r.memoizedState,v.state=re,Gc(r,d,v,y),$c();var ce=r.memoizedState;_!==pe||re!==ce||Fr||i!==null&&i.dependencies!==null&&oh(i.dependencies)?(typeof D=="function"&&(Qp(r,l,D,d),ce=r.memoizedState),(de=Fr||M1(r,l,de,d,re,ce,G)||i!==null&&i.dependencies!==null&&oh(i.dependencies))?(ie||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ce,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ce,G)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ce),v.props=d,v.state=ce,v.context=G,d=de):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=1024),d=!1)}return v=d,Sh(i,r),d=(r.flags&128)!==0,v||d?(v=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&d?(r.child=io(r,i.child,null,y),r.child=io(r,null,l,y)):jn(i,r,l,y),r.memoizedState=v.state,i=r.child):i=Ji(i,r,y),i}function X1(i,r,l,d){return Wa(),r.flags|=256,jn(i,r,l,d),r.child}var ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(i){return{baseLanes:i,cachePool:Ob()}}function ig(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=ms),i}function Z1(i,r,l){var d=r.pendingProps,y=!1,v=(r.flags&128)!==0,_;if((_=v)||(_=i!==null&&i.memoizedState===null?!1:(Yt.current&2)!==0),_&&(y=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ze){if(y?$r(r):Gr(),(i=Tt)?(i=iw(i,Ds),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Or!==null?{id:wi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},l=Ab(i),l.return=r,r.child=l,xn=r,Tt=null)):i=null,i===null)throw Br(r);return Bg(i)?r.lanes=32:r.lanes=536870912,null}var D=d.children;return d=d.fallback,y?(Gr(),y=r.mode,D=Th({mode:"hidden",children:D},y),d=Qa(d,y,l,null),D.return=r,d.return=r,D.sibling=d,r.child=D,d=r.child,d.memoizedState=sg(l),d.childLanes=ig(i,_,l),r.memoizedState=ng,Qc(null,d)):($r(r),rg(r,D))}var G=i.memoizedState;if(G!==null&&(D=G.dehydrated,D!==null)){if(v)r.flags&256?($r(r),r.flags&=-257,r=ag(i,r,l)):r.memoizedState!==null?(Gr(),r.child=i.child,r.flags|=128,r=null):(Gr(),D=d.fallback,y=r.mode,d=Th({mode:"visible",children:d.children},y),D=Qa(D,y,l,null),D.flags|=2,d.return=r,D.return=r,d.sibling=D,r.child=d,io(r,i.child,null,l),d=r.child,d.memoizedState=sg(l),d.childLanes=ig(i,_,l),r.memoizedState=ng,r=Qc(null,d));else if($r(r),Bg(D)){if(_=D.nextSibling&&D.nextSibling.dataset,_)var ie=_.dgst;_=ie,d=Error(s(419)),d.stack="",d.digest=_,Lc({value:d,source:null,stack:null}),r=ag(i,r,l)}else if(tn||tl(i,r,l,!1),_=(l&i.childLanes)!==0,tn||_){if(_=jt,_!==null&&(d=Ma(_,l),d!==0&&d!==G.retryLane))throw G.retryLane=d,Za(i,d),Qn(_,i,d),eg;Lg(D)||Ih(),r=ag(i,r,l)}else Lg(D)?(r.flags|=192,r.child=i.child,r=null):(i=G.treeContext,Tt=Is(D.nextSibling),xn=r,Ze=!0,Lr=null,Ds=!1,i!==null&&zb(r,i),r=rg(r,d.children),r.flags|=4096);return r}return y?(Gr(),D=d.fallback,y=r.mode,G=i.child,ie=G.sibling,d=Ki(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,ie!==null?D=Ki(ie,D):(D=Qa(D,y,l,null),D.flags|=2),D.return=r,d.return=r,d.sibling=D,r.child=d,Qc(null,d),d=r.child,D=i.child.memoizedState,D===null?D=sg(l):(y=D.cachePool,y!==null?(G=Jt._currentValue,y=y.parent!==G?{parent:G,pool:G}:y):y=Ob(),D={baseLanes:D.baseLanes|l,cachePool:y}),d.memoizedState=D,d.childLanes=ig(i,_,l),r.memoizedState=ng,Qc(i.child,d)):($r(r),l=i.child,i=l.sibling,l=Ki(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=l,r.memoizedState=null,l)}function rg(i,r){return r=Th({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Th(i,r){return i=us(22,i,null,r),i.lanes=0,i}function ag(i,r,l){return io(r,i.child,null,l),i=rg(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Q1(i,r,l){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),jp(i.return,r,l)}function og(i,r,l,d,y,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y,treeForkCount:v}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=l,_.tailMode=y,_.treeForkCount=v)}function W1(i,r,l){var d=r.pendingProps,y=d.revealOrder,v=d.tail;d=d.children;var _=Yt.current,D=(_&2)!==0;if(D?(_=_&1|2,r.flags|=128):_&=1,ae(Yt,_),jn(i,r,d,l),d=Ze?Oc:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Q1(i,l,r);else if(i.tag===19)Q1(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&ph(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),og(r,!1,y,l,v,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&ph(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}og(r,!0,l,null,v,d);break;case"together":og(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function Ji(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Xr|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(tl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ki(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ki(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function lg(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&oh(i)))}function BR(i,r,l){switch(r.tag){case 3:Re(r,r.stateNode.containerInfo),Ur(r,Jt,i.memoizedState.cache),Wa();break;case 27:case 5:Oe(r);break;case 4:Re(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Mp(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?($r(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Z1(i,r,l):($r(r),i=Ji(i,r,l),i!==null?i.sibling:null);$r(r);break;case 19:var y=(i.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(tl(i,r,l,!1),d=(l&r.childLanes)!==0),y){if(d)return W1(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ae(Yt,Yt.current),d)break;return null;case 22:return r.lanes=0,q1(i,r,l,r.pendingProps);case 24:Ur(r,Jt,i.memoizedState.cache)}return Ji(i,r,l)}function J1(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)tn=!0;else{if(!lg(i,l)&&(r.flags&128)===0)return tn=!1,BR(i,r,l);tn=(i.flags&131072)!==0}else tn=!1,Ze&&(r.flags&1048576)!==0&&Rb(r,Oc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(i=no(r.elementType),r.type=i,typeof i=="function")fp(i)?(d=ao(i,d),r.tag=1,r=Y1(null,r,i,d,l)):(r.tag=0,r=tg(null,r,i,d,l));else{if(i!=null){var y=i.$$typeof;if(y===F){r.tag=11,r=U1(null,r,i,d,l);break e}else if(y===A){r.tag=14,r=F1(null,r,i,d,l);break e}}throw r=H(i)||i,Error(s(306,r,""))}}return r;case 0:return tg(i,r,r.type,r.pendingProps,l);case 1:return d=r.type,y=ao(d,r.pendingProps),Y1(i,r,d,y,l);case 3:e:{if(Re(r,r.stateNode.containerInfo),i===null)throw Error(s(387));d=r.pendingProps;var v=r.memoizedState;y=v.element,Np(i,r),Gc(r,d,null,l);var _=r.memoizedState;if(d=_.cache,Ur(r,Jt,d),d!==v.cache&&wp(r,[Jt],l,!0),$c(),d=_.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=X1(i,r,d,l);break e}else if(d!==y){y=Rs(Error(s(424)),r),Lc(y),r=X1(i,r,d,l);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=Is(i.firstChild),xn=r,Ze=!0,Lr=null,Ds=!0,l=qb(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wa(),d===y){r=Ji(i,r,l);break e}jn(i,r,d,l)}r=r.child}return r;case 26:return Sh(i,r),i===null?(l=uw(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ze||(l=r.type,i=r.pendingProps,d=Hh(ve.current).createElement(l),d[Ot]=r,d[Gt]=i,wn(d,l,i),Lt(d),r.stateNode=d):r.memoizedState=uw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Oe(r),i===null&&Ze&&(d=r.stateNode=ow(r.type,r.pendingProps,ve.current),xn=r,Ds=!0,y=Tt,ea(r.type)?(Ug=y,Tt=Is(d.firstChild)):Tt=y),jn(i,r,r.pendingProps.children,l),Sh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ze&&((y=d=Tt)&&(d=g3(d,r.type,r.pendingProps,Ds),d!==null?(r.stateNode=d,xn=r,Tt=Is(d.firstChild),Ds=!1,y=!0):y=!1),y||Br(r)),Oe(r),y=r.type,v=r.pendingProps,_=i!==null?i.memoizedProps:null,d=v.children,Ig(y,v)?d=null:_!==null&&Ig(y,_)&&(r.flags|=32),r.memoizedState!==null&&(y=Vp(i,r,RR,null,null,l),hu._currentValue=y),Sh(i,r),jn(i,r,d,l),r.child;case 6:return i===null&&Ze&&((i=l=Tt)&&(l=y3(l,r.pendingProps,Ds),l!==null?(r.stateNode=l,xn=r,Tt=null,i=!0):i=!1),i||Br(r)),null;case 13:return Z1(i,r,l);case 4:return Re(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=io(r,null,d,l):jn(i,r,d,l),r.child;case 11:return U1(i,r,r.type,r.pendingProps,l);case 7:return jn(i,r,r.pendingProps,l),r.child;case 8:return jn(i,r,r.pendingProps.children,l),r.child;case 12:return jn(i,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,Ur(r,r.type,d.value),jn(i,r,d.children,l),r.child;case 9:return y=r.type._context,d=r.pendingProps.children,eo(r),y=bn(y),d=d(y),r.flags|=1,jn(i,r,d,l),r.child;case 14:return F1(i,r,r.type,r.pendingProps,l);case 15:return H1(i,r,r.type,r.pendingProps,l);case 19:return W1(i,r,l);case 31:return LR(i,r,l);case 22:return q1(i,r,l,r.pendingProps);case 24:return eo(r),d=bn(Jt),i===null?(y=kp(),y===null&&(y=jt,v=_p(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=l),y=v),r.memoizedState={parent:d,cache:y},Tp(r),Ur(r,Jt,y)):((i.lanes&l)!==0&&(Np(i,r),Gc(r,null,null,l),$c()),y=i.memoizedState,v=r.memoizedState,y.parent!==d?(y={parent:d,cache:d},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Ur(r,Jt,d)):(d=v.cache,Ur(r,Jt,d),d!==y.cache&&wp(r,[Jt],l,!0))),jn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function er(i){i.flags|=4}function cg(i,r,l,d,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Sj())i.flags|=8192;else throw so=dh,Sp}else i.flags&=-16777217}function ej(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!pw(r))if(Sj())i.flags|=8192;else throw so=dh,Sp}function Nh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Do():536870912,i.lanes|=r,fl|=r)}function Wc(i,r){if(!Ze)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Nt(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=l,r}function UR(i,r,l){var d=r.pendingProps;switch(yp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Nt(r),null;case 3:return l=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),Zi(Jt),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(el(r)?er(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xp())),Nt(r),null;case 26:var y=r.type,v=r.memoizedState;return i===null?(er(r),v!==null?(Nt(r),ej(r,v)):(Nt(r),cg(r,y,null,d,l))):v?v!==i.memoizedState?(er(r),Nt(r),ej(r,v)):(Nt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==d&&er(r),Nt(r),cg(r,y,i,d,l)),null;case 27:if(wt(r),l=ve.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&er(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Nt(r),null}i=le.current,el(r)?Mb(r):(i=ow(y,d,l),r.stateNode=i,er(r))}return Nt(r),null;case 5:if(wt(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&er(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Nt(r),null}if(v=le.current,el(r))Mb(r);else{var _=Hh(ve.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?_.createElement("select",{is:d.is}):_.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?_.createElement(y,{is:d.is}):_.createElement(y)}}v[Ot]=r,v[Gt]=d;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=v;e:switch(wn(v,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&er(r)}}return Nt(r),cg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&er(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(i=ve.current,el(r)){if(i=r.stateNode,l=r.memoizedProps,d=null,y=xn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[Ot]=r,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Zj(i.nodeValue,l)),i||Br(r,!0)}else i=Hh(i).createTextNode(d),i[Ot]=r,r.stateNode=i}return Nt(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(d=el(r),l!==null){if(i===null){if(!d)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ot]=r}else Wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Nt(r),i=!1}else l=xp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(hs(r),r):(hs(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Nt(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=el(r),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Ot]=r}else Wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Nt(r),y=!1}else y=xp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(hs(r),r):(hs(r),null)}return hs(r),(r.flags&128)!==0?(r.lanes=l,r):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=r.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==y&&(d.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),Nh(r,r.updateQueue),Nt(r),null);case 4:return ke(),i===null&&Rg(r.stateNode.containerInfo),Nt(r),null;case 10:return Zi(r.type),Nt(r),null;case 19:if(K(Yt),d=r.memoizedState,d===null)return Nt(r),null;if(y=(r.flags&128)!==0,v=d.rendering,v===null)if(y)Wc(d,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=ph(i),v!==null){for(r.flags|=128,Wc(d,!1),i=v.updateQueue,r.updateQueue=i,Nh(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)Nb(l,i),l=l.sibling;return ae(Yt,Yt.current&1|2),Ze&&Yi(r,d.treeForkCount),r.child}i=i.sibling}d.tail!==null&&kt()>Mh&&(r.flags|=128,y=!0,Wc(d,!1),r.lanes=4194304)}else{if(!y)if(i=ph(v),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,Nh(r,i),Wc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!Ze)return Nt(r),null}else 2*kt()-d.renderingStartTime>Mh&&l!==536870912&&(r.flags|=128,y=!0,Wc(d,!1),r.lanes=4194304);d.isBackwards?(v.sibling=r.child,r.child=v):(i=d.last,i!==null?i.sibling=v:r.child=v,d.last=v)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=kt(),i.sibling=null,l=Yt.current,ae(Yt,y?l&1|2:l&1),Ze&&Yi(r,d.treeForkCount),i):(Nt(r),null);case 22:case 23:return hs(r),zp(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),l=r.updateQueue,l!==null&&Nh(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),i!==null&&K(to),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zi(Jt),Nt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FR(i,r){switch(yp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Zi(Jt),ke(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wt(r),null;case 31:if(r.memoizedState!==null){if(hs(r),r.alternate===null)throw Error(s(340));Wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(hs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return K(Yt),null;case 4:return ke(),null;case 10:return Zi(r.type),null;case 22:case 23:return hs(r),zp(),i!==null&&K(to),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Zi(Jt),null;case 25:return null;default:return null}}function tj(i,r){switch(yp(r),r.tag){case 3:Zi(Jt),ke();break;case 26:case 27:case 5:wt(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&hs(r);break;case 13:hs(r);break;case 19:K(Yt);break;case 10:Zi(r.type);break;case 22:case 23:hs(r),zp(),i!==null&&K(to);break;case 24:Zi(Jt)}}function Jc(i,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&i)===i){d=void 0;var v=l.create,_=l.inst;d=v(),_.destroy=d}l=l.next}while(l!==y)}}catch(D){pt(r,r.return,D)}}function Kr(i,r,l){try{var d=r.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var v=y.next;d=v;do{if((d.tag&i)===i){var _=d.inst,D=_.destroy;if(D!==void 0){_.destroy=void 0,y=r;var G=l,ie=D;try{ie()}catch(de){pt(y,G,de)}}}d=d.next}while(d!==v)}}catch(de){pt(r,r.return,de)}}function nj(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{Gb(r,l)}catch(d){pt(i,i.return,d)}}}function sj(i,r,l){l.props=ao(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){pt(i,r,d)}}function eu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(y){pt(i,r,y)}}function Ei(i,r){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){pt(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){pt(i,r,y)}else l.current=null}function ij(i){var r=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){pt(i,i.return,y)}}function ug(i,r,l){try{var d=i.stateNode;u3(d,i.type,l,r),d[Gt]=r}catch(y){pt(i,i.return,y)}}function rj(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ea(i.type)||i.tag===4}function dg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ea(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hg(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Zs));else if(d!==4&&(d===27&&ea(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(hg(i,r,l),i=i.sibling;i!==null;)hg(i,r,l),i=i.sibling}function Ah(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(d!==4&&(d===27&&ea(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ah(i,r,l),i=i.sibling;i!==null;)Ah(i,r,l),i=i.sibling}function aj(i){var r=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);wn(r,d,l),r[Ot]=i,r[Gt]=l}catch(v){pt(i,i.return,v)}}var tr=!1,nn=!1,fg=!1,oj=typeof WeakSet=="function"?WeakSet:Set,pn=null;function HR(i,r){if(i=i.containerInfo,Dg=Zh,i=xb(i),ap(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var _=0,D=-1,G=-1,ie=0,de=0,pe=i,re=null;t:for(;;){for(var ce;pe!==l||y!==0&&pe.nodeType!==3||(D=_+y),pe!==v||d!==0&&pe.nodeType!==3||(G=_+d),pe.nodeType===3&&(_+=pe.nodeValue.length),(ce=pe.firstChild)!==null;)re=pe,pe=ce;for(;;){if(pe===i)break t;if(re===l&&++ie===y&&(D=_),re===v&&++de===d&&(G=_),(ce=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=ce}l=D===-1||G===-1?null:{start:D,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vg={focusedElem:i,selectionRange:l},Zh=!1,pn=r;pn!==null;)if(r=pn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,pn=i;else for(;pn!==null;){switch(r=pn,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=r,y=v.memoizedProps,v=v.memoizedState,d=l.stateNode;try{var Ee=ao(l.type,y);i=d.getSnapshotBeforeUpdate(Ee,v),d.__reactInternalSnapshotBeforeUpdate=i}catch(ze){pt(l,l.return,ze)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Og(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Og(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,pn=i;break}pn=r.return}}function lj(i,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:sr(i,l),d&4&&Jc(5,l);break;case 1:if(sr(i,l),d&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(_){pt(l,l.return,_)}else{var y=ao(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){pt(l,l.return,_)}}d&64&&nj(l),d&512&&eu(l,l.return);break;case 3:if(sr(i,l),d&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Gb(i,r)}catch(_){pt(l,l.return,_)}}break;case 27:r===null&&d&4&&aj(l);case 26:case 5:sr(i,l),r===null&&d&4&&ij(l),d&512&&eu(l,l.return);break;case 12:sr(i,l);break;case 31:sr(i,l),d&4&&dj(i,l);break;case 13:sr(i,l),d&4&&hj(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=WR.bind(null,l),v3(i,l))));break;case 22:if(d=l.memoizedState!==null||tr,!d){r=r!==null&&r.memoizedState!==null||nn,y=tr;var v=nn;tr=d,(nn=r)&&!v?ir(i,l,(l.subtreeFlags&8772)!==0):sr(i,l),tr=y,nn=v}break;case 30:break;default:sr(i,l)}}function cj(i){var r=i.alternate;r!==null&&(i.alternate=null,cj(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Tr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,Kn=!1;function nr(i,r,l){for(l=l.child;l!==null;)uj(i,r,l),l=l.sibling}function uj(i,r,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ln,l)}catch{}switch(l.tag){case 26:nn||Ei(l,r),nr(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||Ei(l,r);var d=Rt,y=Kn;ea(l.type)&&(Rt=l.stateNode,Kn=!1),nr(i,r,l),cu(l.stateNode),Rt=d,Kn=y;break;case 5:nn||Ei(l,r);case 6:if(d=Rt,y=Kn,Rt=null,nr(i,r,l),Rt=d,Kn=y,Rt!==null)if(Kn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(l.stateNode)}catch(v){pt(l,r,v)}else try{Rt.removeChild(l.stateNode)}catch(v){pt(l,r,v)}break;case 18:Rt!==null&&(Kn?(i=Rt,nw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),jl(i)):nw(Rt,l.stateNode));break;case 4:d=Rt,y=Kn,Rt=l.stateNode.containerInfo,Kn=!0,nr(i,r,l),Rt=d,Kn=y;break;case 0:case 11:case 14:case 15:Kr(2,l,r),nn||Kr(4,l,r),nr(i,r,l);break;case 1:nn||(Ei(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&sj(l,r,d)),nr(i,r,l);break;case 21:nr(i,r,l);break;case 22:nn=(d=nn)||l.memoizedState!==null,nr(i,r,l),nn=d;break;default:nr(i,r,l)}}function dj(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{jl(i)}catch(l){pt(r,r.return,l)}}}function hj(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jl(i)}catch(l){pt(r,r.return,l)}}function qR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new oj),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new oj),r;default:throw Error(s(435,i.tag))}}function Ch(i,r){var l=qR(i);r.forEach(function(d){if(!l.has(d)){l.add(d);var y=JR.bind(null,i,d);d.then(y,y)}})}function Yn(i,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],v=i,_=r,D=_;e:for(;D!==null;){switch(D.tag){case 27:if(ea(D.type)){Rt=D.stateNode,Kn=!1;break e}break;case 5:Rt=D.stateNode,Kn=!1;break e;case 3:case 4:Rt=D.stateNode.containerInfo,Kn=!0;break e}D=D.return}if(Rt===null)throw Error(s(160));uj(v,_,y),Rt=null,Kn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)fj(r,i),r=r.sibling}var ni=null;function fj(i,r){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Yn(r,i),Xn(i),d&4&&(Kr(3,i,i.return),Jc(3,i),Kr(5,i,i.return));break;case 1:Yn(r,i),Xn(i),d&512&&(nn||l===null||Ei(l,l.return)),d&64&&tr&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=ni;if(Yn(r,i),Xn(i),d&512&&(nn||l===null||Ei(l,l.return)),d&4){var v=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":v=y.getElementsByTagName("title")[0],(!v||v[_s]||v[Ot]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(d),y.head.insertBefore(v,y.querySelector("head > title"))),wn(v,d,l),v[Ot]=i,Lt(v),d=v;break e;case"link":var _=fw("link","href",y).get(d+(l.href||""));if(_){for(var D=0;D<_.length;D++)if(v=_[D],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(D,1);break t}}v=y.createElement(d),wn(v,d,l),y.head.appendChild(v);break;case"meta":if(_=fw("meta","content",y).get(d+(l.content||""))){for(D=0;D<_.length;D++)if(v=_[D],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(D,1);break t}}v=y.createElement(d),wn(v,d,l),y.head.appendChild(v);break;default:throw Error(s(468,d))}v[Ot]=i,Lt(v),d=v}i.stateNode=d}else mw(y,i.type,i.stateNode);else i.stateNode=hw(y,d,i.memoizedProps);else v!==d?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,d===null?mw(y,i.type,i.stateNode):hw(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&ug(i,i.memoizedProps,l.memoizedProps)}break;case 27:Yn(r,i),Xn(i),d&512&&(nn||l===null||Ei(l,l.return)),l!==null&&d&4&&ug(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Yn(r,i),Xn(i),d&512&&(nn||l===null||Ei(l,l.return)),i.flags&32){y=i.stateNode;try{Gn(y,"")}catch(Ee){pt(i,i.return,Ee)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,ug(i,y,l!==null?l.memoizedProps:y)),d&1024&&(fg=!0);break;case 6:if(Yn(r,i),Xn(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(Ee){pt(i,i.return,Ee)}}break;case 3:if(Gh=null,y=ni,ni=qh(r.containerInfo),Yn(r,i),ni=y,Xn(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(Ee){pt(i,i.return,Ee)}fg&&(fg=!1,mj(i));break;case 4:d=ni,ni=qh(i.stateNode.containerInfo),Yn(r,i),Xn(i),ni=d;break;case 12:Yn(r,i),Xn(i);break;case 31:Yn(r,i),Xn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ch(i,d)));break;case 13:Yn(r,i),Xn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(zh=kt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ch(i,d)));break;case 22:y=i.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ie=tr,de=nn;if(tr=ie||y,nn=de||G,Yn(r,i),nn=de,tr=ie,Xn(i),d&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||G||tr||nn||oo(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){G=l=r;try{if(v=G.stateNode,y)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{D=G.stateNode;var pe=G.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;D.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ee){pt(G,G.return,Ee)}}}else if(r.tag===6){if(l===null){G=r;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(Ee){pt(G,G.return,Ee)}}}else if(r.tag===18){if(l===null){G=r;try{var ce=G.stateNode;y?sw(ce,!0):sw(G.stateNode,!1)}catch(Ee){pt(G,G.return,Ee)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Ch(i,l))));break;case 19:Yn(r,i),Xn(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ch(i,d)));break;case 30:break;case 21:break;default:Yn(r,i),Xn(i)}}function Xn(i){var r=i.flags;if(r&2){try{for(var l,d=i.return;d!==null;){if(rj(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,v=dg(i);Ah(i,v,y);break;case 5:var _=l.stateNode;l.flags&32&&(Gn(_,""),l.flags&=-33);var D=dg(i);Ah(i,D,_);break;case 3:case 4:var G=l.stateNode.containerInfo,ie=dg(i);hg(i,ie,G);break;default:throw Error(s(161))}}catch(de){pt(i,i.return,de)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function mj(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;mj(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function sr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)lj(i,r.alternate,r),r=r.sibling}function oo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),oo(r);break;case 1:Ei(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&sj(r,r.return,l),oo(r);break;case 27:cu(r.stateNode);case 26:case 5:Ei(r,r.return),oo(r);break;case 22:r.memoizedState===null&&oo(r);break;case 30:oo(r);break;default:oo(r)}i=i.sibling}}function ir(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,y=i,v=r,_=v.flags;switch(v.tag){case 0:case 11:case 15:ir(y,v,l),Jc(4,v);break;case 1:if(ir(y,v,l),d=v,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ie){pt(d,d.return,ie)}if(d=v,y=d.updateQueue,y!==null){var D=d.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)$b(G[y],D)}catch(ie){pt(d,d.return,ie)}}l&&_&64&&nj(v),eu(v,v.return);break;case 27:aj(v);case 26:case 5:ir(y,v,l),l&&d===null&&_&4&&ij(v),eu(v,v.return);break;case 12:ir(y,v,l);break;case 31:ir(y,v,l),l&&_&4&&dj(y,v);break;case 13:ir(y,v,l),l&&_&4&&hj(y,v);break;case 22:v.memoizedState===null&&ir(y,v,l),eu(v,v.return);break;case 30:break;default:ir(y,v,l)}r=r.sibling}}function mg(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Bc(l))}function pg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bc(i))}function si(i,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pj(i,r,l,d),r=r.sibling}function pj(i,r,l,d){var y=r.flags;switch(r.tag){case 0:case 11:case 15:si(i,r,l,d),y&2048&&Jc(9,r);break;case 1:si(i,r,l,d);break;case 3:si(i,r,l,d),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Bc(i)));break;case 12:if(y&2048){si(i,r,l,d),i=r.stateNode;try{var v=r.memoizedProps,_=v.id,D=v.onPostCommit;typeof D=="function"&&D(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){pt(r,r.return,G)}}else si(i,r,l,d);break;case 31:si(i,r,l,d);break;case 13:si(i,r,l,d);break;case 23:break;case 22:v=r.stateNode,_=r.alternate,r.memoizedState!==null?v._visibility&2?si(i,r,l,d):tu(i,r):v._visibility&2?si(i,r,l,d):(v._visibility|=2,ul(i,r,l,d,(r.subtreeFlags&10256)!==0||!1)),y&2048&&mg(_,r);break;case 24:si(i,r,l,d),y&2048&&pg(r.alternate,r);break;default:si(i,r,l,d)}}function ul(i,r,l,d,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,_=r,D=l,G=d,ie=_.flags;switch(_.tag){case 0:case 11:case 15:ul(v,_,D,G,y),Jc(8,_);break;case 23:break;case 22:var de=_.stateNode;_.memoizedState!==null?de._visibility&2?ul(v,_,D,G,y):tu(v,_):(de._visibility|=2,ul(v,_,D,G,y)),y&&ie&2048&&mg(_.alternate,_);break;case 24:ul(v,_,D,G,y),y&&ie&2048&&pg(_.alternate,_);break;default:ul(v,_,D,G,y)}r=r.sibling}}function tu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,d=r,y=d.flags;switch(d.tag){case 22:tu(l,d),y&2048&&mg(d.alternate,d);break;case 24:tu(l,d),y&2048&&pg(d.alternate,d);break;default:tu(l,d)}r=r.sibling}}var nu=8192;function dl(i,r,l){if(i.subtreeFlags&nu)for(i=i.child;i!==null;)gj(i,r,l),i=i.sibling}function gj(i,r,l){switch(i.tag){case 26:dl(i,r,l),i.flags&nu&&i.memoizedState!==null&&C3(l,ni,i.memoizedState,i.memoizedProps);break;case 5:dl(i,r,l);break;case 3:case 4:var d=ni;ni=qh(i.stateNode.containerInfo),dl(i,r,l),ni=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=nu,nu=16777216,dl(i,r,l),nu=d):dl(i,r,l));break;default:dl(i,r,l)}}function yj(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function su(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];pn=d,xj(d,i)}yj(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vj(i),i=i.sibling}function vj(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&Kr(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Rh(i)):su(i);break;default:su(i)}}function Rh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];pn=d,xj(d,i)}yj(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),Rh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Rh(r));break;default:Rh(r)}i=i.sibling}}function xj(i,r){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:Kr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Bc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,pn=d;else e:for(l=i;pn!==null;){d=pn;var y=d.sibling,v=d.return;if(cj(d),d===l){pn=null;break e}if(y!==null){y.return=v,pn=y;break e}pn=v}}}var $R={getCacheForType:function(i){var r=bn(Jt),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return bn(Jt).controller.signal}},GR=typeof WeakMap=="function"?WeakMap:Map,at=0,jt=null,He=null,Ge=0,mt=0,fs=null,Yr=!1,hl=!1,gg=!1,rr=0,Ut=0,Xr=0,lo=0,yg=0,ms=0,fl=0,iu=null,Zn=null,vg=!1,zh=0,bj=0,Mh=1/0,Dh=null,Zr=null,un=0,Qr=null,ml=null,ar=0,xg=0,bg=null,jj=null,ru=0,jg=null;function ps(){return(at&2)!==0&&Ge!==0?Ge&-Ge:U.T!==null?Tg():Vo()}function wj(){if(ms===0)if((Ge&536870912)===0||Ze){var i=Ys;Ys<<=1,(Ys&3932160)===0&&(Ys=262144),ms=i}else ms=536870912;return i=ds.current,i!==null&&(i.flags|=32),ms}function Qn(i,r,l){(i===jt&&(mt===2||mt===9)||i.cancelPendingCommit!==null)&&(pl(i,0),Wr(i,Ge,ms,!1)),Ui(i,l),((at&2)===0||i!==jt)&&(i===jt&&((at&2)===0&&(lo|=l),Ut===4&&Wr(i,Ge,ms,!1)),ki(i))}function _j(i,r,l){if((at&6)!==0)throw Error(s(327));var d=!l&&(r&127)===0&&(r&i.expiredLanes)===0||is(i,r),y=d?XR(i,r):_g(i,r,!0),v=d;do{if(y===0){hl&&!d&&Wr(i,r,0,!1);break}else{if(l=i.current.alternate,v&&!KR(l)){y=_g(i,r,!1),v=!1;continue}if(y===2){if(v=r,i.errorRecoveryDisabledLanes&v)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var D=i;y=iu;var G=D.current.memoizedState.isDehydrated;if(G&&(pl(D,_).flags|=256),_=_g(D,_,!1),_!==2){if(gg&&!G){D.errorRecoveryDisabledLanes|=v,lo|=v,y=4;break e}v=Zn,Zn=y,v!==null&&(Zn===null?Zn=v:Zn.push.apply(Zn,v))}y=_}if(v=!1,y!==2)continue}}if(y===1){pl(i,0),Wr(i,r,0,!0);break}e:{switch(d=i,v=y,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Wr(d,r,ms,!Yr);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(y=zh+300-kt(),10<y)){if(Wr(d,r,ms,!Yr),bs(d,0,!0)!==0)break e;ar=r,d.timeoutHandle=ew(Ej.bind(null,d,l,Zn,Dh,vg,r,ms,lo,fl,Yr,v,"Throttled",-0,0),y);break e}Ej(d,l,Zn,Dh,vg,r,ms,lo,fl,Yr,v,null,-0,0)}}break}while(!0);ki(i)}function Ej(i,r,l,d,y,v,_,D,G,ie,de,pe,re,ce){if(i.timeoutHandle=-1,pe=r.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zs},gj(r,v,pe);var Ee=(v&62914560)===v?zh-kt():(v&4194048)===v?bj-kt():0;if(Ee=R3(pe,Ee),Ee!==null){ar=v,i.cancelPendingCommit=Ee(zj.bind(null,i,r,v,l,d,y,_,D,G,de,pe,null,re,ce)),Wr(i,v,_,!ie);return}}zj(i,r,v,l,d,y,_,D,G)}function KR(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],v=y.getSnapshot;y=y.value;try{if(!cs(v(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(i,r,l,d){r&=~yg,r&=~lo,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var y=r;0<y;){var v=31-tt(y),_=1<<v;d[v]=-1,y&=~_}l!==0&&Fi(i,l,r)}function Vh(){return(at&6)===0?(au(0),!1):!0}function wg(){if(He!==null){if(mt===0)var i=He.return;else i=He,Xi=Ja=null,Op(i),rl=null,Fc=0,i=He;for(;i!==null;)tj(i.alternate,i),i=i.return;He=null}}function pl(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,f3(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ar=0,wg(),jt=i,He=l=Ki(i.current,null),Ge=r,mt=0,fs=null,Yr=!1,hl=is(i,r),gg=!1,fl=ms=yg=lo=Xr=Ut=0,Zn=iu=null,vg=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var y=31-tt(d),v=1<<y;r|=i[y],d&=~v}return rr=r,nh(),l}function kj(i,r){Be=null,U.H=Zc,r===il||r===uh?(r=Ub(),mt=3):r===Sp?(r=Ub(),mt=4):mt=r===eg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,fs=r,He===null&&(Ut=1,Eh(i,Rs(r,i.current)))}function Sj(){var i=ds.current;return i===null?!0:(Ge&4194048)===Ge?Vs===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===Vs:!1}function Tj(){var i=U.H;return U.H=Zc,i===null?Zc:i}function Nj(){var i=U.A;return U.A=$R,i}function Ih(){Ut=4,Yr||(Ge&4194048)!==Ge&&ds.current!==null||(hl=!0),(Xr&134217727)===0&&(lo&134217727)===0||jt===null||Wr(jt,Ge,ms,!1)}function _g(i,r,l){var d=at;at|=2;var y=Tj(),v=Nj();(jt!==i||Ge!==r)&&(Dh=null,pl(i,r)),r=!1;var _=Ut;e:do try{if(mt!==0&&He!==null){var D=He,G=fs;switch(mt){case 8:wg(),_=6;break e;case 3:case 2:case 9:case 6:ds.current===null&&(r=!0);var ie=mt;if(mt=0,fs=null,gl(i,D,G,ie),l&&hl){_=0;break e}break;default:ie=mt,mt=0,fs=null,gl(i,D,G,ie)}}YR(),_=Ut;break}catch(de){kj(i,de)}while(!0);return r&&i.shellSuspendCounter++,Xi=Ja=null,at=d,U.H=y,U.A=v,He===null&&(jt=null,Ge=0,nh()),_}function YR(){for(;He!==null;)Aj(He)}function XR(i,r){var l=at;at|=2;var d=Tj(),y=Nj();jt!==i||Ge!==r?(Dh=null,Mh=kt()+500,pl(i,r)):hl=is(i,r);e:do try{if(mt!==0&&He!==null){r=He;var v=fs;t:switch(mt){case 1:mt=0,fs=null,gl(i,r,v,1);break;case 2:case 9:if(Lb(v)){mt=0,fs=null,Cj(r);break}r=function(){mt!==2&&mt!==9||jt!==i||(mt=7),ki(i)},v.then(r,r);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Lb(v)?(mt=0,fs=null,Cj(r)):(mt=0,fs=null,gl(i,r,v,7));break;case 5:var _=null;switch(He.tag){case 26:_=He.memoizedState;case 5:case 27:var D=He;if(_?pw(_):D.stateNode.complete){mt=0,fs=null;var G=D.sibling;if(G!==null)He=G;else{var ie=D.return;ie!==null?(He=ie,Ph(ie)):He=null}break t}}mt=0,fs=null,gl(i,r,v,5);break;case 6:mt=0,fs=null,gl(i,r,v,6);break;case 8:wg(),Ut=6;break e;default:throw Error(s(462))}}ZR();break}catch(de){kj(i,de)}while(!0);return Xi=Ja=null,U.H=d,U.A=y,at=l,He!==null?0:(jt=null,Ge=0,nh(),Ut)}function ZR(){for(;He!==null&&!di();)Aj(He)}function Aj(i){var r=J1(i.alternate,i,rr);i.memoizedProps=i.pendingProps,r===null?Ph(i):He=r}function Cj(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=K1(l,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=K1(l,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:Op(r);default:tj(l,r),r=He=Nb(r,rr),r=J1(l,r,rr)}i.memoizedProps=i.pendingProps,r===null?Ph(i):He=r}function gl(i,r,l,d){Xi=Ja=null,Op(r),rl=null,Fc=0;var y=r.return;try{if(OR(i,y,r,l,Ge)){Ut=1,Eh(i,Rs(l,i.current)),He=null;return}}catch(v){if(y!==null)throw He=y,v;Ut=1,Eh(i,Rs(l,i.current)),He=null;return}r.flags&32768?(Ze||d===1?i=!0:hl||(Ge&536870912)!==0?i=!1:(Yr=i=!0,(d===2||d===9||d===3||d===6)&&(d=ds.current,d!==null&&d.tag===13&&(d.flags|=16384))),Rj(r,i)):Ph(r)}function Ph(i){var r=i;do{if((r.flags&32768)!==0){Rj(r,Yr);return}i=r.return;var l=UR(r.alternate,r,rr);if(l!==null){He=l;return}if(r=r.sibling,r!==null){He=r;return}He=r=i}while(r!==null);Ut===0&&(Ut=5)}function Rj(i,r){do{var l=FR(i.alternate,i);if(l!==null){l.flags&=32767,He=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){He=i;return}He=i=l}while(i!==null);Ut=6,He=null}function zj(i,r,l,d,y,v,_,D,G){i.cancelPendingCommit=null;do Oh();while(un!==0);if((at&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=dp,wc(i,l,v,_,D,G),i===jt&&(He=jt=null,Ge=0),ml=r,Qr=i,ar=l,xg=v,bg=y,jj=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,e3(In,function(){return Pj(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=U.T,U.T=null,y=Y.p,Y.p=2,_=at,at|=4;try{HR(i,r,l)}finally{at=_,Y.p=y,U.T=d}}un=1,Mj(),Dj(),Vj()}}function Mj(){if(un===1){un=0;var i=Qr,r=ml,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var d=Y.p;Y.p=2;var y=at;at|=4;try{fj(r,i);var v=Vg,_=xb(i.containerInfo),D=v.focusedElem,G=v.selectionRange;if(_!==D&&D&&D.ownerDocument&&vb(D.ownerDocument.documentElement,D)){if(G!==null&&ap(D)){var ie=G.start,de=G.end;if(de===void 0&&(de=ie),"selectionStart"in D)D.selectionStart=ie,D.selectionEnd=Math.min(de,D.value.length);else{var pe=D.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var ce=re.getSelection(),Ee=D.textContent.length,ze=Math.min(G.start,Ee),xt=G.end===void 0?ze:Math.min(G.end,Ee);!ce.extend&&ze>xt&&(_=xt,xt=ze,ze=_);var J=yb(D,ze),Z=yb(D,xt);if(J&&Z&&(ce.rangeCount!==1||ce.anchorNode!==J.node||ce.anchorOffset!==J.offset||ce.focusNode!==Z.node||ce.focusOffset!==Z.offset)){var se=pe.createRange();se.setStart(J.node,J.offset),ce.removeAllRanges(),ze>xt?(ce.addRange(se),ce.extend(Z.node,Z.offset)):(se.setEnd(Z.node,Z.offset),ce.addRange(se))}}}}for(pe=[],ce=D;ce=ce.parentNode;)ce.nodeType===1&&pe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<pe.length;D++){var he=pe[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Zh=!!Dg,Vg=Dg=null}finally{at=y,Y.p=d,U.T=l}}i.current=r,un=2}}function Dj(){if(un===2){un=0;var i=Qr,r=ml,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var d=Y.p;Y.p=2;var y=at;at|=4;try{lj(i,r.alternate,r)}finally{at=y,Y.p=d,U.T=l}}un=3}}function Vj(){if(un===4||un===3){un=0,Ks();var i=Qr,r=ml,l=ar,d=jj;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?un=5:(un=0,ml=Qr=null,Ij(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Zr=null),Xs(l),r=r.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ln,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=U.T,y=Y.p,Y.p=2,U.T=null;try{for(var v=i.onRecoverableError,_=0;_<d.length;_++){var D=d[_];v(D.value,{componentStack:D.stack})}}finally{U.T=r,Y.p=y}}(ar&3)!==0&&Oh(),ki(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===jg?ru++:(ru=0,jg=i):ru=0,au(0)}}function Ij(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Bc(r)))}function Oh(){return Mj(),Dj(),Vj(),Pj()}function Pj(){if(un!==5)return!1;var i=Qr,r=xg;xg=0;var l=Xs(ar),d=U.T,y=Y.p;try{Y.p=32>l?32:l,U.T=null,l=bg,bg=null;var v=Qr,_=ar;if(un=0,ml=Qr=null,ar=0,(at&6)!==0)throw Error(s(331));var D=at;if(at|=4,vj(v.current),pj(v,v.current,_,l),at=D,au(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ln,v)}catch{}return!0}finally{Y.p=y,U.T=d,Ij(i,r)}}function Oj(i,r,l){r=Rs(l,r),r=Jp(i.stateNode,r,2),i=qr(i,r,2),i!==null&&(Ui(i,2),ki(i))}function pt(i,r,l){if(i.tag===3)Oj(i,i,l);else for(;r!==null;){if(r.tag===3){Oj(r,i,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Zr===null||!Zr.has(d))){i=Rs(l,i),l=L1(2),d=qr(r,l,2),d!==null&&(B1(l,d,r,i),Ui(d,2),ki(d));break}}r=r.return}}function Eg(i,r,l){var d=i.pingCache;if(d===null){d=i.pingCache=new GR;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(l)||(gg=!0,y.add(l),i=QR.bind(null,i,r,l),r.then(i,i))}function QR(i,r,l){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,jt===i&&(Ge&l)===l&&(Ut===4||Ut===3&&(Ge&62914560)===Ge&&300>kt()-zh?(at&2)===0&&pl(i,0):yg|=l,fl===Ge&&(fl=0)),ki(i)}function Lj(i,r){r===0&&(r=Do()),i=Za(i,r),i!==null&&(Ui(i,r),ki(i))}function WR(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Lj(i,l)}function JR(i,r){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),Lj(i,l)}function e3(i,r){return ht(i,r)}var Lh=null,yl=null,kg=!1,Bh=!1,Sg=!1,Jr=0;function ki(i){i!==yl&&i.next===null&&(yl===null?Lh=yl=i:yl=yl.next=i),Bh=!0,kg||(kg=!0,n3())}function au(i,r){if(!Sg&&Bh){Sg=!0;do for(var l=!1,d=Lh;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var v=0;else{var _=d.suspendedLanes,D=d.pingedLanes;v=(1<<31-tt(42|i)+1)-1,v&=y&~(_&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,Hj(d,v))}else v=Ge,v=bs(d,d===jt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||is(d,v)||(l=!0,Hj(d,v));d=d.next}while(l);Sg=!1}}function t3(){Bj()}function Bj(){Bh=kg=!1;var i=0;Jr!==0&&h3()&&(i=Jr);for(var r=kt(),l=null,d=Lh;d!==null;){var y=d.next,v=Uj(d,r);v===0?(d.next=null,l===null?Lh=y:l.next=y,y===null&&(yl=l)):(l=d,(i!==0||(v&3)!==0)&&(Bh=!0)),d=y}un!==0&&un!==5||au(i),Jr!==0&&(Jr=0)}function Uj(i,r){for(var l=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var _=31-tt(v),D=1<<_,G=y[_];G===-1?((D&l)===0||(D&d)!==0)&&(y[_]=jc(D,r)):G<=r&&(i.expiredLanes|=D),v&=~D}if(r=jt,l=Ge,l=bs(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===r&&(mt===2||mt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Hn(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||is(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(d!==null&&Hn(d),Xs(l)){case 2:case 8:l=ss;break;case 32:l=In;break;case 268435456:l=fi;break;default:l=In}return d=Fj.bind(null,i),l=ht(l,d),i.callbackPriority=r,i.callbackNode=l,r}return d!==null&&d!==null&&Hn(d),i.callbackPriority=2,i.callbackNode=null,2}function Fj(i,r){if(un!==0&&un!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Oh()&&i.callbackNode!==l)return null;var d=Ge;return d=bs(i,i===jt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(_j(i,d,r),Uj(i,kt()),i.callbackNode!=null&&i.callbackNode===l?Fj.bind(null,i):null)}function Hj(i,r){if(Oh())return null;_j(i,r,!0)}function n3(){m3(function(){(at&6)!==0?ht(ns,t3):Bj()})}function Tg(){if(Jr===0){var i=nl;i===0&&(i=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),Jr=i}return Jr}function qj(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Uo(""+i)}function $j(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function s3(i,r,l,d,y){if(r==="submit"&&l&&l.stateNode===y){var v=qj((y[Gt]||null).action),_=d.submitter;_&&(r=(r=_[Gt]||null)?qj(r.formAction):_.getAttribute("formAction"),r!==null&&(v=r,_=null));var D=new vi("action","action",null,d,y);i.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Jr!==0){var G=_?$j(y,_):new FormData(y);Kp(l,{pending:!0,data:G,method:y.method,action:v},null,G)}}else typeof v=="function"&&(D.preventDefault(),G=_?$j(y,_):new FormData(y),Kp(l,{pending:!0,data:G,method:y.method,action:v},v,G))},currentTarget:y}]})}}for(var Ng=0;Ng<up.length;Ng++){var Ag=up[Ng],i3=Ag.toLowerCase(),r3=Ag[0].toUpperCase()+Ag.slice(1);ti(i3,"on"+r3)}ti(wb,"onAnimationEnd"),ti(_b,"onAnimationIteration"),ti(Eb,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(jR,"onTransitionRun"),ti(wR,"onTransitionStart"),ti(_R,"onTransitionCancel"),ti(kb,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function Gj(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],y=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var _=d.length-1;0<=_;_--){var D=d[_],G=D.instance,ie=D.currentTarget;if(D=D.listener,G!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=ie;try{v(y)}catch(de){th(de)}y.currentTarget=null,v=G}else for(_=0;_<d.length;_++){if(D=d[_],G=D.instance,ie=D.currentTarget,D=D.listener,G!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=ie;try{v(y)}catch(de){th(de)}y.currentTarget=null,v=G}}}}function qe(i,r){var l=r[Sr];l===void 0&&(l=r[Sr]=new Set);var d=i+"__bubble";l.has(d)||(Kj(r,i,2,!1),l.add(d))}function Cg(i,r,l){var d=0;r&&(d|=4),Kj(l,i,d,r)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Rg(i){if(!i[Uh]){i[Uh]=!0,Da.forEach(function(l){l!=="selectionchange"&&(a3.has(l)||Cg(l,!1,i),Cg(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Uh]||(r[Uh]=!0,Cg("selectionchange",!1,r))}}function Kj(i,r,l,d){switch(ww(r)){case 2:var y=D3;break;case 8:y=V3;break;default:y=Gg}l=y.bind(null,r,l,i),y=void 0,!Fa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function zg(i,r,l,d,y){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var D=d.stateNode.containerInfo;if(D===y)break;if(_===4)for(_=d.return;_!==null;){var G=_.tag;if((G===3||G===4)&&_.stateNode.containerInfo===y)return;_=_.return}for(;D!==null;){if(_=Es(D),_===null)return;if(G=_.tag,G===5||G===6||G===26||G===27){d=v=_;continue e}D=D.parentNode}}d=d.return}Dr(function(){var ie=v,de=Ts(l),pe=[];e:{var re=Sb.get(i);if(re!==void 0){var ce=vi,Ee=i;switch(i){case"keypress":if(qa(l)===0)break e;case"keydown":case"keyup":ce=Wd;break;case"focusin":Ee="focus",ce=Ga;break;case"focusout":Ee="blur",ce=Ga;break;case"beforeblur":case"afterblur":ce=Ga;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=j;break;case wb:case _b:case Eb:ce=$d;break;case kb:ce=O;break;case"scroll":case"scrollend":ce=Rc;break;case"wheel":ce=oe;break;case"copy":case"cut":case"paste":ce=Gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Gi;break;case"toggle":case"beforetoggle":ce=Le}var ze=(r&4)!==0,xt=!ze&&(i==="scroll"||i==="scrollend"),J=ze?re!==null?re+"Capture":null:re;ze=[];for(var Z=ie,se;Z!==null;){var he=Z;if(se=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||se===null||J===null||(he=Qs(Z,J),he!=null&&ze.push(lu(Z,he,se))),xt)break;Z=Z.return}0<ze.length&&(re=new ce(re,Ee,null,l,de),pe.push({event:re,listeners:ze}))}}if((r&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",re&&l!==Nc&&(Ee=l.relatedTarget||l.fromElement)&&(Es(Ee)||Ee[ws]))break e;if((ce||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(Ee=l.relatedTarget||l.toElement,ce=ie,Ee=Ee?Es(Ee):null,Ee!==null&&(xt=c(Ee),ze=Ee.tag,Ee!==xt||ze!==5&&ze!==27&&ze!==6)&&(Ee=null)):(ce=null,Ee=ie),ce!==Ee)){if(ze=zc,he="onMouseLeave",J="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(ze=Gi,he="onPointerLeave",J="onPointerEnter",Z="pointer"),xt=ce==null?re:Ln(ce),se=Ee==null?re:Ln(Ee),re=new ze(he,Z+"leave",ce,l,de),re.target=xt,re.relatedTarget=se,he=null,Es(de)===ie&&(ze=new ze(J,Z+"enter",Ee,l,de),ze.target=se,ze.relatedTarget=xt,he=ze),xt=he,ce&&Ee)t:{for(ze=o3,J=ce,Z=Ee,se=0,he=J;he;he=ze(he))se++;he=0;for(var Ne=Z;Ne;Ne=ze(Ne))he++;for(;0<se-he;)J=ze(J),se--;for(;0<he-se;)Z=ze(Z),he--;for(;se--;){if(J===Z||Z!==null&&J===Z.alternate){ze=J;break t}J=ze(J),Z=ze(Z)}ze=null}else ze=null;ce!==null&&Yj(pe,re,ce,ze,!1),Ee!==null&&xt!==null&&Yj(pe,xt,Ee,ze,!0)}}e:{if(re=ie?Ln(ie):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var nt=db;else if(cb(re))if(hb)nt=vR;else{nt=gR;var Se=pR}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ie&&Bo(ie.elementType)&&(nt=db):nt=yR;if(nt&&(nt=nt(i,ie))){ub(pe,nt,l,de);break e}Se&&Se(i,re,ie),i==="focusout"&&ie&&re.type==="number"&&ie.memoizedProps.value!=null&&kc(re,"number",re.value)}switch(Se=ie?Ln(ie):window,i){case"focusin":(cb(Se)||Se.contentEditable==="true")&&(Yo=Se,op=ie,Pc=null);break;case"focusout":Pc=op=Yo=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,bb(pe,l,de);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":bb(pe,l,de)}var Ue;if(rt)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ko?Ka(i,l)&&(Ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(ji&&l.locale!=="ko"&&(Ko||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ko&&(Ue=Cc()):(yi=de,Ac="value"in yi?yi.value:yi.textContent,Ko=!0)),Se=Fh(ie,Ke),0<Se.length&&(Ke=new bi(Ke,i,null,l,de),pe.push({event:Ke,listeners:Se}),Ue?Ke.data=Ue:(Ue=Go(l),Ue!==null&&(Ke.data=Ue)))),(Ue=As?dR(i,l):hR(i,l))&&(Ke=Fh(ie,"onBeforeInput"),0<Ke.length&&(Se=new bi("onBeforeInput","beforeinput",null,l,de),pe.push({event:Se,listeners:Ke}),Se.data=Ue)),s3(pe,i,ie,l,de)}Gj(pe,r)})}function lu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Fh(i,r){for(var l=r+"Capture",d=[];i!==null;){var y=i,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Qs(i,l),y!=null&&d.unshift(lu(i,y,v)),y=Qs(i,r),y!=null&&d.push(lu(i,y,v))),i.tag===3)return d;i=i.return}return[]}function o3(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Yj(i,r,l,d,y){for(var v=r._reactName,_=[];l!==null&&l!==d;){var D=l,G=D.alternate,ie=D.stateNode;if(D=D.tag,G!==null&&G===d)break;D!==5&&D!==26&&D!==27||ie===null||(G=ie,y?(ie=Qs(l,v),ie!=null&&_.unshift(lu(l,ie,G))):y||(ie=Qs(l,v),ie!=null&&_.push(lu(l,ie,G)))),l=l.return}_.length!==0&&i.push({event:r,listeners:_})}var l3=/\r\n?/g,c3=/\u0000|\uFFFD/g;function Xj(i){return(typeof i=="string"?i:""+i).replace(l3,`
`).replace(c3,"")}function Zj(i,r){return r=Xj(r),Xj(i)===r}function vt(i,r,l,d,y,v){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Gn(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Gn(i,""+d);break;case"className":ls(i,"class",d);break;case"tabIndex":ls(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(i,l,d);break;case"style":Tc(i,d,v);break;case"data":if(r!=="object"){ls(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=Uo(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(r!=="input"&&vt(i,r,"name",y.name,y,null),vt(i,r,"formEncType",y.formEncType,y,null),vt(i,r,"formMethod",y.formMethod,y,null),vt(i,r,"formTarget",y.formTarget,y,null)):(vt(i,r,"encType",y.encType,y,null),vt(i,r,"method",y.method,y,null),vt(i,r,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=Uo(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Zs);break;case"onScroll":d!=null&&qe("scroll",i);break;case"onScrollEnd":d!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=Uo(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":qe("beforetoggle",i),qe("toggle",i),Oo(i,"popover",d);break;case"xlinkActuate":Wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wt(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wt(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wt(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wt(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Oo(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fd.get(l)||l,Oo(i,l,d))}}function Mg(i,r,l,d,y,v){switch(l){case"style":Tc(i,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Gn(i,d):(typeof d=="number"||typeof d=="bigint")&&Gn(i,""+d);break;case"onScroll":d!=null&&qe("scroll",i);break;case"onScrollEnd":d!=null&&qe("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),v=i[Gt]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(r,v,y),typeof d=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,d,y);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):Oo(i,l,d)}}}function wn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var d=!1,y=!1,v;for(v in l)if(l.hasOwnProperty(v)){var _=l[v];if(_!=null)switch(v){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,v,_,l,null)}}y&&vt(i,r,"srcSet",l.srcSet,l,null),d&&vt(i,r,"src",l.src,l,null);return;case"input":qe("invalid",i);var D=v=_=y=null,G=null,ie=null;for(d in l)if(l.hasOwnProperty(d)){var de=l[d];if(de!=null)switch(d){case"name":y=de;break;case"type":_=de;break;case"checked":G=de;break;case"defaultChecked":ie=de;break;case"value":v=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,r));break;default:vt(i,r,d,de,l,null)}}Ld(i,v,D,G,ie,_,y,!1);return;case"select":qe("invalid",i),d=_=v=null;for(y in l)if(l.hasOwnProperty(y)&&(D=l[y],D!=null))switch(y){case"value":v=D;break;case"defaultValue":_=D;break;case"multiple":d=D;default:vt(i,r,y,D,l,null)}r=v,l=_,i.multiple=!!d,r!=null?Cr(i,!!d,r,!1):l!=null&&Cr(i,!!d,l,!0);return;case"textarea":qe("invalid",i),v=y=d=null;for(_ in l)if(l.hasOwnProperty(_)&&(D=l[_],D!=null))switch(_){case"value":d=D;break;case"defaultValue":y=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:vt(i,r,_,D,l,null)}Rr(i,d,y,v);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(d=l[G],d!=null))switch(G){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:vt(i,r,G,d,l,null)}return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(d=0;d<ou.length;d++)qe(ou[d],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in l)if(l.hasOwnProperty(ie)&&(d=l[ie],d!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,ie,d,l,null)}return;default:if(Bo(r)){for(de in l)l.hasOwnProperty(de)&&(d=l[de],d!==void 0&&Mg(i,r,de,d,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(d=l[D],d!=null&&vt(i,r,D,d,l,null))}function u3(i,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,_=null,D=null,G=null,ie=null,de=null;for(ce in l){var pe=l[ce];if(l.hasOwnProperty(ce)&&pe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":G=pe;default:d.hasOwnProperty(ce)||vt(i,r,ce,null,d,pe)}}for(var re in d){var ce=d[re];if(pe=l[re],d.hasOwnProperty(re)&&(ce!=null||pe!=null))switch(re){case"type":v=ce;break;case"name":y=ce;break;case"checked":ie=ce;break;case"defaultChecked":de=ce;break;case"value":_=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,r));break;default:ce!==pe&&vt(i,r,re,ce,d,pe)}}Lo(i,_,D,G,ie,de,v,y);return;case"select":ce=_=D=re=null;for(v in l)if(G=l[v],l.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ce=G;default:d.hasOwnProperty(v)||vt(i,r,v,null,d,G)}for(y in d)if(v=d[y],G=l[y],d.hasOwnProperty(y)&&(v!=null||G!=null))switch(y){case"value":re=v;break;case"defaultValue":D=v;break;case"multiple":_=v;default:v!==G&&vt(i,r,y,v,d,G)}r=D,l=_,d=ce,re!=null?Cr(i,!!l,re,!1):!!d!=!!l&&(r!=null?Cr(i,!!l,r,!0):Cr(i,!!l,l?[]:"",!1));return;case"textarea":ce=re=null;for(D in l)if(y=l[D],l.hasOwnProperty(D)&&y!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:vt(i,r,D,null,d,y)}for(_ in d)if(y=d[_],v=l[_],d.hasOwnProperty(_)&&(y!=null||v!=null))switch(_){case"value":re=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==v&&vt(i,r,_,y,d,v)}Bd(i,re,ce);return;case"option":for(var Ee in l)if(re=l[Ee],l.hasOwnProperty(Ee)&&re!=null&&!d.hasOwnProperty(Ee))switch(Ee){case"selected":i.selected=!1;break;default:vt(i,r,Ee,null,d,re)}for(G in d)if(re=d[G],ce=l[G],d.hasOwnProperty(G)&&re!==ce&&(re!=null||ce!=null))switch(G){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:vt(i,r,G,re,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)re=l[ze],l.hasOwnProperty(ze)&&re!=null&&!d.hasOwnProperty(ze)&&vt(i,r,ze,null,d,re);for(ie in d)if(re=d[ie],ce=l[ie],d.hasOwnProperty(ie)&&re!==ce&&(re!=null||ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:vt(i,r,ie,re,d,ce)}return;default:if(Bo(r)){for(var xt in l)re=l[xt],l.hasOwnProperty(xt)&&re!==void 0&&!d.hasOwnProperty(xt)&&Mg(i,r,xt,void 0,d,re);for(de in d)re=d[de],ce=l[de],!d.hasOwnProperty(de)||re===ce||re===void 0&&ce===void 0||Mg(i,r,de,re,d,ce);return}}for(var J in l)re=l[J],l.hasOwnProperty(J)&&re!=null&&!d.hasOwnProperty(J)&&vt(i,r,J,null,d,re);for(pe in d)re=d[pe],ce=l[pe],!d.hasOwnProperty(pe)||re===ce||re==null&&ce==null||vt(i,r,pe,re,d,ce)}function Qj(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d3(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var y=l[d],v=y.transferSize,_=y.initiatorType,D=y.duration;if(v&&D&&Qj(_)){for(_=0,D=y.responseEnd,d+=1;d<l.length;d++){var G=l[d],ie=G.startTime;if(ie>D)break;var de=G.transferSize,pe=G.initiatorType;de&&Qj(pe)&&(G=G.responseEnd,_+=de*(G<D?1:(D-ie)/(G-ie)))}if(--d,r+=8*(v+_)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dg=null,Vg=null;function Hh(i){return i.nodeType===9?i:i.ownerDocument}function Wj(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jj(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ig(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pg=null;function h3(){var i=window.event;return i&&i.type==="popstate"?i===Pg?!1:(Pg=i,!0):(Pg=null,!1)}var ew=typeof setTimeout=="function"?setTimeout:void 0,f3=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,m3=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(i){return tw.resolve(null).then(i).catch(p3)}:ew;function p3(i){setTimeout(function(){throw i})}function ea(i){return i==="head"}function nw(i,r){var l=r,d=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(y),jl(r);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")cu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,cu(l);for(var v=l.firstChild;v;){var _=v.nextSibling,D=v.nodeName;v[_s]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=_}}else l==="body"&&cu(i.ownerDocument.body);l=y}while(l);jl(r)}function sw(i,r){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function Og(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Og(l),Tr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function g3(i,r,l,d){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[_s])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Is(i.nextSibling),i===null)break}return null}function y3(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Is(i.nextSibling),i===null))return null;return i}function iw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Is(i.nextSibling),i===null))return null;return i}function Lg(i){return i.data==="$?"||i.data==="$~"}function Bg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function v3(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Is(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Ug=null;function rw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Is(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function aw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function ow(i,r,l){switch(r=Hh(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function cu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Tr(i)}var Ps=new Map,lw=new Set;function qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var or=Y.d;Y.d={f:x3,r:b3,D:j3,C:w3,L:_3,m:E3,X:S3,S:k3,M:T3};function x3(){var i=or.f(),r=Vh();return i||r}function b3(i){var r=On(i);r!==null&&r.tag===5&&r.type==="form"?k1(r):or.r(i)}var vl=typeof document>"u"?null:document;function cw(i,r,l){var d=vl;if(d&&typeof r=="string"&&r){var y=$n(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),lw.has(y)||(lw.add(y),i={rel:i,crossOrigin:l,href:r},d.querySelector(y)===null&&(r=d.createElement("link"),wn(r,"link",i),Lt(r),d.head.appendChild(r)))}}function j3(i){or.D(i),cw("dns-prefetch",i,null)}function w3(i,r){or.C(i,r),cw("preconnect",i,r)}function _3(i,r,l){or.L(i,r,l);var d=vl;if(d&&i&&r){var y='link[rel="preload"][as="'+$n(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+$n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+$n(l.imageSizes)+'"]')):y+='[href="'+$n(i)+'"]';var v=y;switch(r){case"style":v=xl(i);break;case"script":v=bl(i)}Ps.has(v)||(i=x({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Ps.set(v,i),d.querySelector(y)!==null||r==="style"&&d.querySelector(uu(v))||r==="script"&&d.querySelector(du(v))||(r=d.createElement("link"),wn(r,"link",i),Lt(r),d.head.appendChild(r)))}}function E3(i,r){or.m(i,r);var l=vl;if(l&&i){var d=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+$n(d)+'"][href="'+$n(i)+'"]',v=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=bl(i)}if(!Ps.has(v)&&(i=x({rel:"modulepreload",href:i},r),Ps.set(v,i),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(du(v)))return}d=l.createElement("link"),wn(d,"link",i),Lt(d),l.head.appendChild(d)}}}function k3(i,r,l){or.S(i,r,l);var d=vl;if(d&&i){var y=ks(d).hoistableStyles,v=xl(i);r=r||"default";var _=y.get(v);if(!_){var D={loading:0,preload:null};if(_=d.querySelector(uu(v)))D.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Ps.get(v))&&Fg(i,l);var G=_=d.createElement("link");Lt(G),wn(G,"link",i),G._p=new Promise(function(ie,de){G.onload=ie,G.onerror=de}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,$h(_,r,d)}_={type:"stylesheet",instance:_,count:1,state:D},y.set(v,_)}}}function S3(i,r){or.X(i,r);var l=vl;if(l&&i){var d=ks(l).hoistableScripts,y=bl(i),v=d.get(y);v||(v=l.querySelector(du(y)),v||(i=x({src:i,async:!0},r),(r=Ps.get(y))&&Hg(i,r),v=l.createElement("script"),Lt(v),wn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function T3(i,r){or.M(i,r);var l=vl;if(l&&i){var d=ks(l).hoistableScripts,y=bl(i),v=d.get(y);v||(v=l.querySelector(du(y)),v||(i=x({src:i,async:!0,type:"module"},r),(r=Ps.get(y))&&Hg(i,r),v=l.createElement("script"),Lt(v),wn(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function uw(i,r,l,d){var y=(y=ve.current)?qh(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=xl(l.href),l=ks(y).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=xl(l.href);var v=ks(y).hoistableStyles,_=v.get(i);if(_||(y=y.ownerDocument||y,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,_),(v=y.querySelector(uu(i)))&&!v._p&&(_.instance=v,_.state.loading=5),Ps.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ps.set(i,l),v||N3(y,i,l,_.state))),r&&d===null)throw Error(s(528,""));return _}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bl(l),l=ks(y).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function xl(i){return'href="'+$n(i)+'"'}function uu(i){return'link[rel="stylesheet"]['+i+"]"}function dw(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function N3(i,r,l,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),wn(r,"link",l),Lt(r),i.head.appendChild(r))}function bl(i){return'[src="'+$n(i)+'"]'}function du(i){return"script[async]"+i}function hw(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+$n(l.href)+'"]');if(d)return r.instance=d,Lt(d),d;var y=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Lt(d),wn(d,"style",y),$h(d,l.precedence,i),r.instance=d;case"stylesheet":y=xl(l.href);var v=i.querySelector(uu(y));if(v)return r.state.loading|=4,r.instance=v,Lt(v),v;d=dw(l),(y=Ps.get(y))&&Fg(d,y),v=(i.ownerDocument||i).createElement("link"),Lt(v);var _=v;return _._p=new Promise(function(D,G){_.onload=D,_.onerror=G}),wn(v,"link",d),r.state.loading|=4,$h(v,l.precedence,i),r.instance=v;case"script":return v=bl(l.src),(y=i.querySelector(du(v)))?(r.instance=y,Lt(y),y):(d=l,(y=Ps.get(v))&&(d=x({},l),Hg(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),Lt(y),wn(y,"link",d),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,$h(d,l.precedence,i));return r.instance}function $h(i,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,v=y,_=0;_<d.length;_++){var D=d[_];if(D.dataset.precedence===r)v=D;else if(v!==y)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Fg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Hg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Gh=null;function fw(i,r,l){if(Gh===null){var d=new Map,y=Gh=new Map;y.set(l,d)}else y=Gh,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var v=l[y];if(!(v[_s]||v[Ot]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(r)||"";_=i+_;var D=d.get(_);D?D.push(v):d.set(_,[v])}}return d}function mw(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function A3(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function pw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function C3(i,r,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=xl(d.href),v=r.querySelector(uu(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Kh.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=v,Lt(v);return}v=r.ownerDocument||r,d=dw(d),(y=Ps.get(y))&&Fg(d,y),v=v.createElement("link"),Lt(v);var _=v;_._p=new Promise(function(D,G){_.onload=D,_.onerror=G}),wn(v,"link",d),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Kh.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var qg=0;function R3(i,r){return i.stylesheets&&i.count===0&&Xh(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&qg===0&&(qg=62500*d3());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>qg?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Yh=null;function Xh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Yh=new Map,r.forEach(z3,i),Yh=null,Kh.call(i))}function z3(i,r){if(!(r.state.loading&4)){var l=Yh.get(i);if(l)var d=l.get(null);else{l=new Map,Yh.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var _=y[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),d=_)}d&&l.set(null,d)}y=r.instance,_=y.getAttribute("data-precedence"),v=l.get(_)||d,v===d&&l.set(null,y),l.set(_,y),this.count++,d=Kh.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),v?v.parentNode.insertBefore(y,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var hu={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function M3(i,r,l,d,y,v,_,D,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function gw(i,r,l,d,y,v,_,D,G,ie,de,pe){return i=new M3(i,r,l,_,G,ie,de,pe,D),r=1,v===!0&&(r|=24),v=us(3,null,null,r),i.current=v,v.stateNode=i,r=_p(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:d,isDehydrated:l,cache:r},Tp(v),i}function yw(i){return i?(i=Qo,i):Qo}function vw(i,r,l,d,y,v){y=yw(y),d.context===null?d.context=y:d.pendingContext=y,d=Hr(r),d.payload={element:l},v=v===void 0?null:v,v!==null&&(d.callback=v),l=qr(i,d,r),l!==null&&(Qn(l,i,r),qc(l,i,r))}function xw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function $g(i,r){xw(i,r),(i=i.alternate)&&xw(i,r)}function bw(i){if(i.tag===13||i.tag===31){var r=Za(i,67108864);r!==null&&Qn(r,i,67108864),$g(i,67108864)}}function jw(i){if(i.tag===13||i.tag===31){var r=ps();r=Hi(r);var l=Za(i,r);l!==null&&Qn(l,i,r),$g(i,r)}}var Zh=!0;function D3(i,r,l,d){var y=U.T;U.T=null;var v=Y.p;try{Y.p=2,Gg(i,r,l,d)}finally{Y.p=v,U.T=y}}function V3(i,r,l,d){var y=U.T;U.T=null;var v=Y.p;try{Y.p=8,Gg(i,r,l,d)}finally{Y.p=v,U.T=y}}function Gg(i,r,l,d){if(Zh){var y=Kg(d);if(y===null)zg(i,r,d,Qh,l),_w(i,d);else if(P3(y,i,r,l,d))d.stopPropagation();else if(_w(i,d),r&4&&-1<I3.indexOf(i)){for(;y!==null;){var v=On(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=fn(v.pendingLanes);if(_!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;_;){var G=1<<31-tt(_);D.entanglements[1]|=G,_&=~G}ki(v),(at&6)===0&&(Mh=kt()+500,au(0))}}break;case 31:case 13:D=Za(v,2),D!==null&&Qn(D,v,2),Vh(),$g(v,2)}if(v=Kg(d),v===null&&zg(i,r,d,Qh,l),v===y)break;y=v}y!==null&&d.stopPropagation()}else zg(i,r,d,null,l)}}function Kg(i){return i=Ts(i),Yg(i)}var Qh=null;function Yg(i){if(Qh=null,i=Es(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=u(r),i!==null)return i;i=null}else if(l===31){if(i=h(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Qh=i,null}function ww(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qn()){case ns:return 2;case ss:return 8;case In:case hi:return 32;case fi:return 268435456;default:return 32}default:return 32}}var Xg=!1,ta=null,na=null,sa=null,fu=new Map,mu=new Map,ia=[],I3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _w(i,r){switch(i){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(r.pointerId)}}function pu(i,r,l,d,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[y]},r!==null&&(r=On(r),r!==null&&bw(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function P3(i,r,l,d,y){switch(r){case"focusin":return ta=pu(ta,i,r,l,d,y),!0;case"dragenter":return na=pu(na,i,r,l,d,y),!0;case"mouseover":return sa=pu(sa,i,r,l,d,y),!0;case"pointerover":var v=y.pointerId;return fu.set(v,pu(fu.get(v)||null,i,r,l,d,y)),!0;case"gotpointercapture":return v=y.pointerId,mu.set(v,pu(mu.get(v)||null,i,r,l,d,y)),!0}return!1}function Ew(i){var r=Es(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){i.blockedOn=r,rs(i.priority,function(){jw(l)});return}}else if(r===31){if(r=h(l),r!==null){i.blockedOn=r,rs(i.priority,function(){jw(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Kg(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Nc=d,l.target.dispatchEvent(d),Nc=null}else return r=On(l),r!==null&&bw(r),i.blockedOn=l,!1;r.shift()}return!0}function kw(i,r,l){Wh(i)&&l.delete(r)}function O3(){Xg=!1,ta!==null&&Wh(ta)&&(ta=null),na!==null&&Wh(na)&&(na=null),sa!==null&&Wh(sa)&&(sa=null),fu.forEach(kw),mu.forEach(kw)}function Jh(i,r){i.blockedOn===r&&(i.blockedOn=null,Xg||(Xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,O3)))}var ef=null;function Sw(i){ef!==i&&(ef=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ef===i&&(ef=null);for(var r=0;r<i.length;r+=3){var l=i[r],d=i[r+1],y=i[r+2];if(typeof d!="function"){if(Yg(d||l)===null)continue;break}var v=On(l);v!==null&&(i.splice(r,3),r-=3,Kp(v,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function jl(i){function r(G){return Jh(G,i)}ta!==null&&Jh(ta,i),na!==null&&Jh(na,i),sa!==null&&Jh(sa,i),fu.forEach(r),mu.forEach(r);for(var l=0;l<ia.length;l++){var d=ia[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<ia.length&&(l=ia[0],l.blockedOn===null);)Ew(l),l.blockedOn===null&&ia.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],v=l[d+1],_=y[Gt]||null;if(typeof v=="function")_||Sw(l);else if(_){var D=null;if(v&&v.hasAttribute("formAction")){if(y=v,_=v[Gt]||null)D=_.formAction;else if(Yg(y)!==null)continue}else D=_.action;typeof D=="function"?l[d+1]=D:(l.splice(d,3),d-=3),Sw(l)}}}function Tw(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return y=_})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Zg(i){this._internalRoot=i}tf.prototype.render=Zg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,d=ps();vw(l,d,i,r,null,null)},tf.prototype.unmount=Zg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;vw(i.current,2,null,i,null,null),Vh(),r[ws]=null}};function tf(i){this._internalRoot=i}tf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Vo();i={blockedOn:null,target:i,priority:r};for(var l=0;l<ia.length&&r!==0&&r<ia[l].priority;l++);ia.splice(l,0,i),l===0&&Ew(i)}};var Nw=e.version;if(Nw!=="19.2.0")throw Error(s(527,Nw,"19.2.0"));Y.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var L3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{ln=nf.inject(L3),St=nf}catch{}}return yu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var l=!1,d="",y=V1,v=I1,_=P1;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=gw(i,1,!1,null,null,l,d,null,y,v,_,Tw),i[ws]=r.current,Rg(i),new Zg(r)},yu.hydrateRoot=function(i,r,l){if(!a(i))throw Error(s(299));var d=!1,y="",v=V1,_=I1,D=P1,G=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(G=l.formState)),r=gw(i,1,!0,r,l??null,d,y,G,v,_,D,Tw),r.context=yw(null),l=r.current,d=ps(),d=Hi(d),y=Hr(d),y.callback=null,qr(l,y,d),l=d,r.current.lanes=l,Ui(r,l),ki(r),i[ws]=r.current,Rg(i),new tf(r)},yu.version="19.2.0",yu}var Ow;function Y3(){if(Ow)return Jg.exports;Ow=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jg.exports=K3(),Jg.exports}var X3=Y3();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lw="popstate";function Z3(t={}){function e(s,a){let{pathname:c,search:u,hash:h}=s.location;return Ky("",{pathname:c,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Zu(a)}return W3(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q3(){return Math.random().toString(36).substring(2,10)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function Ky(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oc(e):e,state:n,key:e&&e.key||s||Q3()}}function Zu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function W3(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,u=a.history,h="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){h="POP";let S=g(),E=S==null?null:S-m;m=S,f&&f({action:h,location:C.location,delta:E})}function b(S,E){h="PUSH";let R=Ky(C.location,S,E);m=g()+1;let P=Bw(R,m),F=C.createHref(R);try{u.pushState(P,"",F)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(F)}c&&f&&f({action:h,location:C.location,delta:1})}function w(S,E){h="REPLACE";let R=Ky(C.location,S,E);m=g();let P=Bw(R,m),F=C.createHref(R);u.replaceState(P,"",F),c&&f&&f({action:h,location:C.location,delta:0})}function T(S){return J3(S)}let C={get action(){return h},get location(){return t(a,u)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Lw,x),f=S,()=>{a.removeEventListener(Lw,x),f=null}},createHref(S){return e(a,S)},createURL:T,encodeLocation(S){let E=T(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:w,go(S){return u.go(S)}};return C}function J3(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Zu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function D2(t,e,n="/"){return ez(t,e,n,!1)}function ez(t,e,n,s){let a=typeof e=="string"?oc(e):e,c=yr(a.pathname||"/",n);if(c==null)return null;let u=V2(t);tz(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=hz(c);h=uz(u[f],m,s)}return h}function V2(t,e=[],n=[],s="",a=!1){let c=(u,h,f=a,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&f)return;It(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let x=pr([s,g.relativePath]),b=n.concat(g);u.children&&u.children.length>0&&(It(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),V2(u.children,e,b,x,f)),!(u.path==null&&!u.index)&&e.push({path:x,score:lz(x,u.index),routesMeta:b})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))c(u,h);else for(let f of I2(u.path))c(u,h,!0,f)}),e}function I2(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let u=I2(s.join("/")),h=[];return h.push(...u.map(f=>f===""?c:[c,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function tz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cz(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nz=/^:[\w-]+$/,sz=3,iz=2,rz=1,az=10,oz=-2,Uw=t=>t==="*";function lz(t,e){let n=t.split("/"),s=n.length;return n.some(Uw)&&(s+=oz),e&&(s+=iz),n.filter(a=>!Uw(a)).reduce((a,c)=>a+(nz.test(c)?sz:c===""?rz:az),s)}function cz(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function uz(t,e,n=!1){let{routesMeta:s}=t,a={},c="/",u=[];for(let h=0;h<s.length;++h){let f=s[h],m=h===s.length-1,g=c==="/"?e:e.slice(c.length)||"/",x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!x&&m&&n&&!s[s.length-1].route.index&&(x=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:pr([c,x.pathname]),pathnameBase:gz(pr([c,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(c=pr([c,x.pathnameBase]))}return u}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=dz(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let c=a[0],u=c.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let T=h[b]||"";u=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const w=h[b];return x&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:t}}function dz(t,e=!1,n=!0){Di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function hz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function fz(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?oc(t):t;return{pathname:n?n.startsWith("/")?n:mz(n,e):e,search:yz(s),hash:vz(a)}}function mz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sy(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P2(t){let e=pz(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function O2(t,e,n,s=!1){let a;typeof t=="string"?a=oc(t):(a={...t},It(!a.pathname||!a.pathname.includes("?"),sy("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),sy("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),sy("#","search","hash",a)));let c=t===""||a.pathname==="",u=c?"/":a.pathname,h;if(u==null)h=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}h=x>=0?e[x]:"/"}let f=fz(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var pr=t=>t.join("/").replace(/\/\/+/g,"/"),gz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var L2=["POST","PUT","PATCH","DELETE"];new Set(L2);var bz=["GET",...L2];new Set(bz);var lc=M.createContext(null);lc.displayName="DataRouter";var Em=M.createContext(null);Em.displayName="DataRouterState";M.createContext(!1);var B2=M.createContext({isTransitioning:!1});B2.displayName="ViewTransition";var jz=M.createContext(new Map);jz.displayName="Fetchers";var wz=M.createContext(null);wz.displayName="Await";var Oi=M.createContext(null);Oi.displayName="Navigation";var _d=M.createContext(null);_d.displayName="Location";var Li=M.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var p0=M.createContext(null);p0.displayName="RouteError";function _z(t,{relative:e}={}){It(Ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(Oi),{hash:a,pathname:c,search:u}=kd(t,{relative:e}),h=c;return n!=="/"&&(h=c==="/"?n:pr([n,c])),s.createHref({pathname:h,search:u,hash:a})}function Ed(){return M.useContext(_d)!=null}function Ta(){return It(Ed(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(_d).location}var U2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F2(t){M.useContext(Oi).static||M.useLayoutEffect(t)}function H2(){let{isDataRoute:t}=M.useContext(Li);return t?Iz():Ez()}function Ez(){It(Ed(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(lc),{basename:e,navigator:n}=M.useContext(Oi),{matches:s}=M.useContext(Li),{pathname:a}=Ta(),c=JSON.stringify(P2(s)),u=M.useRef(!1);return F2(()=>{u.current=!0}),M.useCallback((f,m={})=>{if(Di(u.current,U2),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=O2(f,JSON.parse(c),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:pr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,c,a,t])}M.createContext(null);function km(){let{matches:t}=M.useContext(Li),e=t[t.length-1];return e?e.params:{}}function kd(t,{relative:e}={}){let{matches:n}=M.useContext(Li),{pathname:s}=Ta(),a=JSON.stringify(P2(n));return M.useMemo(()=>O2(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function kz(t,e){return q2(t,e)}function q2(t,e,n,s,a){It(Ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(Oi),{matches:u}=M.useContext(Li),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",x=h&&h.route;{let R=x&&x.path||"";$2(m,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Ta(),w;if(e){let R=typeof e=="string"?oc(e):e;It(g==="/"||R.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=b;let T=w.pathname||"/",C=T;if(g!=="/"){let R=g.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=D2(t,{pathname:C});Di(x||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Di(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Cz(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:pr([g,c.encodeLocation?c.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:pr([g,c.encodeLocation?c.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),u,n,s,a);return e&&E?M.createElement(_d.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function Sz(){let t=Vz(),e=xz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,u)}var Tz=M.createElement(Sz,null),Nz=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(Li.Provider,{value:this.props.routeContext},M.createElement(p0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Az({routeContext:t,match:e,children:n}){let s=M.useContext(lc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Li.Provider,{value:t},n)}function Cz(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let m=c.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);It(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let h=!1,f=-1;if(n)for(let m=0;m<c.length;m++){let g=c[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:x,errors:b}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((m,g,x)=>{let b,w=!1,T=null,C=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,T=g.route.errorElement||Tz,h&&(f<0&&x===0?($2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):f===x&&(w=!0,C=g.route.hydrateFallbackElement||null)));let S=e.concat(c.slice(0,x+1)),E=()=>{let R;return b?R=T:w?R=C:g.route.Component?R=M.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=m,M.createElement(Az,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?M.createElement(Nz,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:s}):E()},null)}function g0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rz(t){let e=M.useContext(lc);return It(e,g0(t)),e}function zz(t){let e=M.useContext(Em);return It(e,g0(t)),e}function Mz(t){let e=M.useContext(Li);return It(e,g0(t)),e}function y0(t){let e=Mz(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Dz(){return y0("useRouteId")}function Vz(){let t=M.useContext(p0),e=zz("useRouteError"),n=y0("useRouteError");return t!==void 0?t:e.errors?.[n]}function Iz(){let{router:t}=Rz("useNavigate"),e=y0("useNavigate"),n=M.useRef(!1);return F2(()=>{n.current=!0}),M.useCallback(async(a,c={})=>{Di(n.current,U2),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...c}))},[t,e])}var Fw={};function $2(t,e,n){!e&&!Fw[t]&&(Fw[t]=!0,Di(!1,n))}M.memo(Pz);function Pz({routes:t,future:e,state:n,unstable_onError:s}){return q2(t,void 0,n,s,e)}function gs(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oz({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){It(!Ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);typeof n=="string"&&(n=oc(n));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:b="default"}=n,w=M.useMemo(()=>{let T=yr(f,u);return T==null?null:{location:{pathname:T,search:m,hash:g,state:x,key:b},navigationType:s}},[u,f,m,g,x,b,s]);return Di(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(Oi.Provider,{value:h},M.createElement(_d.Provider,{children:e,value:w}))}function Lz({children:t,location:e}){return kz(Yy(t),e)}function Yy(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let c=[...e,a];if(s.type===M.Fragment){n.push.apply(n,Yy(s.props.children,c));return}It(s.type===gs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Yy(s.props.children,c)),n.push(u)}),n}var _f="get",Ef="application/x-www-form-urlencoded";function Sm(t){return t!=null&&typeof t.tagName=="string"}function Bz(t){return Sm(t)&&t.tagName.toLowerCase()==="button"}function Uz(t){return Sm(t)&&t.tagName.toLowerCase()==="form"}function Fz(t){return Sm(t)&&t.tagName.toLowerCase()==="input"}function Hz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qz(t,e){return t.button===0&&(!e||e==="_self")&&!Hz(t)}var sf=null;function $z(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var Gz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iy(t){return t!=null&&!Gz.has(t)?(Di(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function Kz(t,e){let n,s,a,c,u;if(Uz(t)){let h=t.getAttribute("action");s=h?yr(h,e):null,n=t.getAttribute("method")||_f,a=iy(t.getAttribute("enctype"))||Ef,c=new FormData(t)}else if(Bz(t)||Fz(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(s=f?yr(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||_f,a=iy(t.getAttribute("formenctype"))||iy(h.getAttribute("enctype"))||Ef,c=new FormData(h,t),!$z()){let{name:m,type:g,value:x}=t;if(g==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,x)}}else{if(Sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_f,s=null,a=Ef,u=t}return c&&a==="text/plain"&&(u=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yz(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Xz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Qz(t,e,n){let s=await Promise.all(t.map(async a=>{let c=e.routes[a.route.id];if(c){let u=await Xz(c,n);return u.links?u.links():[]}return[]}));return tM(s.flat(1).filter(Zz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hw(t,e,n,s,a,c){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return c==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):c==="data"?e.filter((f,m)=>{let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Wz(t,e,{includeHydrateFallback:n}={}){return Jz(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function Jz(t){return[...new Set(t)]}function eM(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function tM(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let c=JSON.stringify(eM(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function G2(){let t=M.useContext(lc);return v0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nM(){let t=M.useContext(Em);return v0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var x0=M.createContext(void 0);x0.displayName="FrameworkContext";function K2(){let t=M.useContext(x0);return v0(t,"You must render this element inside a <HydratedRouter> element"),t}function sM(t,e){let n=M.useContext(x0),[s,a]=M.useState(!1),[c,u]=M.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,b=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let C=E=>{E.forEach(R=>{u(R.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),M.useEffect(()=>{if(s){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[s]);let w=()=>{a(!0)},T=()=>{a(!1),u(!1)};return n?t!=="intent"?[c,b,{}]:[c,b,{onFocus:vu(h,w),onBlur:vu(f,T),onMouseEnter:vu(m,w),onMouseLeave:vu(g,T),onTouchStart:vu(x,w)}]:[!1,b,{}]}function vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function iM({page:t,...e}){let{router:n}=G2(),s=M.useMemo(()=>D2(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(aM,{page:t,matches:s,...e}):null}function rM(t){let{manifest:e,routeModules:n}=K2(),[s,a]=M.useState([]);return M.useEffect(()=>{let c=!1;return Qz(t,e,n).then(u=>{c||a(u)}),()=>{c=!0}},[t,e,n]),s}function aM({page:t,matches:e,...n}){let s=Ta(),{manifest:a,routeModules:c}=K2(),{basename:u}=G2(),{loaderData:h,matches:f}=nM(),m=M.useMemo(()=>Hw(t,e,f,a,s,"data"),[t,e,f,a,s]),g=M.useMemo(()=>Hw(t,e,f,a,s,"assets"),[t,e,f,a,s]),x=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let T=new Set,C=!1;if(e.forEach(E=>{let R=a.routes[E.route.id];!R||!R.hasLoader||(!m.some(P=>P.route.id===E.route.id)&&E.route.id in h&&c[E.route.id]?.shouldRevalidate||R.hasClientLoader?C=!0:T.add(E.route.id))}),T.size===0)return[];let S=Yz(t,u,"data");return C&&T.size>0&&S.searchParams.set("_routes",e.filter(E=>T.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[u,h,s,a,m,e,t,c]),b=M.useMemo(()=>Wz(g,a),[g,a]),w=rM(g);return M.createElement(M.Fragment,null,x.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:C})=>M.createElement("link",{key:T,nonce:n.nonce,...C})))}function oM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y2&&(window.__reactRouterVersion="7.9.4")}catch{}function lM({basename:t,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=Z3({window:n,v5Compat:!0}));let a=s.current,[c,u]=M.useState({action:a.action,location:a.location}),h=M.useCallback(f=>{M.startTransition(()=>u(f))},[u]);return M.useLayoutEffect(()=>a.listen(h),[a,h]),M.createElement(Oz,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a})}var X2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:x,...b},w){let{basename:T}=M.useContext(Oi),C=typeof m=="string"&&X2.test(m),S,E=!1;if(typeof m=="string"&&C&&(S=m,Y2))try{let z=new URL(window.location.href),B=m.startsWith("//")?new URL(z.protocol+m):new URL(m),L=yr(B.pathname,T);B.origin===z.origin&&L!=null?m=L+B.search+B.hash:E=!0}catch{Di(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=_z(m,{relative:a}),[P,F,$]=sM(s,b),X=hM(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:a,viewTransition:x});function A(z){e&&e(z),z.defaultPrevented||X(z)}let N=M.createElement("a",{...b,...$,href:S||R,onClick:E||c?e:A,ref:oM(w,F),target:f,"data-discover":!C&&n==="render"?"true":void 0});return P&&!C?M.createElement(M.Fragment,null,N,M.createElement(iM,{page:R})):N});it.displayName="Link";var cM=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:u,viewTransition:h,children:f,...m},g){let x=kd(u,{relative:m.relative}),b=Ta(),w=M.useContext(Em),{navigator:T,basename:C}=M.useContext(Oi),S=w!=null&&yM(x)&&h===!0,E=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,R=b.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(R=R.toLowerCase(),P=P?P.toLowerCase():null,E=E.toLowerCase()),P&&C&&(P=yr(P,C)||P);const F=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let $=R===E||!a&&R.startsWith(E)&&R.charAt(F)==="/",X=P!=null&&(P===E||!a&&P.startsWith(E)&&P.charAt(E.length)==="/"),A={isActive:$,isPending:X,isTransitioning:S},N=$?e:void 0,z;typeof s=="function"?z=s(A):z=[s,$?"active":null,X?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof c=="function"?c(A):c;return M.createElement(it,{...m,"aria-current":N,className:z,ref:g,style:B,to:u,viewTransition:h},typeof f=="function"?f(A):f)});cM.displayName="NavLink";var uM=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:u=_f,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x,...b},w)=>{let T=pM(),C=gM(h,{relative:m}),S=u.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&X2.test(h),R=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let F=P.nativeEvent.submitter,$=F?.getAttribute("formmethod")||u;T(F||P.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:a,state:c,relative:m,preventScrollReset:g,viewTransition:x})};return M.createElement("form",{ref:w,method:S,action:C,onSubmit:s?f:R,...b,"data-discover":!E&&t==="render"?"true":void 0})});uM.displayName="Form";function dM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z2(t){let e=M.useContext(lc);return It(e,dM(t)),e}function hM(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:u}={}){let h=H2(),f=Ta(),m=kd(t,{relative:c});return M.useCallback(g=>{if(qz(g,e)){g.preventDefault();let x=n!==void 0?n:Zu(f)===Zu(m);h(t,{replace:x,state:s,preventScrollReset:a,relative:c,viewTransition:u})}},[f,h,m,n,s,e,t,a,c,u])}var fM=0,mM=()=>`__${String(++fM)}__`;function pM(){let{router:t}=Z2("useSubmit"),{basename:e}=M.useContext(Oi),n=Dz();return M.useCallback(async(s,a={})=>{let{action:c,method:u,encType:h,formData:f,body:m}=Kz(s,e);if(a.navigate===!1){let g=a.fetcherKey||mM();await t.fetch(g,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function gM(t,{relative:e}={}){let{basename:n}=M.useContext(Oi),s=M.useContext(Li);It(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...kd(t||".",{relative:e})},u=Ta();if(t==null){c.search=u.search;let h=new URLSearchParams(c.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let g=h.toString();c.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:pr([n,c.pathname])),Zu(c)}function yM(t,{relative:e}={}){let n=M.useContext(B2);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Z2("useViewTransitionState"),a=kd(t,{relative:e});if(!n.isTransitioning)return!1;let c=yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uf(a.pathname,u)!=null||Uf(a.pathname,c)!=null}M2();/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),qw=t=>{const e=xM(t);return e.charAt(0).toUpperCase()+e.slice(1)},Q2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),bM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...h},f)=>M.createElement("svg",{ref:f,...jM,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Q2("lucide",a),...!c&&!bM(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>M.createElement(m,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=M.forwardRef(({className:s,...a},c)=>M.createElement(wM,{ref:c,iconNode:e,className:Q2(`lucide-${vM(qw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=qw(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cc=Qe("arrow-left",_M);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],kM=Qe("beer",EM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tm=Qe("book-open",SM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],W2=Qe("calendar-days",TM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gl=Qe("calendar",NM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],CM=Qe("check",AM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zM=Qe("chevron-left",RM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J2=Qe("chevron-right",MM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VM=Qe("circle-alert",DM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eS=Qe("clock",IM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],OM=Qe("download",PM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vu=Qe("external-link",LM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kl=Qe("file-text",BM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],tS=Qe("film",UM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],HM=Qe("gamepad-2",FM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$M=Qe("house",qM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nS=Qe("image",GM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],YM=Qe("loader",KM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ZM=Qe("map",XM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],WM=Qe("maximize-2",QM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],e4=Qe("menu",JM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Iu=Qe("message-circle",t4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],s4=Qe("network",n4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],b0=Qe("pen",i4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yl=Qe("plus",r4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],o4=Qe("presentation",a4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xy=Qe("save",l4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],u4=Qe("send",c4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],Ff=Qe("sticky-note",d4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sS=Qe("target",h4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nm=Qe("trash-2",f4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],p4=Qe("upload",m4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kf=Qe("users",g4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],j0=Qe("user",y4);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uc=Qe("x",v4),Qu=[{id:"ddf",name:"DDF - Djiny dokumentrnho filmu",shortName:"DDF",description:"Zimn semestr 2025/26",color:"blue",classes:[{id:1,date:"1. 10.",lecturer:"Tom Hirt",title:'Historick vkladov rmce, vvoj definice pojmu DF a non-fiction"',description:'Historick vkladov rmce, vvoj definice pojmu DF a non-fiction", estetick a spoleensk kontexty, konstituce samostatn disciplny.'},{id:2,date:"8. 10.",lecturer:"Tom Hirt",title:"Sovtsk montn kola"},{id:3,date:"15. 10.",lecturer:"Hana Muchov",title:"Etnografick film po II. svtov vlce"},{id:4,date:"22. 10.",lecturer:"David enk",title:'Prvn actualits"  brati Lumirov',description:"Etnografick a vdeck filmy. Dokumentrn produkce v obdob ran kinematografie (do let 1908-1910)."},{id:5,date:"5. 11.",lecturer:"Alice Rikov",title:"Regionln fokus na eskoslovensko 1918-1939",description:"Dokument a instituce, dokument a reklama, dokument a umn."},{id:6,date:"12. 11.",lecturer:"Petr Kubica",title:"eskoslovensk povlen filmy",description:"Tematizujc vlenou zkuenost  pklady a diskurzy reflexe s odstupem."},{id:7,date:"19. 11.",lecturer:"David enk",title:"Vlna poetismu a romantismu",description:"Robert Flaherty, Ernest B. Schoedsack a Merian C. Cooper, Jean Epstein."},{id:8,date:"26. 11.",lecturer:"David enk",title:"Tet avantgarda a jej dokumentrn pohled",description:"Mstsk symfonie. Joris Ivens, Jean Epstein, Ren Clair, Luis Buuel."},{id:9,date:"3. 12.",lecturer:"David enk",title:"Dokumentrn film a sttn agenda",description:"Nov model institucionln praxe: John Grierson a Britsk dokumentrn kola."},{id:10,date:"10. 12.",lecturer:"Alice Rikov",title:"Povlen konstituce dokumentu",description:"V kontextu umleck kinematografie  pklady a kontext eskoslovenska."},{id:11,date:"17. 12.",lecturer:"David enk",title:"Rozvoj politickho dokumentrnho filmu",description:"Bda v Borinage, Zem bez chleba. Tmata na okraji."},{id:12,date:"7. 1.",lecturer:"Petr Kubica",title:"eskoslovensko 60. let a dokument I."}],links:[{name:"Studijn opory FAMU",url:"https://kdt.famu.cz/studijni-opory/"}]},{id:"av",name:"AV - Audiovizuln studia",shortName:"AV",description:"Poznmky z pednek",color:"purple",classes:[{id:1,date:"2025",lecturer:"AV pednejc",title:"Otzka reprezentace",description:"Fenomenologie, reprezentace, Plato, Kant, Nietzsche, Whitehead a dal."},{id:2,date:"2025",lecturer:"AV pednejc",title:"Ballard, iek a kritika ptomnosti",description:"J.G. Ballard, Slavoj iek, habitualizace, politika percepce."}],links:[]},{id:"ai",name:"AI - Uml inteligence",shortName:"AI",description:"Poznmky z pednek o AI",color:"green",classes:[{id:1,date:"2. 16.",lecturer:"ditamorg@gmail.com",title:"Emergentn jevy a AlphaGo",description:"Emergentn jevy, fzov jevy, Lee Sedol vs AlphaGo"}],links:[]},{id:"pr",name:"PR - Profesn rozvoj",shortName:"PR",description:"Profesn rozvoj - granty, dotace, status umlce",color:"orange",classes:[{id:1,date:"ter 17:20-18:55",lecturer:"LUKOV M.",title:"Dotace a granty pro umlce",description:"Status umlce, nrodn registr umlc, dotace MK R, kreativn vouchery, granty Prahy 8"}],links:[{name:"MK R - dosti o dotace",url:"https://www.mk.gov.cz/zadosti-o-dotace-cs-2023"},{name:"Oborov dotan zen 2026",url:"https://mk.gov.cz/oborova-dotacni-rizeni-na-rok-2026-vyhlasovaci-podminky"}]}],Zy={id:"general",name:"Obecn poznmky",shortName:"Poznmky",description:"Rzn dleit informace",icon:"",classes:[{id:1,date:"2025/26",lecturer:"Rzn",title:"Dleit termny a informace",description:"Konzultan dla, pedagogick praxe, termny akc."}]},w0=t=>t==="general"?Zy:Qu.find(e=>e.id===t),x4=(t,e)=>{const n=w0(t);return n?n.classes.find(s=>s.id===parseInt(e)):null},b4={blue:"text-gray-900 bg-gray-100 border-gray-900",purple:"text-gray-900 bg-gray-100 border-gray-900",green:"text-gray-900 bg-gray-100 border-gray-900",red:"text-gray-900 bg-gray-100 border-gray-900",orange:"text-gray-900 bg-gray-100 border-gray-900"};function j4(){const[t,e]=M.useState(!1),[n,s]=M.useState({}),a=Ta(),c=()=>e(!t),u=m=>{s(g=>({...g,[m]:!g[m]}))},h=m=>a.pathname===m,f=m=>a.pathname.startsWith(`/subject/${m}`);return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:c,className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md border",children:t?o.jsx(uc,{className:"w-6 h-6"}):o.jsx(e4,{className:"w-6 h-6"})}),t&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:c}),o.jsx("div",{className:`
          fixed top-0 left-0 h-full bg-white border-r border-gray-200 z-40
          transform transition-transform duration-300 ease-in-out
          w-80 overflow-y-auto
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0 lg:static lg:z-0
        `,children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"FAMU Poznmky"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Zimn semestr 2025/26"})]}),o.jsxs("nav",{className:"space-y-2",children:[o.jsxs(it,{to:"/",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                ${h("/")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100"}
              `,children:[o.jsx($M,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Pehled pedmt"})]}),o.jsxs(it,{to:"/timetable",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${a.pathname==="/timetable"?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[o.jsx(W2,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:" Rozvrh"})]}),o.jsxs(it,{to:"/chat",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${h("/chat")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[o.jsx(Iu,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:" Chat"})]}),o.jsxs(it,{to:"/bulletin-board",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${h("/bulletin-board")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[o.jsx(Ff,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:" Nstnka"})]}),o.jsxs(it,{to:"/project",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${a.pathname.startsWith("/project")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[o.jsx(o4,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:" Mj Projekt"})]}),o.jsxs(it,{to:"/subject/general",onClick:()=>e(!1),className:`
                flex items-center gap-3 px-3 py-2 rounded-lg transition-colors mt-2
                ${h("/subject/general")?"bg-gray-900 text-white border border-gray-900":"text-gray-700 hover:bg-gray-100 border border-gray-300"}
              `,children:[o.jsx(Kl,{className:"w-5 h-5"}),o.jsxs("span",{className:"font-medium",children:[Zy.icon," ",Zy.shortName]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Pedmty"}),Qu.map(m=>{const g=n[m.id],x=f(m.id);return o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs(it,{to:`/subject/${m.id}`,onClick:()=>e(!1),className:`
                          flex-1 flex items-center gap-3 px-3 py-2 rounded-lg transition-colors
                          ${x?b4[m.color]+" border":"text-gray-700 hover:bg-gray-50"}
                        `,children:[o.jsx(Tm,{className:"w-5 h-5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium truncate",children:m.shortName}),o.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[m.classes.length," hodin"]})]})]}),o.jsx("button",{onClick:()=>u(m.id),className:"p-1 hover:bg-gray-100 rounded",children:g?o.jsx(ChevronDown,{className:"w-4 h-4 text-gray-500"}):o.jsx(J2,{className:"w-4 h-4 text-gray-500"})})]}),g&&o.jsx("div",{className:"ml-8 mt-2 space-y-1",children:m.classes.map(b=>{const w=`/subject/${m.id}/class/${b.id}`,T=h(w);return o.jsxs(it,{to:w,onClick:()=>e(!1),className:`
                                flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm
                                ${T?"bg-gray-100 text-gray-900 font-medium":"text-gray-600 hover:bg-gray-50"}
                              `,children:[o.jsx(Kl,{className:"w-4 h-4"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"truncate",children:[b.id,". ",b.title]}),o.jsx("div",{className:"text-xs text-gray-500",children:b.date})]})]},b.id)})})]},m.id)})]})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[o.jsx("a",{href:"https://kos.amu.cz/",target:"_blank",rel:"noopener noreferrer",className:"block mb-4 px-3 py-3 bg-gray-900 hover:bg-gray-700 text-white rounded-lg transition-colors text-center font-medium",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),o.jsx("span",{children:"KOS - Studijn systm"})]})}),o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[o.jsx("div",{children:"FAMU Notes"}),o.jsx("div",{children:"React App"})]})]})]})})]})}function w4(){const[t,e]=M.useState(!1),[n,s]=M.useState(!1),[a,c]=M.useState(0),u=H2();M.useEffect(()=>{if(a>0){const f=setTimeout(()=>{c(0)},5e3);return()=>clearTimeout(f)}},[a]);const h=()=>{const f=a+1;c(f),f===3?(u("/secret-game"),c(0)):(e(!0),s(!0),setTimeout(()=>e(!1),4e3),setTimeout(()=>s(!1),5e3))};return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:h,className:"fixed top-4 right-4 z-50 bg-amber-500 text-white rounded-full p-3 shadow-lg transition-transform hover:scale-110",title:" Pozvi Martina na pivo!",children:o.jsx(kM,{className:"w-6 h-6"})}),t&&o.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 px-4",children:o.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-4 rounded-lg shadow-2xl max-w-md animate-bounce",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("h3",{className:"font-bold text-xl mb-2",children:"BEERWARE LICENSE"}),o.jsxs("p",{className:"text-sm mb-2",children:["Pokud se ti poznmky lb a potk Martina,",o.jsx("br",{}),"me ho pozvat na pivo! "]}),o.jsx("p",{className:"text-xs opacity-90",children:" Martin Tomek - FAMU 2025"})]})})}),n&&o.jsx("div",{className:"fixed inset-0 pointer-events-none z-40 overflow-hidden",children:[...Array(30)].map((f,m)=>o.jsx("div",{className:"absolute text-4xl beer-fall",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${3+Math.random()*2}s`},children:""},m))})]})}const iS=M.createContext({});function _4(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const _0=typeof window<"u",E4=_0?M.useLayoutEffect:M.useEffect,E0=M.createContext(null);function k0(t,e){t.indexOf(e)===-1&&t.push(e)}function S0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vr=(t,e,n)=>n>e?e:n<t?t:n;let T0=()=>{};const xr={},rS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aS(t){return typeof t=="object"&&t!==null}const oS=t=>/^0[^.\s]+$/u.test(t);function N0(t){let e;return()=>(e===void 0&&(e=t()),e)}const qs=t=>t,k4=(t,e)=>n=>e(t(n)),Sd=(...t)=>t.reduce(k4),Wu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class A0{constructor(){this.subscriptions=[]}add(e){return k0(this.subscriptions,e),()=>S0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=t=>t*1e3,Fs=t=>t/1e3;function lS(t,e){return e?t*(1e3/e):0}const cS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S4=1e-7,T4=12;function N4(t,e,n,s,a){let c,u,h=0;do u=e+(n-e)/2,c=cS(u,s,a)-t,c>0?n=u:e=u;while(Math.abs(c)>S4&&++h<T4);return u}function Td(t,e,n,s){if(t===e&&n===s)return qs;const a=c=>N4(c,0,1,t,n);return c=>c===0||c===1?c:cS(a(c),e,s)}const uS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dS=t=>e=>1-t(1-e),hS=Td(.33,1.53,.69,.99),C0=dS(hS),fS=uS(C0),mS=t=>(t*=2)<1?.5*C0(t):.5*(2-Math.pow(2,-10*(t-1))),R0=t=>1-Math.sin(Math.acos(t)),pS=dS(R0),gS=uS(R0),A4=Td(.42,0,1,1),C4=Td(0,0,.58,1),yS=Td(.42,0,.58,1),R4=t=>Array.isArray(t)&&typeof t[0]!="number",vS=t=>Array.isArray(t)&&typeof t[0]=="number",z4={linear:qs,easeIn:A4,easeInOut:yS,easeOut:C4,circIn:R0,circInOut:gS,circOut:pS,backIn:C0,backInOut:fS,backOut:hS,anticipate:mS},M4=t=>typeof t=="string",$w=t=>{if(vS(t)){T0(t.length===4);const[e,n,s,a]=t;return Td(e,n,s,a)}else if(M4(t))return z4[t];return t},rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D4(t,e){let n=new Set,s=new Set,a=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,x=!1,b=!1)=>{const T=b&&a?n:s;return x&&u.add(g),T.has(g)||T.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(h=g,a){c=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,c&&(c=!1,m.process(g))}};return m}const V4=40;function xS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=rf.reduce((P,F)=>(P[F]=D4(c),P),{}),{setup:h,read:f,resolveKeyframes:m,preUpdate:g,update:x,preRender:b,render:w,postRender:T}=u,C=()=>{const P=xr.useManualTiming?a.timestamp:performance.now();n=!1,xr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(P-a.timestamp,V4),1)),a.timestamp=P,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),g.process(a),x.process(a),b.process(a),w.process(a),T.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(C))},S=()=>{n=!0,s=!0,a.isProcessing||t(C)};return{schedule:rf.reduce((P,F)=>{const $=u[F];return P[F]=(X,A=!1,N=!1)=>(n||S(),$.schedule(X,A,N)),P},{}),cancel:P=>{for(let F=0;F<rf.length;F++)u[rf[F]].cancel(P)},state:a,steps:u}}const{schedule:zt,cancel:va,state:_n,steps:ry}=xS(typeof requestAnimationFrame<"u"?requestAnimationFrame:qs,!0);let Sf;function I4(){Sf=void 0}const es={now:()=>(Sf===void 0&&es.set(_n.isProcessing||xr.useManualTiming?_n.timestamp:performance.now()),Sf),set:t=>{Sf=t,queueMicrotask(I4)}},bS=t=>e=>typeof e=="string"&&e.startsWith(t),z0=bS("--"),P4=bS("var(--"),M0=t=>P4(t)?O4.test(t.split("/*")[0].trim()):!1,O4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...dc,transform:t=>vr(0,1,t)},af={...dc,default:1},Pu=t=>Math.round(t*1e5)/1e5,D0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L4(t){return t==null}const B4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V0=(t,e)=>n=>!!(typeof n=="string"&&B4.test(n)&&n.startsWith(t)||e&&!L4(n)&&Object.prototype.hasOwnProperty.call(n,e)),jS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,c,u,h]=s.match(D0);return{[t]:parseFloat(a),[e]:parseFloat(c),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},U4=t=>vr(0,255,t),ay={...dc,transform:t=>Math.round(U4(t))},go={test:V0("rgb","red"),parse:jS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ay.transform(t)+", "+ay.transform(e)+", "+ay.transform(n)+", "+Pu(Ju.transform(s))+")"};function F4(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Qy={test:V0("#"),parse:F4,transform:go.transform},Nd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oa=Nd("deg"),Ni=Nd("%"),De=Nd("px"),H4=Nd("vh"),q4=Nd("vw"),Gw={...Ni,parse:t=>Ni.parse(t)/100,transform:t=>Ni.transform(t*100)},zl={test:V0("hsl","hue"),parse:jS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ni.transform(Pu(e))+", "+Ni.transform(Pu(n))+", "+Pu(Ju.transform(s))+")"},rn={test:t=>go.test(t)||Qy.test(t)||zl.test(t),parse:t=>go.test(t)?go.parse(t):zl.test(t)?zl.parse(t):Qy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?go.transform(t):zl.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},$4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G4(t){return isNaN(t)&&typeof t=="string"&&(t.match(D0)?.length||0)+(t.match($4)?.length||0)>0}const wS="number",_S="color",K4="var",Y4="var(",Kw="${}",X4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ed(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let c=0;const h=e.replace(X4,f=>(rn.test(f)?(s.color.push(c),a.push(_S),n.push(rn.parse(f))):f.startsWith(Y4)?(s.var.push(c),a.push(K4),n.push(f)):(s.number.push(c),a.push(wS),n.push(parseFloat(f))),++c,Kw)).split(Kw);return{values:n,split:h,indexes:s,types:a}}function ES(t){return ed(t).values}function kS(t){const{split:e,types:n}=ed(t),s=e.length;return a=>{let c="";for(let u=0;u<s;u++)if(c+=e[u],a[u]!==void 0){const h=n[u];h===wS?c+=Pu(a[u]):h===_S?c+=rn.transform(a[u]):c+=a[u]}return c}}const Z4=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function Q4(t){const e=ES(t);return kS(t)(e.map(Z4))}const xa={test:G4,parse:ES,createTransformer:kS,getAnimatableNone:Q4};function oy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function W4({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,c=0,u=0;if(!e)a=c=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=oy(f,h,t+1/3),c=oy(f,h,t),u=oy(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:s}}function Hf(t,e){return n=>n>0?e:t}const Vt=(t,e,n)=>t+(e-t)*n,ly=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},J4=[Qy,go,zl],eD=t=>J4.find(e=>e.test(t));function Yw(t){const e=eD(t);if(!e)return!1;let n=e.parse(t);return e===zl&&(n=W4(n)),n}const Xw=(t,e)=>{const n=Yw(t),s=Yw(e);if(!n||!s)return Hf(t,e);const a={...n};return c=>(a.red=ly(n.red,s.red,c),a.green=ly(n.green,s.green,c),a.blue=ly(n.blue,s.blue,c),a.alpha=Vt(n.alpha,s.alpha,c),go.transform(a))},Wy=new Set(["none","hidden"]);function tD(t,e){return Wy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nD(t,e){return n=>Vt(t,e,n)}function I0(t){return typeof t=="number"?nD:typeof t=="string"?M0(t)?Hf:rn.test(t)?Xw:rD:Array.isArray(t)?SS:typeof t=="object"?rn.test(t)?Xw:sD:Hf}function SS(t,e){const n=[...t],s=n.length,a=t.map((c,u)=>I0(c)(c,e[u]));return c=>{for(let u=0;u<s;u++)n[u]=a[u](c);return n}}function sD(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=I0(t[a])(t[a],e[a]));return a=>{for(const c in s)n[c]=s[c](a);return n}}function iD(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],u=t.indexes[c][s[c]],h=t.values[u]??0;n[a]=h,s[c]++}return n}const rD=(t,e)=>{const n=xa.createTransformer(e),s=ed(t),a=ed(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Wy.has(t)&&!a.values.length||Wy.has(e)&&!s.values.length?tD(t,e):Sd(SS(iD(s,a),a.values),n):Hf(t,e)};function TS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):I0(t)(t,e)}const aD=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>zt.update(e,n),stop:()=>va(e),now:()=>_n.isProcessing?_n.timestamp:es.now()}},NS=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let c=0;c<a;c++)s+=Math.round(t(c/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},qf=2e4;function P0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<qf;)e+=n,s=t.next(e);return e>=qf?1/0:e}function oD(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(P0(s),qf);return{type:"keyframes",ease:c=>s.next(a*c).value/e,duration:Fs(a)}}const lD=5;function AS(t,e,n){const s=Math.max(e-lD,0);return lS(n-t(s),e-s)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cy=.001;function cD({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:s=Ft.mass}){let a,c,u=1-e;u=vr(Ft.minDamping,Ft.maxDamping,u),t=vr(Ft.minDuration,Ft.maxDuration,Fs(t)),u<1?(a=m=>{const g=m*u,x=g*t,b=g-n,w=Jy(m,u),T=Math.exp(-x);return cy-b/w*T},c=m=>{const x=m*u*t,b=x*n+n,w=Math.pow(u,2)*Math.pow(m,2)*t,T=Math.exp(-x),C=Jy(Math.pow(m,2),u);return(-a(m)+cy>0?-1:1)*((b-w)*T)/C}):(a=m=>{const g=Math.exp(-m*t),x=(m-n)*t+1;return-cy+g*x},c=m=>{const g=Math.exp(-m*t),x=(n-m)*(t*t);return g*x});const h=5/t,f=dD(a,c,h);if(t=Ti(t),isNaN(f))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:t}}}const uD=12;function dD(t,e,n){let s=n;for(let a=1;a<uD;a++)s=s-t(s)/e(s);return s}function Jy(t,e){return t*Math.sqrt(1-e*e)}const hD=["duration","bounce"],fD=["stiffness","damping","mass"];function Zw(t,e){return e.some(n=>t[n]!==void 0)}function mD(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!Zw(t,fD)&&Zw(t,hD))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,c=2*vr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ft.mass,stiffness:a,damping:c}}else{const n=cD(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function $f(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:c},{stiffness:f,damping:m,mass:g,duration:x,velocity:b,isResolvedFromDuration:w}=mD({...n,velocity:-Fs(n.velocity||0)}),T=b||0,C=m/(2*Math.sqrt(f*g)),S=u-c,E=Fs(Math.sqrt(f/g)),R=Math.abs(S)<5;s||(s=R?Ft.restSpeed.granular:Ft.restSpeed.default),a||(a=R?Ft.restDelta.granular:Ft.restDelta.default);let P;if(C<1){const $=Jy(E,C);P=X=>{const A=Math.exp(-C*E*X);return u-A*((T+C*E*S)/$*Math.sin($*X)+S*Math.cos($*X))}}else if(C===1)P=$=>u-Math.exp(-E*$)*(S+(T+E*S)*$);else{const $=E*Math.sqrt(C*C-1);P=X=>{const A=Math.exp(-C*E*X),N=Math.min($*X,300);return u-A*((T+C*E*S)*Math.sinh(N)+$*S*Math.cosh(N))/$}}const F={calculatedDuration:w&&x||null,next:$=>{const X=P($);if(w)h.done=$>=x;else{let A=$===0?T:0;C<1&&(A=$===0?Ti(T):AS(P,$,X));const N=Math.abs(A)<=s,z=Math.abs(u-X)<=a;h.done=N&&z}return h.value=h.done?u:X,h},toString:()=>{const $=Math.min(P0(F),qf),X=NS(A=>F.next($*A).value,$,30);return $+"ms "+X},toTransition:()=>{}};return F}$f.applyToOptions=t=>{const e=oD(t,100,$f);return t.ease=e.ease,t.duration=Ti(e.duration),t.type="keyframes",t};function ev({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:f,restDelta:m=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},w=N=>h!==void 0&&N<h||f!==void 0&&N>f,T=N=>h===void 0?f:f===void 0||Math.abs(h-N)<Math.abs(f-N)?h:f;let C=n*e;const S=x+C,E=u===void 0?S:u(S);E!==S&&(C=E-x);const R=N=>-C*Math.exp(-N/s),P=N=>E+R(N),F=N=>{const z=R(N),B=P(N);b.done=Math.abs(z)<=m,b.value=b.done?E:B};let $,X;const A=N=>{w(b.value)&&($=N,X=$f({keyframes:[b.value,T(b.value)],velocity:AS(P,N,b.value),damping:a,stiffness:c,restDelta:m,restSpeed:g}))};return A(0),{calculatedDuration:null,next:N=>{let z=!1;return!X&&$===void 0&&(z=!0,F(N),A(N)),$!==void 0&&N>=$?X.next(N-$):(!z&&F(N),b)}}}function pD(t,e,n){const s=[],a=n||xr.mix||TS,c=t.length-1;for(let u=0;u<c;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||qs:e;h=Sd(f,h)}s.push(h)}return s}function gD(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const c=t.length;if(T0(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=pD(e,s,a),f=h.length,m=g=>{if(u&&g<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const b=Wu(t[x],t[x+1],g);return h[x](b)};return n?g=>m(vr(t[0],t[c-1],g)):m}function yD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Wu(0,e,s);t.push(Vt(n,1,a))}}function vD(t){const e=[0];return yD(e,t.length-1),e}function xD(t,e){return t.map(n=>n*e)}function bD(t,e){return t.map(()=>e||yS).splice(0,t.length-1)}function Ou({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=R4(s)?s.map($w):$w(s),c={done:!1,value:e[0]},u=xD(n&&n.length===e.length?n:vD(e),t),h=gD(u,e,{ease:Array.isArray(a)?a:bD(e,a)});return{calculatedDuration:t,next:f=>(c.value=h(f),c.done=f>=t,c)}}const jD=t=>t!==null;function O0(t,{repeat:e,repeatType:n="loop"},s,a=1){const c=t.filter(jD),h=a<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!h||s===void 0?c[h]:s}const wD={decay:ev,inertia:ev,tween:Ou,keyframes:Ou,spring:$f};function CS(t){typeof t.type=="string"&&(t.type=wD[t.type])}class L0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _D=t=>t/100;class B0 extends L0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==es.now()&&this.tick(es.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CS(e);const{type:n=Ou,repeat:s=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Ou;f!==Ou&&typeof h[0]!="number"&&(this.mixKeyframes=Sd(_D,TS(h[0],h[1])),h=[0,100]);const m=f({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=P0(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:x,repeatType:b,repeatDelay:w,type:T,onUpdate:C,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-m*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?E<0:E>a;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let P=this.currentTime,F=s;if(x){const N=Math.min(this.currentTime,a)/h;let z=Math.floor(N),B=N%1;!B&&N>=1&&(B=1),B===1&&z--,z=Math.min(z,x+1),!!(z%2)&&(b==="reverse"?(B=1-B,w&&(B-=w/h)):b==="mirror"&&(F=u)),P=vr(0,1,B)*h}const $=R?{done:!1,value:g[0]}:F.next(P);c&&($.value=c($.value));let{done:X}=$;!R&&f!==null&&(X=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return A&&T!==ev&&($.value=O0(g,this.options,S,this.speed)),C&&C($.value),A&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Fs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fs(e)}get time(){return Fs(this.currentTime)}set time(e){e=Ti(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(es.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=aD,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(es.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ED(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yo=t=>t*180/Math.PI,tv=t=>{const e=yo(Math.atan2(t[1],t[0]));return nv(e)},kD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tv,rotateZ:tv,skewX:t=>yo(Math.atan(t[1])),skewY:t=>yo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nv=t=>(t=t%360,t<0&&(t+=360),t),Qw=tv,Ww=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Jw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),SD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ww,scaleY:Jw,scale:t=>(Ww(t)+Jw(t))/2,rotateX:t=>nv(yo(Math.atan2(t[6],t[5]))),rotateY:t=>nv(yo(Math.atan2(-t[2],t[0]))),rotateZ:Qw,rotate:Qw,skewX:t=>yo(Math.atan(t[4])),skewY:t=>yo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function sv(t){return t.includes("scale")?1:0}function iv(t,e){if(!t||t==="none")return sv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=SD,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=kD,a=h}if(!a)return sv(e);const c=s[e],u=a[1].split(",").map(ND);return typeof c=="function"?c(u):u[c]}const TD=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return iv(n,e)};function ND(t){return parseFloat(t.trim())}const hc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fc=new Set(hc),e_=t=>t===dc||t===De,AD=new Set(["x","y","z"]),CD=hc.filter(t=>!AD.has(t));function RD(t){const e=[];return CD.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const jo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>iv(e,"x"),y:(t,{transform:e})=>iv(e,"y")};jo.translateX=jo.x;jo.translateY=jo.y;const wo=new Set;let rv=!1,av=!1,ov=!1;function RS(){if(av){const t=Array.from(wo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=RD(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([c,u])=>{s.getValue(c)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}av=!1,rv=!1,wo.forEach(t=>t.complete(ov)),wo.clear()}function zS(){wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(av=!0)})}function zD(){ov=!0,zS(),RS(),ov=!1}class U0{constructor(e,n,s,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(wo.add(this),rv||(rv=!0,zt.read(zS),zt.resolveKeyframes(RS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const c=a?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}ED(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wo.delete(this)}cancel(){this.state==="scheduled"&&(wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const MD=t=>t.startsWith("--");function DD(t,e,n){MD(e)?t.style.setProperty(e,n):t.style[e]=n}const VD=N0(()=>window.ScrollTimeline!==void 0),ID={};function PD(t,e){const n=N0(t);return()=>ID[e]??n()}const MS=PD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,t_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function DS(t,e){if(t)return typeof t=="function"?MS()?NS(t,e):"ease-out":vS(t)?Tu(t):Array.isArray(t)?t.map(n=>DS(n,e)||t_.easeOut):t_[t]}function OD(t,e,n,{delay:s=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:f}={},m=void 0){const g={[e]:n};f&&(g.offset=f);const x=DS(h,a);Array.isArray(x)&&(g.easing=x);const b={delay:s,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(g,b)}function VS(t){return typeof t=="function"&&"applyToOptions"in t}function LD({type:t,...e}){return VS(t)&&MS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BD extends L0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,T0(typeof e.type!="string");const m=LD(e);this.animation=OD(n,s,a,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=O0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):DD(n,s,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Fs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fs(e)}get time(){return Fs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ti(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&VD()?(this.animation.timeline=e,qs):n(this)}}const IS={anticipate:mS,backInOut:fS,circInOut:gS};function UD(t){return t in IS}function FD(t){typeof t.ease=="string"&&UD(t.ease)&&(t.ease=IS[t.ease])}const n_=10;class HD extends BD{constructor(e){FD(e),CS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new B0({...u,autoplay:!1}),f=Ti(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-n_).value,h.sample(f).value,n_),h.stop()}}const s_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xa.test(t)||t==="0")&&!t.startsWith("url("));function qD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $D(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=s_(a,e),h=s_(c,e);return!u||!h?!1:qD(t)||(n==="spring"||VS(n))&&s}function lv(t){t.duration=0,t.type="keyframes"}const GD=new Set(["opacity","clipPath","filter","transform"]),KD=N0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YD(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return KD()&&n&&GD.has(n)&&(n!=="transform"||!m)&&!f&&!s&&a!=="mirror"&&c!==0&&u!=="inertia"}const XD=40;class ZD extends L0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:f,motionValue:m,element:g,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=es.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:c,repeatType:u,name:f,motionValue:m,element:g,...x},w=g?.KeyframeResolver||U0;this.keyframeResolver=new w(h,(T,C,S)=>this.onKeyframesResolved(T,C,b,!S),f,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:f,isHandoff:m,onUpdate:g}=s;this.resolvedAt=es.now(),$D(e,c,u,h)||((xr.instantAnimations||!f)&&g?.(O0(e,s,n)),e[0]=e[e.length-1],lv(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>XD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!m&&YD(b)?new HD({...b,element:b.motionValue.owner.current}):new B0(b);w.finished.then(()=>this.notifyFinished()).catch(qs),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const QD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WD(t){const e=QD.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function PS(t,e,n=1){const[s,a]=WD(t);if(!s)return;const c=window.getComputedStyle(e).getPropertyValue(s);if(c){const u=c.trim();return rS(u)?parseFloat(u):u}return M0(a)?PS(a,e,n+1):a}function F0(t,e){return t?.[e]??t?.default??t}const OS=new Set(["width","height","top","left","right","bottom",...hc]),JD={test:t=>t==="auto",parse:t=>t},LS=t=>e=>e.test(t),BS=[dc,De,Ni,oa,q4,H4,JD],i_=t=>BS.find(LS(t));function e5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oS(t):!0}const t5=new Set(["brightness","contrast","saturate","opacity"]);function n5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(D0)||[];if(!s)return t;const a=n.replace(s,"");let c=t5.has(e)?1:0;return s!==n&&(c*=100),e+"("+c+a+")"}const s5=/\b([a-z-]*)\(.*?\)/gu,cv={...xa,getAnimatableNone:t=>{const e=t.match(s5);return e?e.map(n5).join(" "):t}},r_={...dc,transform:Math.round},i5={rotate:oa,rotateX:oa,rotateY:oa,rotateZ:oa,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:oa,skewX:oa,skewY:oa,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Ju,originX:Gw,originY:Gw,originZ:De},H0={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...i5,zIndex:r_,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:r_},r5={...H0,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:cv,WebkitFilter:cv},US=t=>r5[t];function FS(t,e){let n=US(t);return n!==cv&&(n=xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const a5=new Set(["auto","none","0"]);function o5(t,e,n){let s=0,a;for(;s<t.length&&!a;){const c=t[s];typeof c=="string"&&!a5.has(c)&&ed(c).values.length&&(a=t[s]),s++}if(a&&n)for(const c of e)t[c]=FS(n,a)}class l5 extends U0{constructor(e,n,s,a,c){super(e,n,s,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),M0(m))){const g=PS(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!OS.has(s)||e.length!==2)return;const[a,c]=e,u=i_(a),h=i_(c);if(u!==h)if(e_(u)&&e_(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else jo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||e5(e[a]))&&s.push(a);s.length&&o5(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const c=s.length-1,u=s[c];s[c]=jo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function c5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const HS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function u5(t){return aS(t)&&"offsetHeight"in t}const a_=30,d5=t=>!isNaN(parseFloat(t));class h5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=es.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=d5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new A0);const s=this.events[e].add(n);return e==="change"?()=>{s(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>a_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,a_);return lS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(t,e){return new h5(t,e)}const{schedule:q0}=xS(queueMicrotask,!1),ri={x:!1,y:!1};function qS(){return ri.x||ri.y}function f5(t){return t==="x"||t==="y"?ri[t]?null:(ri[t]=!0,()=>{ri[t]=!1}):ri.x||ri.y?null:(ri.x=ri.y=!0,()=>{ri.x=ri.y=!1})}function $S(t,e){const n=c5(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function o_(t){return!(t.pointerType==="touch"||qS())}function m5(t,e,n={}){const[s,a,c]=$S(t,n),u=h=>{if(!o_(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const g=x=>{o_(x)&&(m(x),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),c}const GS=(t,e)=>e?t===e?!0:GS(t,e.parentElement):!1,$0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,p5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g5(t){return p5.has(t.tagName)||t.tabIndex!==-1}const Tf=new WeakSet;function l_(t){return e=>{e.key==="Enter"&&t(e)}}function uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y5=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=l_(()=>{if(Tf.has(n))return;uy(n,"down");const a=l_(()=>{uy(n,"up")}),c=()=>uy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function c_(t){return $0(t)&&!qS()}function v5(t,e,n={}){const[s,a,c]=$S(t,n),u=h=>{const f=h.currentTarget;if(!c_(h))return;Tf.add(f);const m=e(f,h),g=(w,T)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),Tf.has(f)&&Tf.delete(f),c_(w)&&typeof m=="function"&&m(w,{success:T})},x=w=>{g(w,f===window||f===document||n.useGlobalTarget||GS(f,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),u5(h)&&(h.addEventListener("focus",m=>y5(m,a)),!g5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function KS(t){return aS(t)&&"ownerSVGElement"in t}function x5(t){return KS(t)&&t.tagName==="svg"}const Dn=t=>!!(t&&t.getVelocity),b5=[...BS,rn,xa],j5=t=>b5.find(LS(t)),YS=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function w5(t=!0){const e=M.useContext(E0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,c=M.useId();M.useEffect(()=>{if(t)return a(c)},[t]);const u=M.useCallback(()=>t&&s&&s(c),[c,s,t]);return!n&&s?[!1,u]:[!0]}const XS=M.createContext({strict:!1}),u_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const t in u_)Zl[t]={isEnabled:e=>u_[t].some(n=>!!e[n])};function _5(t){for(const e in t)Zl[e]={...Zl[e],...t[e]}}const E5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||E5.has(t)}let ZS=t=>!Gf(t);function k5(t){typeof t=="function"&&(ZS=e=>e.startsWith("on")?!Gf(e):t(e))}try{k5(require("@emotion/is-prop-valid").default)}catch{}function S5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(ZS(a)||n===!0&&Gf(a)||!e&&!Gf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Am=M.createContext({});function Cm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function td(t){return typeof t=="string"||Array.isArray(t)}const G0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K0=["initial",...G0];function Rm(t){return Cm(t.animate)||K0.some(e=>td(t[e]))}function QS(t){return!!(Rm(t)||t.variants)}function T5(t,e){if(Rm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||td(n)?n:void 0,animate:td(s)?s:void 0}}return t.inherit!==!1?e:{}}function N5(t){const{initial:e,animate:n}=T5(t,M.useContext(Am));return M.useMemo(()=>({initial:e,animate:n}),[d_(e),d_(n)])}function d_(t){return Array.isArray(t)?t.join(" "):t}const nd={};function A5(t){for(const e in t)nd[e]=t[e],z0(e)&&(nd[e].isCSSVariable=!0)}function WS(t,{layout:e,layoutId:n}){return fc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nd[t]||t==="opacity")}const C5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R5=hc.length;function z5(t,e,n){let s="",a=!0;for(let c=0;c<R5;c++){const u=hc[c],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=HS(h,H0[u]);if(!f){a=!1;const g=C5[u]||u;s+=`${g}(${m}) `}n&&(e[u]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Y0(t,e,n){const{style:s,vars:a,transformOrigin:c}=t;let u=!1,h=!1;for(const f in e){const m=e[f];if(fc.has(f)){u=!0;continue}else if(z0(f)){a[f]=m;continue}else{const g=HS(m,H0[f]);f.startsWith("origin")?(h=!0,c[f]=g):s[f]=g}}if(e.transform||(u||n?s.transform=z5(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:g=0}=c;s.transformOrigin=`${f} ${m} ${g}`}}const X0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JS(t,e,n){for(const s in e)!Dn(e[s])&&!WS(s,n)&&(t[s]=e[s])}function M5({transformTemplate:t},e){return M.useMemo(()=>{const n=X0();return Y0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function D5(t,e){const n=t.style||{},s={};return JS(s,n,t),Object.assign(s,M5(t,e)),s}function V5(t,e){const n={},s=D5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const I5={offset:"stroke-dashoffset",array:"stroke-dasharray"},P5={offset:"strokeDashoffset",array:"strokeDasharray"};function O5(t,e,n=1,s=0,a=!0){t.pathLength=1;const c=a?I5:P5;t[c.offset]=De.transform(-s);const u=De.transform(e),h=De.transform(n);t[c.array]=`${u} ${h}`}function eT(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...h},f,m,g){if(Y0(t,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b}=t;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),a!==void 0&&O5(x,a,c,u,!1)}const tT=()=>({...X0(),attrs:{}}),nT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function L5(t,e,n,s){const a=M.useMemo(()=>{const c=tT();return eT(c,e,nT(s),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};JS(c,t.style,t),a.style={...c,...a.style}}return a}const B5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z0(t){return typeof t!="string"||t.includes("-")?!1:!!(B5.indexOf(t)>-1||/[A-Z]/u.test(t))}function U5(t,e,n,{latestValues:s},a,c=!1){const h=(Z0(t)?L5:V5)(e,s,a,t),f=S5(e,typeof t=="string",c),m=t!==M.Fragment?{...f,...h,ref:n}:{},{children:g}=e,x=M.useMemo(()=>Dn(g)?g.get():g,[g]);return M.createElement(t,{...m,children:x})}function h_(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Q0(t,e,n,s){if(typeof e=="function"){const[a,c]=h_(s);e=e(n!==void 0?n:t.custom,a,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,c]=h_(s);e=e(n!==void 0?n:t.custom,a,c)}return e}function Nf(t){return Dn(t)?t.get():t}function F5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:H5(n,s,a,t),renderState:e()}}function H5(t,e,n,s){const a={},c=s(t,{});for(const b in c)a[b]=Nf(c[b]);let{initial:u,animate:h}=t;const f=Rm(t),m=QS(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const x=g?h:u;if(x&&typeof x!="boolean"&&!Cm(x)){const b=Array.isArray(x)?x:[x];for(let w=0;w<b.length;w++){const T=Q0(t,b[w]);if(T){const{transitionEnd:C,transition:S,...E}=T;for(const R in E){let P=E[R];if(Array.isArray(P)){const F=g?P.length-1:0;P=P[F]}P!==null&&(a[R]=P)}for(const R in C)a[R]=C[R]}}}return a}const sT=t=>(e,n)=>{const s=M.useContext(Am),a=M.useContext(E0),c=()=>F5(t,e,s,a);return n?c():_4(c)};function W0(t,e,n){const{style:s}=t,a={};for(const c in s)(Dn(s[c])||e.style&&Dn(e.style[c])||WS(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(a[c]=s[c]);return a}const q5=sT({scrapeMotionValuesFromProps:W0,createRenderState:X0});function iT(t,e,n){const s=W0(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const c=hc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[c]=t[a]}return s}const $5=sT({scrapeMotionValuesFromProps:iT,createRenderState:tT}),G5=Symbol.for("motionComponentSymbol");function Ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function K5(t,e,n){return M.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ml(n)&&(n.current=s))},[e])}const J0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y5="framerAppearId",rT="data-"+J0(Y5),aT=M.createContext({});function X5(t,e,n,s,a){const{visualElement:c}=M.useContext(Am),u=M.useContext(XS),h=M.useContext(E0),f=M.useContext(YS).reducedMotion,m=M.useRef(null);s=s||u.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,x=M.useContext(aT);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&Z5(m.current,n,a,x);const b=M.useRef(!1);M.useInsertionEffect(()=>{g&&b.current&&g.update(n,h)});const w=n[rT],T=M.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return E4(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),T.current&&g.animationState&&g.animationState.animateChanges())}),M.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),T.current=!1),g.enteringChildren=void 0)}),g}function Z5(t,e,n,s){const{layoutId:a,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oT(t.parent)),t.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||h&&Ml(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:f,layoutRoot:m})}function oT(t){if(t)return t.options.allowProjection!==!1?t.projection:oT(t.parent)}function dy(t,{forwardMotionProps:e=!1}={},n,s){n&&_5(n);const a=Z0(t)?$5:q5;function c(h,f){let m;const g={...M.useContext(YS),...h,layoutId:Q5(h)},{isStatic:x}=g,b=N5(h),w=a(h,x);if(!x&&_0){W5();const T=J5(g);m=T.MeasureLayout,b.visualElement=X5(t,w,g,s,T.ProjectionNode)}return o.jsxs(Am.Provider,{value:b,children:[m&&b.visualElement?o.jsx(m,{visualElement:b.visualElement,...g}):null,U5(t,h,K5(w,b.visualElement,f),w,x,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(c);return u[G5]=t,u}function Q5({layoutId:t}){const e=M.useContext(iS).id;return e&&t!==void 0?e+"-"+t:t}function W5(t,e){M.useContext(XS).strict}function J5(t){const{drag:e,layout:n}=Zl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function eV(t,e){if(typeof Proxy>"u")return dy;const n=new Map,s=(c,u)=>dy(c,u,t,e),a=(c,u)=>s(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?s:(n.has(u)||n.set(u,dy(u,void 0,t,e)),n.get(u))})}function lT({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function tV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function hy(t){return t===void 0||t===1}function uv({scale:t,scaleX:e,scaleY:n}){return!hy(t)||!hy(e)||!hy(n)}function fo(t){return uv(t)||cT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cT(t){return f_(t.x)||f_(t.y)}function f_(t){return t&&t!=="0%"}function Kf(t,e,n){const s=t-n,a=e*s;return n+a}function m_(t,e,n,s,a){return a!==void 0&&(t=Kf(t,a,s)),Kf(t,n,s)+e}function dv(t,e=0,n=1,s,a){t.min=m_(t.min,e,n,s,a),t.max=m_(t.max,e,n,s,a)}function uT(t,{x:e,y:n}){dv(t.x,e.translate,e.scale,e.originPoint),dv(t.y,n.translate,n.scale,n.originPoint)}const p_=.999999999999,g_=1.0000000000001;function sV(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let c,u;for(let h=0;h<a;h++){c=n[h],u=c.projectionDelta;const{visualElement:f}=c.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Vl(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,uT(t,u)),s&&fo(c.latestValues)&&Vl(t,c.latestValues))}e.x<g_&&e.x>p_&&(e.x=1),e.y<g_&&e.y>p_&&(e.y=1)}function Dl(t,e){t.min=t.min+e,t.max=t.max+e}function y_(t,e,n,s,a=.5){const c=Vt(t.min,t.max,a);dv(t,e,n,c,s)}function Vl(t,e){y_(t.x,e.x,e.scaleX,e.scale,e.originX),y_(t.y,e.y,e.scaleY,e.scale,e.originY)}function dT(t,e){return lT(nV(t.getBoundingClientRect(),e))}function iV(t,e,n){const s=dT(t,n),{scroll:a}=e;return a&&(Dl(s.x,a.offset.x),Dl(s.y,a.offset.y)),s}const v_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:v_(),y:v_()}),x_=()=>({min:0,max:0}),Zt=()=>({x:x_(),y:x_()}),hv={current:null},hT={current:!1};function rV(){if(hT.current=!0,!!_0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hv.current=t.matches;t.addEventListener("change",e),e()}else hv.current=!1}const aV=new WeakMap;function oV(t,e,n){for(const s in e){const a=e[s],c=n[s];if(Dn(a))t.addValue(s,a);else if(Dn(c))t.addValue(s,Xl(a,{owner:t}));else if(c!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Xl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const b_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lV{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=U0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=es.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,zt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=Rm(n),this.isVariantNode=QS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in x){const w=x[b];f[b]!==void 0&&Dn(w)&&w.set(f[b])}}mount(e){this.current=e,aV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),hT.current||rV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),va(this.notifyUpdate),va(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=fc.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&zt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zl){const n=Zl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<b_.length;s++){const a=b_[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=oV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Xl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(rS(s)||oS(s))?s=parseFloat(s):!j5(s)&&xa.test(n)&&(s=FS(e,n)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Q0(this.props,n,this.presenceContext?.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new A0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){q0.render(this.render)}}class fT extends lV{constructor(){super(...arguments),this.KeyframeResolver=l5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mT(t,{style:e,vars:n},s,a){const c=t.style;let u;for(u in e)c[u]=e[u];a?.applyProjectionStyles(c,s);for(u in n)c.setProperty(u,n[u])}function cV(t){return window.getComputedStyle(t)}class uV extends fT{constructor(){super(...arguments),this.type="html",this.renderInstance=mT}readValueFromInstance(e,n){if(fc.has(n))return this.projection?.isProjecting?sv(n):TD(e,n);{const s=cV(e),a=(z0(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dT(e,n)}build(e,n,s){Y0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return W0(e,n,s)}}const pT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dV(t,e,n,s){mT(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(pT.has(a)?a:J0(a),e.attrs[a])}class hV extends fT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fc.has(n)){const s=US(n);return s&&s.default||0}return n=pT.has(n)?n:J0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return iT(e,n,s)}build(e,n,s){eT(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){dV(e,n,s,a)}mount(e){this.isSVGTag=nT(e.tagName),super.mount(e)}}const fV=(t,e)=>Z0(t)?new hV(e):new uV(e,{allowProjection:t!==M.Fragment});function Ol(t,e,n){const s=t.getProps();return Q0(s,e,n!==void 0?n:s.custom,t)}const fv=t=>Array.isArray(t);function mV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xl(n))}function pV(t){return fv(t)?t[t.length-1]||0:t}function gV(t,e){const n=Ol(t,e);let{transitionEnd:s={},transition:a={},...c}=n||{};c={...c,...s};for(const u in c){const h=pV(c[u]);mV(t,u,h)}}function yV(t){return!!(Dn(t)&&t.add)}function mv(t,e){const n=t.getValue("willChange");if(yV(n))return n.add(e);if(!n&&xr.WillChange){const s=new xr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function gT(t){return t.props[rT]}const vV=t=>t!==null;function xV(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(vV),c=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[c]}const bV={type:"spring",stiffness:500,damping:25,restSpeed:10},jV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wV={type:"keyframes",duration:.8},_V={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EV=(t,{keyframes:e})=>e.length>2?wV:fc.has(t)?t.startsWith("scale")?jV(e[1]):bV:_V;function kV({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:h,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const ex=(t,e,n,s={},a,c)=>u=>{const h=F0(s,t)||{},f=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Ti(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:b=>{e.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:a};kV(h)||Object.assign(g,EV(t,g)),g.duration&&(g.duration=Ti(g.duration)),g.repeatDelay&&(g.repeatDelay=Ti(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(lv(g),g.delay===0&&(x=!0)),(xr.instantAnimations||xr.skipAnimations)&&(x=!0,lv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,x&&!c&&e.get()!==void 0){const b=xV(g.keyframes,h);if(b!==void 0){zt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return h.isSync?new B0(g):new ZD(g)};function SV({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function yT(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(c=s);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const x=t.getValue(g,t.latestValues[g]??null),b=h[g];if(b===void 0||m&&SV(m,g))continue;const w={delay:n,...F0(c||{},g)},T=x.get();if(T!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===T&&!w.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const E=gT(t);if(E){const R=window.MotionHandoffAnimation(E,g,zt);R!==null&&(w.startTime=R,C=!0)}}mv(t,g),x.start(ex(g,x,b,t.shouldReduceMotion&&OS.has(g)?{type:!1}:w,t,C));const S=x.animation;S&&f.push(S)}return u&&Promise.all(f).then(()=>{zt.update(()=>{u&&gV(t,u)})}),f}function vT(t,e,n,s=0,a=1){const c=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(c,u):a===1?c*s:h-c*s}function pv(t,e,n={}){const s=Ol(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const c=s?()=>Promise.all(yT(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:x}=a;return TV(t,e,f,m,g,x,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,m]=h==="beforeChildren"?[c,u]:[u,c];return f().then(()=>m())}else return Promise.all([c(),u(n.delay)])}function TV(t,e,n=0,s=0,a=0,c=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(pv(f,e,{...u,delay:n+(typeof s=="function"?0:s)+vT(t.variantChildren,f,s,a,c)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function NV(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(c=>pv(t,c,n));s=Promise.all(a)}else if(typeof e=="string")s=pv(t,e,n);else{const a=typeof e=="function"?Ol(t,e,n.custom):e;s=Promise.all(yT(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function xT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const AV=K0.length;function bT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AV;n++){const s=K0[n],a=t.props[s];(td(a)||a===!1)&&(e[s]=a)}return e}const CV=[...G0].reverse(),RV=G0.length;function zV(t){return e=>Promise.all(e.map(({animation:n,options:s})=>NV(t,n,s)))}function MV(t){let e=zV(t),n=j_(),s=!0;const a=f=>(m,g)=>{const x=Ol(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:w,...T}=x;m={...m,...T,...w}}return m};function c(f){e=f(t)}function u(f){const{props:m}=t,g=bT(t.parent)||{},x=[],b=new Set;let w={},T=1/0;for(let S=0;S<RV;S++){const E=CV[S],R=n[E],P=m[E]!==void 0?m[E]:g[E],F=td(P),$=E===f?R.isActive:null;$===!1&&(T=S);let X=P===g[E]&&P!==m[E]&&F;if(X&&s&&t.manuallyAnimateOnMount&&(X=!1),R.protectedKeys={...w},!R.isActive&&$===null||!P&&!R.prevProp||Cm(P)||typeof P=="boolean")continue;const A=DV(R.prevProp,P);let N=A||E===f&&R.isActive&&!X&&F||S>T&&F,z=!1;const B=Array.isArray(P)?P:[P];let L=B.reduce(a(E),{});$===!1&&(L={});const{prevResolvedValues:q={}}=R,I={...q,...L},H=Y=>{N=!0,b.has(Y)&&(z=!0,b.delete(Y)),R.needsAnimating[Y]=!0;const ee=t.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in I){const ee=L[Y],Q=q[Y];if(w.hasOwnProperty(Y))continue;let W=!1;fv(ee)&&fv(Q)?W=!xT(ee,Q):W=ee!==Q,W?ee!=null?H(Y):b.add(Y):ee!==void 0&&b.has(Y)?H(Y):R.protectedKeys[Y]=!0}R.prevProp=P,R.prevResolvedValues=L,R.isActive&&(w={...w,...L}),s&&t.blockInitialAnimation&&(N=!1);const ne=X&&A;N&&(!ne||z)&&x.push(...B.map(Y=>{const ee={type:E};if(typeof Y=="string"&&s&&!ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,W=Ol(Q,Y);if(Q.enteringChildren&&W){const{delayChildren:V}=W.transition||{};ee.delay=vT(Q.enteringChildren,t,V)}}return{animation:Y,options:ee}}))}if(b.size){const S={};if(typeof m.initial!="boolean"){const E=Ol(t,Array.isArray(m.initial)?m.initial[0]:m.initial);E&&E.transition&&(S.transition=E.transition)}b.forEach(E=>{const R=t.getBaseTarget(E),P=t.getValue(E);P&&(P.liveStyle=!0),S[E]=R??null}),x.push({animation:S})}let C=!!x.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),s=!1,C?e(x):Promise.resolve()}function h(f,m){if(n[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(f,m)),n[f].isActive=m;const g=u(f);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>n,reset:()=>{n=j_()}}}function DV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xT(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j_(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class Na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class VV extends Na{constructor(e){super(e),e.animationState||(e.animationState=MV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let IV=0;class PV extends Na{constructor(){super(...arguments),this.id=IV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OV={animation:{Feature:VV},exit:{Feature:PV}};function sd(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ad(t){return{point:{x:t.pageX,y:t.pageY}}}const LV=t=>e=>$0(e)&&t(e,Ad(e));function Lu(t,e,n,s){return sd(t,e,LV(n),s)}const jT=1e-4,BV=1-jT,UV=1+jT,wT=.01,FV=0-wT,HV=0+wT;function Fn(t){return t.max-t.min}function qV(t,e,n){return Math.abs(t-e)<=n}function w_(t,e,n,s=.5){t.origin=s,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=BV&&t.scale<=UV||isNaN(t.scale))&&(t.scale=1),(t.translate>=FV&&t.translate<=HV||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,s){w_(t.x,e.x,n.x,s?s.originX:void 0),w_(t.y,e.y,n.y,s?s.originY:void 0)}function __(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function $V(t,e,n){__(t.x,e.x,n.x),__(t.y,e.y,n.y)}function E_(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Uu(t,e,n){E_(t.x,e.x,n.x),E_(t.y,e.y,n.y)}function Ls(t){return[t("x"),t("y")]}const _T=({current:t})=>t?t.ownerDocument.defaultView:null,k_=(t,e)=>Math.abs(t-e);function GV(t,e){const n=k_(t.x,e.x),s=k_(t.y,e.y);return Math.sqrt(n**2+s**2)}class ET{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=my(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=GV(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!T)return;const{point:C}=b,{timestamp:S}=_n;this.history.push({...C,timestamp:S});const{onStart:E,onMove:R}=this.handlers;w||(E&&E(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=fy(w,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=my(b.type==="pointercancel"?this.lastMoveEventInfo:fy(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,E),C&&C(b,E)},!$0(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=Ad(e),f=fy(h,this.transformPagePoint),{point:m}=f,{timestamp:g}=_n;this.history=[{...m,timestamp:g}];const{onSessionStart:x}=n;x&&x(e,my(f,this.history)),this.removeListeners=Sd(Lu(this.contextWindow,"pointermove",this.handlePointerMove),Lu(this.contextWindow,"pointerup",this.handlePointerUp),Lu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),va(this.updatePoint)}}function fy(t,e){return e?{point:e(t.point)}:t}function S_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function my({point:t},e){return{point:t,delta:S_(t,kT(e)),offset:S_(t,KV(e)),velocity:YV(e,.1)}}function KV(t){return t[0]}function kT(t){return t[t.length-1]}function YV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=kT(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ti(e)));)n--;if(!s)return{x:0,y:0};const c=Fs(a.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-s.x)/c,y:(a.y-s.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function XV(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Vt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Vt(n,t,s.max):Math.min(t,n)),t}function T_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ZV(t,{top:e,left:n,bottom:s,right:a}){return{x:T_(t.x,n,a),y:T_(t.y,e,s)}}function N_(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function QV(t,e){return{x:N_(t.x,e.x),y:N_(t.y,e.y)}}function WV(t,e){let n=.5;const s=Fn(t),a=Fn(e);return a>s?n=Wu(e.min,e.max-s,t.min):s>a&&(n=Wu(t.min,t.max-a,e.min)),vr(0,1,n)}function JV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gv=.35;function eI(t=gv){return t===!1?t=0:t===!0&&(t=gv),{x:A_(t,"left","right"),y:A_(t,"top","bottom")}}function A_(t,e,n){return{min:C_(t,e),max:C_(t,n)}}function C_(t,e){return typeof t=="number"?t:t[e]||0}const tI=new WeakMap;class nI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ad(x).point)},u=(x,b)=>{const{drag:w,dragPropagation:T,onDragStart:C}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f5(w),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ls(E=>{let R=this.getAxisMotionValue(E).get()||0;if(Ni.test(R)){const{projection:P}=this.visualElement;if(P&&P.layout){const F=P.layout.layoutBox[E];F&&(R=Fn(F)*(parseFloat(R)/100))}}this.originPoint[E]=R}),C&&zt.postRender(()=>C(x,b)),mv(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},h=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:C,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=b;if(T&&this.currentDirection===null){this.currentDirection=sI(E),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,E),this.updateAxis("y",b.point,E),this.visualElement.render(),S&&S(x,b)},f=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Ls(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ET(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:_T(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&zt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!of(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=XV(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ml(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=ZV(s.layoutBox,e):this.constraints=!1,this.elastic=eI(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ls(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=JV(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ml(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=iV(s,a.root,this.visualElement.getTransformPagePoint());let u=QV(a.layout.layoutBox,c);if(n){const h=n(tV(u));this.hasMutatedConstraints=!!h,h&&(u=lT(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=Ls(g=>{if(!of(g,n,this.currentDirection))return;let x=f&&f[g]||{};u&&(x={min:0,max:0});const b=a?200:1e6,w=a?40:1e7,T={type:"inertia",velocity:s?e[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(g,T)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return mv(this.visualElement,e),s.start(ex(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ls(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ls(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ls(n=>{const{drag:s}=this.getProps();if(!of(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];c.set(e[n]-Vt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ml(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ls(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=WV({min:f,max:f},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ls(u=>{if(!of(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];h.set(Vt(f,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;tI.set(this.visualElement,this);const e=this.visualElement.current,n=Lu(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Ml(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),zt.read(s);const u=sd(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ls(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=f[g].translate,x.set(x.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=gv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class iI extends Na{constructor(e){super(e),this.removeGroupControls=qs,this.removeListeners=qs,this.controls=new nI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qs}unmount(){this.removeGroupControls(),this.removeListeners()}}const R_=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class rI extends Na{constructor(){super(...arguments),this.removePointerDownListener=qs}onPointerDown(e){this.session=new ET(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_T(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:R_(e),onStart:R_(n),onMove:s,onEnd:(c,u)=>{delete this.session,a&&zt.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=Lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function z_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=z_(t,e.target.x),s=z_(t,e.target.y);return`${n}% ${s}%`}},aI={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=xa.parse(t);if(a.length>5)return s;const c=xa.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const m=Vt(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),c(a)}};let py=!1;class oI extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:c}=e;A5(lI),c&&(n.group&&n.group.add(c),s&&s.register&&a&&s.register(c),py&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:c}=this.props,{projection:u}=s;return u&&(u.isPresent=c,py=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||zt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),q0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;py=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ST(t){const[e,n]=w5(),s=M.useContext(iS);return o.jsx(oI,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(aT),isPresent:e,safeToRemove:n})}const lI={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:aI};function cI(t,e,n){const s=Dn(t)?t:Xl(t);return s.start(ex("",s,e,n)),s.animation}const uI=(t,e)=>t.depth-e.depth;class dI{constructor(){this.children=[],this.isDirty=!1}add(e){k0(this.children,e),this.isDirty=!0}remove(e){S0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uI),this.isDirty=!1,this.children.forEach(e)}}function hI(t,e){const n=es.now(),s=({timestamp:a})=>{const c=a-n;c>=e&&(va(s),t(c-e))};return zt.setup(s,!0),()=>va(s)}const TT=["TopLeft","TopRight","BottomLeft","BottomRight"],fI=TT.length,M_=t=>typeof t=="string"?parseFloat(t):t,D_=t=>typeof t=="number"||De.test(t);function mI(t,e,n,s,a,c){a?(t.opacity=Vt(0,n.opacity??1,pI(s)),t.opacityExit=Vt(e.opacity??1,0,gI(s))):c&&(t.opacity=Vt(e.opacity??1,n.opacity??1,s));for(let u=0;u<fI;u++){const h=`border${TT[u]}Radius`;let f=V_(e,h),m=V_(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||D_(f)===D_(m)?(t[h]=Math.max(Vt(M_(f),M_(m),s),0),(Ni.test(m)||Ni.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,s))}function V_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pI=NT(0,.5,pS),gI=NT(.5,.95,qs);function NT(t,e,n){return s=>s<t?0:s>e?1:n(Wu(t,e,s))}function I_(t,e){t.min=e.min,t.max=e.max}function Os(t,e){I_(t.x,e.x),I_(t.y,e.y)}function P_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function O_(t,e,n,s,a){return t-=e,t=Kf(t,1/n,s),a!==void 0&&(t=Kf(t,1/a,s)),t}function yI(t,e=0,n=1,s=.5,a,c=t,u=t){if(Ni.test(e)&&(e=parseFloat(e),e=Vt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Vt(c.min,c.max,s);t===c&&(h-=e),t.min=O_(t.min,e,n,h,a),t.max=O_(t.max,e,n,h,a)}function L_(t,e,[n,s,a],c,u){yI(t,e[n],e[s],e[a],e.scale,c,u)}const vI=["x","scaleX","originX"],xI=["y","scaleY","originY"];function B_(t,e,n,s){L_(t.x,e,vI,n?n.x:void 0,s?s.x:void 0),L_(t.y,e,xI,n?n.y:void 0,s?s.y:void 0)}function U_(t){return t.translate===0&&t.scale===1}function AT(t){return U_(t.x)&&U_(t.y)}function F_(t,e){return t.min===e.min&&t.max===e.max}function bI(t,e){return F_(t.x,e.x)&&F_(t.y,e.y)}function H_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CT(t,e){return H_(t.x,e.x)&&H_(t.y,e.y)}function q_(t){return Fn(t.x)/Fn(t.y)}function $_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jI{constructor(){this.members=[]}add(e){k0(this.members,e),e.scheduleRender()}remove(e){if(S0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wI(t,e,n){let s="";const a=t.x.translate/e.x,c=t.y.translate/e.y,u=n?.z||0;if((a||c||u)&&(s=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:b,skewX:w,skewY:T}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),x&&(s+=`rotateX(${x}deg) `),b&&(s+=`rotateY(${b}deg) `),w&&(s+=`skewX(${w}deg) `),T&&(s+=`skewY(${T}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const gy=["","X","Y","Z"],_I=1e3;let EI=0;function yy(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function RT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(a||c))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&RT(s)}function zT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=EI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TI),this.nodes.forEach(RI),this.nodes.forEach(zI),this.nodes.forEach(NI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new dI)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new A0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=KS(u)&&!x5(u),this.instance=u;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,x=0;const b=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{x=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==x&&(x=w,this.root.updateBlockedByResize=!0,g&&g(),g=hI(b,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(Y_)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||m.getDefaultTransition()||PI,{onLayoutAnimationStart:C,onLayoutAnimationComplete:S}=m.getProps(),E=!this.targetLayout||!CT(this.targetLayout,w),R=!x&&b;if(this.options.layoutRoot||this.resumeFrom||R||x&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...F0(T,"layout"),onPlay:C,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(g,R)}else x||Y_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),va(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CI),this.nodes.forEach(kI),this.nodes.forEach(SI)):this.nodes.forEach(K_),this.clearAllSnapshots();const h=es.now();_n.delta=vr(0,1e3/60,h-_n.timestamp),_n.timestamp=h,_n.isProcessing=!0,ry.update.process(_n),ry.preRender.process(_n),ry.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AI),this.sharedNodes.forEach(DI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fn(this.snapshot.measuredBox.x)&&!Fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!AT(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||fo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),OI(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Zt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(LI))){const{scroll:m}=this.root;m&&(Dl(h.x,m.offset.x),Dl(h.y,m.offset.y))}return h}removeElementScroll(u){const h=Zt();if(Os(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:x}=m;m!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Os(h,u),Dl(h.x,g.offset.x),Dl(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=Zt();Os(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),fo(g.latestValues)&&Vl(f,g.latestValues)}return fo(this.latestValues)&&Vl(f,this.latestValues),f}removeTransform(u){const h=Zt();Os(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!fo(m.latestValues))continue;uv(m.latestValues)&&m.updateSnapshot();const g=Zt(),x=m.measurePageBox();Os(g,x),B_(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return fo(this.latestValues)&&B_(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Uu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$V(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),uT(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Uu(this.relativeTargetOrigin,this.target,b.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uv(this.parent.latestValues)||cT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Os(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;sV(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Zt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P_(this.prevProjectionDelta.x,this.projectionDelta.x),P_(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!$_(this.projectionDelta.x,this.prevProjectionDelta.x)||!$_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Il(),this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},x=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Zt(),w=f?f.source:void 0,T=this.layout?this.layout.source:void 0,C=w!==T,S=this.getStack(),E=!S||S.members.length<=1,R=!!(C&&!E&&this.options.crossfade===!0&&!this.path.some(II));this.animationProgress=0;let P;this.mixTargetDelta=F=>{const $=F/1e3;X_(x.x,u.x,$),X_(x.y,u.y,$),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VI(this.relativeTarget,this.relativeTargetOrigin,b,$),P&&bI(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Zt()),Os(P,this.relativeTarget)),C&&(this.animationValues=g,mI(g,m,this.latestValues,$,R,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(va(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{Af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=cI(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_I),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:g}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&MT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Zt();const x=Fn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+x;const b=Fn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+b}Os(h,f),Vl(h,g),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new jI),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&yy("z",u,m,this.animationValues);for(let g=0;g<gy.length;g++)yy(`rotate${gy[g]}`,u,m,this.animationValues),yy(`skew${gy[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Nf(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Nf(h?.pointerEvents)||""),this.hasProjected&&!fo(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=wI(this.projectionDeltaWithTransform,this.treeScale,g);f&&(x=f(g,x)),u.transform=x;const{x:b,y:w}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in nd){if(g[T]===void 0)continue;const{correct:C,applyTo:S,isCSSVariable:E}=nd[T],R=x==="none"?g[T]:C(g[T],m);if(S){const P=S.length;for(let F=0;F<P;F++)u[S[F]]=R}else E?this.options.visualElement.renderState.vars[T]=R:u[T]=R}this.options.layoutId&&(u.pointerEvents=m===this?Nf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(G_),this.root.sharedNodes.clear()}}}function kI(t){t.updateLayout()}function SI(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,c=e.source!==t.layout.source;a==="size"?Ls(g=>{const x=c?e.measuredBox[g]:e.layoutBox[g],b=Fn(x);x.min=n[g].min,x.max=x.min+b}):MT(a,e.layoutBox,n)&&Ls(g=>{const x=c?e.measuredBox[g]:e.layoutBox[g],b=Fn(n[g]);x.max=x.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const u=Il();Bu(u,n,e.layoutBox);const h=Il();c?Bu(h,t.applyTransform(s,!0),e.measuredBox):Bu(h,n,e.layoutBox);const f=!AT(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const w=Zt();Uu(w,e.layoutBox,x.layoutBox);const T=Zt();Uu(T,n,b.layoutBox),CT(w,T)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function TI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function NI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AI(t){t.clearSnapshot()}function G_(t){t.clearMeasurements()}function K_(t){t.isLayoutDirty=!1}function CI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Y_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RI(t){t.resolveTargetDelta()}function zI(t){t.calcProjection()}function MI(t){t.resetSkewAndRotation()}function DI(t){t.removeLeadSnapshot()}function X_(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Z_(t,e,n,s){t.min=Vt(e.min,n.min,s),t.max=Vt(e.max,n.max,s)}function VI(t,e,n,s){Z_(t.x,e.x,n.x,s),Z_(t.y,e.y,n.y,s)}function II(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PI={duration:.45,ease:[.4,0,.1,1]},Q_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W_=Q_("applewebkit/")&&!Q_("chrome/")?Math.round:qs;function J_(t){t.min=W_(t.min),t.max=W_(t.max)}function OI(t){J_(t.x),J_(t.y)}function MT(t,e,n){return t==="position"||t==="preserve-aspect"&&!qV(q_(e),q_(n),.2)}function LI(t){return t!==t.root&&t.scroll?.wasRoot}const BI=zT({attachResizeListener:(t,e)=>sd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},DT=zT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vy.current){const t=new BI({});t.mount(window),t.setOptions({layoutScroll:!0}),vy.current=t}return vy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UI={pan:{Feature:rI},drag:{Feature:iI,ProjectionNode:DT,MeasureLayout:ST}};function eE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,c=s[a];c&&zt.postRender(()=>c(e,Ad(e)))}class FI extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=m5(e,(n,s)=>(eE(this.node,s,"Start"),a=>eE(this.node,a,"End"))))}unmount(){}}class HI extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sd(sd(this.node.current,"focus",()=>this.onFocus()),sd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),c=s[a];c&&zt.postRender(()=>c(e,Ad(e)))}class qI extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=v5(e,(n,s)=>(tE(this.node,s,"Start"),(a,{success:c})=>tE(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yv=new WeakMap,xy=new WeakMap,$I=t=>{const e=yv.get(t.target);e&&e(t)},GI=t=>{t.forEach($I)};function KI({root:t,...e}){const n=t||document;xy.has(n)||xy.set(n,{});const s=xy.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(GI,{root:t,...e})),s[a]}function YI(t,e,n){const s=KI(e);return yv.set(t,n),s.observe(t),()=>{yv.delete(t),s.unobserve(t)}}const XI={some:0,all:1};class ZI extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:XI[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=m?g:x;b&&b(f)};return YI(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(QI(e,n))&&this.startObserver()}unmount(){}}function QI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WI={inView:{Feature:ZI},tap:{Feature:qI},focus:{Feature:HI},hover:{Feature:FI}},JI={layout:{ProjectionNode:DT,MeasureLayout:ST}},e6={...OV,...WI,...UI,...JI},ii=eV(e6,fV);function t6(){const[t,e]=M.useState(new Date);M.useEffect(()=>{const f=setInterval(()=>e(new Date),1e3);return()=>clearInterval(f)},[]);const s=(f=>{const m=new Date(f.getFullYear(),0,1),g=(f-m)/864e5;return Math.ceil((g+m.getDay()+1)/7)})(t),a=s%2===1,c=t.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),u=t.toLocaleDateString("cs-CZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),h=a?{type:"Lich tden",subject:"Audiovizuln semin",emoji:""}:{type:"Sud tden",subject:"Uml inteligence",emoji:""};return o.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 border-2 border-gray-900",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[o.jsx(eS,{className:"w-5 h-5 text-gray-900"}),o.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Aktuln as"})]}),o.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:c}),o.jsx("div",{className:"text-sm text-gray-700",children:u})]}),o.jsxs("div",{className:"text-center md:text-left p-4 rounded-lg bg-gray-100 border-2 border-gray-900",children:[o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[o.jsx(Gl,{className:"w-5 h-5 text-gray-900"}),o.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s,". tden"]})]}),o.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:h.type}),o.jsxs("div",{className:"text-sm text-gray-800",children:[h.emoji," ",h.subject]})]}),o.jsxs("div",{className:"text-center md:text-left",children:[o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[o.jsx(Tm,{className:"w-5 h-5 text-gray-900"}),o.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Semestr"})]}),o.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Zimn 2025/26"}),o.jsx("div",{className:"text-sm text-gray-700",children:"FAMU - Filmov fakulta"})]})]})})}function n6(){return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 shadow-xl border-b-4 border-yellow-400",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:pl-16",children:o.jsxs("div",{className:"text-center lg:text-left",children:[o.jsx(ii.h1,{className:"text-5xl md:text-6xl font-bold text-white mb-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:" FAMU Poznmky"}),o.jsx(ii.p,{className:"text-xl text-gray-200 max-w-2xl lg:mx-0 mx-auto mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},children:"Pehledn poznmky z pedmt Filmov a televizn fakulty AMU"}),o.jsxs(ii.div,{className:"flex items-center justify-center lg:justify-start gap-4 flex-wrap",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.5},children:[o.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-yellow-400 text-gray-900 rounded-full font-semibold text-sm",children:" Zimn semestr 2025/26"}),o.jsxs("span",{className:"inline-flex items-center px-4 py-2 bg-white/10 text-white rounded-full font-medium text-sm backdrop-blur-sm",children:[" ",Qu.length," pedmt"]}),o.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-white/10 text-white rounded-full font-medium text-sm backdrop-blur-sm",children:" Nov: Nstnka"})]})]})})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:pl-16",children:[o.jsx(t6,{}),o.jsxs(ii.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.2}}},children:[o.jsx(ii.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:o.jsx(it,{to:"/chat",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Chat"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Real-time komunikace"})]}),o.jsx(Iu,{className:"w-6 h-6 text-gray-400"})]})})})}),o.jsx(ii.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:o.jsx(it,{to:"/bulletin-board",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Nstnka"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Sticky notes pro rychl poznmky"})]}),o.jsx(Ff,{className:"w-6 h-6 text-gray-400"})]})})})}),o.jsx(ii.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:o.jsx(it,{to:"/timetable",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Rozvrh"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Tdenn rozvrh hodin"})]}),o.jsx(W2,{className:"w-6 h-6 text-gray-400"})]})})})}),o.jsx(ii.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:o.jsx(it,{to:"/deadlines",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Deadlines"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Sprva termn a kol"})]}),o.jsx(eS,{className:"w-6 h-6 text-gray-400"})]})})})}),o.jsx(ii.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,y:-5},whileTap:{scale:.98},children:o.jsx(it,{to:"/subject/general",className:"block bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full",children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-gray-900 rounded-full w-12 h-12 flex items-center justify-center text-2xl flex-shrink-0",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Obecn poznmky"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Rzn dleit informace"})]}),o.jsx(Kl,{className:"w-6 h-6 text-gray-400"})]})})})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[o.jsx("span",{className:"text-4xl",children:""}),"Pedmty"]}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Vyberte pedmt pro zobrazen poznmek z hodin"})]}),o.jsx(ii.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},children:Qu.map((t,e)=>o.jsx(ii.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},children:o.jsx(it,{to:`/subject/${t.id}`,className:"block group",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-2 border-gray-900 h-full flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-sm px-3 py-1 rounded-full",children:o.jsx("span",{className:"text-xs font-bold tracking-wider",children:t.shortName})}),o.jsx(Tm,{className:"w-7 h-7 opacity-70 group-hover:opacity-100 transition-opacity"})]}),o.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:t.description})]})]}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-4 text-lg leading-tight",children:t.name}),o.jsxs("div",{className:"mt-auto",children:[o.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:o.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-3 py-1.5 rounded-full",children:[o.jsx("span",{className:"font-bold text-gray-900",children:t.classes.length}),o.jsx("span",{children:t.classes.length===1?"hodina":"hodin"})]})}),o.jsxs("div",{className:"flex items-center text-gray-900 font-semibold group-hover:text-gray-700 transition-colors",children:[o.jsx("span",{children:"Zobrazit poznmky"}),o.jsx("svg",{className:"ml-2 w-5 h-5 transform group-hover:translate-x-2 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]})})},t.id))})]})]})}const s6="https://us-central1-YOUR_PROJECT_ID.cloudfunctions.net/notionSync";async function uo(t,e={}){try{const n=await fetch(s6,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,data:e})});if(!n.ok)throw new Error(`API error: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Notion API call failed:",n),n}}let bu={},lf={};const i6=300*1e3,nE={async createSubjectPage(t){return await uo("createSubjectPage",{subjectId:t.id,name:t.name,code:t.id.toUpperCase(),color:t.color})},async createClassPage(t,e){return await uo("createClassPage",{parentPageId:t,classNumber:e.number,title:e.title,content:e.content||""})},async syncNotes(t,e){return await uo("syncNotes",{pageId:t,content:e})},async getSubjects(){return await uo("getSubjects")},async syncAllSubjects(t){const e=[];for(const n of t)try{const s=await this.createSubjectPage(n);e.push({subject:n.name,success:!0,pageId:s.pageId})}catch(s){e.push({subject:n.name,success:!1,error:s.message})}return e},async saveNotesToNotion(t,e,n){const s=`${t}-${e}`;try{const a=await uo("saveNotes",{subjectId:t,classNumber:e,content:n,timestamp:new Date().toISOString()});return delete bu[s],delete lf[s],a}catch(a){throw console.error("Failed to save notes to Notion:",a),a}},async loadNotesFromNotion(t,e){const n=`${t}-${e}`,s=Date.now();if(bu[n]&&s-lf[n]<i6)return console.log(" Loading from cache:",n),bu[n];try{const a=await uo("loadNotes",{subjectId:t,classNumber:e});return bu[n]=a,lf[n]=s,a}catch(a){return console.error("Failed to load notes from Notion:",a),null}},autoSaveTimer:null,async autoSaveNotes(t,e,n,s=2e3){clearTimeout(this.autoSaveTimer),this.autoSaveTimer=setTimeout(async()=>{try{await this.saveNotesToNotion(t,e,n),console.log(" Auto-saved to Notion")}catch(a){console.error(" Auto-save failed:",a)}},s)},async checkSyncStatus(t,e){try{return await uo("checkSync",{subjectId:t,classNumber:e})}catch(n){return{synced:!1,error:n.message}}},clearCache(){bu={},lf={}}};function r6({subject:t,classData:e,onSuccess:n}){const[s,a]=M.useState(!1),[c,u]=M.useState(null),h=async()=>{a(!0),u(null);try{const f=await nE.createSubjectPage(t);e&&await nE.createClassPage(f.pageId,e),u("success"),n&&n(),setTimeout(()=>u(null),3e3)}catch(f){console.error("Sync error:",f),u("error"),setTimeout(()=>u(null),5e3)}finally{a(!1)}};return o.jsx("button",{onClick:h,disabled:s,className:`
        flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all
        ${s?"bg-gray-400 cursor-not-allowed":c==="success"?"bg-green-600 hover:bg-green-700":c==="error"?"bg-red-600 hover:bg-red-700":"bg-black hover:bg-gray-800"}
        text-white shadow-lg hover:shadow-xl
      `,children:s?o.jsxs(o.Fragment,{children:[o.jsx(YM,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Synchronizace..."})]}):c==="success"?o.jsxs(o.Fragment,{children:[o.jsx(CM,{className:"w-5 h-5"}),o.jsx("span",{children:"Synchronizovno!"})]}):c==="error"?o.jsxs(o.Fragment,{children:[o.jsx(VM,{className:"w-5 h-5"}),o.jsx("span",{children:"Chyba"})]}):o.jsxs(o.Fragment,{children:[o.jsx(p4,{className:"w-5 h-5"}),o.jsx("span",{children:"Sync do Notion"})]})})}const sE={blue:"from-gray-800 to-gray-900",purple:"from-gray-800 to-gray-900",green:"from-gray-800 to-gray-900",red:"from-gray-800 to-gray-900",orange:"from-gray-800 to-gray-900"};function a6(){const{subjectId:t}=km(),e=w0(t);return e?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:`bg-gradient-to-r ${sE[e.color]} text-white shadow-lg`,children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(it,{to:"/",className:"inline-flex items-center text-white hover:text-gray-100 mb-4 transition-colors",children:[o.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpt na pehled pedmt"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Tm,{className:"w-12 h-12"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:e.name}),o.jsx("p",{className:"text-lg opacity-90 mt-1",children:e.description})]})]})]})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:pl-16",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[o.jsxs(it,{to:`/subject/${e.id}/mindmap`,className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-semibold shadow-lg transition-all duration-300 hover:shadow-2xl hover:from-purple-700 hover:to-blue-700 hover:-translate-y-1",children:[o.jsx(s4,{className:"w-6 h-6 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-lg",children:" Zobrazit Mind Map"}),o.jsx("div",{className:"text-xs opacity-90",children:"Interaktivn vizualizace pedmtu"})]})]}),o.jsx(r6,{subject:e,onSuccess:()=>alert("Pedmt synchronizovn do Notion!")})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Pehled hodin"}),o.jsx("p",{className:"text-gray-600",children:"Kliknte na hodinu pro zobrazen poznmek"})]}),o.jsx("div",{className:"space-y-4",children:e.classes.map(n=>o.jsx(it,{to:`/subject/${e.id}/class/${n.id}`,className:"block group",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[o.jsxs("div",{className:`bg-gradient-to-r ${sE[e.color]} px-6 py-4 flex items-center gap-4`,children:[o.jsx("div",{className:"bg-white bg-opacity-20 rounded-full w-12 h-12 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white font-bold text-lg",children:n.id})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-white text-sm mb-1",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Gl,{className:"w-4 h-4 mr-1"}),n.date]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(j0,{className:"w-4 h-4 mr-1"}),n.lecturer]})]})})]}),o.jsxs("div",{className:"px-6 py-5",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors",children:n.title}),n.description&&o.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:n.description}),o.jsxs("div",{className:"mt-4 inline-flex items-center text-blue-600 font-medium group-hover:text-blue-700",children:["Zobrazit poznmky",o.jsx("svg",{className:"ml-2 w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},n.id))}),e.links&&e.links.length>0&&o.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-md p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Uiten odkazy"}),o.jsx("ul",{className:"space-y-2",children:e.links.map((n,s)=>o.jsx("li",{children:o.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 hover:underline flex items-center",children:[n.name,o.jsx("svg",{className:"ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})},s))})]})]})]}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pedmt nenalezen"}),o.jsx(it,{to:"/",className:"text-blue-600 hover:text-blue-700 font-medium",children:" Zpt na hlavn strnku"})]})})}function o6(){return o.jsxs(o.Fragment,{children:[o.jsx("h1",{children:" Hodina 1 - Historick vkladov rmce"}),o.jsx("h2",{children:"1. 10. 2025 - Tom Hirt"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tma:"}),' Historick vkladov rmce, vvoj definice pojmu DF a non-fiction", estetick a spoleensk kontexty, konstituce samostatn disciplny. Druhy dokument: observan, participan, performativn, reflexivn (Bill Nichols). Rozdl mezi dokumentem, report a publicistikou.']}),o.jsx("hr",{}),o.jsx("h2",{children:" Obsah hodiny"}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx("a",{href:"#literatura",children:"Doporuen literatura"})}),o.jsx("li",{children:o.jsx("a",{href:"#70-leta",children:"70. lta - Co je to dokumentrn film?"})}),o.jsx("li",{children:o.jsx("a",{href:"#naivni-realismus",children:"Naivn realismus"})}),o.jsx("li",{children:o.jsx("a",{href:"#formalni-esteticka",children:"Formln a estetick otzka"})}),o.jsx("li",{children:o.jsx("a",{href:"#posun-70",children:"Od 70. let - Posun v teorii dokumentrnho filmu"})}),o.jsx("li",{children:o.jsx("a",{href:"#episteme",children:"Epistm"})}),o.jsx("li",{children:o.jsx("a",{href:"#nanuk",children:"Pklad: Nanuk of the North"})}),o.jsx("li",{children:o.jsx("a",{href:"#humanitni-vedy",children:"Co jsou to humanitn vdy?"})}),o.jsx("li",{children:o.jsx("a",{href:"#prirodni-humanitni",children:"Prodn vdy vs. Humanitn vdy"})}),o.jsx("li",{children:o.jsx("a",{href:"#dokumentarni-definice",children:"Definice dokumentrnho filmu"})}),o.jsx("li",{children:o.jsx("a",{href:"#nichols-mody",children:"Bill Nichols - Mody dokumentrnho filmu"})})]}),o.jsx("hr",{}),o.jsx("h2",{id:"literatura",children:"Doporuen literatura"}),o.jsx("ul",{children:o.jsxs("li",{children:[o.jsx("strong",{children:"Bill Nichols"})," - ",o.jsx("em",{children:"Engaging Cinema: Introduction to Film Studies"})]})}),o.jsx("h2",{id:"70-leta",children:"70. lta - Co je to dokumentrn film?"}),o.jsx("p",{children:o.jsx("strong",{children:"Slavn definice dokumentrnho filmu (John Grierson):"})}),o.jsxs("ul",{children:[o.jsx("li",{children:"Tvr zpracovn zkuenosti"}),o.jsx("li",{children:"Skutenost, ke kter se vztahuje"})]}),o.jsx("h3",{id:"naivni-realismus",children:"Naivn realismus"}),o.jsx("p",{children:"Naivn realismus je pesvden, kter spov v tom, e existuje vnj skutenost a my ji tvrm postupech uchopvme a zpracovvme."}),o.jsxs("p",{children:[o.jsx("strong",{children:"Bill Nichols"})," k, e se v souvislosti s touto mylenkou dolo k vraznmu otesu. Postavil se velk otaznk nad pesvden, e tady je vnj skutenost."]}),o.jsxs("blockquote",{children:["To, co je ta skutenost, kterou reprezentuje, tak je ",o.jsx("em",{children:"neproblematicky?"})]}),o.jsx("h3",{id:"formalni-esteticka",children:"Formln a estetick otzka"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Formln"})," - Myslm tm strhovou skladbu, soustedn se na ty elementy, ze kterch je ten film sloen - oblast formy."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Estetika"})," - se tk toho, nakolik a jak vyuv umleckch prostedk."]}),o.jsx("h2",{id:"posun-70",children:"Od 70. let - Posun v teorii dokumentrnho filmu"}),o.jsxs("p",{children:["Od 70. let se teorie dokumentrnho filmu zanaj zamovat na ",o.jsx("strong",{children:"sociln rozmr kinematografie"}),"."]}),o.jsxs("ul",{children:[o.jsx("li",{children:"Estetick strnka ustupuje do pozad"}),o.jsx("li",{children:"Je chpna jako soust t strnky formln"}),o.jsxs("li",{children:["Bill Nichols pe o tom, co je soust t filmov vdy, tak tvrd, e to je studium:",o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Socilnch aspekt"})," kinematografie"]}),o.jsx("li",{children:o.jsx("strong",{children:"Formlnch aspekt"})})]})]})]}),o.jsx("p",{children:o.jsx("strong",{children:"Studium filmu se zamuje na dva kontexty:"})}),o.jsxs("ol",{children:[o.jsx("li",{children:"Kontext sociln"}),o.jsx("li",{children:"Kontext formln"})]}),o.jsx("h4",{children:"V em spov ten sociln kontext?"}),o.jsx("p",{children:"Ve vsledn podob tch dokumentrnch film se projevuj:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Zpsoby uvaovn"}),o.jsx("li",{children:"Kulturn a sociln vzorce"}),o.jsx("li",{children:"Prostoru, kde ty filmy vznikaly"})]}),o.jsx("h2",{id:"episteme",children:"Epistm"}),o.jsx("h3",{id:"nanuk",children:"Pklad: Nanuk of the North"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Film:"})," ",o.jsx("em",{children:"Nanuk of the North"})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Reisr:"})," Robert Flaherty"]}),o.jsxs("li",{children:["Psobil s ",o.jsx("strong",{children:"Johnem Griersonem"}),", kter je tvr postavou britsk dokumentaristick koly"]})]}),o.jsx("p",{children:o.jsx("strong",{children:"Odkazy k filmu:"})}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx("a",{href:"https://www.csfd.cz/film/81655-nanuk-clovek-primitivni/prehled/",target:"_blank",rel:"noopener noreferrer",children:"SFD - Nanuk, lovk primitivn"})}),o.jsx("li",{children:o.jsx("a",{href:"https://www.youtube.com/watch?v=lkW14Lu1IBo",target:"_blank",rel:"noopener noreferrer",children:"YouTube - Nanuk of the North"})})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Klov otzka:"}),o.jsx("br",{}),"Jak pedstavivost dovedla toho filmae k tomu, aby si ekl, e nechce, aby ml puku a radji si vzal harpunu? Pro?"]}),o.jsxs("p",{children:[o.jsx("span",{className:"arrow",children:""})," Prost jak se promt njak dobov situace a nebo dobov kultura",o.jsx("br",{}),o.jsx("span",{className:"arrow",children:""})," ",o.jsx("strong",{children:"No prost epistma."})]}),o.jsx("h2",{id:"humanitni-vedy",children:"Co jsou to humanitn vdy?"}),o.jsx("p",{children:o.jsx("strong",{children:"A jak se li od vd prodnch?"})}),o.jsx("p",{children:o.jsx("strong",{children:"Definice vdy:"})}),o.jsx("blockquote",{children:"Vda je souadn soubor racionlnch, pojmov zakotvench tvrzen, jejich elem je ovitelnm a opakovatelnm zpsobem interpretovat jevy materilnho a smyslovho svta"}),o.jsxs("p",{children:["Vda je uspodna na zklad ",o.jsx("strong",{children:"pojmov zakotvench tvrzen"})," - neboli mylen v pojmech."]}),o.jsx("h3",{children:"Co je to pojem?"}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx("strong",{children:"Zobecujc funkce"})}),o.jsx("li",{children:o.jsx("strong",{children:"M definici"})})]}),o.jsx("h4",{children:"Epistma = Paradigma?"}),o.jsxs("p",{children:["Ano, ",o.jsx("strong",{children:"paradigma je epistma v rmci vdy"}),"."]}),o.jsx("h2",{id:"prirodni-humanitni",children:"Prodn vdy vs. Humanitn vdy"}),o.jsx("p",{children:"Max Weber charakterizuje vdy nsledovn:"}),o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:o.jsx("strong",{children:"Prodn vdy"})}),o.jsx("th",{children:o.jsx("strong",{children:"Humanitn vdy"})})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsxs("td",{children:["Cl: ",o.jsx("strong",{children:"Vysvtlen"})]}),o.jsxs("td",{children:["Cl: ",o.jsx("strong",{children:"Porozumn"})]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Zkonitosti"}),o.jsx("td",{children:"Vznam"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Materiln svt"}),o.jsx("td",{children:"Interpretace"})]})]})]}),o.jsx("h2",{id:"dokumentarni-definice",children:"Definice dokumentrnho filmu"}),o.jsx("blockquote",{children:o.jsxs("p",{children:["Dokumentrn film vyprv o situacch a udlostech tkajcch se skutench lid (",o.jsx("strong",{children:"socilnch herc"}),"), kte nm pedstavuj sami sebe v pbzch, je nm pibliuj vrohodnou pedstavu o zobrazovanch ivotech, situacch a udlostech i pohled na n. Specifick hledisko filmovho tvrce nevytv fiktivnch alegori, ale spe zprostedkovv pm vhled do itho svta."]})}),o.jsx("h3",{children:"Sociln herec"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Pm nvaznost na Goffmana"}),"  pedstavuje dramaturgickou sociologii."]}),o.jsx("h2",{id:"nichols-mody",children:"Bill Nichols - Mody dokumentrnho filmu"}),o.jsx("p",{children:"est zkladnch mod dokumentrnho filmu podle Billa Nicholse:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Vkladov"})," (Expository)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Poetick"})," (Poetic)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Observan"})," (Observational)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Participan"})," (Participatory)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Reflexivn"})," (Reflexive)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Performativn"})," (Performative)"]})]}),o.jsx("h3",{children:"Vkladov modus"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Pklad:"})," ",o.jsx("em",{children:"The Hunters"})," (John Marshall)"]}),o.jsx("p",{children:o.jsx("strong",{children:"Charakteristiky:"})}),o.jsxs("ul",{children:[o.jsx("li",{children:"Alternativa vi fikci a avantgard"}),o.jsx("li",{children:"Je popisn a sna se to zachytit tak, jak to je"}),o.jsx("li",{children:"Omezen didaktismem"}),o.jsx("li",{children:"Vzdlvac a vchovn moment je ptomn"})]})]})}function l6(){return o.jsxs(o.Fragment,{children:[o.jsx("h1",{children:" Hodina 2 - Sovtsk montn kola"}),o.jsx("h2",{children:"8. 10. 2025 - Tom Hirt"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tma:"})," Sovtsk montn kola a jej pokus zmnit kinematografii a na rove pojm, estetika a teorie materialismu, anti-narace a dedramatizace jako nov vchodisko kinematografie. Esfir ubov a Dziga Vertov."]}),o.jsx("hr",{}),o.jsx("h2",{children:" Poznmky z hodiny"}),o.jsx("h3",{children:"Odmtn pojmu nr a subnr"}),o.jsxs("p",{children:["Oni docela odmtaj pojem ",o.jsx("strong",{children:"nr a subnr"}),"."]}),o.jsxs("ul",{children:[o.jsx("li",{children:"Berou to jako pojem vypjen z literatury"}),o.jsx("li",{children:"Je to termn, kter neumouje efektivn tdit tu oblast, a proto to nefunguje jako nstroj dobr analzy"})]}),o.jsx("h3",{children:"Alternativn zpsoby tdn"}),o.jsx("p",{children:"Msto toho pouvaj jin zpsoby tdn."}),o.jsxs("p",{children:["Jedna z tchto kategorizac je ",o.jsx("strong",{children:"Nicholsova teorie esti mod"}),"."]}),o.jsx("hr",{}),o.jsx("h2",{children:"Porovnn mod dokumentrnho filmu"}),o.jsx("h3",{children:"Pklady film"}),o.jsx("ul",{children:o.jsxs("li",{children:[o.jsx("strong",{children:"Vkladov modus:"})," ",o.jsx("em",{children:"The Hunters"})," (John Marshall)"]})}),o.jsx("h3",{children:"Kategorie dokument (vkladov modus):"}),o.jsx("p",{children:"Report, obhajoba, podpora pkladu, djepis, svdectv, sociologie, vizuln antropologie, poezie, denk, biografie, autobiografie"}),o.jsx("h2",{children:" Kompletn tabulka srovnn mod"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[" ",o.jsx("em",{children:"Tip: Posute tabulku vodorovn pro zobrazen vech sloupc"})]}),o.jsx("div",{className:"overflow-x-auto my-8 -mx-4 px-4 md:mx-0 md:px-0",children:o.jsxs("table",{className:"min-w-full border-collapse border border-gray-300 text-xs md:text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-blue-600 text-white",children:[o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Modus"}),o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Alternativa vi"}),o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Omezen"}),o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Vdn chpe jako"}),o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Zvuk"}),o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"as a prostor"}),o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Etick ohledy"}),o.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Hlas charakterizovan"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Vkladov"}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Alternativa vi:"}),o.jsx("br",{}),"Fikci / Avantgard"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Omezen:"}),o.jsx("br",{}),"Didaktismem",o.jsx("br",{}),"Vzdlvac a vchovn moment"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Vdn chpe jako:"}),o.jsx("br",{}),"Neukotven nebo abstraktn mylenky"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Zvuk:"}),o.jsx("br",{}),"Expresivn a kognitivn",o.jsx("br",{}),"Pln v rukou autora, dn indexov spojitost",o.jsx("br",{}),"asto v podob komente mimo obraz"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"as a prostor:"}),o.jsx("br",{}),"Diskontinuln",o.jsx("br",{}),"Pouv obrazy z nejrznjch dob a mst, aby ilustroval hledisko nebo doloil argument"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Etick ohledy:"}),o.jsx("br",{}),"Historick pesnost a ovitelnost",o.jsx("br",{}),"Nesna se z lid dlat chudky"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Hlas charakterizovan:"}),o.jsx("br",{}),"Klasickou e s odhodlnm zjistit pravdu a snahu informovat"]})]}),o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Poetick"}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Alternativa vi:"}),o.jsx("br",{}),"Fikci / Vkladu",o.jsx("br",{}),o.jsx("em",{children:"Proti vkladu: jen stpky a divk m pak svj dojem"})]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Omezen:"}),o.jsx("br",{}),"Formlnmi abstrakcemi, kter ztrcej kontakt se itou realitou"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Vdn chpe jako:"}),o.jsx("br",{}),"Afektivn, nov zpsob vnmn a chpn svta, sv pohled na znm vci"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Zvuk:"}),o.jsx("br",{}),"Expresivn, budujc strukturu a rytmus",o.jsx("br",{}),"Stejn jako ve vkladovm modu o nm do znan mry rozhoduje filma"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"as a prostor:"}),o.jsx("br",{}),"Diskontinuln",o.jsx("br",{}),"Tvrce pouv obrazy, aby vytvoil uritou nladu nebo strukturu, ani by bral ohled na to, k emu pvodn nleely"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Etick ohledy:"}),o.jsx("br",{}),"Pouv konkrtn lidi a msta a vci bez ohledu na jejich identitu",o.jsx("br",{}),"Zkresluje nebo zveliuje"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Hlas charakterizovan:"}),o.jsx("br",{}),"Touhou po expresivnm zachycen ztvrovanho svta prostednictvm novch forem a hledisek"]})]}),o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Observan"}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Alternativa vi:"}),o.jsx("br",{}),"Klasick ei a poetickmu vyjden"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Omezen:"}),o.jsx("br",{}),"Tm, co se dje ped kamerou",o.jsx("br",{}),"Obtn ztvruje historick udlosti"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Vdn chpe jako:"}),o.jsx("br",{}),"Pirozen smysl poznvat sledovnm, naslouchnm a pozorovnm a vyvozovnm z chovn druhch"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Zvuk:"}),o.jsx("br",{}),"Spojen s obrazem indexovou vazbou synchronnho zvuku",o.jsx("br",{}),"Filma se vzdv pln kontroly nad zvukem",o.jsx("br",{}),"Sna se pedevm zaznamenat, co je slyet v dan situaci",o.jsx("br",{}),"Zdruje se komente"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"as a prostor:"}),o.jsx("br",{}),"Kontinuitn",o.jsx("br",{}),"Vrazn dojem kontinuity, kter spojuje slova a jednn subjekt od zbru k zbru"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Etick ohledy:"}),o.jsx("br",{}),"Pasivn pozorovn nebezpenho, kodlivho nebo nezkonnho jednn me vst k zvanm obtm subjekt",o.jsx("br",{}),"Me vyvolat nalhav otzky odpovdnosti vi subjektm"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Hlas charakterizovan:"}),o.jsx("br",{}),"Trplivost, skromnost, sebepotlaenm",o.jsx("br",{}),"Ochota nechat na divcch, aby sami posoudili, co vid a sly"]})]}),o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Participan"}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Alternativa vi:"}),o.jsx("br",{}),"Pasivnmu pozorovn a klasick ei"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Omezen:"}),o.jsx("br",{}),"Tm, e asto penechv kontrolu a monost prosadit nzor druhch",o.jsx("br",{}),"Ztrc nezvislost rozhodovn"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Vdn chpe jako:"}),o.jsx("br",{}),"To, co se ume z interakc, to, co lid kaj a dlaj, kdy jsou konfrontovni i zaujati druhmi",o.jsx("br",{}),"To, co lze sdlit prostednictvm rozhovor i jinch druh setkn"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Zvuk:"}),o.jsx("br",{}),"Zdrazuje mluven projev mezi filmaem a subjektem",o.jsx("br",{}),"Obzvlt v rozhovorech se hodn spolh na synchronn zvuk, ale me tak pout koment",o.jsx("br",{}),"Filma do zvuku trucm zpsobem zasahuje jen ojedinle"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"as a prostor:"}),o.jsx("br",{}),"Kontinuitn",o.jsx("br",{}),"Me propojovat souasn as a minulost"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Etick ohledy:"}),o.jsx("br",{}),"Navd ostatn k osobnm zpovdm",o.jsx("br",{}),"Vyvolv otzky manipulace a zkreslovn"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Hlas charakterizovan:"}),o.jsx("br",{}),"Angaovanost, intenzivn ast pi setkvn nebo pi prezentaci historickho hlediska"]})]}),o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Reflexivn"}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Alternativa vi:"}),o.jsx("br",{}),"Realistick reprezentaci, kter pehl formln proces ztvrovn svta a sociln pedpoklady o povaze svta"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Omezen:"}),o.jsx("br",{}),"Prohloubenm smyslem pro formln abstrakce, odstupem, ztrtou pm angaovanosti v socilnch otzkch"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Vdn chpe jako:"}),o.jsx("br",{}),"Kontextuln, vdy zarmovno institucionlnmi omezenmi a osobnmi pedpoklady, kter lze odhalit a zmnit"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Zvuk:"}),o.jsx("br",{}),"asto rozvj metakomunikaci - jak komunikace probh",o.jsx("br",{}),"Hovor o tom, jak se o nem hovoilo",o.jsx("br",{}),"Synchronn i nesynchronn zvuk"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"as a prostor:"}),o.jsx("br",{}),"Kontextualizovan",o.jsx("br",{}),"Ukazuje, jak lze pomoc kontinuity nebo diskontinuity manipulovat s nm"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Etick ohledy:"}),o.jsx("br",{}),"Pouv nebo zneuv subjekty, aby kladly otzky, kter se vak tkaj filmae, nikoli subjekt"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Hlas charakterizovan:"}),o.jsx("br",{}),"Sebedotazovnm, hlasem pochyb a radikln pochybnosti o jistot i stl platnosti vdn"]})]}),o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 px-3 py-2 font-semibold",children:"Performativn"}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Alternativa vi:"}),o.jsx("br",{}),"Empirickm, faktickm nebo abstraktnm formm vdn"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Omezen:"}),o.jsx("br",{}),"Osobnm hlediskem nebo viz, kter se me uzavt i oddlit od irch vizulnch vjem"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Vdn chpe jako:"}),o.jsx("br",{}),"Ukotven, afektivn a situan",o.jsx("br",{}),"To, co se dozvdme zkuenost z pmho setkn spe ne zprostedkovan od expert i knih"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Zvuk:"}),o.jsx("br",{}),"st se spolh na filmav vlastn hlas, kter filmu dv d",o.jsx("br",{}),"Zdrazujeme introspektivn, svdeck, esejistick formy promluvy a dialogu",o.jsx("br",{}),"M synchronn a nesynchronn zvuk",o.jsx("br",{}),"Zvuk, hudbu a zvuk uv expresivn"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"as a prostor:"}),o.jsx("br",{}),"Rzn se podle vyjden",o.jsx("br",{}),"as a prostor asto stylizuje, aby se zdraznila jeho afektivn dimenze"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Etick ohledy:"}),o.jsx("br",{}),"Mra upmnosti a sebezpytovn versus sebeklam",o.jsx("br",{}),"Pekrucovn nebo zkreslovn irch tmat",o.jsx("br",{}),"Me sklouznout k pln idiosynkrazii"]}),o.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[o.jsx("strong",{children:"Hlas charakterizovan:"}),o.jsx("br",{}),"Siln osobnm zaujatm enkem, soustavn hledajcm pravdu o tom, jak je provat svt uritm zpsobem"]})]})]})]})}),o.jsx("hr",{}),o.jsx("h2",{children:" Odkazy"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Studijn opory:"})," ",o.jsx("a",{href:"https://kdt.famu.cz/studijni-opory/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"https://kdt.famu.cz/studijni-opory/"})]})]})}function c6(){return o.jsxs(o.Fragment,{children:[o.jsx("h1",{children:"Poznmky z AV - Otzka reprezentace"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Deadline textu:"})," 2. 11."]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Rozsah:"})," 5 normostran"]}),o.jsx("hr",{}),o.jsx("h2",{children:" Obsah"}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx("a",{href:"#fenomenologie",children:"Fenomenologie"})}),o.jsx("li",{children:o.jsx("a",{href:"#reprezentace",children:"Opakovan reprezentace"})}),o.jsx("li",{children:o.jsx("a",{href:"#martin-kohout",children:"Martin Kohout - Slides"})}),o.jsx("li",{children:o.jsx("a",{href:"#google-maps",children:"Pklad: Google Maps"})}),o.jsx("li",{children:o.jsx("a",{href:"#umberto-eco",children:"Umberto Eco - Semiotika"})}),o.jsx("li",{children:o.jsx("a",{href:"#mapa-uzemi",children:"Mapa a zem"})}),o.jsx("li",{children:o.jsx("a",{href:"#platonova-jeskyne",children:"Platonova jeskyn"})}),o.jsx("li",{children:o.jsx("a",{href:"#kant",children:"Kant - Vci o sob"})})]}),o.jsx("hr",{}),o.jsx("h2",{id:"fenomenologie",children:"Fenomenologie"}),o.jsx("blockquote",{children:o.jsx("strong",{children:'"Zptky k vcem samm"'})}),o.jsx("p",{children:"Fenomenologie se zamuje na to, jak se nm vci jev a jak je vnmme. Nen to jen o objektech samotnch, ale o na zkuenosti s nimi."}),o.jsx("hr",{}),o.jsx("h2",{id:"reprezentace",children:"Opakovan reprezentace"}),o.jsx("p",{children:o.jsx("strong",{children:"Reprezentace je to, co se dje..."})}),o.jsx("p",{children:"Klov otzka reprezentace nen jen technick, ale ontologick - co to znamen, kdy nco reprezentujeme?"}),o.jsx("hr",{}),o.jsx("h2",{id:"martin-kohout",children:"Martin Kohout - Slides"}),o.jsx("h3",{children:"Prezentace a reprezentace"}),o.jsx("p",{children:"Martin Kohout ve svch slides zkoum vztah mezi tm, co prezentujeme, a tm, co reprezentujeme."}),o.jsxs("p",{children:[o.jsx("span",{className:"arrow",children:""})," ",o.jsx("strong",{children:"Jedna vc ovlivuje druhou"})]}),o.jsx("hr",{}),o.jsx("h2",{id:"google-maps",children:"Pklad: Google Maps"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Google Maps maj to dohromady"})," - jedno ovlivuje druh."]}),o.jsx("h3",{children:"Reprezentace dat v relnm ase"}),o.jsx("p",{children:"Nevidme rozdl mezi mapou a zemm. Mapa v relnm ase se stv samotnm zemm."}),o.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 my-4",children:[o.jsx("strong",{children:"Klov poznatek:"})," Media formuluj realitu, ne jen mapuj."]}),o.jsx("hr",{}),o.jsx("h2",{id:"umberto-eco",children:"Umberto Eco - Semiotika"}),o.jsx("h3",{children:"Semiotika jako studium znak"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Umberto Eco"})," k, e semiotiku se d definovat jako:"]}),o.jsx("blockquote",{children:o.jsx("strong",{children:'"Studium veho toho, co se d pout ke lhan"'})}),o.jsxs("p",{children:[o.jsx("span",{className:"arrow",children:""})," Pokud se to d pout ke lhan, tak je to reprezentace."]}),o.jsx("hr",{}),o.jsx("h2",{id:"mapa-uzemi",children:"Mapa a zem"}),o.jsxs("p",{children:["Vidli jsme vztah map a zem jako ",o.jsx("strong",{children:"oddlen vci"}),"."]}),o.jsx("h3",{children:"Map and Territory"}),o.jsx("p",{children:"Mapa byla povaovna za reprezentaci zem. Ale co kdy je tomu jinak?"}),o.jsx("hr",{}),o.jsx("h2",{id:"platonova-jeskyne",children:"Platonova jeskyn"}),o.jsx("p",{children:o.jsx("strong",{children:"Jevy jsou reprezentace vc o sob."})}),o.jsx("p",{children:"V Platonov alegorii jeskyn vidme stny na stn - ty jsou pouze reprezentac skutench objekt."}),o.jsx("hr",{}),o.jsx("h2",{id:"kant",children:"Kant - Vci o sob"}),o.jsx("blockquote",{children:o.jsx("strong",{children:"K vcem se nedostaneme, jen k jevm."})}),o.jsxs("p",{children:["Kant tvrd, e nemme pstup k vcem samotnm (",o.jsx("em",{children:"noumenon"}),"), pouze k jejich jevm (",o.jsx("em",{children:"phenomenon"}),")."]}),o.jsx("hr",{}),o.jsx("h2",{children:"Zvr"}),o.jsx("blockquote",{children:o.jsx("strong",{children:"Nevinn objektivn nestrann vda neexistuje."})}),o.jsx("p",{children:"Vechno zasahuje do toho procesu a mn to zkouman samotn."}),o.jsx("blockquote",{children:o.jsx("strong",{children:"My jsme se vydali mapovat a tm mapovnm mnme to zem."})}),o.jsx("p",{className:"text-gray-600 italic mt-8",children:"Poznmka: Toto je zkrcen verze poznmek. pln obsah vetn vech kapitol je dostupn v pvodnm HTML souboru."})]})}function u6(){return o.jsxs(o.Fragment,{children:[o.jsx("h1",{children:" Hodina 2 - Ballard, iek a kritika ptomnosti"}),o.jsx("h2",{children:"2025 - AV pednejc"}),o.jsx("hr",{}),o.jsx("h2",{children:" J.G. Ballard"}),o.jsx("p",{children:o.jsx("strong",{children:"Povaoval auto a dlnice za nejvt vynlez 20. stolet"})}),o.jsx("p",{children:"V bourace umela jeho ena."}),o.jsx("h3",{children:"Recepce dla"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Kniha byla okamit skartovna v Americe"}),o.jsx("li",{children:"Mnohem vt ml uznn u Francouz"})]}),o.jsx("h3",{children:"Nov britsk vlna"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Snaili se redefinovat, v em spov sci-fi"}),o.jsx("li",{children:"Byl vrazn inspirovn surrealisty"}),o.jsx("li",{children:"Pak ho ovlivnil pop art"})]}),o.jsx("h4",{children:"Latentn vs. Manifestn"}),o.jsx("p",{children:"Spatuje v tom vztah mezi:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Latentn"})," - skryt / sny"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Manifestn"})," - viditeln"]})]}),o.jsx("hr",{}),o.jsx("h2",{children:" Slavoj iek"}),o.jsx("h3",{children:"Klov koncepty"}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx("strong",{children:"Kniha mytologie"})}),o.jsxs("li",{children:[o.jsx("strong",{children:"Smrt autora"})," - Barthes"]})]}),o.jsx("p",{children:o.jsx("strong",{children:"Kdy si pedme Freudovu analzu k Marxovi..."})}),o.jsxs("p",{children:[o.jsx("strong",{children:"Racionalita"})," - me skonit idovskou otzkou"]}),o.jsx("h3",{children:"Habitualizace"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Habitualizace"})," - zvykme si na nco"]}),o.jsx("h3",{children:"Politika percepce"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Politika percepce"})," - Je to, jak to psob"]}),o.jsx("p",{children:o.jsx("strong",{children:"Vrtt psem"})}),o.jsx("hr",{}),o.jsx("h2",{children:" Obsese jako pevn bod"}),o.jsx("blockquote",{children:o.jsx("strong",{children:"U tvocho lovka - je pevn bod njak obsese, ke kter se vrac. Nesta to pojmenovat. Mus se to vyrobit."})}),o.jsx("hr",{}),o.jsx("h2",{children:" Kritika ptomnosti"}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx("strong",{children:"Nejde se dostat za stny jeskyn"})}),o.jsx("li",{children:o.jsx("strong",{children:"Kad dekdovn je novm zakdovnm"})}),o.jsx("li",{children:o.jsx("strong",{children:"Bezprostedn nhled neexistuje"})})]}),o.jsx("blockquote",{children:o.jsx("strong",{children:"To, co se k nm dostv k interpretaci, je transformovno tm, jak uchopujeme."})}),o.jsx("p",{children:o.jsx("strong",{children:"Proto je ptomnost metafyzicky nemon."})}),o.jsx("blockquote",{children:o.jsx("strong",{children:"Kad kontakt se skutenost skutenost mn."})}),o.jsx("hr",{}),o.jsx("h2",{children:" Shrnut"}),o.jsx("p",{children:"Tato hodina se zabv vztahem mezi reprezentac a skutenost, kritikou objektivity a analzou toho, jak nae nstroje poznn mn to, co zkoumme."})]})}function d6(){return o.jsxs(o.Fragment,{children:[o.jsx("h1",{children:" Hodina 1 - Emergentn jevy a AlphaGo"}),o.jsx("h2",{children:"2. 16. 30."}),o.jsxs("p",{children:[o.jsx("strong",{children:"Kontakt:"})," ditamorg@gmail.com"]}),o.jsx("hr",{}),o.jsx("h2",{children:" Poznmky z hodiny"}),o.jsx("h3",{children:"Emergentn jev"}),o.jsx("p",{children:"Mozek je sloen z bunk. Samostatn buky nemaj mylen. A kdy jsou dohromady, vznik mysl."}),o.jsxs("blockquote",{children:[o.jsx("strong",{children:"Emergentn jev"})," - vlastnost systmu, kter vznik a interakc jeho st, pestoe jednotliv sti tuto vlastnost nemaj."]}),o.jsx("hr",{}),o.jsx("h3",{children:"Fzov jev"}),o.jsx("p",{children:"Pklad: Bod varu vody"}),o.jsx("p",{children:"Fzov jev je nhl zmna vlastnost systmu pi pekroen urit hranice. Voda pi 99C je stle kapalina, pi 100C se mn na pru."}),o.jsx("hr",{}),o.jsx("h2",{children:" Lee Sedol vs AlphaGo"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Lee Sedol"})," - profesionln hr hry Go",o.jsx("br",{}),o.jsx("strong",{children:"AlphaGo"})," - uml inteligence od DeepMind (Google)"]}),o.jsx("p",{children:"V srii zpas Lee Sedol vyhrl jen jeden zpas proti AlphaGo. Toto byl historick milnk v oblasti uml inteligence."}),o.jsx("h3",{children:"Kontext"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Go je povaovno za mnohem sloitj hru ne achy"}),o.jsx("li",{children:"Poet monch pozic v Go je astronomick"}),o.jsx("li",{children:"AlphaGo pouil deep learning a neuronov st"}),o.jsx("li",{children:"Tento zpas ukzal schopnosti modern AI"})]}),o.jsx("hr",{}),o.jsx("h2",{children:" Doporuen literatura"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Kniha:"})," Maniak"]}),o.jsx("hr",{}),o.jsx("p",{className:"text-gray-600 italic mt-8",children:"Poznmka: Toto jsou strun poznmky z hodiny. Mete je doplnit o dal detaily z pednky."})]})}function h6(){return o.jsxs(o.Fragment,{children:[o.jsx("h1",{children:" Dleit termny a informace"}),o.jsx("h2",{children:"Zimn semestr 2025/26"}),o.jsx("hr",{}),o.jsx("h2",{children:" Dleit termny"}),o.jsx("h3",{children:"Pedagogick praxe"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Vyuujc:"})," Hovorka"]}),o.jsx("p",{children:o.jsx("strong",{children:"Co se hodnot:"})}),o.jsxs("ul",{children:[o.jsx("li",{children:"Kolik asu jsme vnovali"}),o.jsx("li",{children:"Slab strnky a dobr strnky"}),o.jsx("li",{children:"Jak bychom se ohodnotili"}),o.jsx("li",{children:"Co bychom zlepili, kdyby bylo vce asu"})]}),o.jsx("hr",{}),o.jsx("h3",{children:"Termn po nesice"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Datum:"})," 18. 5. - 22. 5. 2026"]}),o.jsx("hr",{}),o.jsx("h3",{children:"Plenr ve Vdni"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Datum:"})," 19. - 23. listopadu (listopad)"]}),o.jsx("p",{children:"Tdenn plenr ve Vdni - pipravte si cestovn doklady a materily."}),o.jsx("hr",{}),o.jsx("h2",{children:" Konzultan dla"}),o.jsx("p",{children:"Informace o konzultanch dlech budou doplnny."}),o.jsx("hr",{}),o.jsx("h2",{children:" Poznmky"}),o.jsx("h3",{children:"Dleit kontakty"}),o.jsx("p",{children:"Seznam kontakt bude doplnn bhem semestru."}),o.jsx("h3",{children:"Odkazy"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Studijn portl FAMU"}),o.jsx("li",{children:"Knihovna"}),o.jsx("li",{children:"Technick vybaven"})]}),o.jsx("hr",{}),o.jsx("h2",{children:" Checklist na semestr"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Zaregistrovat se do vech pedmt"}),o.jsx("li",{children:"Sledovat termny odevzdn"}),o.jsx("li",{children:"Pipravit se na plenr"}),o.jsx("li",{children:"Prbn pracovat na konzultanm dle"}),o.jsx("li",{children:"Uit se k pedagogick praxi"})]}),o.jsx("hr",{}),o.jsx("p",{className:"text-gray-600 italic mt-8",children:"Poznmka: Tato strnka slou jako centrln msto pro vechny dleit termny a informace. Aktualizujte ji prbn bhem semestru."})]})}function f6(){return o.jsxs("div",{className:"prose prose-lg max-w-none",children:[o.jsx("h1",{children:"Profesn rozvoj - Dotace a granty"}),o.jsxs("p",{className:"text-gray-600",children:[o.jsx("strong",{children:"Vyuujc:"})," LUKOV M. | ",o.jsx("strong",{children:"as:"})," ter 17:20-18:55 | ",o.jsx("strong",{children:"Mstnost:"})," LAZ-423"]}),o.jsx("hr",{className:"my-8"}),o.jsx("h2",{children:" Pehled dotac a monost"}),o.jsx("h3",{children:" koln dotace"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Dv koln dotace"})," - tyto dotace si zkusm podat."]}),o.jsx("h3",{children:" Multi AMU dotace"}),o.jsx("p",{children:"Multi AMU dotace - kterou asi nemu vyut (specifick podmnky)."}),o.jsx("h3",{children:" Grant kultury Prahy 8"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Cl:"})," Chtl bych zskat grant kultury Prahy 8 pro svj projekt."]}),o.jsx("hr",{className:"my-8"}),o.jsx("h2",{children:" Status umlce"}),o.jsx("h3",{children:" Nrodn registr umlc"}),o.jsxs("ul",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Novinka:"})," REGIST - systm, do kterho se d zalogovat za 1000 K"]}),o.jsx("li",{children:"Po registraci me lpe dat o stipendium"}),o.jsx("li",{children:"Nrodn pln zlepen"})]}),o.jsx("h3",{children:" Kreativn vouchery"}),o.jsx("p",{children:"Monost zskat podporu pes kreativn vouchery."}),o.jsx("hr",{className:"my-8"}),o.jsx("h2",{children:" Profesionln granty"}),o.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 my-4",children:[o.jsx("p",{className:"font-semibold",children:" Dleit:"}),o.jsxs("p",{children:["Profesionln umleck granty - ",o.jsx("strong",{children:"vechny granty jsou vyhlaovny na podzim!"})]})]}),o.jsx("hr",{className:"my-8"}),o.jsx("h2",{children:" Sttn fond kultury R"}),o.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 my-4",children:[o.jsx("p",{className:"font-semibold",children:" Doporuen:"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Sttn fond kultury"})," - pr nejjednodu zpsob jak zskat dotaci!"]})]}),o.jsx("h3",{children:" Termny a podmnky"}),o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 my-4",children:[o.jsx("p",{className:"font-semibold",children:" DEADLINE:"}),o.jsxs("p",{className:"text-lg",children:[o.jsx("strong",{children:"11. - 19. prosince"})," - termn pro podn dost!"]})]}),o.jsx("h3",{children:" Finann rozsah"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Minimln stka:"})," 2 000 K"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Maximln stka:"})," a 50 000 K"]})]}),o.jsx("hr",{className:"my-8"}),o.jsx("h2",{children:" Fondy audiovize a kinematografie"}),o.jsx("h3",{children:" Sttn fond kinematografie"}),o.jsx("p",{children:"Fond zamen na podporu filmov a audiovizuln tvorby."}),o.jsx("ul",{children:o.jsx("li",{children:o.jsx("a",{href:"https://fondkinematografie.cz",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"fondkinematografie.cz"})})}),o.jsx("h3",{children:" Nov fond audiovize (MK R)"}),o.jsx("p",{children:"Dal monosti grant v oblasti mdi a audiovize."}),o.jsx("ul",{children:o.jsx("li",{children:o.jsx("a",{href:"https://www.mk.gov.cz/media-a-audiovize-cs-13",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Media a audiovize - MK R"})})}),o.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 my-4",children:[o.jsx("p",{className:"font-semibold",children:" Pozor - Poplatky:"}),o.jsx("p",{children:"U nkterch fond se mus platit poplatky:"}),o.jsxs("ul",{className:"list-disc list-inside mt-2",children:[o.jsxs("li",{children:["Nkter granty: ",o.jsx("strong",{children:"10 000 K"})]}),o.jsxs("li",{children:["Jin granty: ",o.jsx("strong",{children:"20 000 K"})]})]}),o.jsx("p",{className:"mt-2 text-sm",children:"Vdy si ovte podmnky ped podnm dosti!"})]}),o.jsx("hr",{className:"my-8"}),o.jsx("h2",{children:" Uiten odkazy"}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx("a",{href:"https://www.mk.gov.cz/zadosti-o-dotace-cs-2023",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"MK R - dosti o dotace"})}),o.jsx("li",{children:o.jsx("a",{href:"https://mk.gov.cz/oborova-dotacni-rizeni-na-rok-2026-vyhlasovaci-podminky",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Oborov dotan zen na rok 2026 - vyhlaovac podmnky"})}),o.jsx("li",{children:o.jsx("a",{href:"https://mk.gov.cz/statni-fond-kultury-cr-cs-42",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-semibold",children:" Sttn fond kultury R - Doporueno!"})}),o.jsx("li",{children:o.jsx("a",{href:"https://fondkinematografie.cz",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Sttn fond kinematografie"})}),o.jsx("li",{children:o.jsx("a",{href:"https://www.mk.gov.cz/media-a-audiovize-cs-13",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Nov fond audiovize - MK R"})})]}),o.jsx("hr",{className:"my-8"}),o.jsx("h2",{children:" Akn body"}),o.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 my-4",children:o.jsxs("ul",{className:"list-none space-y-2",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"PRIORITA: Sttn fond kultury - deadline 11.-19. prosince!"})]}),o.jsx("li",{children:" Zkusit podat dv koln dotace"}),o.jsx("li",{children:" Zvit grant kultury Prahy 8"}),o.jsx("li",{children:" Registrace do nrodnho registru umlc (1000 K)"}),o.jsx("li",{children:" Sledovat vzvy na podzim pro profesionln granty"}),o.jsx("li",{children:" Prozkoumat kreativn vouchery"})]})}),o.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 my-4",children:[o.jsx("p",{className:"font-semibold",children:" Tip na zatek:"}),o.jsx("p",{children:"Sttn fond kultury je dobr na vyzkouen - jednoduch proces, dostupn stky od 2k do 50k K."})]})]})}const m6={"ddf-1":o6,"ddf-2":l6,"av-1":c6,"av-2":u6,"ai-1":d6,"general-1":h6,"pr-1":f6},p6={blue:"from-gray-800 to-gray-900",purple:"from-gray-800 to-gray-900",green:"from-gray-800 to-gray-900",red:"from-gray-800 to-gray-900",orange:"from-gray-800 to-gray-900"};function g6(){const{subjectId:t,classId:e}=km(),n=w0(t),s=x4(t,e);if(!n||!s)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Poznmky nenalezeny"}),o.jsx(it,{to:"/",className:"text-blue-600 hover:text-blue-700 font-medium",children:" Zpt na hlavn strnku"})]})});const a=m6[`${t}-${e}`],c=n.classes.findIndex(f=>f.id===parseInt(e)),u=c>0?n.classes[c-1]:null,h=c<n.classes.length-1?n.classes[c+1]:null;return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:`bg-gradient-to-r ${p6[n.color]} text-white shadow-lg`,children:o.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs(it,{to:`/subject/${n.id}`,className:"inline-flex items-center text-white hover:text-gray-100 mb-4 transition-colors",children:[o.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpt na ",n.shortName]}),o.jsx("div",{className:"flex items-start justify-between gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"bg-white bg-opacity-20 rounded-full w-10 h-10 flex items-center justify-center",children:o.jsx("span",{className:"font-bold",children:s.id})}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Gl,{className:"w-4 h-4 mr-1"}),s.date]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(j0,{className:"w-4 h-4 mr-1"}),s.lecturer]})]})]}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:s.title})]})})]})}),o.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 md:p-10",children:a?o.jsx("div",{className:"prose-custom",children:o.jsx(a,{})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Poznmky k tto hodin jet nejsou k dispozici."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Poznmky budou pidny bhem semestru."})]})}),o.jsxs("div",{className:"mt-8 flex justify-between items-center gap-4",children:[u?o.jsxs(it,{to:`/subject/${n.id}/class/${u.id}`,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium group",children:[o.jsx(zM,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-xs text-gray-500",children:"Pedchoz"}),o.jsx("div",{className:"line-clamp-1",children:u.title})]})]}):o.jsx("div",{}),h?o.jsxs(it,{to:`/subject/${n.id}/class/${h.id}`,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium group text-right",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-gray-500",children:"Nsledujc"}),o.jsx("div",{className:"line-clamp-1",children:h.title})]}),o.jsx(J2,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}):o.jsx("div",{})]})]})]})}const y6=()=>{};var iE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},v6=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=t[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=t[n++],u=t[n++],h=t[n++],f=((a&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const c=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|u&63)}}return e.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const c=t[a],u=a+1<t.length,h=u?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,g=c>>2,x=(c&3)<<4|h>>4;let b=(h&15)<<2|m>>6,w=m&63;f||(w=64,u||(b=64)),s.push(n[g],n[x],n[b],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):v6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const c=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const x=a<t.length?n[t.charAt(a)]:64;if(++a,c==null||h==null||m==null||x==null)throw new x6;const b=c<<2|h>>4;if(s.push(b),m!==64){const w=h<<4&240|m>>2;if(s.push(w),x!==64){const T=m<<6&192|x;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b6=function(t){const e=VT(t);return IT.encodeByteArray(e,!0)},Yf=function(t){return b6(t).replace(/\./g,"")},j6=function(t){try{return IT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=()=>w6().__FIREBASE_DEFAULTS__,E6=()=>{if(typeof process>"u"||typeof iE>"u")return;const t=iE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j6(t[1]);return e&&JSON.parse(e)},tx=()=>{try{return y6()||_6()||E6()||k6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S6=t=>tx()?.emulatorHosts?.[t],T6=t=>{const e=S6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PT=()=>tx()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A6(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yf(JSON.stringify(n)),Yf(JSON.stringify(u)),""].join(".")}const Fu={};function R6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?t.emulator.push(e):t.prod.push(e);return t}function z6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rE=!1;function M6(t,e){if(typeof window>"u"||typeof document>"u"||!nx(window.location.host)||Fu[t]===e||Fu[t]||rE)return;Fu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",c=R6().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{rE=!0,u()},b}function g(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=z6(s),w=n("text"),T=document.getElementById(w)||document.createElement("span"),C=n("learnmore"),S=document.getElementById(C)||document.createElement("a"),E=n("preprendIcon"),R=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const P=b.element;h(P),g(S,C);const F=m();f(R,E),P.append(R,T,S,F),document.body.appendChild(P)}c?(T.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V6(){const t=tx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I6(){return!V6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P6(){try{return typeof indexedDB=="object"}catch{return!1}}function O6(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="FirebaseError";class mc extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=L6,Object.setPrototypeOf(this,mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,OT.prototype.create)}}class OT{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],u=c?B6(c,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new mc(a,h,s)}}function B6(t,e){return t.replace(U6,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const U6=/\{\$([^}]+)}/g;function Xf(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=t[a],u=e[a];if(aE(c)&&aE(u)){if(!Xf(c,u))return!1}else if(c!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){return t&&t._delegate?t._delegate:t}class id{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new N6;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q6(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:H6(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function H6(t){return t===mo?void 0:t}function q6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const G6={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},K6=et.INFO,Y6={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},X6=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Y6[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class LT{constructor(e){this.name=e,this._logLevel=K6,this._logHandler=X6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const Z6=(t,e)=>e.some(n=>t instanceof n);let oE,lE;function Q6(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W6(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BT=new WeakMap,vv=new WeakMap,UT=new WeakMap,by=new WeakMap,sx=new WeakMap;function J6(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(ha(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&BT.set(n,t)}).catch(()=>{}),sx.set(e,t),e}function eP(t){if(vv.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});vv.set(t,e)}let xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tP(t){xv=t(xv)}function nP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(jy(this),e,...n);return UT.set(s,e.sort?e.sort():[e]),ha(s)}:W6().includes(t)?function(...e){return t.apply(jy(this),e),ha(BT.get(this))}:function(...e){return ha(t.apply(jy(this),e))}}function sP(t){return typeof t=="function"?nP(t):(t instanceof IDBTransaction&&eP(t),Z6(t,Q6())?new Proxy(t,xv):t)}function ha(t){if(t instanceof IDBRequest)return J6(t);if(by.has(t))return by.get(t);const e=sP(t);return e!==t&&(by.set(t,e),sx.set(e,t)),e}const jy=t=>sx.get(t);function iP(t,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const u=indexedDB.open(t,e),h=ha(u);return s&&u.addEventListener("upgradeneeded",f=>{s(ha(u.result),f.oldVersion,f.newVersion,ha(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{c&&f.addEventListener("close",()=>c()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const rP=["get","getKey","getAll","getAllKeys","count"],aP=["put","add","delete","clear"],wy=new Map;function cE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=aP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||rP.includes(n)))return;const c=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&f.done]))[0]};return wy.set(e,c),c}tP(t=>({...t,get:(e,n,s)=>cE(e,n)||t.get(e,n,s),has:(e,n)=>!!cE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lP(t){return t.getComponent()?.type==="VERSION"}const bv="@firebase/app",uE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new LT("@firebase/app"),cP="@firebase/app-compat",uP="@firebase/analytics-compat",dP="@firebase/analytics",hP="@firebase/app-check-compat",fP="@firebase/app-check",mP="@firebase/auth",pP="@firebase/auth-compat",gP="@firebase/database",yP="@firebase/data-connect",vP="@firebase/database-compat",xP="@firebase/functions",bP="@firebase/functions-compat",jP="@firebase/installations",wP="@firebase/installations-compat",_P="@firebase/messaging",EP="@firebase/messaging-compat",kP="@firebase/performance",SP="@firebase/performance-compat",TP="@firebase/remote-config",NP="@firebase/remote-config-compat",AP="@firebase/storage",CP="@firebase/storage-compat",RP="@firebase/firestore",zP="@firebase/ai",MP="@firebase/firestore-compat",DP="firebase",VP="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",IP={[bv]:"fire-core",[cP]:"fire-core-compat",[dP]:"fire-analytics",[uP]:"fire-analytics-compat",[fP]:"fire-app-check",[hP]:"fire-app-check-compat",[mP]:"fire-auth",[pP]:"fire-auth-compat",[gP]:"fire-rtdb",[yP]:"fire-data-connect",[vP]:"fire-rtdb-compat",[xP]:"fire-fn",[bP]:"fire-fn-compat",[jP]:"fire-iid",[wP]:"fire-iid-compat",[_P]:"fire-fcm",[EP]:"fire-fcm-compat",[kP]:"fire-perf",[SP]:"fire-perf-compat",[TP]:"fire-rc",[NP]:"fire-rc-compat",[AP]:"fire-gcs",[CP]:"fire-gcs-compat",[RP]:"fire-fst",[MP]:"fire-fst-compat",[zP]:"fire-vertex","fire-js":"fire-js",[DP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,PP=new Map,wv=new Map;function dE(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qf(t){const e=t.name;if(wv.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;wv.set(e,t);for(const n of Zf.values())dE(n,t);for(const n of PP.values())dE(n,t);return!0}function OP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function LP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new OT("app","Firebase",BP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new id("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=VP;function FT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:jv,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw fa.create("bad-app-name",{appName:String(a)});if(n||(n=PT()),!n)throw fa.create("no-options");const c=Zf.get(a);if(c){if(Xf(n,c.options)&&Xf(s,c.config))return c;throw fa.create("duplicate-app",{appName:a})}const u=new $6(a);for(const f of wv.values())u.addComponent(f);const h=new UP(n,s,u);return Zf.set(a,h),h}function HP(t=jv){const e=Zf.get(t);if(!e&&t===jv&&PT())return FT();if(!e)throw fa.create("no-app",{appName:t});return e}function Ll(t,e,n){let s=IP[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(u.join(" "));return}Qf(new id(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="firebase-heartbeat-database",$P=1,rd="firebase-heartbeat-store";let _y=null;function HT(){return _y||(_y=iP(qP,$P,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rd)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),_y}async function GP(t){try{const n=(await HT()).transaction(rd),s=await n.objectStore(rd).get(qT(t));return await n.done,s}catch(e){if(e instanceof mc)br.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e?.message});br.warn(n.message)}}}async function hE(t,e){try{const s=(await HT()).transaction(rd,"readwrite");await s.objectStore(rd).put(e,qT(t)),await s.done}catch(n){if(n instanceof mc)br.warn(n.message);else{const s=fa.create("idb-set",{originalErrorMessage:n?.message});br.warn(s.message)}}}function qT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1024,YP=30;class XP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>YP){const a=WP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fE(),{heartbeatsToSend:n,unsentEntries:s}=ZP(this._heartbeatsCache.heartbeats),a=Yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return br.warn(e),""}}}function fE(){return new Date().toISOString().substring(0,10)}function ZP(t,e=KP){const n=[];let s=t.slice();for(const a of t){const c=n.find(u=>u.agent===a.agent);if(c){if(c.dates.push(a.date),mE(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),mE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P6()?O6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mE(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}function WP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){Qf(new id("platform-logger",e=>new oP(e),"PRIVATE")),Qf(new id("heartbeat",e=>new XP(e),"PRIVATE")),Ll(bv,uE,t),Ll(bv,uE,"esm2020"),Ll("fire-js","")}JP("");var eO="firebase",tO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ll(eO,tO,"app");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,$T;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,N){function z(){}z.prototype=N.prototype,A.F=N.prototype,A.prototype=new z,A.prototype.constructor=A,A.D=function(B,L,q){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return N.prototype[L].apply(B,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,N,z){z||(z=0);const B=Array(16);if(typeof N=="string")for(var L=0;L<16;++L)B[L]=N.charCodeAt(z++)|N.charCodeAt(z++)<<8|N.charCodeAt(z++)<<16|N.charCodeAt(z++)<<24;else for(L=0;L<16;++L)B[L]=N[z++]|N[z++]<<8|N[z++]<<16|N[z++]<<24;N=A.g[0],z=A.g[1],L=A.g[2];let q=A.g[3],I;I=N+(q^z&(L^q))+B[0]+3614090360&4294967295,N=z+(I<<7&4294967295|I>>>25),I=q+(L^N&(z^L))+B[1]+3905402710&4294967295,q=N+(I<<12&4294967295|I>>>20),I=L+(z^q&(N^z))+B[2]+606105819&4294967295,L=q+(I<<17&4294967295|I>>>15),I=z+(N^L&(q^N))+B[3]+3250441966&4294967295,z=L+(I<<22&4294967295|I>>>10),I=N+(q^z&(L^q))+B[4]+4118548399&4294967295,N=z+(I<<7&4294967295|I>>>25),I=q+(L^N&(z^L))+B[5]+1200080426&4294967295,q=N+(I<<12&4294967295|I>>>20),I=L+(z^q&(N^z))+B[6]+2821735955&4294967295,L=q+(I<<17&4294967295|I>>>15),I=z+(N^L&(q^N))+B[7]+4249261313&4294967295,z=L+(I<<22&4294967295|I>>>10),I=N+(q^z&(L^q))+B[8]+1770035416&4294967295,N=z+(I<<7&4294967295|I>>>25),I=q+(L^N&(z^L))+B[9]+2336552879&4294967295,q=N+(I<<12&4294967295|I>>>20),I=L+(z^q&(N^z))+B[10]+4294925233&4294967295,L=q+(I<<17&4294967295|I>>>15),I=z+(N^L&(q^N))+B[11]+2304563134&4294967295,z=L+(I<<22&4294967295|I>>>10),I=N+(q^z&(L^q))+B[12]+1804603682&4294967295,N=z+(I<<7&4294967295|I>>>25),I=q+(L^N&(z^L))+B[13]+4254626195&4294967295,q=N+(I<<12&4294967295|I>>>20),I=L+(z^q&(N^z))+B[14]+2792965006&4294967295,L=q+(I<<17&4294967295|I>>>15),I=z+(N^L&(q^N))+B[15]+1236535329&4294967295,z=L+(I<<22&4294967295|I>>>10),I=N+(L^q&(z^L))+B[1]+4129170786&4294967295,N=z+(I<<5&4294967295|I>>>27),I=q+(z^L&(N^z))+B[6]+3225465664&4294967295,q=N+(I<<9&4294967295|I>>>23),I=L+(N^z&(q^N))+B[11]+643717713&4294967295,L=q+(I<<14&4294967295|I>>>18),I=z+(q^N&(L^q))+B[0]+3921069994&4294967295,z=L+(I<<20&4294967295|I>>>12),I=N+(L^q&(z^L))+B[5]+3593408605&4294967295,N=z+(I<<5&4294967295|I>>>27),I=q+(z^L&(N^z))+B[10]+38016083&4294967295,q=N+(I<<9&4294967295|I>>>23),I=L+(N^z&(q^N))+B[15]+3634488961&4294967295,L=q+(I<<14&4294967295|I>>>18),I=z+(q^N&(L^q))+B[4]+3889429448&4294967295,z=L+(I<<20&4294967295|I>>>12),I=N+(L^q&(z^L))+B[9]+568446438&4294967295,N=z+(I<<5&4294967295|I>>>27),I=q+(z^L&(N^z))+B[14]+3275163606&4294967295,q=N+(I<<9&4294967295|I>>>23),I=L+(N^z&(q^N))+B[3]+4107603335&4294967295,L=q+(I<<14&4294967295|I>>>18),I=z+(q^N&(L^q))+B[8]+1163531501&4294967295,z=L+(I<<20&4294967295|I>>>12),I=N+(L^q&(z^L))+B[13]+2850285829&4294967295,N=z+(I<<5&4294967295|I>>>27),I=q+(z^L&(N^z))+B[2]+4243563512&4294967295,q=N+(I<<9&4294967295|I>>>23),I=L+(N^z&(q^N))+B[7]+1735328473&4294967295,L=q+(I<<14&4294967295|I>>>18),I=z+(q^N&(L^q))+B[12]+2368359562&4294967295,z=L+(I<<20&4294967295|I>>>12),I=N+(z^L^q)+B[5]+4294588738&4294967295,N=z+(I<<4&4294967295|I>>>28),I=q+(N^z^L)+B[8]+2272392833&4294967295,q=N+(I<<11&4294967295|I>>>21),I=L+(q^N^z)+B[11]+1839030562&4294967295,L=q+(I<<16&4294967295|I>>>16),I=z+(L^q^N)+B[14]+4259657740&4294967295,z=L+(I<<23&4294967295|I>>>9),I=N+(z^L^q)+B[1]+2763975236&4294967295,N=z+(I<<4&4294967295|I>>>28),I=q+(N^z^L)+B[4]+1272893353&4294967295,q=N+(I<<11&4294967295|I>>>21),I=L+(q^N^z)+B[7]+4139469664&4294967295,L=q+(I<<16&4294967295|I>>>16),I=z+(L^q^N)+B[10]+3200236656&4294967295,z=L+(I<<23&4294967295|I>>>9),I=N+(z^L^q)+B[13]+681279174&4294967295,N=z+(I<<4&4294967295|I>>>28),I=q+(N^z^L)+B[0]+3936430074&4294967295,q=N+(I<<11&4294967295|I>>>21),I=L+(q^N^z)+B[3]+3572445317&4294967295,L=q+(I<<16&4294967295|I>>>16),I=z+(L^q^N)+B[6]+76029189&4294967295,z=L+(I<<23&4294967295|I>>>9),I=N+(z^L^q)+B[9]+3654602809&4294967295,N=z+(I<<4&4294967295|I>>>28),I=q+(N^z^L)+B[12]+3873151461&4294967295,q=N+(I<<11&4294967295|I>>>21),I=L+(q^N^z)+B[15]+530742520&4294967295,L=q+(I<<16&4294967295|I>>>16),I=z+(L^q^N)+B[2]+3299628645&4294967295,z=L+(I<<23&4294967295|I>>>9),I=N+(L^(z|~q))+B[0]+4096336452&4294967295,N=z+(I<<6&4294967295|I>>>26),I=q+(z^(N|~L))+B[7]+1126891415&4294967295,q=N+(I<<10&4294967295|I>>>22),I=L+(N^(q|~z))+B[14]+2878612391&4294967295,L=q+(I<<15&4294967295|I>>>17),I=z+(q^(L|~N))+B[5]+4237533241&4294967295,z=L+(I<<21&4294967295|I>>>11),I=N+(L^(z|~q))+B[12]+1700485571&4294967295,N=z+(I<<6&4294967295|I>>>26),I=q+(z^(N|~L))+B[3]+2399980690&4294967295,q=N+(I<<10&4294967295|I>>>22),I=L+(N^(q|~z))+B[10]+4293915773&4294967295,L=q+(I<<15&4294967295|I>>>17),I=z+(q^(L|~N))+B[1]+2240044497&4294967295,z=L+(I<<21&4294967295|I>>>11),I=N+(L^(z|~q))+B[8]+1873313359&4294967295,N=z+(I<<6&4294967295|I>>>26),I=q+(z^(N|~L))+B[15]+4264355552&4294967295,q=N+(I<<10&4294967295|I>>>22),I=L+(N^(q|~z))+B[6]+2734768916&4294967295,L=q+(I<<15&4294967295|I>>>17),I=z+(q^(L|~N))+B[13]+1309151649&4294967295,z=L+(I<<21&4294967295|I>>>11),I=N+(L^(z|~q))+B[4]+4149444226&4294967295,N=z+(I<<6&4294967295|I>>>26),I=q+(z^(N|~L))+B[11]+3174756917&4294967295,q=N+(I<<10&4294967295|I>>>22),I=L+(N^(q|~z))+B[2]+718787259&4294967295,L=q+(I<<15&4294967295|I>>>17),I=z+(q^(L|~N))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+q&4294967295}s.prototype.v=function(A,N){N===void 0&&(N=A.length);const z=N-this.blockSize,B=this.C;let L=this.h,q=0;for(;q<N;){if(L==0)for(;q<=z;)a(this,A,q),q+=this.blockSize;if(typeof A=="string"){for(;q<N;)if(B[L++]=A.charCodeAt(q++),L==this.blockSize){a(this,B),L=0;break}}else for(;q<N;)if(B[L++]=A[q++],L==this.blockSize){a(this,B),L=0;break}}this.h=L,this.o+=N},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;N=this.o*8;for(var z=A.length-8;z<A.length;++z)A[z]=N&255,N/=256;for(this.v(A),A=Array(16),N=0,z=0;z<4;++z)for(let B=0;B<32;B+=8)A[N++]=this.g[z]>>>B&255;return A};function c(A,N){var z=h;return Object.prototype.hasOwnProperty.call(z,A)?z[A]:z[A]=N(A)}function u(A,N){this.h=N;const z=[];let B=!0;for(let L=A.length-1;L>=0;L--){const q=A[L]|0;B&&q==N||(z[L]=q,B=!1)}this.g=z}var h={};function f(A){return-128<=A&&A<128?c(A,function(N){return new u([N|0],N<0?-1:0)}):new u([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return x;if(A<0)return S(m(-A));const N=[];let z=1;for(let B=0;A>=z;B++)N[B]=A/z|0,z*=4294967296;return new u(N,0)}function g(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return S(g(A.substring(1),N));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=m(Math.pow(N,8));let B=x;for(let q=0;q<A.length;q+=8){var L=Math.min(8,A.length-q);const I=parseInt(A.substring(q,q+L),N);L<8?(L=m(Math.pow(N,L)),B=B.j(L).add(m(I))):(B=B.j(z),B=B.add(m(I)))}return B}var x=f(0),b=f(1),w=f(16777216);t=u.prototype,t.m=function(){if(C(this))return-S(this).m();let A=0,N=1;for(let z=0;z<this.g.length;z++){const B=this.i(z);A+=(B>=0?B:4294967296+B)*N,N*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(C(this))return"-"+S(this).toString(A);const N=m(Math.pow(A,6));var z=this;let B="";for(;;){const L=F(z,N).g;z=E(z,L.j(N));let q=((z.g.length>0?z.g[0]:z.h)>>>0).toString(A);if(z=L,T(z))return q+B;for(;q.length<6;)q="0"+q;B=q+B}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(let N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function C(A){return A.h==-1}t.l=function(A){return A=E(this,A),C(A)?-1:T(A)?0:1};function S(A){const N=A.g.length,z=[];for(let B=0;B<N;B++)z[B]=~A.g[B];return new u(z,~A.h).add(b)}t.abs=function(){return C(this)?S(this):this},t.add=function(A){const N=Math.max(this.g.length,A.g.length),z=[];let B=0;for(let L=0;L<=N;L++){let q=B+(this.i(L)&65535)+(A.i(L)&65535),I=(q>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);B=I>>>16,q&=65535,I&=65535,z[L]=I<<16|q}return new u(z,z[z.length-1]&-2147483648?-1:0)};function E(A,N){return A.add(S(N))}t.j=function(A){if(T(this)||T(A))return x;if(C(this))return C(A)?S(this).j(S(A)):S(S(this).j(A));if(C(A))return S(this.j(S(A)));if(this.l(w)<0&&A.l(w)<0)return m(this.m()*A.m());const N=this.g.length+A.g.length,z=[];for(var B=0;B<2*N;B++)z[B]=0;for(B=0;B<this.g.length;B++)for(let L=0;L<A.g.length;L++){const q=this.i(B)>>>16,I=this.i(B)&65535,H=A.i(L)>>>16,ne=A.i(L)&65535;z[2*B+2*L]+=I*ne,R(z,2*B+2*L),z[2*B+2*L+1]+=q*ne,R(z,2*B+2*L+1),z[2*B+2*L+1]+=I*H,R(z,2*B+2*L+1),z[2*B+2*L+2]+=q*H,R(z,2*B+2*L+2)}for(A=0;A<N;A++)z[A]=z[2*A+1]<<16|z[2*A];for(A=N;A<2*N;A++)z[A]=0;return new u(z,0)};function R(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function P(A,N){this.g=A,this.h=N}function F(A,N){if(T(N))throw Error("division by zero");if(T(A))return new P(x,x);if(C(A))return N=F(S(A),N),new P(S(N.g),S(N.h));if(C(N))return N=F(A,S(N)),new P(S(N.g),N.h);if(A.g.length>30){if(C(A)||C(N))throw Error("slowDivide_ only works with positive integers.");for(var z=b,B=N;B.l(A)<=0;)z=$(z),B=$(B);var L=X(z,1),q=X(B,1);for(B=X(B,2),z=X(z,2);!T(B);){var I=q.add(B);I.l(A)<=0&&(L=L.add(z),q=I),B=X(B,1),z=X(z,1)}return N=E(A,L.j(N)),new P(L,N)}for(L=x;A.l(N)>=0;){for(z=Math.max(1,Math.floor(A.m()/N.m())),B=Math.ceil(Math.log(z)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),q=m(z),I=q.j(N);C(I)||I.l(A)>0;)z-=B,q=m(z),I=q.j(N);T(q)&&(q=b),L=L.add(q),A=E(A,I)}return new P(L,A)}t.B=function(A){return F(this,A).h},t.and=function(A){const N=Math.max(this.g.length,A.g.length),z=[];for(let B=0;B<N;B++)z[B]=this.i(B)&A.i(B);return new u(z,this.h&A.h)},t.or=function(A){const N=Math.max(this.g.length,A.g.length),z=[];for(let B=0;B<N;B++)z[B]=this.i(B)|A.i(B);return new u(z,this.h|A.h)},t.xor=function(A){const N=Math.max(this.g.length,A.g.length),z=[];for(let B=0;B<N;B++)z[B]=this.i(B)^A.i(B);return new u(z,this.h^A.h)};function $(A){const N=A.g.length+1,z=[];for(let B=0;B<N;B++)z[B]=A.i(B)<<1|A.i(B-1)>>>31;return new u(z,A.h)}function X(A,N){const z=N>>5;N%=32;const B=A.g.length-z,L=[];for(let q=0;q<B;q++)L[q]=N>0?A.i(q+z)>>>N|A.i(q+z+1)<<32-N:A.i(q+z);return new u(L,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$T=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,ma=u}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GT,Nu,KT,Cf,_v,YT,XT,ZT;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var j=0;j<p.length;++j){var k=p[j];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var s=n(this);function a(p,j){if(j)e:{var k=s;p=p.split(".");for(var O=0;O<p.length-1;O++){var te=p[O];if(!(te in k))break e;k=k[te]}p=p[p.length-1],O=k[p],j=j(O),j!=O&&j!=null&&e(k,p,{configurable:!0,writable:!0,value:j})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(j){var k=[],O;for(O in j)Object.prototype.hasOwnProperty.call(j,O)&&k.push([O,j[O]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(p){var j=typeof p;return j=="object"&&p!=null||j=="function"}function f(p,j,k){return p.call.apply(p.bind,arguments)}function m(p,j,k){return m=f,m.apply(null,arguments)}function g(p,j){var k=Array.prototype.slice.call(arguments,1);return function(){var O=k.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function x(p,j){function k(){}k.prototype=j.prototype,p.Z=j.prototype,p.prototype=new k,p.prototype.constructor=p,p.Ob=function(O,te,oe){for(var xe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)xe[Le-2]=arguments[Le];return j.prototype[te].apply(O,xe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const j=p.length;if(j>0){const k=Array(j);for(let O=0;O<j;O++)k[O]=p[O];return k}return[]}function T(p,j){for(let O=1;O<arguments.length;O++){const te=arguments[O];var k=typeof te;if(k=k!="object"?k:te?Array.isArray(te)?"array":k:"null",k=="array"||k=="object"&&typeof te.length=="number"){k=p.length||0;const oe=te.length||0;p.length=k+oe;for(let xe=0;xe<oe;xe++)p[k+xe]=te[xe]}else p.push(te)}}class C{constructor(j,k){this.i=j,this.j=k,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function S(p){u.setTimeout(()=>{throw p},0)}function E(){var p=A;let j=null;return p.g&&(j=p.g,p.g=p.g.next,p.g||(p.h=null),j.next=null),j}class R{constructor(){this.h=this.g=null}add(j,k){const O=P.get();O.set(j,k),this.h?this.h.next=O:this.g=O,this.h=O}}var P=new C(()=>new F,p=>p.reset());class F{constructor(){this.next=this.g=this.h=null}set(j,k){this.h=j,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let $,X=!1,A=new R,N=()=>{const p=Promise.resolve(void 0);$=()=>{p.then(z)}};function z(){for(var p;p=E();){try{p.h.call(p.g)}catch(k){S(k)}var j=P;j.j(p),j.h<100&&(j.h++,p.next=j.g,j.g=p)}X=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,j){this.type=p,this.g=this.target=j,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,j=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};u.addEventListener("test",k,j),u.removeEventListener("test",k,j)}catch{}return p})();function I(p){return/^[\s\xa0]*$/.test(p)}function H(p,j){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,j)}x(H,L),H.prototype.init=function(p,j){const k=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=j,j=p.relatedTarget,j||(k=="mouseover"?j=p.fromElement:k=="mouseout"&&(j=p.toElement)),this.relatedTarget=j,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),U=0;function Y(p,j,k,O,te){this.listener=p,this.proxy=null,this.src=j,this.type=k,this.capture=!!O,this.ha=te,this.key=++U,this.da=this.fa=!1}function ee(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Q(p,j,k){for(const O in p)j.call(k,p[O],O,p)}function W(p,j){for(const k in p)j.call(void 0,p[k],k,p)}function V(p){const j={};for(const k in p)j[k]=p[k];return j}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(p,j){let k,O;for(let te=1;te<arguments.length;te++){O=arguments[te];for(k in O)p[k]=O[k];for(let oe=0;oe<K.length;oe++)k=K[oe],Object.prototype.hasOwnProperty.call(O,k)&&(p[k]=O[k])}}function le(p){this.src=p,this.g={},this.h=0}le.prototype.add=function(p,j,k,O,te){const oe=p.toString();p=this.g[oe],p||(p=this.g[oe]=[],this.h++);const xe=ve(p,j,O,te);return xe>-1?(j=p[xe],k||(j.fa=!1)):(j=new Y(j,this.src,oe,!!O,te),j.fa=k,p.push(j)),j};function ye(p,j){const k=j.type;if(k in p.g){var O=p.g[k],te=Array.prototype.indexOf.call(O,j,void 0),oe;(oe=te>=0)&&Array.prototype.splice.call(O,te,1),oe&&(ee(j),p.g[k].length==0&&(delete p.g[k],p.h--))}}function ve(p,j,k,O){for(let te=0;te<p.length;++te){const oe=p[te];if(!oe.da&&oe.listener==j&&oe.capture==!!k&&oe.ha==O)return te}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Re={};function ke(p,j,k,O,te){if(Array.isArray(j)){for(let oe=0;oe<j.length;oe++)ke(p,j[oe],k,O,te);return null}return k=Te(k),p&&p[ne]?p.J(j,k,h(O)?!!O.capture:!1,te):Oe(p,j,k,!1,O,te)}function Oe(p,j,k,O,te,oe){if(!j)throw Error("Invalid event type");const xe=h(te)?!!te.capture:!!te;let Le=Mt(p);if(Le||(p[we]=Le=new le(p)),k=Le.add(j,k,O,xe,oe),k.proxy)return k;if(O=wt(),k.proxy=O,O.src=p,O.listener=k,p.addEventListener)q||(te=xe),te===void 0&&(te=!1),p.addEventListener(j.toString(),O,te);else if(p.attachEvent)p.attachEvent(ot(j.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return k}function wt(){function p(k){return j.call(p.src,p.listener,k)}const j=dt;return p}function ut(p,j,k,O,te){if(Array.isArray(j))for(var oe=0;oe<j.length;oe++)ut(p,j[oe],k,O,te);else O=h(O)?!!O.capture:!!O,k=Te(k),p&&p[ne]?(p=p.i,oe=String(j).toString(),oe in p.g&&(j=p.g[oe],k=ve(j,k,O,te),k>-1&&(ee(j[k]),Array.prototype.splice.call(j,k,1),j.length==0&&(delete p.g[oe],p.h--)))):p&&(p=Mt(p))&&(j=p.g[j.toString()],p=-1,j&&(p=ve(j,k,O,te)),(k=p>-1?j[p]:null)&&bt(k))}function bt(p){if(typeof p!="number"&&p&&!p.da){var j=p.src;if(j&&j[ne])ye(j.i,p);else{var k=p.type,O=p.proxy;j.removeEventListener?j.removeEventListener(k,O,p.capture):j.detachEvent?j.detachEvent(ot(k),O):j.addListener&&j.removeListener&&j.removeListener(O),(k=Mt(j))?(ye(k,p),k.h==0&&(k.src=null,j[we]=null)):ee(p)}}}function ot(p){return p in Re?Re[p]:Re[p]="on"+p}function dt(p,j){if(p.da)p=!0;else{j=new H(j,this);const k=p.listener,O=p.ha||p.src;p.fa&&bt(p),p=k.call(O,j)}return p}function Mt(p){return p=p[we],p instanceof le?p:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function Te(p){return typeof p=="function"?p:(p[We]||(p[We]=function(j){return p.handleEvent(j)}),p[We])}function $e(){B.call(this),this.i=new le(this),this.M=this,this.G=null}x($e,B),$e.prototype[ne]=!0,$e.prototype.removeEventListener=function(p,j,k,O){ut(this,p,j,k,O)};function ht(p,j){var k,O=p.G;if(O)for(k=[];O;O=O.G)k.push(O);if(p=p.M,O=j.type||j,typeof j=="string")j=new L(j,p);else if(j instanceof L)j.target=j.target||p;else{var te=j;j=new L(O,p),ae(j,te)}te=!0;let oe,xe;if(k)for(xe=k.length-1;xe>=0;xe--)oe=j.g=k[xe],te=Hn(oe,O,!0,j)&&te;if(oe=j.g=p,te=Hn(oe,O,!0,j)&&te,te=Hn(oe,O,!1,j)&&te,k)for(xe=0;xe<k.length;xe++)oe=j.g=k[xe],te=Hn(oe,O,!1,j)&&te}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var p=this.i;for(const j in p.g){const k=p.g[j];for(let O=0;O<k.length;O++)ee(k[O]);delete p.g[j],p.h--}}this.G=null},$e.prototype.J=function(p,j,k,O){return this.i.add(String(p),j,!1,k,O)},$e.prototype.K=function(p,j,k,O){return this.i.add(String(p),j,!0,k,O)};function Hn(p,j,k,O){if(j=p.i.g[String(j)],!j)return!0;j=j.concat();let te=!0;for(let oe=0;oe<j.length;++oe){const xe=j[oe];if(xe&&!xe.da&&xe.capture==k){const Le=xe.listener,Kt=xe.ha||xe.src;xe.fa&&ye(p.i,xe),te=Le.call(Kt,O)!==!1&&te}}return te&&!O.defaultPrevented}function di(p,j){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:u.setTimeout(p,j||0)}function Ks(p){p.g=di(()=>{p.g=null,p.i&&(p.i=!1,Ks(p))},p.l);const j=p.h;p.h=null,p.m.apply(null,j)}class kt extends B{constructor(j,k){super(),this.m=j,this.l=k,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(p){B.call(this),this.h=p,this.g={}}x(qn,B);var ns=[];function ss(p){Q(p.g,function(j,k){this.g.hasOwnProperty(k)&&bt(j)},p),p.g={}}qn.prototype.N=function(){qn.Z.N.call(this),ss(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=u.JSON.stringify,hi=u.JSON.parse,fi=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function $t(){}function Pn(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){L.call(this,"d")}x(St,L);function cn(){L.call(this,"c")}x(cn,L);var tt={},xs=null;function mi(){return xs=xs||new $e}tt.Ia="serverreachability";function kr(p){L.call(this,tt.Ia,p)}x(kr,L);function Nn(p){const j=mi();ht(j,new kr(j))}tt.STAT_EVENT="statevent";function Ys(p,j){L.call(this,tt.STAT_EVENT,p),this.stat=j}x(Ys,L);function Dt(p){const j=mi();ht(j,new Ys(j,p))}tt.Ja="timingevent";function fn(p,j){L.call(this,tt.Ja,p),this.size=j}x(fn,L);function bs(p,j){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},j)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function jc(p,j,k,O,te,oe){p.info(function(){if(p.g)if(oe){var xe="",Le=oe.split("&");for(let rt=0;rt<Le.length;rt++){var Kt=Le[rt].split("=");if(Kt.length>1){const Ct=Kt[0];Kt=Kt[1];const As=Ct.split("_");xe=As.length>=2&&As[1]=="type"?xe+(Ct+"="+Kt+"&"):xe+(Ct+"=redacted&")}}}else xe=null;else xe=oe;return"XMLHTTP REQ ("+O+") [attempt "+te+"]: "+j+`
`+k+`
`+xe})}function Do(p,j,k,O,te,oe,xe){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+te+"]: "+j+`
`+k+`
`+oe+" "+xe})}function js(p,j,k,O){p.info(function(){return"XMLHTTP TEXT ("+j+"): "+wc(p,k)+(O?" "+O:"")})}function Ui(p,j){p.info(function(){return"TIMEOUT: "+j})}is.prototype.info=function(){};function wc(p,j){if(!p.g)return j;if(!j)return null;try{const oe=JSON.parse(j);if(oe){for(p=0;p<oe.length;p++)if(Array.isArray(oe[p])){var k=oe[p];if(!(k.length<2)){var O=k[1];if(Array.isArray(O)&&!(O.length<1)){var te=O[0];if(te!="noop"&&te!="stop"&&te!="close")for(let xe=1;xe<O.length;xe++)O[xe]=""}}}}return In(oe)}catch{return j}}var Fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},za={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ma;function Hi(){}x(Hi,$t),Hi.prototype.g=function(){return new XMLHttpRequest},Ma=new Hi;function Xs(p){return encodeURIComponent(String(p))}function Vo(p){var j=1;p=p.split(":");const k=[];for(;j>0&&p.length;)k.push(p.shift()),j--;return p.length&&k.push(p.join(":")),k}function rs(p,j,k,O){this.j=p,this.i=j,this.l=k,this.S=O||1,this.V=new qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new as}function as(){this.i=null,this.g="",this.h=!1}var Ot={},Gt={};function ws(p,j,k){p.M=1,p.A=La(Wt(j)),p.u=k,p.R=!0,Sr(p,null)}function Sr(p,j){p.F=Date.now(),_s(p),p.B=Wt(p.A);var k=p.B,O=p.S;Array.isArray(O)||(O=[String(O)]),Bo(k.i,"t",O),p.C=0,k=p.j.L,p.h=new as,p.g=Zd(p.j,k?j:null,!p.u),p.P>0&&(p.O=new kt(m(p.Y,p,p.g),p.P)),j=p.V,k=p.g,O=p.ba;var te="readystatechange";Array.isArray(te)||(te&&(ns[0]=te.toString()),te=ns);for(let oe=0;oe<te.length;oe++){const xe=ke(k,te[oe],O||j.handleEvent,!1,j.h||j);if(!xe)break;j.g[xe.key]=xe}j=p.J?V(p.J):{},p.u?(p.v||(p.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,j)):(p.v="GET",p.g.ea(p.B,p.v,null,j)),Nn(),jc(p.i,p.v,p.B,p.l,p.S,p.u)}rs.prototype.ba=function(p){p=p.target;const j=this.O;j&&Ws(p)==3?j.j():this.Y(p)},rs.prototype.Y=function(p){try{if(p==this.g)e:{const Le=Ws(this.g),Kt=this.g.ya(),rt=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Le!=4||Kt==7||(Kt==8||rt<=0?Nn(3):Nn(2)),Es(this);var j=this.g.ca();this.X=j;var k=_c(this);if(this.o=j==200,Do(this.i,this.v,this.B,this.l,this.S,Le,j),this.o){if(this.U&&!this.L){t:{if(this.g){var O,te=this.g;if((O=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(O)){var oe=O;break t}}oe=null}if(p=oe)js(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ks(this,p);else{this.o=!1,this.m=3,Dt(12),Ln(this),On(this);break e}}if(this.R){p=!0;let Ct;for(;!this.K&&this.C<k.length;)if(Ct=Po(this,k),Ct==Gt){Le==4&&(this.m=4,Dt(14),p=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Ot){this.m=4,Dt(15),js(this.i,this.l,k,"[Invalid Chunk]"),p=!1;break}else js(this.i,this.l,Ct,null),ks(this,Ct);if(Io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||k.length!=0||this.h.h||(this.m=1,Dt(16),p=!1),this.o=this.o&&p,!p)js(this.i,this.l,k,"[Invalid Chunked Response]"),Ln(this),On(this);else if(k.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Mc(xe),xe.P=!0,Dt(11))}}else js(this.i,this.l,k,null),ks(this,k);Le==4&&Ln(this),this.o&&!this.K&&(Le==4?Gd(this.j,this):(this.o=!1,_s(this)))}else $i(this.g),j==400&&k.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Ln(this),On(this)}}}catch{}finally{}};function _c(p){if(!Io(p))return p.g.la();const j=vn(p.g);if(j==="")return"";let k="";const O=j.length,te=Ws(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ln(p),On(p),"";p.h.i=new u.TextDecoder}for(let oe=0;oe<O;oe++)p.h.h=!0,k+=p.h.i.decode(j[oe],{stream:!(te&&oe==O-1)});return j.length=0,p.h.g+=k,p.C=0,p.h.g}function Io(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Po(p,j){var k=p.C,O=j.indexOf(`
`,k);return O==-1?Gt:(k=Number(j.substring(k,O)),isNaN(k)?Ot:(O+=1,O+k>j.length?Gt:(j=j.slice(O,O+k),p.C=O+k,j)))}rs.prototype.cancel=function(){this.K=!0,Ln(this)};function _s(p){p.T=Date.now()+p.H,Tr(p,p.H)}function Tr(p,j){if(p.D!=null)throw Error("WatchDog timer not null");p.D=bs(m(p.aa,p),j)}function Es(p){p.D&&(u.clearTimeout(p.D),p.D=null)}rs.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Ui(this.i,this.B),this.M!=2&&(Nn(),Dt(17)),Ln(this),this.m=2,On(this)):Tr(this,this.T-p)};function On(p){p.j.I==0||p.K||Gd(p.j,p)}function Ln(p){Es(p);var j=p.O;j&&typeof j.dispose=="function"&&j.dispose(),p.O=null,ss(p.V),p.g&&(j=p.g,p.g=null,j.abort(),j.dispose())}function ks(p,j){try{var k=p.j;if(k.I!=0&&(k.g==p||os(k.h,p))){if(!p.L&&os(k.h,p)&&k.I==3){try{var O=k.Ba.g.parse(j)}catch{O=null}if(Array.isArray(O)&&O.length==3){var te=O;if(te[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<p.F)$o(k),Ir(k);else break e;Ga(k),Dt(18)}}else k.xa=te[1],0<k.xa-k.K&&te[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=bs(m(k.Va,k),6e3));Ss(k.h)<=1&&k.ta&&(k.ta=void 0)}else bi(k,11)}else if((p.L||k.g==p)&&$o(k),!I(j))for(te=k.Ba.g.parse(j),j=0;j<te.length;j++){let rt=te[j];const Ct=rt[0];if(!(Ct<=k.K))if(k.K=Ct,rt=rt[1],k.I==2)if(rt[0]=="c"){k.M=rt[1],k.ba=rt[2];const As=rt[3];As!=null&&(k.ka=As,k.j.info("VER="+k.ka));const ji=rt[4];ji!=null&&(k.za=ji,k.j.info("SVER="+k.za));const Js=rt[5];Js!=null&&typeof Js=="number"&&Js>0&&(O=1.5*Js,k.O=O,k.j.info("backChannelRequestTimeoutMs_="+O)),O=k;const ei=p.g;if(ei){const Ka=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var oe=O.h;oe.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(Ia(oe,oe.h),oe.h=null))}if(O.G){const Go=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(O.wa=Go,ft(O.J,O.G,Go))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-p.F,k.j.info("Handshake RTT: "+k.T+"ms")),O=k;var xe=p;if(O.na=Xd(O,O.L?O.ba:null,O.W),xe.L){Pa(O.h,xe);var Le=xe,Kt=O.O;Kt&&(Le.H=Kt),Le.D&&(Es(Le),_s(Le)),O.g=xe}else qd(O);k.i.length>0&&xi(k)}else rt[0]!="stop"&&rt[0]!="close"||bi(k,7);else k.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?bi(k,7):Rc(k):rt[0]!="noop"&&k.l&&k.l.qa(rt),k.A=0)}}Nn(4)}catch{}}var Lt=class{constructor(p,j){this.g=p,this.map=j}};function Da(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Va(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ss(p){return p.h?1:p.g?p.g.size:0}function os(p,j){return p.h?p.h==j:p.g?p.g.has(j):!1}function Ia(p,j){p.g?p.g.add(j):p.h=j}function Pa(p,j){p.h&&p.h==j?p.h=null:p.g&&p.g.has(j)&&p.g.delete(j)}Da.prototype.cancel=function(){if(this.i=Oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Oa(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let j=p.i;for(const k of p.g.values())j=j.concat(k.G);return j}return w(p.i)}var Nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oo(p,j){if(p){p=p.split("&");for(let k=0;k<p.length;k++){const O=p[k].indexOf("=");let te,oe=null;O>=0?(te=p[k].substring(0,O),oe=p[k].substring(O+1)):te=p[k],j(te,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ls(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;p instanceof ls?(this.l=p.l,mn(this,p.j),this.o=p.o,this.g=p.g,Ar(this,p.u),this.h=p.h,Ec(this,Fd(p.i)),this.m=p.m):p&&(j=String(p).match(Nr))?(this.l=!1,mn(this,j[1]||"",!0),this.o=pi(j[2]||""),this.g=pi(j[3]||"",!0),Ar(this,j[4]),this.h=pi(j[5]||"",!0),Ec(this,j[6]||"",!0),this.m=pi(j[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}ls.prototype.toString=function(){const p=[];var j=this.j;j&&p.push(Ba(j,Lo,!0),":");var k=this.g;return(k||j=="file")&&(p.push("//"),(j=this.o)&&p.push(Ba(j,Lo,!0),"@"),p.push(Xs(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&p.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(Ba(k,k.charAt(0)=="/"?kc:Ld,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",Ba(k,Bd)),p.join("")},ls.prototype.resolve=function(p){const j=Wt(this);let k=!!p.j;k?mn(j,p.j):k=!!p.o,k?j.o=p.o:k=!!p.g,k?j.g=p.g:k=p.u!=null;var O=p.h;if(k)Ar(j,p.u);else if(k=!!p.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var te=j.h.lastIndexOf("/");te!=-1&&(O=j.h.slice(0,te+1)+O)}if(te=O,te==".."||te==".")O="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){O=te.lastIndexOf("/",0)==0,te=te.split("/");const oe=[];for(let xe=0;xe<te.length;){const Le=te[xe++];Le=="."?O&&xe==te.length&&oe.push(""):Le==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),O&&xe==te.length&&oe.push("")):(oe.push(Le),O=!0)}O=oe.join("/")}else O=te}return k?j.h=O:k=p.i.toString()!=="",k?Ec(j,Fd(p.i)):k=!!p.m,k&&(j.m=p.m),j};function Wt(p){return new ls(p)}function mn(p,j,k){p.j=k?pi(j,!0):j,p.j&&(p.j=p.j.replace(/:$/,""))}function Ar(p,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);p.u=j}else p.u=null}function Ec(p,j,k){j instanceof Rr?(p.i=j,Uo(p.i,p.l)):(k||(j=Ba(j,Cr)),p.i=new Rr(j,p.l))}function ft(p,j,k){p.i.set(j,k)}function La(p){return ft(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function pi(p,j){return p?j?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ba(p,j,k){return typeof p=="string"?(p=encodeURI(p).replace(j,$n),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function $n(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Lo=/[#\/\?@]/g,Ld=/[#\?:]/g,kc=/[#\?]/g,Cr=/[#\?@]/g,Bd=/#/g;function Rr(p,j){this.h=this.g=null,this.i=p||null,this.j=!!j}function Gn(p){p.g||(p.g=new Map,p.h=0,p.i&&Oo(p.i,function(j,k){p.add(decodeURIComponent(j.replace(/\+/g," ")),k)}))}t=Rr.prototype,t.add=function(p,j){Gn(this),this.i=null,p=zr(this,p);let k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(j),this.h+=1,this};function Ud(p,j){Gn(p),j=zr(p,j),p.g.has(j)&&(p.i=null,p.h-=p.g.get(j).length,p.g.delete(j))}function Sc(p,j){return Gn(p),j=zr(p,j),p.g.has(j)}t.forEach=function(p,j){Gn(this),this.g.forEach(function(k,O){k.forEach(function(te){p.call(j,te,O,this)},this)},this)};function Tc(p,j){Gn(p);let k=[];if(typeof j=="string")Sc(p,j)&&(k=k.concat(p.g.get(zr(p,j))));else for(p=Array.from(p.g.values()),j=0;j<p.length;j++)k=k.concat(p[j]);return k}t.set=function(p,j){return Gn(this),this.i=null,p=zr(this,p),Sc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[j]),this.h+=1,this},t.get=function(p,j){return p?(p=Tc(this,p),p.length>0?String(p[0]):j):j};function Bo(p,j,k){Ud(p,j),k.length>0&&(p.i=null,p.g.set(zr(p,j),w(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],j=Array.from(this.g.keys());for(let O=0;O<j.length;O++){var k=j[O];const te=Xs(k);k=Tc(this,k);for(let oe=0;oe<k.length;oe++){let xe=te;k[oe]!==""&&(xe+="="+Xs(k[oe])),p.push(xe)}}return this.i=p.join("&")};function Fd(p){const j=new Rr;return j.i=p.i,p.g&&(j.g=new Map(p.g),j.h=p.h),j}function zr(p,j){return j=String(j),p.j&&(j=j.toLowerCase()),j}function Uo(p,j){j&&!p.j&&(Gn(p),p.i=null,p.g.forEach(function(k,O){const te=O.toLowerCase();O!=te&&(Ud(this,O),Bo(this,te,k))},p)),p.j=j}function Zs(p,j){const k=new is;if(u.Image){const O=new Image;O.onload=g(Ts,k,"TestLoadImage: loaded",!0,j,O),O.onerror=g(Ts,k,"TestLoadImage: error",!1,j,O),O.onabort=g(Ts,k,"TestLoadImage: abort",!1,j,O),O.ontimeout=g(Ts,k,"TestLoadImage: timeout",!1,j,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else j(!1)}function Nc(p,j){const k=new is,O=new AbortController,te=setTimeout(()=>{O.abort(),Ts(k,"TestPingServer: timeout",!1,j)},1e4);fetch(p,{signal:O.signal}).then(oe=>{clearTimeout(te),oe.ok?Ts(k,"TestPingServer: ok",!0,j):Ts(k,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(te),Ts(k,"TestPingServer: error",!1,j)})}function Ts(p,j,k,O,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),O(k)}catch{}}function Mr(){this.g=new fi}function gi(p){this.i=p.Sb||null,this.h=p.ab||!1}x(gi,$t),gi.prototype.g=function(){return new Ua(this.i,this.h)};function Ua(p,j){$e.call(this),this.H=p,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ua,$e),t=Ua.prototype,t.open=function(p,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=j,this.readyState=1,Qs(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(j.body=p),(this.H||u).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var j=p.value?p.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!p.done}))&&(this.response=this.responseText+=j)}p.done?Dr(this):Qs(this),this.readyState==3&&Fo(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Dr(this))},t.Na=function(p){this.g&&(this.response=p,Dr(this))},t.ga=function(){this.g&&Dr(this)};function Dr(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Qs(p)}t.setRequestHeader=function(p,j){this.A.append(p,j)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],j=this.h.entries();for(var k=j.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=j.next();return p.join(`\r
`)};function Qs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ns(p){let j="";return Q(p,function(k,O){j+=O,j+=":",j+=k,j+=`\r
`}),j}function Fa(p,j,k){e:{for(O in k){var O=!1;break e}O=!0}O||(k=Ns(k),typeof p=="string"?k!=null&&Xs(k):ft(p,j,k))}function gt(p){$e.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(gt,$e);var yi=/^https?$/i,Ac=["POST","PUT"];t=gt.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,j,k,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);j=j?j.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ma.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(j,String(p),!0),this.B=!1}catch(oe){Ha(this,oe);return}if(p=k||"",k=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var te in O)k.set(te,O[te]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const oe of O.keys())k.set(oe,O.get(oe));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(k.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(Ac,j,void 0)>=0)||O||te||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,xe]of k)this.g.setRequestHeader(oe,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(oe){Ha(this,oe)}};function Ha(p,j){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=j,p.o=5,Cc(p),qi(p)}function Cc(p){p.A||(p.A=!0,ht(p,"complete"),ht(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ht(this,"complete"),ht(this,"abort"),qi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qa(this):this.Xa())},t.Xa=function(){qa(this)};function qa(p){if(p.h&&typeof c<"u"){if(p.v&&Ws(p)==4)setTimeout(p.Ca.bind(p),0);else if(ht(p,"readystatechange"),Ws(p)==4){p.h=!1;try{const oe=p.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var k;if(!(k=j)){var O;if(O=oe===0){let xe=String(p.D).match(Nr)[1]||null;!xe&&u.self&&u.self.location&&(xe=u.self.location.protocol.slice(0,-1)),O=!yi.test(xe?xe.toLowerCase():"")}k=O}if(k)ht(p,"complete"),ht(p,"success");else{p.o=6;try{var te=Ws(p)>2?p.g.statusText:""}catch{te=""}p.l=te+" ["+p.ca()+"]",Cc(p)}}finally{qi(p)}}}}function qi(p,j){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const k=p.g;p.g=null,j||ht(p,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ws(p){return p.g?p.g.readyState:0}t.ca=function(){try{return Ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var j=this.g.responseText;return p&&j.indexOf(p)==0&&(j=j.substring(p.length)),hi(j)}};function vn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(p){const j={};p=(p.g&&Ws(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if(I(p[O]))continue;var k=Vo(p[O]);const te=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const oe=j[te]||[];j[te]=oe,oe.push(k)}W(j,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(p,j,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||j}function Vr(p){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,p),this.Za=vi("retryDelaySeedMs",1e4,p),this.Ta=vi("forwardChannelMaxRetries",2,p),this.va=vi("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Da(p&&p.concurrentRequestLimit),this.Ba=new Mr,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vr.prototype,t.ka=8,t.I=1,t.connect=function(p,j,k,O){Dt(0),this.W=p,this.H=j||{},k&&O!==void 0&&(this.H.OSID=k,this.H.OAID=O),this.F=this.X,this.J=Xd(this,null,this.W),xi(this)};function Rc(p){if(Ho(p),p.I==3){var j=p.V++,k=Wt(p.J);if(ft(k,"SID",p.M),ft(k,"RID",j),ft(k,"TYPE","terminate"),$a(p,k),j=new rs(p,p.j,j),j.M=2,j.A=La(Wt(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(j.A.toString(),"")}catch{}!k&&u.Image&&(new Image().src=j.A,k=!0),k||(j.g=Zd(j.j,null),j.g.ea(j.A)),j.F=Date.now(),_s(j)}Yd(p)}function Ir(p){p.g&&(Mc(p),p.g.cancel(),p.g=null)}function Ho(p){Ir(p),p.v&&(u.clearTimeout(p.v),p.v=null),$o(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function xi(p){if(!Va(p.h)&&!p.m){p.m=!0;var j=p.Ea;$||N(),X||($(),X=!0),A.add(j,p),p.D=0}}function qo(p,j){return Ss(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=j.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=bs(m(p.Ea,p,j),Kd(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const te=new rs(this,this.j,p);let oe=this.o;if(this.U&&(oe?(oe=V(oe),ae(oe,this.U)):oe=this.U),this.u!==null||this.R||(te.J=oe,oe=null),this.S)e:{for(var j=0,k=0;k<this.i.length;k++){t:{var O=this.i[k];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(j+=O,j>4096){j=k;break e}if(j===4096||k===this.i.length-1){j=k+1;break e}}j=1e3}else j=1e3;j=Hd(this,te,j),k=Wt(this.J),ft(k,"RID",p),ft(k,"CVER",22),this.G&&ft(k,"X-HTTP-Session-Id",this.G),$a(this,k),oe&&(this.R?j="headers="+Xs(Ns(oe))+"&"+j:this.u&&Fa(k,this.u,oe)),Ia(this.h,te),this.Ra&&ft(k,"TYPE","init"),this.S?(ft(k,"$req",j),ft(k,"SID","null"),te.U=!0,ws(te,k,null)):ws(te,k,j),this.I=2}}else this.I==3&&(p?zc(this,p):this.i.length==0||Va(this.h)||zc(this))};function zc(p,j){var k;j?k=j.l:k=p.V++;const O=Wt(p.J);ft(O,"SID",p.M),ft(O,"RID",k),ft(O,"AID",p.K),$a(p,O),p.u&&p.o&&Fa(O,p.u,p.o),k=new rs(p,p.j,k,p.D+1),p.u===null&&(k.J=p.o),j&&(p.i=j.G.concat(p.i)),j=Hd(p,k,1e3),k.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ia(p.h,k),ws(k,O,j)}function $a(p,j){p.H&&Q(p.H,function(k,O){ft(j,O,k)}),p.l&&Q({},function(k,O){ft(j,O,k)})}function Hd(p,j,k){k=Math.min(p.i.length,k);const O=p.l?m(p.l.Ka,p.l,p):null;e:{var te=p.i;let Le=-1;for(;;){const Kt=["count="+k];Le==-1?k>0?(Le=te[0].g,Kt.push("ofs="+Le)):Le=0:Kt.push("ofs="+Le);let rt=!0;for(let Ct=0;Ct<k;Ct++){var oe=te[Ct].g;const As=te[Ct].map;if(oe-=Le,oe<0)Le=Math.max(0,te[Ct].g-100),rt=!1;else try{oe="req"+oe+"_"||"";try{var xe=As instanceof Map?As:Object.entries(As);for(const[ji,Js]of xe){let ei=Js;h(Js)&&(ei=In(Js)),Kt.push(oe+ji+"="+encodeURIComponent(ei))}}catch(ji){throw Kt.push(oe+"type="+encodeURIComponent("_badmap")),ji}}catch{O&&O(As)}}if(rt){xe=Kt.join("&");break e}}xe=void 0}return p=p.i.splice(0,k),j.G=p,xe}function qd(p){if(!p.g&&!p.v){p.Y=1;var j=p.Da;$||N(),X||($(),X=!0),A.add(j,p),p.A=0}}function Ga(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=bs(m(p.Da,p),Kd(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,$d(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=bs(m(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Ir(this),$d(this))};function Mc(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function $d(p){p.g=new rs(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var j=Wt(p.na);ft(j,"RID","rpc"),ft(j,"SID",p.M),ft(j,"AID",p.K),ft(j,"CI",p.F?"0":"1"),!p.F&&p.ia&&ft(j,"TO",p.ia),ft(j,"TYPE","xmlhttp"),$a(p,j),p.u&&p.o&&Fa(j,p.u,p.o),p.O&&(p.g.H=p.O);var k=p.g;p=p.ba,k.M=1,k.A=La(Wt(j)),k.u=null,k.R=!0,Sr(k,p)}t.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ga(this),Dt(19))};function $o(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Gd(p,j){var k=null;if(p.g==j){$o(p),Mc(p),p.g=null;var O=2}else if(os(p.h,j))k=j.G,Pa(p.h,j),O=1;else return;if(p.I!=0){if(j.o)if(O==1){k=j.u?j.u.length:0,j=Date.now()-j.F;var te=p.D;O=mi(),ht(O,new fn(O,k)),xi(p)}else qd(p);else if(te=j.m,te==3||te==0&&j.X>0||!(O==1&&qo(p,j)||O==2&&Ga(p)))switch(k&&k.length>0&&(j=p.h,j.i=j.i.concat(k)),te){case 1:bi(p,5);break;case 4:bi(p,10);break;case 3:bi(p,6);break;default:bi(p,2)}}}function Kd(p,j){let k=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(k*=2),k*j}function bi(p,j){if(p.j.info("Error code "+j),j==2){var k=m(p.bb,p),O=p.Ua;const te=!O;O=new ls(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||mn(O,"https"),La(O),te?Zs(O.toString(),k):Nc(O.toString(),k)}else Dt(2);p.I=0,p.l&&p.l.pa(j),Yd(p),Ho(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Yd(p){if(p.I=0,p.ja=[],p.l){const j=Oa(p.h);(j.length!=0||p.i.length!=0)&&(T(p.ja,j),T(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Xd(p,j,k){var O=k instanceof ls?Wt(k):new ls(k);if(O.g!="")j&&(O.g=j+"."+O.g),Ar(O,O.u);else{var te=u.location;O=te.protocol,j=j?j+"."+te.hostname:te.hostname,te=+te.port;const oe=new ls(null);O&&mn(oe,O),j&&(oe.g=j),te&&Ar(oe,te),k&&(oe.h=k),O=oe}return k=p.G,j=p.wa,k&&j&&ft(O,k,j),ft(O,"VER",p.ka),$a(p,O),O}function Zd(p,j,k){if(j&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=p.Aa&&!p.ma?new gt(new gi({ab:k})):new gt(p.ma),j.Fa(p.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qd(){}t=Qd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pr(){}Pr.prototype.g=function(p,j){return new Bn(p,j)};function Bn(p,j){$e.call(this),this.g=new Vr(j),this.l=p,this.h=j&&j.messageUrlParams||null,p=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(p?p["X-WebChannel-Content-Type"]=j.messageContentType:p={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(p?p["X-WebChannel-Client-Profile"]=j.sa:p={"X-WebChannel-Client-Profile":j.sa}),this.g.U=p,(p=j&&j.Qb)&&!I(p)&&(this.g.u=p),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!I(j)&&(this.g.G=j,p=this.h,p!==null&&j in p&&(p=this.h,j in p&&delete p[j])),this.j=new Gi(this)}x(Bn,$e),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Rc(this.g)},Bn.prototype.o=function(p){var j=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.v&&(k={},k.__data__=In(p),p=k);j.i.push(new Lt(j.Ya++,p)),j.I==3&&xi(j)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,Bn.Z.N.call(this)};function Wd(p){St.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var j=p.__sm__;if(j){e:{for(const k in j){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,j=j!==null&&p in j?j[p]:void 0),this.data=j}else this.data=p}x(Wd,St);function Jd(){cn.call(this),this.status=1}x(Jd,cn);function Gi(p){this.g=p}x(Gi,Qd),Gi.prototype.ra=function(){ht(this.g,"a")},Gi.prototype.qa=function(p){ht(this.g,new Wd(p))},Gi.prototype.pa=function(p){ht(this.g,new Jd)},Gi.prototype.oa=function(){ht(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,ZT=function(){return new Pr},XT=function(){return mi()},YT=tt,_v={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Cf=Fi,za.COMPLETE="complete",KT=za,Pn.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",$e.prototype.listen=$e.prototype.J,Nu=Pn,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,GT=gt}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore",yE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new LT("@firebase/firestore");function Tl(){return No.logLevel}function _e(t,...e){if(No.logLevel<=et.DEBUG){const n=e.map(ix);No.debug(`Firestore (${pc}): ${t}`,...n)}}function jr(t,...e){if(No.logLevel<=et.ERROR){const n=e.map(ix);No.error(`Firestore (${pc}): ${t}`,...n)}}function Ql(t,...e){if(No.logLevel<=et.WARN){const n=e.map(ix);No.warn(`Firestore (${pc}): ${t}`,...n)}}function ix(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,QT(t,s,n)}function QT(t,e,n){let s=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw jr(s),new Error(s)}function ct(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||QT(e,a,s)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends mc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class sO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iO{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let c=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pa,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=c;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pa)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string",31837,{l:s}),new WT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class rO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new rO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LP(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const s=c=>{c.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const a=c=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=lO(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Ye(t,e){return t<e?-1:t>e?1:0}function Ev(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),c=e.charAt(s);if(a!==c)return Ey(a)===Ey(c)?Ye(a,c):Ey(a)?1:-1}return Ye(t.length,e.length)}const cO=55296,uO=57343;function Ey(t){const e=t.charCodeAt(0);return e>=cO&&e<=uO}function Wl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class Si{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Si.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Ye(e.length,n.length)}static compareSegments(e,n){const s=Si.isNumericId(e),a=Si.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Si.extractNumericId(e).compare(Si.extractNumericId(n)):Ev(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class _t extends Si{construct(e,n,s){return new _t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new je(me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const dO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Si{construct(e,n,s){return new kn(e,n,s)}static isValidIdentifier(e){return dO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new kn([xE])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new je(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new je(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(c(),a++)}if(c(),u)throw new je(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(_t.fromString(e))}static fromName(e){return new Ae(_t.fromString(e).popFirst(5))}static empty(){return new Ae(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t,e,n){if(!n)throw new je(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hO(t,e,n,s){if(e===!0&&s===!0)throw new je(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bE(t){if(!Ae.isDocumentKey(t))throw new je(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jE(t){if(Ae.isDocumentKey(t))throw new je(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function $s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(t);throw new je(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cd(t,e){if(!eN(t))throw new je(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new je(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=-62135596800,_E=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_E);return new At(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wE)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cd(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:on("string",At._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new At(0,0))}static max(){return new Ve(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=-1;function fO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new At(n+1,0):new At(n,s));return new ba(a,Ae.empty(),e)}function mO(t){return new ba(t.readTime,t.key,ad)}class ba{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ba(Ve.min(),Ae.empty(),ad)}static max(){return new ba(Ve.max(),Ae.empty(),ad)}}function pO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==gO)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,s)=>{n(e)}))}static reject(e){return new ge(((n,s)=>{s(e)}))}static waitFor(e){return new ge(((n,s)=>{let a=0,c=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++c,u&&c===a&&n()}),(f=>s(f)))})),u=!0,c===a&&n()}))}static or(e){let n=ge.resolve(!1);for(const s of e)n=n.next((a=>a?ge.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,c)=>{s.push(n.call(this,a,c))})),this.waitFor(s)}static mapArray(e,n){return new ge(((s,a)=>{const c=e.length,u=new Array(c);let h=0;for(let f=0;f<c;f++){const m=f;n(e[m]).next((g=>{u[m]=g,++h,h===c&&s(u)}),(g=>a(g)))}}))}static doWhile(e,n){return new ge(((s,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):s()};c()}))}}function vO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=-1;function Dm(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function xO(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="";function bO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EE(e)),e=jO(t.get(n),e);return EE(e)}function jO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const c=t.charAt(a);switch(c){case"\0":n+="";break;case tN:n+="";break;default:n+=c}}return n}function EE(t){return t+tN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??En.RED,this.left=a??En.EMPTY,this.right=c??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new En(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(e){return new SE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class SE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new ys([])}unionWith(e){let n=new dn(kn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ys(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sN("Invalid base64 string: "+c):c}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);return c})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const wO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=wO.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wa(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="server_timestamp",rN="__type__",aN="__previous_value__",oN="__local_write_time__";function ox(t){return(t?.mapValue?.fields||{})[rN]?.stringValue===iN}function Vm(t){const e=t.mapValue.fields[aN];return ox(e)?Vm(e):e}function od(t){const e=ja(t.mapValue.fields[oN].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n,s,a,c,u,h,f,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g}}const Jf="(default)";class ld{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new ld("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof ld&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="__type__",EO="__max__",df={mapValue:{}},cN="__vector__",em="value";function _a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ox(t)?4:SO(t)?9007199254740991:kO(t)?10:11:Me(28295,{value:t})}function Ii(t,e){if(t===e)return!0;const n=_a(t);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const u=ja(a.timestampValue),h=ja(c.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,c){return wa(a.bytesValue).isEqual(wa(c.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,c){return Qt(a.geoPointValue.latitude)===Qt(c.geoPointValue.latitude)&&Qt(a.geoPointValue.longitude)===Qt(c.geoPointValue.longitude)})(t,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return Qt(a.integerValue)===Qt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const u=Qt(a.doubleValue),h=Qt(c.doubleValue);return u===h?Wf(u)===Wf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(a,c){const u=a.mapValue.fields||{},h=c.mapValue.fields||{};if(kE(u)!==kE(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ii(u[f],h[f])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function cd(t,e){return(t.values||[]).find((n=>Ii(n,e)))!==void 0}function Jl(t,e){if(t===e)return 0;const n=_a(t),s=_a(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(c,u){const h=Qt(c.integerValue||c.doubleValue),f=Qt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return TE(t.timestampValue,e.timestampValue);case 4:return TE(od(t),od(e));case 5:return Ev(t.stringValue,e.stringValue);case 6:return(function(c,u){const h=wa(c),f=wa(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(c,u){const h=c.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const g=Ye(h[m],f[m]);if(g!==0)return g}return Ye(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(c,u){const h=Ye(Qt(c.latitude),Qt(u.latitude));return h!==0?h:Ye(Qt(c.longitude),Qt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return NE(t.arrayValue,e.arrayValue);case 10:return(function(c,u){const h=c.fields||{},f=u.fields||{},m=h[em]?.arrayValue,g=f[em]?.arrayValue,x=Ye(m?.values?.length||0,g?.values?.length||0);return x!==0?x:NE(m,g)})(t.mapValue,e.mapValue);case 11:return(function(c,u){if(c===df.mapValue&&u===df.mapValue)return 0;if(c===df.mapValue)return 1;if(u===df.mapValue)return-1;const h=c.fields||{},f=Object.keys(h),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let x=0;x<f.length&&x<g.length;++x){const b=Ev(f[x],g[x]);if(b!==0)return b;const w=Jl(h[f[x]],m[g[x]]);if(w!==0)return w}return Ye(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function TE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ja(t),s=ja(e),a=Ye(n.seconds,s.seconds);return a!==0?a:Ye(n.nanos,s.nanos)}function NE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Jl(n[a],s[a]);if(c)return c}return Ye(n.length,s.length)}function ec(t){return kv(t)}function kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ja(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=kv(c);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const u of s)c?c=!1:a+=",",a+=`${u}:${kv(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Rf(t){switch(_a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vm(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return wa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+Rf(c)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Aa(s.fields,((c,u)=>{a+=c.length+Rf(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function AE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sv(t){return!!t&&"integerValue"in t}function lx(t){return!!t&&"arrayValue"in t}function CE(t){return!!t&&"nullValue"in t}function RE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zf(t){return!!t&&"mapValue"in t}function kO(t){return(t?.mapValue?.fields||{})[lN]?.stringValue===cN}function Hu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hu(t.arrayValue.values[n]);return e}return{...t}}function SO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(n)}setAll(e){let n=kn.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=Hu(u):a.push(h.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];zf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Aa(n,((a,c)=>e[a]=c));for(const a of s)delete e[a]}clone(){return new Jn(Hu(this.value))}}function uN(t){const e=[];return Aa(t.fields,((n,s)=>{const a=new kn([n]);if(zf(s)){const c=uN(s.mapValue).fields;if(c.length===0)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)})),new ys(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,s,a,c,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Mn(e,0,Ve.min(),Ve.min(),Ve.min(),Jn.empty(),0)}static newFoundDocument(e,n,s,a){return new Mn(e,1,n,Ve.min(),s,a,0)}static newNoDocument(e,n){return new Mn(e,2,n,Ve.min(),Ve.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Ve.min(),Ve.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.position=e,this.inclusive=n}}function zE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const c=e[a],u=t.position[a];if(c.field.isKeyField()?s=Ae.comparator(Ae.fromName(u.referenceValue),n.key):s=Jl(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function ME(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function TO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{}class an extends dN{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new AO(e,n,s):n==="array-contains"?new zO(e,s):n==="in"?new MO(e,s):n==="not-in"?new DO(e,s):n==="array-contains-any"?new VO(e,s):new an(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new CO(e,s):new RO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends dN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return hN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hN(t){return t.op==="and"}function fN(t){return NO(t)&&hN(t)}function NO(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function Tv(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(fN(t))return t.filters.map((e=>Tv(e))).join(",");{const e=t.filters.map((n=>Tv(n))).join(",");return`${t.op}(${e})`}}function mN(t,e){return t instanceof an?(function(s,a){return a instanceof an&&s.op===a.op&&s.field.isEqual(a.field)&&Ii(s.value,a.value)})(t,e):t instanceof ci?(function(s,a){return a instanceof ci&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,u,h)=>c&&mN(u,a.filters[h])),!0):!1})(t,e):void Me(19439)}function pN(t){return t instanceof an?(function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`})(t):t instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(pN).join(" ,")+"}"})(t):"Filter"}class AO extends an{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class CO extends an{constructor(e,n){super(e,"in",n),this.keys=gN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class RO extends an{constructor(e,n){super(e,"not-in",n),this.keys=gN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gN(t,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class zO extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lx(n)&&cd(n.arrayValue,this.value)}}class MO extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}}class DO extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cd(this.value.arrayValue,n)}}class VO extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cd(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n=null,s=[],a=[],c=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=u,this.endAt=h,this.Te=null}}function DE(t,e=null,n=[],s=[],a=null,c=null,u=null){return new IO(t,e,n,s,a,c,u)}function cx(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Tv(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Dm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ec(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ec(s))).join(",")),e.Te=n}return e.Te}function ux(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ME(t.startAt,e.startAt)&&ME(t.endAt,e.endAt)}function Nv(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,s=[],a=[],c=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PO(t,e,n,s,a,c,u,h){return new vc(t,e,n,s,a,c,u,h)}function Im(t){return new vc(t)}function VE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yN(t){return t.collectionGroup!==null}function qu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dn(kn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ud(c,s))})),n.has(kn.keyField().canonicalString())||e.Ie.push(new ud(kn.keyField(),s))}return e.Ie}function Ai(t){const e=Pe(t);return e.Ee||(e.Ee=OO(e,qu(t))),e.Ee}function OO(t,e){if(t.limitType==="F")return DE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new ud(a.field,c)}));const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return DE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Av(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nm(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pm(t,e){return ux(Ai(t),Ai(e))&&t.limitType===e.limitType}function vN(t){return`${cx(Ai(t))}|lt:${t.limitType}`}function Nl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>pN(a))).join(", ")}]`),Dm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>ec(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>ec(a))).join(",")),`Target(${s})`})(Ai(t))}; limitType=${t.limitType})`}function Om(t,e){return e.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ae.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(t,e)&&(function(s,a){for(const c of qu(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,f){const m=zE(u,h,f);return u.inclusive?m<=0:m<0})(s.startAt,qu(s),a)||s.endAt&&!(function(u,h,f){const m=zE(u,h,f);return u.inclusive?m>=0:m>0})(s.endAt,qu(s),a))})(t,e)}function LO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xN(t){return(e,n)=>{let s=!1;for(const a of qu(t)){const c=BO(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function BO(t,e,n){const s=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(c,u,h){const f=u.data.field(c),m=h.data.field(c);return f!==null&&m!==null?Jl(f,m):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,((n,s)=>{for(const[a,c]of s)e(a,c)}))}isEmpty(){return nN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Pt(Ae.comparator);function wr(){return UO}const bN=new Pt(Ae.comparator);function Au(...t){let e=bN;for(const n of t)e=e.insert(n.key,n);return e}function jN(t){let e=bN;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function vo(){return $u()}function wN(){return $u()}function $u(){return new zo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FO=new Pt(Ae.comparator),HO=new dn(Ae.comparator);function Xe(...t){let e=HO;for(const n of t)e=e.add(n);return e}const qO=new dn(Ye);function $O(){return qO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function _N(t){return{integerValue:""+t}}function GO(t,e){return xO(e)?_N(e):dx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this._=void 0}}function KO(t,e,n){return t instanceof dd?(function(a,c){const u={fields:{[rN]:{stringValue:iN},[oN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&ox(c)&&(c=Vm(c)),c&&(u.fields[aN]=c),{mapValue:u}})(n,e):t instanceof hd?kN(t,e):t instanceof fd?SN(t,e):(function(a,c){const u=EN(a,c),h=IE(u)+IE(a.Ae);return Sv(u)&&Sv(a.Ae)?_N(h):dx(a.serializer,h)})(t,e)}function YO(t,e,n){return t instanceof hd?kN(t,e):t instanceof fd?SN(t,e):n}function EN(t,e){return t instanceof sm?(function(s){return Sv(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class dd extends Lm{}class hd extends Lm{constructor(e){super(),this.elements=e}}function kN(t,e){const n=TN(e);for(const s of t.elements)n.some((a=>Ii(a,s)))||n.push(s);return{arrayValue:{values:n}}}class fd extends Lm{constructor(e){super(),this.elements=e}}function SN(t,e){let n=TN(e);for(const s of t.elements)n=n.filter((a=>!Ii(a,s)));return{arrayValue:{values:n}}}class sm extends Lm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IE(t){return Qt(t.integerValue||t.doubleValue)}function TN(t){return lx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.field=e,this.transform=n}}function ZO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof hd&&a instanceof hd||s instanceof fd&&a instanceof fd?Wl(s.elements,a.elements,Ii):s instanceof sm&&a instanceof sm?Ii(s.Ae,a.Ae):s instanceof dd&&a instanceof dd})(t.transform,e.transform)}class QO{constructor(e,n){this.version=e,this.transformResults=n}}class Gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gs}static exists(e){return new Gs(void 0,e)}static updateTime(e){return new Gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bm{}function NN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hx(t.key,Gs.none()):new Rd(t.key,t.data,Gs.none());{const n=t.data,s=Jn.empty();let a=new dn(kn.comparator);for(let c of e.fields)if(!a.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),a=a.add(c)}return new Ca(t.key,s,new ys(a.toArray()),Gs.none())}}function WO(t,e,n){t instanceof Rd?(function(a,c,u){const h=a.value.clone(),f=OE(a.fieldTransforms,c,u.transformResults);h.setAll(f),c.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ca?(function(a,c,u){if(!Mf(a.precondition,c))return void c.convertToUnknownDocument(u.version);const h=OE(a.fieldTransforms,c,u.transformResults),f=c.data;f.setAll(AN(a)),f.setAll(h),c.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(a,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Gu(t,e,n,s){return t instanceof Rd?(function(c,u,h,f){if(!Mf(c.precondition,u))return h;const m=c.value.clone(),g=LE(c.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ca?(function(c,u,h,f){if(!Mf(c.precondition,u))return h;const m=LE(c.fieldTransforms,f,u),g=u.data;return g.setAll(AN(c)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(t,e,n,s):(function(c,u,h){return Mf(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function JO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),c=EN(s.transform,a||null);c!=null&&(n===null&&(n=Jn.empty()),n.set(s.field,c))}return n||null}function PE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Wl(s,a,((c,u)=>ZO(c,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rd extends Bm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends Bm{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function OE(t,e,n){const s=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const c=t[a],u=c.transform,h=e.data.field(c.field);s.set(c.field,YO(u,h,n[a]))}return s}function LE(t,e,n){const s=new Map;for(const a of t){const c=a.transform,u=n.data.field(a.field);s.set(a.field,KO(c,u,e))}return s}class hx extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e9 extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&WO(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wN();return this.mutations.forEach((a=>{const c=e.get(a.key),u=c.overlayedDocument;let h=this.applyToLocalView(u,c.mutatedFields);h=n.has(a.key)?null:h;const f=NN(u,h);f!==null&&s.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((n,s)=>PE(n,s)))&&Wl(this.baseMutations,e.baseMutations,((n,s)=>PE(n,s)))}}class fx{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ct(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return FO})();const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,s[u].version);return new fx(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,Je;function i9(t){switch(t){case me.OK:return Me(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function CN(t){if(t===void 0)return jr("GRPC error has no .code"),me.UNKNOWN;switch(t){case sn.OK:return me.OK;case sn.CANCELLED:return me.CANCELLED;case sn.UNKNOWN:return me.UNKNOWN;case sn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case sn.INTERNAL:return me.INTERNAL;case sn.UNAVAILABLE:return me.UNAVAILABLE;case sn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case sn.NOT_FOUND:return me.NOT_FOUND;case sn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case sn.ABORTED:return me.ABORTED;case sn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case sn.DATA_LOSS:return me.DATA_LOSS;default:return Me(39323,{code:t})}}(Je=sn||(sn={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=new ma([4294967295,4294967295],0);function BE(t){const e=r9().encode(t),n=new $T;return n.update(e),new Uint8Array(n.digest())}function UE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ma([n,s],0),new ma([a,c],0)]}class mx{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(s<0)throw new Cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ma.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ma.fromNumber(s)));return a.compare(a9)===1&&(a=new ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BE(e),[s,a]=UE(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,a,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new mx(c,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=BE(e),[s,a]=UE(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,a,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Um(Ve.min(),a,new Pt(Ye),wr(),Xe())}}class zd{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new zd(s,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class RN{constructor(e,n){this.targetId=e,this.Ce=n}}class zN{constructor(e,n,s=Sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class FE{constructor(){this.ve=0,this.Fe=HE(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),s=Xe();return this.Fe.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:c})}})),new zd(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=HE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o9{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=hf(),this.He=hf(),this.Ye=new Pt(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(Nv(c))if(s===0){const u=new Ae(c.path);this.et(n,u,Mn.newNoDocument(u,Ve.min()))}else ct(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let u,h;try{u=wa(s).toUint8Array()}catch(f){if(f instanceof sN)return Ql("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new mx(u,a,c)}catch(f){return Ql(f instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((c=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(h)||(this.et(n,c,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const h=this.ot(u);if(h){if(c.current&&Nv(h.target)){const f=new Ae(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Mn.newNoDocument(f,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=Xe();this.He.forEach(((c,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const a=new Um(e,n,this.Ye,this.je,s);return this.je=wr(),this.Je=hf(),this.He=hf(),this.Ye=new Pt(Ye),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hf(){return new Pt(Ae.comparator)}function HE(){return new Pt(Ae.comparator)}const l9={asc:"ASCENDING",desc:"DESCENDING"},c9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u9={and:"AND",or:"OR"};class d9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cv(t,e){return t.useProto3Json||Dm(e)?e:{value:e}}function im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h9(t,e){return im(t,e.toTimestamp())}function Ci(t){return ct(!!t,49232),Ve.fromTimestamp((function(n){const s=ja(n);return new At(s.seconds,s.nanos)})(t))}function px(t,e){return Rv(t,e).canonicalString()}function Rv(t,e){const n=(function(a){return new _t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function DN(t){const e=_t.fromString(t);return ct(LN(e),10190,{key:e.toString()}),e}function zv(t,e){return px(t.databaseId,e.path)}function ky(t,e){const n=DN(e);if(n.get(1)!==t.databaseId.projectId)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(IN(n))}function VN(t,e){return px(t.databaseId,e)}function f9(t){const e=DN(t);return e.length===4?_t.emptyPath():IN(e)}function Mv(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IN(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qE(t,e,n){return{name:zv(t,e),fields:n.value.mapValue.fields}}function m9(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Me(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(m,g){return m.useProto3Json?(ct(g===void 0||typeof g=="string",58123),Sn.fromBase64String(g||"")):(ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Sn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const g=m.code===void 0?me.UNKNOWN:CN(m.code);return new je(g,m.message||"")})(u);n=new zN(s,a,c,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ky(t,s.document.name),c=Ci(s.document.updateTime),u=s.document.createTime?Ci(s.document.createTime):Ve.min(),h=new Jn({mapValue:{fields:s.document.fields}}),f=Mn.newFoundDocument(a,c,u,h),m=s.targetIds||[],g=s.removedTargetIds||[];n=new Df(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ky(t,s.document),c=s.readTime?Ci(s.readTime):Ve.min(),u=Mn.newNoDocument(a,c),h=s.removedTargetIds||[];n=new Df([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ky(t,s.document),c=s.removedTargetIds||[];n=new Df([],c,a,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,u=new s9(a,c),h=s.targetId;n=new RN(h,u)}}return n}function p9(t,e){let n;if(e instanceof Rd)n={update:qE(t,e.key,e.value)};else if(e instanceof hx)n={delete:zv(t,e.key)};else if(e instanceof Ca)n={update:qE(t,e.key,e.data),updateMask:E9(e.fieldMask)};else{if(!(e instanceof e9))return Me(16599,{Vt:e.type});n={verify:zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const h=u.transform;if(h instanceof dd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof fd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sm)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:h9(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Me(27497)})(t,e.precondition)),n}function g9(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(a,c){let u=a.updateTime?Ci(a.updateTime):Ci(c);return u.isEqual(Ve.min())&&(u=Ci(c)),new QO(u,a.transformResults||[])})(n,e)))):[]}function y9(t,e){return{documents:[VN(t,e.path)]}}function v9(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=VN(t,a);const c=(function(m){if(m.length!==0)return ON(ci.create(m,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(m){if(m.length!==0)return m.map((g=>(function(b){return{field:Al(b.field),direction:j9(b.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Cv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function x9(t){let e=f9(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ct(s===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let c=[];n.where&&(c=(function(x){const b=PN(x);return b instanceof ci&&fN(b)?b.getFilters():[b]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((b=>(function(T){return new ud(Cl(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let b;return b=typeof x=="object"?x.value:x,Dm(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(x){const b=!!x.before,w=x.values||[];return new tm(w,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(x){const b=!x.before,w=x.values||[];return new tm(w,b)})(n.endAt)),PO(e,a,u,c,h,"F",f,m)}function b9(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Cl(n.unaryFilter.field);return an.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(n.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cl(n.unaryFilter.field);return an.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Cl(n.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return an.create(Cl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>PN(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function j9(t){return l9[t]}function w9(t){return c9[t]}function _9(t){return u9[t]}function Al(t){return{fieldPath:t.canonicalString()}}function Cl(t){return kn.fromServerFormat(t.fieldPath)}function ON(t){return t instanceof an?(function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(n.field),op:w9(n.op),value:n.value}}})(t):t instanceof ci?(function(n){const s=n.getFilters().map((a=>ON(a)));return s.length===1?s[0]:{compositeFilter:{op:_9(n.op),filters:s}}})(t):Me(54877,{filter:t})}function E9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,s,a,c=Ve.min(),u=Ve.min(),h=Sn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.yt=e}}function S9(t){const e=x9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.Cn=new N9}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(ba.min())}updateCollectionGroup(e,n,s){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class N9{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dn(_t.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BN=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(BN,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tc(0)}static cr(){return new tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LruGarbageCollector",A9=1048576;function KE([t,e],[n,s]){const a=Ye(t,n);return a===0?Ye(e,s):a}class C9{constructor(e){this.Ir=e,this.buffer=new dn(KE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R9{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(GE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yc(n)?_e(GE,"Ignoring IndexedDB error during garbage collection: ",n):await gc(n)}await this.Vr(3e5)}))}}class z9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(Mm.ce);const s=new C9(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve($E)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,u,h,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a)))).next((x=>(s=x,h=Date.now(),this.removeTargets(e,s,n)))).next((x=>(c=x,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(m=Date.now(),Tl()<=et.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${c} targets in `+(f-h)+`ms
	Removed ${x} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:x}))))}}function M9(t,e){return new z9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.changes=new zo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ge.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Gu(s.mutation,a,ys.empty(),At.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Xe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Xe()){const a=vo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((c=>{let u=Au();return c.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=vo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Xe())))}populateOverlays(e,n,s){const a=[];return s.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let c=wr();const u=$u(),h=(function(){return $u()})();return n.forEach(((f,m)=>{const g=s.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ca)?c=c.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),Gu(g.mutation,m,g.mutation.getFieldMask(),At.now())):u.set(m.key,ys.empty())})),this.recalculateAndSaveOverlays(e,c).next((f=>(f.forEach(((m,g)=>u.set(m,g))),n.forEach(((m,g)=>h.set(m,new V9(g,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=$u();let a=new Pt(((u,h)=>u-h)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let g=s.get(f)||ys.empty();g=h.applyToLocalView(m,g),s.set(f,g);const x=(a.get(h.batchId)||Xe()).add(f);a=a.insert(h.batchId,x)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,g=f.value,x=wN();g.forEach((b=>{if(!c.has(b)){const w=NN(n.get(b),s.get(b));w!==null&&x.set(b,w),c=c.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return ge.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):ge.resolve(vo());let h=ad,f=c;return u.next((m=>ge.forEach(m,((g,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),c.get(g)?ge.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,m,c))).next((()=>this.computeViews(e,f,m,Xe()))).next((g=>({batchId:h,changes:jN(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let a=Au();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let u=Au();return this.indexManager.getCollectionParents(e,c).next((h=>ge.forEach(h,(f=>{const m=(function(x,b){return new vc(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,f.child(c));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((g=>{g.forEach(((x,b)=>{u=u.insert(x,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a)))).next((u=>{c.forEach(((f,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Mn.newInvalidDocument(g)))}));let h=Au();return u.forEach(((f,m)=>{const g=c.get(f);g!==void 0&&Gu(g.mutation,m,ys.empty(),At.now()),Om(n,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:S9(a.bundledQuery),readTime:Ci(a.readTime)}})(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.overlays=new Pt(Ae.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const s=vo();return ge.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,c)=>{this.St(e,n,c)})),ge.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ge.resolve()}getOverlaysForCollection(e,n,s){const a=vo(),c=n.length+1,u=new Ae(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===c&&f.largestBatchId>s&&a.set(f.getKey(),f)}return ge.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Pt(((m,g)=>m-g));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let g=c.get(m.largestBatchId);g===null&&(g=vo(),c=c.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=vo(),f=c.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return ge.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new n9(n,s));let c=this.qr.get(n);c===void 0&&(c=Xe(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Qr=new dn(gn.$r),this.Ur=new dn(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new gn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ae(new _t([])),s=new gn(n,e),a=new gn(n,e+1),c=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ae(new _t([])),s=new gn(n,e),a=new gn(n,e+1);let c=Xe();return this.Ur.forEachInRange([s,a],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new gn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ae.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(gn.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new t9(c,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new gn(h.key,c)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return ge.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?ax:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new gn(n,0),a=new gn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);c.push(h)})),ge.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dn(Ye);return n.forEach((a=>{const c=new gn(a,0),u=new gn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(h=>{s=s.add(h.Yr)}))})),ge.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;Ae.isDocumentKey(c)||(c=c.child(""));const u=new gn(new Ae(c),0);let h=new dn(Ye);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Yr)),!0)}),u),ge.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ge.forEach(n.mutations,(a=>{const c=new gn(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new gn(n,0),a=this.Zr.firstAfterOrEqual(s);return ge.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.ri=e,this.docs=(function(){return new Pt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ge.resolve(s?s.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mn.newInvalidDocument(a))})),ge.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=wr();const u=n.path,h=new Ae(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||pO(mO(g),s)<=0||(a.has(g.key)||Om(n,g))&&(c=c.insert(g.key,g.mutableCopy()))}return ge.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ii(e,n){return ge.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new F9(this)}getSize(e){return ge.resolve(this.size)}}class F9 extends D9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.persistence=e,this.si=new zo((n=>cx(n)),ux),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new gx,this.targetCount=0,this.ai=tc.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ge.waitFor(c).next((()=>a))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ge.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ge.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((u=>{c.push(a.markPotentiallyOrphaned(e,u))})),ge.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ge.resolve(s)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mm(0),this.li=!1,this.li=!0,this.hi=new L9,this.referenceDelegate=e(this),this.Pi=new H9(this),this.indexManager=new T9,this.remoteDocumentCache=(function(a){return new U9(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new k9(n),this.Ii=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new B9(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){_e("MemoryPersistence","Starting transaction:",e);const a=new q9(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ai(e,n){return ge.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class q9 extends yO{constructor(e){super(),this.currentSequenceNumber=e}}class yx{constructor(e){this.persistence=e,this.Ri=new gx,this.Vi=null}static mi(e){return new yx(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ge.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(s=>{const a=Ae.fromPath(s);return this.gi(e,a).next((c=>{c||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rm{constructor(e,n){this.persistence=e,this.pi=new zo((s=>bO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=M9(this,n)}static mi(e,n){return new rm(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((s,a)=>this.br(e,s,a).next((c=>c?ge.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,c.removeEntry(u,Ve.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,s){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ge.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Xe(),a=Xe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new vx(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I6()?8:vO(D6())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,a,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new $9;return this.Ss(e,n,u).next((h=>{if(c.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>c.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(Tl()<=et.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Tl()<=et.DEBUG&&_e("QueryEngine","Query:",Nl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Tl()<=et.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):ge.resolve())}ys(e,n){if(VE(n))return ge.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=nm(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=Xe(...c);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((f=>{const m=this.Ds(n,h);return this.Cs(n,m,u,f.readTime)?this.ys(e,nm(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,s,a){return VE(n)||a.isEqual(Ve.min())?ge.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,a)?ge.resolve(null):(Tl()<=et.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nl(n)),this.vs(e,u,n,fO(a,ad)).next((h=>h)))}))}Ds(e,n){let s=new dn(xN(e));return n.forEach(((a,c)=>{Om(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return Tl()<=et.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Nl(n)),this.ps.getDocumentsMatchingQuery(e,n,ba.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="LocalStore",K9=3e8;class Y9{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Pt(Ye),this.xs=new zo((c=>cx(c)),ux),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function X9(t,e,n,s){return new Y9(t,e,n,s)}async function FN(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],h=[];let f=Xe();for(const m of a){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of c){h.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(s,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function Z9(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,g){const x=m.batch,b=x.keys();let w=ge.resolve();return b.forEach((T=>{w=w.next((()=>g.getEntry(f,T))).next((C=>{const S=m.docVersions.get(T);ct(S!==null,48541),C.version.compareTo(S)<0&&(x.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),g.addEntry(C)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,x)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let f=Xe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function HN(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Q9(t,e){const n=Pe(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((g,x)=>{const b=a.get(x);if(!b)return;h.push(n.Pi.removeMatchingKeys(c,g.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(c,g.addedDocuments,x))));let w=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(Sn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,s)),a=a.insert(x,w),(function(C,S,E){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=K9?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(b,w,g)&&h.push(n.Pi.updateTargetData(c,w))}));let f=wr(),m=Xe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(c,g))})),h.push(W9(c,u,e.documentUpdates).next((g=>{f=g.ks,m=g.qs}))),!s.isEqual(Ve.min())){const g=n.Pi.getLastRemoteSnapshotVersion(c).next((x=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));h.push(g)}return ge.waitFor(h).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,f,m))).next((()=>f))})).then((c=>(n.Ms=a,c)))}function W9(t,e,n){let s=Xe(),a=Xe();return n.forEach((c=>s=s.add(c))),e.getEntries(t,s).next((c=>{let u=wr();return n.forEach(((h,f)=>{const m=c.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):_e(xx,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function J9(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ax),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eL(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((c=>c?(a=c,ge.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new da(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Dv(t,e,n){const s=Pe(t),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!yc(u))throw u;_e(xx,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function YE(t,e,n){const s=Pe(t);let a=Ve.min(),c=Xe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,g){const x=Pe(f),b=x.xs.get(g);return b!==void 0?ge.resolve(x.Ms.get(b)):x.Pi.getTargetData(m,g)})(s,u,Ai(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{c=f}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ve.min(),n?c:Xe()))).next((h=>(tL(s,LO(e),h),{documents:h,Qs:c})))))}function tL(t,e,n){let s=t.Os.get(e)||Ve.min();n.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),t.Os.set(e,s)}class XE{constructor(){this.activeTargetIds=$O()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nL{constructor(){this.Mo=new XE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="ConnectivityMonitor";class QE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(ZE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(ZE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function Vv(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="RestConnection",iL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const u=Vv(),h=this.zo(e,n.toUriEncodedString());_e(Sy,`Sending RPC '${e}' ${u}:`,h,s);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,c);const{host:m}=new URL(h),g=nx(m);return this.Jo(e,h,f,s,g).then((x=>(_e(Sy,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Ql(Sy,`RPC '${e}' ${u} failed with error: `,x,"url: ",h,"request:",s),x}))}Ho(e,n,s,a,c,u){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),s&&s.headers.forEach(((a,c)=>e[c]=a))}zo(e,n){const s=iL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class oL extends rL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const u=Vv();return new Promise(((h,f)=>{const m=new GT;m.setWithCredentials(!0),m.listenOnce(KT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cf.NO_ERROR:const x=m.getResponseJson();_e(Cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),h(x);break;case Cf.TIMEOUT:_e(Cn,`RPC '${e}' ${u} timed out`),f(new je(me.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const b=m.getStatus();if(_e(Cn,`RPC '${e}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const C=(function(E){const R=E.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(R)>=0?R:me.UNKNOWN})(T.status);f(new je(C,T.message))}else f(new je(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new je(me.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{_e(Cn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);_e(Cn,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",g,s,15)}))}T_(e,n,s){const a=Vv(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZT(),h=XT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const g=c.join("");_e(Cn,`Creating RPC '${e}' stream ${a}: ${g}`,f);const x=u.createWebChannel(g,f);this.I_(x);let b=!1,w=!1;const T=new aL({Yo:S=>{w?_e(Cn,`Not sending because RPC '${e}' stream ${a} is closed:`,S):(b||(_e(Cn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),_e(Cn,`RPC '${e}' stream ${a} sending:`,S),x.send(S))},Zo:()=>x.close()}),C=(S,E,R)=>{S.listen(E,(P=>{try{R(P)}catch(F){setTimeout((()=>{throw F}),0)}}))};return C(x,Nu.EventType.OPEN,(()=>{w||(_e(Cn,`RPC '${e}' stream ${a} transport opened.`),T.o_())})),C(x,Nu.EventType.CLOSE,(()=>{w||(w=!0,_e(Cn,`RPC '${e}' stream ${a} transport closed`),T.a_(),this.E_(x))})),C(x,Nu.EventType.ERROR,(S=>{w||(w=!0,Ql(Cn,`RPC '${e}' stream ${a} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new je(me.UNAVAILABLE,"The operation could not be completed")))})),C(x,Nu.EventType.MESSAGE,(S=>{if(!w){const E=S.data[0];ct(!!E,16349);const R=E,P=R?.error||R[0]?.error;if(P){_e(Cn,`RPC '${e}' stream ${a} received error:`,P);const F=P.status;let $=(function(N){const z=sn[N];if(z!==void 0)return CN(z)})(F),X=P.message;$===void 0&&($=me.INTERNAL,X="Unknown error status: "+F+" with message "+P.message),w=!0,T.a_(new je($,X)),x.close()}else _e(Cn,`RPC '${e}' stream ${a} received:`,E),T.u_(E)}})),C(h,YT.STAT_EVENT,(S=>{S.stat===_v.PROXY?_e(Cn,`RPC '${e}' stream ${a} detected buffering proxy`):S.stat===_v.NOPROXY&&_e(Cn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ty(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t){return new d9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="PersistentStream";class $N{constructor(e,n,s,a,c,u,h,f){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new je(me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lL extends $N{constructor(e,n,s,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=m9(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ve.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Ci(u.readTime):Ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Mv(this.serializer),n.addTarget=(function(c,u){let h;const f=u.target;if(h=Nv(f)?{documents:y9(c,f)}:{query:v9(c,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=MN(c,u.resumeToken);const m=Cv(c,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ve.min())>0){h.readTime=im(c,u.snapshotVersion.toTimestamp());const m=Cv(c,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=b9(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Mv(this.serializer),n.removeTarget=e,this.q_(n)}}class cL extends $N{constructor(e,n,s,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=g9(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>p9(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{}class dL extends uL{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Rv(n,s),a,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new je(me.UNKNOWN,c.toString())}))}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Rv(n,s),a,u,h,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new je(me.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class fL{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Mo(this)&&(_e(Ao,"Restarting streams for network reachability change."),await(async function(f){const m=Pe(f);m.Ea.add(4),await Md(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Hm(m)})(this))}))})),this.Ra=new hL(s,a)}}async function Hm(t){if(Mo(t))for(const e of t.da)await e(!0)}async function Md(t){for(const e of t.da)await e(!1)}function GN(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_x(n)?wx(n):xc(n).O_()&&jx(n,e))}function bx(t,e){const n=Pe(t),s=xc(n);n.Ia.delete(e),s.O_()&&KN(n,e),n.Ia.size===0&&(s.O_()?s.L_():Mo(n)&&n.Ra.set("Unknown"))}function jx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xc(t).Y_(e)}function KN(t,e){t.Va.Ue(e),xc(t).Z_(e)}function wx(t){t.Va=new o9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xc(t).start(),t.Ra.ua()}function _x(t){return Mo(t)&&!xc(t).x_()&&t.Ia.size>0}function Mo(t){return Pe(t).Ea.size===0}function YN(t){t.Va=void 0}async function mL(t){t.Ra.set("Online")}async function pL(t){t.Ia.forEach(((e,n)=>{jx(t,e)}))}async function gL(t,e){YN(t),_x(t)?(t.Ra.ha(e),wx(t)):t.Ra.set("Unknown")}async function yL(t,e,n){if(t.Ra.set("Online"),e instanceof zN&&e.state===2&&e.cause)try{await(async function(a,c){const u=c.cause;for(const h of c.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){_e(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await am(t,s)}else if(e instanceof Df?t.Va.Ze(e):e instanceof RN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const s=await HN(t.localStore);n.compareTo(s)>=0&&await(function(c,u){const h=c.Va.Tt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=c.Ia.get(m);g&&c.Ia.set(m,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const g=c.Ia.get(f);if(!g)return;c.Ia.set(f,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),KN(c,f);const x=new da(g.target,f,m,g.sequenceNumber);jx(c,x)})),c.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){_e(Ao,"Failed to raise snapshot:",s),await am(t,s)}}async function am(t,e,n){if(!yc(e))throw e;t.Ea.add(1),await Md(t),t.Ra.set("Offline"),n||(n=()=>HN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hm(t)}))}function XN(t,e){return e().catch((n=>am(t,n,e)))}async function qm(t){const e=Pe(t),n=Ea(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ax;for(;vL(e);)try{const a=await J9(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,xL(e,a)}catch(a){await am(e,a)}ZN(e)&&QN(e)}function vL(t){return Mo(t)&&t.Ta.length<10}function xL(t,e){t.Ta.push(e);const n=Ea(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZN(t){return Mo(t)&&!Ea(t).x_()&&t.Ta.length>0}function QN(t){Ea(t).start()}async function bL(t){Ea(t).ra()}async function jL(t){const e=Ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function wL(t,e,n){const s=t.Ta.shift(),a=fx.from(s,e,n);await XN(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await qm(t)}async function _L(t,e){e&&Ea(t).X_&&await(async function(s,a){if((function(u){return i9(u)&&u!==me.ABORTED})(a.code)){const c=s.Ta.shift();Ea(s).B_(),await XN(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await qm(s)}})(t,e),ZN(t)&&QN(t)}async function JE(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),_e(Ao,"RemoteStore received new credentials");const s=Mo(n);n.Ea.add(3),await Md(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hm(n)}async function EL(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Hm(n)):e||(n.Ea.add(2),await Md(n),n.Ra.set("Unknown"))}function xc(t){return t.ma||(t.ma=(function(n,s,a){const c=Pe(n);return c.sa(),new lL(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:mL.bind(null,t),t_:pL.bind(null,t),r_:gL.bind(null,t),H_:yL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),_x(t)?wx(t):t.Ra.set("Unknown")):(await t.ma.stop(),YN(t))}))),t.ma}function Ea(t){return t.fa||(t.fa=(function(n,s,a){const c=Pe(n);return c.sa(),new cL(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bL.bind(null,t),r_:_L.bind(null,t),ta:jL.bind(null,t),na:wL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qm(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const u=Date.now()+s,h=new Ex(e,n,u,a,c);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kx(t,e){if(jr("AsyncQueue",`${e}: ${t}`),yc(t))return new je(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Au(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Bl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.ga=new Pt(Ae.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class nc{constructor(e,n,s,a,c,u,h,f,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,c){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new nc(e,n,Bl.emptySet(n),u,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SL{constructor(){this.queries=tk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Pe(n),c=a.queries;a.queries=tk(),c.forEach(((u,h)=>{for(const f of h.Sa)f.onError(s)}))})(this,new je(me.ABORTED,"Firestore shutting down"))}}function tk(){return new zo((t=>vN(t)),Pm)}async function WN(t,e){const n=Pe(t);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new kL,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=kx(u,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Sx(n)}async function JN(t,e){const n=Pe(t),s=e.query;let a=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TL(t,e){const n=Pe(t);let s=!1;for(const a of e){const c=a.query,u=n.queries.get(c);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&Sx(n)}function NL(t,e,n){const s=Pe(t),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function Sx(t){t.Ca.forEach((e=>{e.next()}))}var Iv,nk;(nk=Iv||(Iv={})).Ma="default",nk.Cache="cache";class eA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new nc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Iv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.key=e}}class nA{constructor(e){this.key=e}}class AL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=xN(e),this.tu=new Bl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ek,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,x)=>{const b=a.get(g),w=Om(this.query,x)?x:null,T=!!b&&this.mutatedKeys.has(b.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;b&&w?b.data.isEqual(w.data)?T!==C&&(s.track({type:3,doc:w}),S=!0):this.su(b,w)||(s.track({type:2,doc:w}),S=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(h=!0)):!b&&w?(s.track({type:0,doc:w}),S=!0):b&&!w&&(s.track({type:1,doc:b}),S=!0,(f||m)&&(h=!0)),S&&(w?(u=u.add(w),c=C?c.add(g):c.delete(g)):(u=u.delete(g),c=c.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),c=c.delete(g.key),s.track({type:1,doc:g})}return{tu:u,iu:s,Cs:h,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,x)=>(function(w,T){const C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:S})}};return C(w)-C(T)})(g.type,x.type)||this.eu(g.doc,x.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new nc(this.query,e.tu,c,u,e.mutatedKeys,f===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ek,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new nA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new tA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tx="SyncEngine";class CL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RL{constructor(e){this.key=e,this.hu=!1}}class zL{constructor(e,n,s,a,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new zo((h=>vN(h)),Pm),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Ae.comparator),this.Au=new Map,this.Ru=new gx,this.Vu={},this.mu=new Map,this.fu=tc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ML(t,e,n=!0){const s=lA(t);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await sA(s,e,n,!0),a}async function DL(t,e){const n=lA(t);await sA(n,e,!0,!1)}async function sA(t,e,n,s){const a=await eL(t.localStore,Ai(e)),c=a.targetId,u=t.sharedClientState.addLocalQueryTarget(c,n);let h;return s&&(h=await VL(t,e,c,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&GN(t.remoteStore,a),h}async function VL(t,e,n,s,a){t.pu=(x,b,w)=>(async function(C,S,E,R){let P=S.view.ru(E);P.Cs&&(P=await YE(C.localStore,S.query,!1).then((({documents:A})=>S.view.ru(A,P))));const F=R&&R.targetChanges.get(S.targetId),$=R&&R.targetMismatches.get(S.targetId)!=null,X=S.view.applyChanges(P,C.isPrimaryClient,F,$);return ik(C,S.targetId,X.au),X.snapshot})(t,x,b,w);const c=await YE(t.localStore,e,!0),u=new AL(e,c.Qs),h=u.ru(c.documents),f=zd.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,f);ik(t,n,m.au);const g=new CL(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function IL(t,e,n){const s=Pe(t),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter((u=>!Pm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Dv(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&bx(s.remoteStore,a.targetId),Pv(s,a.targetId)})).catch(gc)):(Pv(s,a.targetId),await Dv(s.localStore,a.targetId,!0))}async function PL(t,e){const n=Pe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bx(n.remoteStore,s.targetId))}async function OL(t,e,n){const s=$L(t);try{const a=await(function(u,h){const f=Pe(u),m=At.now(),g=h.reduce(((w,T)=>w.add(T.key)),Xe());let x,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=wr(),C=Xe();return f.Ns.getEntries(w,g).next((S=>{T=S,T.forEach(((E,R)=>{R.isValidDocument()||(C=C.add(E))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,T))).next((S=>{x=S;const E=[];for(const R of h){const P=JO(R,x.get(R.key).overlayedDocument);P!=null&&E.push(new Ca(R.key,P,uN(P.value.mapValue),Gs.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,E,h)})).next((S=>{b=S;const E=S.applyToLocalDocumentSet(x,C);return f.documentOverlayCache.saveOverlays(w,S.batchId,E)}))})).then((()=>({batchId:b.batchId,changes:jN(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new Pt(Ye)),m=m.insert(h,f),u.Vu[u.currentUser.toKey()]=m})(s,a.batchId,n),await Dd(s,a.changes),await qm(s.remoteStore)}catch(a){const c=kx(a,"Failed to persist write");n.reject(c)}}async function iA(t,e){const n=Pe(t);try{const s=await Q9(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const u=n.Au.get(c);u&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ct(u.hu,14607):a.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))})),await Dd(n,s,e)}catch(s){await gc(s)}}function sk(t,e,n){const s=Pe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((c,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=Pe(u);f.onlineState=h;let m=!1;f.queries.forEach(((g,x)=>{for(const b of x.Sa)b.va(h)&&(m=!0)})),m&&Sx(f)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function LL(t,e,n){const s=Pe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let u=new Pt(Ae.comparator);u=u.insert(c,Mn.newNoDocument(c,Ve.min()));const h=Xe().add(c),f=new Um(Ve.min(),new Map,new Pt(Ye),u,h);await iA(s,f),s.du=s.du.remove(c),s.Au.delete(e),Nx(s)}else await Dv(s.localStore,e,!1).then((()=>Pv(s,e,n))).catch(gc)}async function BL(t,e){const n=Pe(t),s=e.batch.batchId;try{const a=await Z9(n.localStore,e);aA(n,s,null),rA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Dd(n,a)}catch(a){await gc(a)}}async function UL(t,e,n){const s=Pe(t);try{const a=await(function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,h).next((x=>(ct(x!==null,37113),g=x.keys(),f.mutationQueue.removeMutationBatch(m,x)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(s.localStore,e);aA(s,e,n),rA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Dd(s,a)}catch(a){await gc(a)}}function rA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aA(t,e,n){const s=Pe(t);let a=s.Vu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Pv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||oA(t,s)}))}function oA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Nx(t))}function ik(t,e,n){for(const s of n)s instanceof tA?(t.Ru.addReference(s.key,e),FL(t,s)):s instanceof nA?(_e(Tx,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||oA(t,s.key)):Me(19791,{wu:s})}function FL(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(_e(Tx,"New document in limbo: "+n),t.Eu.add(s),Nx(t))}function Nx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(_t.fromString(e)),s=t.fu.next();t.Au.set(s,new RL(n)),t.du=t.du.insert(n,s),GN(t.remoteStore,new da(Ai(Im(n.path)),s,"TargetPurposeLimboResolution",Mm.ce))}}async function Dd(t,e,n){const s=Pe(t),a=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,f)=>{u.push(s.pu(f,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;s.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){a.push(m);const g=vx.As(f.targetId,m);c.push(g)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(f,m){const g=Pe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ge.forEach(m,(b=>ge.forEach(b.Es,(w=>g.persistence.referenceDelegate.addReference(x,b.targetId,w))).next((()=>ge.forEach(b.ds,(w=>g.persistence.referenceDelegate.removeReference(x,b.targetId,w)))))))))}catch(x){if(!yc(x))throw x;_e(xx,"Failed to update sequence numbers: "+x)}for(const x of m){const b=x.targetId;if(!x.fromCache){const w=g.Ms.get(b),T=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(b,C)}}})(s.localStore,c))}async function HL(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){_e(Tx,"User change. New user:",e.toKey());const s=await FN(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((h=>{h.forEach((f=>{f.reject(new je(me.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Dd(n,s.Ls)}}function qL(t,e){const n=Pe(t),s=n.Au.get(e);if(s&&s.hu)return Xe().add(s.key);{let a=Xe();const c=n.Iu.get(e);if(!c)return a;for(const u of c){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function lA(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LL.bind(null,e),e.Pu.H_=TL.bind(null,e.eventManager),e.Pu.yu=NL.bind(null,e.eventManager),e}function $L(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UL.bind(null,e),e}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return X9(this.persistence,new G9,e.initialUser,this.serializer)}Cu(e){return new UN(yx.mi,this.serializer)}Du(e){return new nL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class GL extends om{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof rm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new R9(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new UN((s=>rm.mi(s,n)),this.serializer)}}class Ov{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sk(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HL.bind(null,this.syncEngine),await EL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SL})()}createDatastore(e){const n=Fm(e.databaseInfo.databaseId),s=(function(c){return new oL(c)})(e.databaseInfo);return(function(c,u,h,f){return new dL(c,u,h,f)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,c,u,h){return new fL(s,a,c,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>sk(this.syncEngine,n,0)),(function(){return QE.v()?new QE:new sL})())}createSyncEngine(e,n){return(function(a,c,u,h,f,m,g){const x=new zL(a,c,u,h,f,m);return g&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Pe(n);_e(Ao,"RemoteStore shutting down."),s.Ea.add(5),await Md(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ov.provider={build:()=>new Ov};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class KL{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=rx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{_e(ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(_e(ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kx(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ny(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await FN(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function rk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YL(t);_e(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>JE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>JE(e.remoteStore,a))),t._onlineComponents=e}async function YL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ka,"Using user provided OfflineComponentProvider");try{await Ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await Ny(t,new om)}}else _e(ka,"Using default OfflineComponentProvider"),await Ny(t,new GL(void 0));return t._offlineComponents}async function uA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ka,"Using user provided OnlineComponentProvider"),await rk(t,t._uninitializedComponentsProvider._online)):(_e(ka,"Using default OnlineComponentProvider"),await rk(t,new Ov))),t._onlineComponents}function XL(t){return uA(t).then((e=>e.syncEngine))}async function Lv(t){const e=await uA(t),n=e.eventManager;return n.onListen=ML.bind(null,e.syncEngine),n.onUnlisten=IL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PL.bind(null,e.syncEngine),n}function ZL(t,e,n={}){const s=new pa;return t.asyncQueue.enqueueAndForget((async()=>(function(c,u,h,f,m){const g=new cA({next:b=>{g.Nu(),u.enqueueAndForget((()=>JN(c,x)));const w=b.docs.has(h);!w&&b.fromCache?m.reject(new je(me.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&f&&f.source==="server"?m.reject(new je(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new eA(Im(h.path),g,{includeMetadataChanges:!0,qa:!0});return WN(c,x)})(await Lv(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firestore.googleapis.com",ok=!0;class lk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hA,this.ssl=ok}else this.host=e.host,this.ssl=e.ssl??ok;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A9)throw new je(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new je(me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $m{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nO;switch(s.type){case"firstParty":return new aO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new je(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ak.get(n);s&&(_e("ComponentProvider","Removing Datastore"),ak.delete(n),s.terminate())})(this),Promise.resolve()}}function QL(t,e,n,s={}){t=$s(t,$m);const a=nx(e),c=t._getSettings(),u={...c,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(A6(`https://${h}`),M6("Firestore",!0)),c.host!==hA&&c.host!==h&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...c,host:h,ssl:a,emulatorOptions:s};if(!Xf(f,u)&&(t._setSettings(f),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Rn.MOCK_USER;else{m=C6(s.mockUserToken,t._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new je(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Rn(x)}t._authCredentials=new sO(new WT(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cd(n,Ht._jsonSchema))return new Ht(e,s||null,new Ae(_t.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:on("string",Ht._jsonSchemaVersion),referencePath:on("string")};class ga extends Ra{constructor(e,n,s){super(e,n,Im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ae(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function _o(t,e,...n){if(t=Vi(t),JT("collection","path",e),t instanceof $m){const s=_t.fromString(e,...n);return jE(s),new ga(t,null,s)}{if(!(t instanceof Ht||t instanceof ga))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return jE(s),new ga(t.firestore,null,s)}}function Pi(t,e,...n){if(t=Vi(t),arguments.length===1&&(e=rx.newId()),JT("doc","path",e),t instanceof $m){const s=_t.fromString(e,...n);return bE(s),new Ht(t,null,new Ae(s))}{if(!(t instanceof Ht||t instanceof ga))throw new je(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return bE(s),new Ht(t.firestore,t instanceof ga?t.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="AsyncQueue";class uk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qN(this,"async_queue_retry"),this._c=()=>{const s=Ty();s&&_e(ck,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ty();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new pa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yc(e))throw e;_e(ck,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",dk(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Ex.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:dk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1})(t,["next","error","complete"])}class Sa extends $m{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new uk,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uk(e),this._firestoreClient=void 0,await e}}}function WL(t,e){const n=typeof t=="object"?t:HP(),s=typeof t=="string"?t:Jf,a=OP(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=T6("firestore");c&&QL(a,...c)}return a}function Ax(t){if(t._terminated)throw new je(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JL(t),t._firestoreClient}function JL(t){const e=t._freezeSettings(),n=(function(a,c,u,h){return new _O(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new KL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(Sn.fromBase64String(e))}catch(n){throw new je(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bs(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cd(e,Bs._jsonSchema))return Bs.fromBase64String(e.bytes)}}Bs._jsonSchemaVersion="firestore/bytes/1.0",Bs._jsonSchema={type:on("string",Bs._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(Cd(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:on("string",Ri._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cd(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new je(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:on("string",zi._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=/^__.*__$/;class t8{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rd(e,this.data,n,this.fieldTransforms)}}class fA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class Cx{constructor(e,n,s,a,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mA(this.Ac)&&e8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n8{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fm(e)}Cc(e,n,s,a=!1){return new Cx({Ac:e,methodName:n,Dc:s,path:kn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(t){const e=t._freezeSettings(),n=Fm(t._databaseId);return new n8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pA(t,e,n,s,a,c={}){const u=t.Cc(c.merge||c.mergeFields?2:0,e,n,a);zx("Data must be an object, but it was:",u,s);const h=gA(s,u);let f,m;if(c.merge)f=new ys(u.fieldMask),m=u.fieldTransforms;else if(c.mergeFields){const g=[];for(const x of c.mergeFields){const b=Bv(e,x,n);if(!u.contains(b))throw new je(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);vA(g,b)||g.push(b)}f=new ys(g),m=u.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,m=u.fieldTransforms;return new t8(new Jn(h),f,m)}class Xm extends Km{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xm}}class Rx extends Km{_toFieldTransform(e){return new XO(e.path,new dd)}isEqual(e){return e instanceof Rx}}function s8(t,e,n,s){const a=t.Cc(1,e,n);zx("Data must be an object, but it was:",a,s);const c=[],u=Jn.empty();Aa(s,((f,m)=>{const g=Mx(e,f,n);m=Vi(m);const x=a.yc(g);if(m instanceof Xm)c.push(g);else{const b=Vd(m,x);b!=null&&(c.push(g),u.set(g,b))}}));const h=new ys(c);return new fA(u,h,a.fieldTransforms)}function i8(t,e,n,s,a,c){const u=t.Cc(1,e,n),h=[Bv(e,s,n)],f=[a];if(c.length%2!=0)throw new je(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)h.push(Bv(e,c[b])),f.push(c[b+1]);const m=[],g=Jn.empty();for(let b=h.length-1;b>=0;--b)if(!vA(m,h[b])){const w=h[b];let T=f[b];T=Vi(T);const C=u.yc(w);if(T instanceof Xm)m.push(w);else{const S=Vd(T,C);S!=null&&(m.push(w),g.set(w,S))}}const x=new ys(m);return new fA(g,x,u.fieldTransforms)}function r8(t,e,n,s=!1){return Vd(n,t.Cc(s?4:3,e))}function Vd(t,e){if(yA(t=Vi(t)))return zx("Unsupported field value:",e,t),gA(t,e);if(t instanceof Km)return(function(s,a){if(!mA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const c=[];let u=0;for(const h of s){let f=Vd(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),c.push(f),u++}return{arrayValue:{values:c}}})(t,e)}return(function(s,a){if((s=Vi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=At.fromDate(s);return{timestampValue:im(a.serializer,c)}}if(s instanceof At){const c=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:im(a.serializer,c)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bs)return{bytesValue:MN(a.serializer,s._byteString)};if(s instanceof Ht){const c=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:px(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof zi)return(function(u,h){return{mapValue:{fields:{[lN]:{stringValue:cN},[em]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return dx(h.serializer,m)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${zm(s)}`)})(t,e)}function gA(t,e){const n={};return nN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,((s,a)=>{const c=Vd(a,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function yA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Ri||t instanceof Bs||t instanceof Ht||t instanceof Km||t instanceof zi)}function zx(t,e,n){if(!yA(n)||!eN(n)){const s=zm(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Bv(t,e,n){if((e=Vi(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return Mx(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const a8=new RegExp("[~\\*/\\[\\]]");function Mx(t,e,n){if(e.search(a8)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,s,a){const c=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(c||u)&&(f+=" (found",c&&(f+=` in field ${s}`),u&&(f+=` in document ${a}`),f+=")"),new je(me.INVALID_ARGUMENT,h+t+f)}function vA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o8 extends xA{data(){return super.data()}}function Dx(t,e){return typeof e=="string"?Mx(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vx{}class Ix extends Vx{}function Px(t,e,...n){let s=[];e instanceof Vx&&s.push(e),s=s.concat(n),(function(c){const u=c.filter((f=>f instanceof Lx)).length,h=c.filter((f=>f instanceof Ox)).length;if(u>1||u>0&&h>0)throw new je(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Ox extends Ix{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ox(e,n,s)}_apply(e){const n=this._parse(e);return bA(e._query,n),new Ra(e.firestore,e.converter,Av(e._query,n))}_parse(e){const n=Ym(e.firestore);return(function(c,u,h,f,m,g,x){let b;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new je(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){mk(x,g);const T=[];for(const C of x)T.push(fk(f,c,C));b={arrayValue:{values:T}}}else b=fk(f,c,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||mk(x,g),b=r8(h,u,x,g==="in"||g==="not-in");return an.create(m,g,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Lx extends Vx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lx(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,c){let u=a;const h=c.getFlattenedFilters();for(const f of h)bA(u,f),u=Av(u,f)})(e._query,n),new Ra(e.firestore,e.converter,Av(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bx extends Ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bx(e,n)}_apply(e){const n=(function(a,c,u){if(a.startAt!==null)throw new je(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new je(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ud(c,u)})(e._query,this._field,this._direction);return new Ra(e.firestore,e.converter,(function(a,c){const u=a.explicitOrderBy.concat([c]);return new vc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ux(t,e="asc"){const n=e,s=Dx("orderBy",t);return Bx._create(s,n)}class Fx extends Ix{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Fx(e,n,s)}_apply(e){return new Ra(e.firestore,e.converter,nm(e._query,this._limit,this._limitType))}}function c8(t){return Fx._create("limit",t,"F")}function fk(t,e,n){if(typeof(n=Vi(n))=="string"){if(n==="")throw new je(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yN(e)&&n.indexOf("/")!==-1)throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(_t.fromString(n));if(!Ae.isDocumentKey(s))throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return AE(t,new Ae(s))}if(n instanceof Ht)return AE(t,n._key);throw new je(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(n)}.`)}function mk(t,e){if(!Array.isArray(t)||t.length===0)throw new je(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(t,e){const n=(function(a,c){for(const u of a)for(const h of u.getFlattenedFilters())if(c.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new je(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u8{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Aa(e,((a,c)=>{s[a]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[em].arrayValue?.values?.map((s=>Qt(s.doubleValue)));return new zi(n)}convertGeoPoint(e){return new Ri(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=ja(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=_t.fromString(e);ct(LN(s),9688,{name:e});const a=new ld(s.get(1),s.get(3)),c=new Ae(s.popFirst(5));return a.isEqual(n)||jr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends xA{constructor(e,n,s,a,c,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Dx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:on("string",Eo._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Vf extends Eo{data(e={}){return super.data(e)}}class Ul{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ru(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vf(this._firestore,this._userDataWriter,s.key,s,new Ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new Vf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ru(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>c||h.type!==3)).map((h=>{const f=new Vf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ru(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:d8(h.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){t=$s(t,Ht);const e=$s(t.firestore,Sa);return ZL(Ax(e),t._key).then((n=>kA(e,t,n)))}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:on("string",Ul._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class _A extends u8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Hx(t,e,n){t=$s(t,Ht);const s=$s(t.firestore,Sa),a=jA(t.converter,e);return Zm(s,[pA(Ym(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Gs.none())])}function EA(t,e,n,...s){t=$s(t,Ht);const a=$s(t.firestore,Sa),c=Ym(a);let u;return u=typeof(e=Vi(e))=="string"||e instanceof Gm?i8(c,"updateDoc",t._key,e,n,s):s8(c,"updateDoc",t._key,e),Zm(a,[u.toMutation(t._key,Gs.exists(!0))])}function qx(t){return Zm($s(t.firestore,Sa),[new hx(t._key,Gs.none())])}function $x(t,e){const n=$s(t.firestore,Sa),s=Pi(t),a=jA(t.converter,e);return Zm(n,[pA(Ym(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Gs.exists(!1))]).then((()=>s))}function cm(t,...e){t=Vi(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hk(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(hk(e[s])){const f=e[s];e[s]=f.next?.bind(f),e[s+1]=f.error?.bind(f),e[s+2]=f.complete?.bind(f)}let c,u,h;if(t instanceof Ht)u=$s(t.firestore,Sa),h=Im(t._key.path),c={next:f=>{e[s]&&e[s](kA(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=$s(t,Ra);u=$s(f.firestore,Sa),h=f._query;const m=new _A(u);c={next:g=>{e[s]&&e[s](new Ul(u,m,f,g))},error:e[s+1],complete:e[s+2]},l8(t._query)}return(function(m,g,x,b){const w=new cA(b),T=new eA(g,w,x);return m.asyncQueue.enqueueAndForget((async()=>WN(await Lv(m),T))),()=>{w.Nu(),m.asyncQueue.enqueueAndForget((async()=>JN(await Lv(m),T)))}})(Ax(u),h,a,c)}function Zm(t,e){return(function(s,a){const c=new pa;return s.asyncQueue.enqueueAndForget((async()=>OL(await XL(s),a,c))),c.promise})(Ax(t),e)}function kA(t,e,n){const s=n.docs.get(e._key),a=new _A(t);return new Eo(t,a,e._key,s,new Ru(n.hasPendingWrites,n.fromCache),e.converter)}function ko(){return new Rx("serverTimestamp")}(function(e,n=!0){(function(a){pc=a})(FP),Qf(new id("firestore",((s,{instanceIdentifier:a,options:c})=>{const u=s.getProvider("app").getImmediate(),h=new Sa(new iO(s.getProvider("auth-internal")),new oO(u,s.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new je(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(m.options.projectId,g)})(u,a),u);return c={useFetchStreams:n,...c},h._setSettings(c),h}),"PUBLIC").setMultipleInstances(!0)),Ll(gE,yE,e),Ll(gE,yE,"esm2020")})();const h8={apiKey:"AIzaSyCES_Zfi78paxI--dycL2LmBK0-g4fvvEM",authDomain:"famu-nodes.firebaseapp.com",projectId:"famu-nodes",storageBucket:"famu-nodes.firebasestorage.app",messagingSenderId:"67316044555",appId:"1:67316044555:web:72a88c28871236912f480e",measurementId:"G-LB6V1P1JVW"},f8=FT(h8),Vn=WL(f8);function m8(){const[t,e]=M.useState([]),[n,s]=M.useState(""),[a,c]=M.useState(""),[u,h]=M.useState(!1),[f,m]=M.useState(!1),[g,x]=M.useState([]),b=M.useRef(null),w=M.useRef(null);M.useEffect(()=>{const E=localStorage.getItem("chatUsername");E&&(c(E),h(!0))},[]),M.useEffect(()=>{if(!u||!a)return;const E=`${a}_${Date.now()}`;w.current=Pi(Vn,"onlineUsers",E);const R=async()=>{try{await Hx(w.current,{username:a,lastSeen:ko()})}catch(F){console.error("Error setting online status:",F)}};R();const P=setInterval(R,3e4);return()=>{clearInterval(P),w.current&&qx(w.current).catch(console.error)}},[u,a]),M.useEffect(()=>{if(!u)return;const E=_o(Vn,"onlineUsers"),R=cm(E,P=>{const F=[],$=new Set;P.forEach(X=>{const A=X.data();$.has(A.username)||($.add(A.username),F.push(A.username))}),x(F.sort())});return()=>R()},[u]),M.useEffect(()=>{if(!u)return;const E=_o(Vn,"messages"),R=Px(E,Ux("timestamp","desc"),c8(100)),P=cm(R,F=>{const $=[];F.forEach(X=>{$.push({id:X.id,...X.data()})}),e($.reverse())});return()=>P()},[u]),M.useEffect(()=>{b.current?.scrollIntoView({behavior:"smooth"})},[t]);const T=E=>{E.preventDefault(),a.trim()&&(localStorage.setItem("chatUsername",a.trim()),h(!0))},C=async E=>{if(E.preventDefault(),!(!n.trim()||f)){m(!0);try{await $x(_o(Vn,"messages"),{text:n.trim(),username:a,timestamp:ko()}),s("")}catch(R){console.error("Chyba pi odesln zprvy:",R),alert("Nepodailo se odeslat zprvu. Zkontroluj pipojen.")}finally{m(!1)}}},S=E=>E?E.toDate().toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"}):"";return u?o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs(it,{to:"/",className:"inline-flex items-center text-white hover:text-gray-100 mb-4 transition-colors",children:[o.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpt na hlavn strnku"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Iu,{className:"w-10 h-10"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:" FAMU Chat"}),o.jsx("p",{className:"text-gray-200 text-sm",children:"Real-time komunikace"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-2 rounded-lg",children:[o.jsx(kf,{className:"w-4 h-4"}),o.jsxs("span",{children:[g.length," online"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(j0,{className:"w-4 h-4"}),o.jsx("span",{children:a})]})]})]})]})}),o.jsxs("main",{className:"flex-1 max-w-7xl w-full mx-auto px-4 py-6 flex gap-4",children:[o.jsxs("div",{className:"hidden md:block w-64 bg-white rounded-lg shadow-lg border-2 border-gray-900 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(kf,{className:"w-5 h-5 text-gray-900"}),o.jsxs("h3",{className:"font-bold text-gray-900",children:["Online (",g.length,")"]})]}),o.jsx("div",{className:"space-y-2",children:g.map((E,R)=>o.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${E===a?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"}`,children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm font-medium truncate",children:E}),E===a&&o.jsx("span",{className:"text-xs opacity-75",children:"(ty)"})]},R))})]}),o.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow-lg border-2 border-gray-900 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[t.length===0?o.jsxs("div",{className:"text-center text-gray-500 py-12",children:[o.jsx(Iu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Zatm dn zprvy. Bu prvn kdo nco nape!"})]}):t.map(E=>o.jsx("div",{className:`flex ${E.username===a?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${E.username===a?"bg-gray-900 text-white":"bg-gray-100 text-gray-900"}`,children:[o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsx("span",{className:"font-semibold text-sm",children:E.username}),o.jsx("span",{className:`text-xs ${E.username===a?"text-gray-300":"text-gray-500"}`,children:S(E.timestamp)})]}),o.jsx("p",{className:"break-words",children:E.text})]})},E.id)),o.jsx("div",{ref:b})]}),o.jsx("div",{className:"border-t-2 border-gray-900 p-4",children:o.jsxs("form",{onSubmit:C,className:"flex gap-2",children:[o.jsx("input",{type:"text",value:n,onChange:E=>s(E.target.value),placeholder:"Napi zprvu...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none",disabled:f}),o.jsxs("button",{type:"submit",disabled:f||!n.trim(),className:"px-6 py-3 bg-gray-900 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx(u4,{className:"w-5 h-5"}),"Odeslat"]})]})})]}),o.jsxs("div",{className:"md:hidden fixed bottom-24 right-4 bg-gray-900 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2",children:[o.jsx(kf,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:g.length})]})]})]}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-900 p-8 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx(Iu,{className:"w-16 h-16 mx-auto mb-4 text-gray-900"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"FAMU Chat"}),o.jsx("p",{className:"text-gray-600",children:"Zadej svoje jmno pro vstup do chatu"})]}),o.jsxs("form",{onSubmit:T,children:[o.jsx("input",{type:"text",value:a,onChange:E=>c(E.target.value),placeholder:"Tvoje jmno...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none mb-4",maxLength:20,required:!0}),o.jsx("button",{type:"submit",className:"w-full bg-gray-900 hover:bg-gray-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Vstoupit do chatu"})]}),o.jsx(it,{to:"/",className:"block text-center mt-4 text-gray-600 hover:text-gray-900",children:" Zpt na hlavn strnku"})]})})}const p8=[{day:0,left:469,width:305,top:0,height:119,code:"373AVTE1",teacher:"FABU P.",room:"LAZ-423",time:"14:00 - 17:15",color:"#CCEEFF",link:"/subject/av"},{day:1,left:78,width:297,top:120,height:119,code:"Dlna",teacher:"BAGDASAROV G.",room:"TBA",time:"9:50 - 13:00",color:"#CCCCCC",link:"/subject/general"},{day:1,left:469,width:227,top:120,height:119,code:"373PAD1",teacher:"BAGDASAROV G.",room:"LAZ-423",time:"14:00 - 16:25",color:"#CCCCCC",link:"/subject/av"},{day:1,left:782,width:148,top:120,height:119,code:"373PR",teacher:"LUKOV M.",room:"LAZ-423",time:"17:20 - 18:55",color:"#CCCCCC",link:"/subject/general"},{day:2,left:547,width:305,top:240,height:119,code:"303DDF1",teacher:"ENK D.",room:"LAZ-217",time:"14:50 - 18:05",color:"#CCEEFF",link:"/subject/ddf"},{day:2,left:860,width:148,top:300,height:59,code:"373AS7",teacher:"KLAJBANOV N.",room:"LAZ-124",time:"18:10 - 19:45",color:"#CCEEFF",note:"Lich tden",weeks:"Tdny: 1, 3, 5, 7, 9, 11, 13",link:"/subject/av"},{day:3,left:469,width:148,top:360,height:119,code:"373AVTE1",teacher:"FABU P.",room:"LAZ-423",time:"14:00 - 15:35",color:"#CCEEFF",link:"/subject/av"},{day:3,left:782,width:227,top:360,height:59,code:"373UI",teacher:"MALEKOV D.",room:"LAZ-107",time:"17:20 - 19:45",color:"#CCEEFF",note:"Sud tden",weeks:"Tdny: 2, 4, 6, 8, 10, 12",link:"/subject/ai"}];function g8(){const t=new Date().getDay(),e=t===0?-1:t-1;return o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 px-6 py-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Tdenn rozvrh"}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Zimn semestr 2025/26"})]}),o.jsx("div",{className:"p-6 overflow-x-auto",children:o.jsxs("div",{className:"relative",style:{minWidth:"1100px"},children:[o.jsx("div",{className:"relative",style:{width:"1000px",height:"20px",marginLeft:"54px"},children:["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"].map((n,s)=>o.jsx("div",{className:"absolute text-xs text-gray-600 font-mono",style:{left:`${s*86}px`,top:"-5px",width:"86px",textAlign:"center"},children:n},n))}),o.jsx("div",{className:"absolute left-0 top-0",style:{width:"50px"},children:["Po","Ut","St","t","P"].map((n,s)=>{const a=s===e;return o.jsx("div",{className:`flex items-center justify-center font-bold text-sm border-b border-black ${a?"bg-yellow-400 text-gray-900":"bg-white text-gray-700"}`,style:{height:s===0?"120px":"119px",width:"50px"},children:n},n)})}),o.jsxs("div",{className:"relative border border-black",style:{marginLeft:"53px",height:"600px",width:"1032px",fontSize:"0px"},children:[[0,86,172,258,344,430,516,602,688,774,860,946].map((n,s)=>o.jsx("div",{className:"absolute",style:{top:"0px",height:"602px",width:"1px",left:`${n}px`,backgroundColor:"#E3DFDF"}},`vline-${s}`)),[120,240,360,480].map((n,s)=>o.jsx("div",{className:"absolute",style:{top:`${n}px`,left:"0px",width:"1032px",height:"1px",backgroundColor:"#E3DFDF"}},`hline-${s}`)),e>=0&&o.jsx("div",{className:"absolute bg-yellow-50 opacity-30",style:{top:`${e*120}px`,left:"0px",width:"1032px",height:e===0?"120px":"119px"}}),p8.map((n,s)=>o.jsx(it,{to:n.link,className:"absolute border border-black text-center cursor-pointer hover:shadow-xl hover:scale-105 transition-all",style:{position:"absolute",top:`${n.top}px`,left:`${n.left}px`,width:`${n.width}px`,height:`${n.height}px`,backgroundColor:n.color,fontFamily:"Helvetica, Arial, sans-serif",color:"#000000",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"font-bold",children:n.code}),n.note&&o.jsxs("div",{className:"text-xs font-bold",children:["- ",n.note," -"]}),o.jsx("div",{className:"mt-1",children:n.teacher}),o.jsxs("div",{className:"mt-1",children:[n.room," /"]}),o.jsx("div",{className:"mt-1",children:n.time}),n.weeks&&o.jsx("div",{className:"text-xs mt-1 italic",children:n.weeks})]})},s))]}),o.jsx("div",{className:"mt-4 border border-black p-3",style:{width:"1085px",marginLeft:"53px"},children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[o.jsx("span",{className:"font-bold",children:"Legenda:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Pednka:"}),o.jsx("div",{className:"w-8 h-4 border border-black",style:{backgroundColor:"#DDEEFF"}})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:"Cvien:"}),o.jsx("div",{className:"w-8 h-4 border border-black",style:{backgroundColor:"#CCCCCC"}})]})]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[o.jsx("span",{className:"font-semibold",children:"Poznmka:"}),' Pedmty s oznaenm "Lich tden" probhaj v lichch tdnech (1, 3, 5...), pedmty s oznaenm "Sud tden" v sudch tdnech (2, 4, 6...)']})]})})]})})]})}function y8(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[o.jsx("header",{className:"bg-gradient-to-r from-gray-900 to-gray-800 text-white py-8 px-6 shadow-xl",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:" Rozvrh"}),o.jsx("p",{className:"text-gray-300",children:"Zimn semestr 2025/26"})]})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:pl-16",children:o.jsx(g8,{})})]})}function v8(){const[t,e]=M.useState([]),[n,s]=M.useState(!1),[a,c]=M.useState(null),[u,h]=M.useState({title:"",date:"",time:"",description:"",type:"deadline"}),f={deadline:{label:"Deadline",color:"bg-red-500"},exam:{label:"Zkouka",color:"bg-orange-500"},consultation:{label:"Konzultace",color:"bg-blue-500"},other:{label:"Ostatn",color:"bg-gray-500"}};M.useEffect(()=>{const E=_o(Vn,"calendarEvents"),R=Px(E,Ux("date","asc")),P=cm(R,F=>{const $=[];F.forEach(X=>{$.push({id:X.id,...X.data()})}),e($)});return()=>P()},[]);const m=async E=>{E.preventDefault();try{a?await EA(Pi(Vn,"calendarEvents",a.id),{...u,updatedAt:ko()}):await $x(_o(Vn,"calendarEvents"),{...u,createdAt:ko()}),h({title:"",date:"",time:"",description:"",type:"deadline"}),s(!1),c(null)}catch(R){console.error("Chyba pi ukldn udlosti:",R),alert("Nepodailo se uloit udlost.")}},g=async E=>{if(window.confirm("Opravdu chce smazat tuto udlost?"))try{await qx(Pi(Vn,"calendarEvents",E))}catch(R){console.error("Chyba pi mazn udlosti:",R)}},x=E=>{c(E),h({title:E.title,date:E.date,time:E.time||"",description:E.description||"",type:E.type}),s(!0)},b=()=>{s(!1),c(null),h({title:"",date:"",time:"",description:"",type:"deadline"})},w=()=>{const E={};return t.forEach(R=>{E[R.date]||(E[R.date]=[]),E[R.date].push(R)}),E},T=E=>new Date(E).toLocaleDateString("cs-CZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=w(),S=Object.keys(C).sort();return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Gl,{className:"w-10 h-10"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:" Kalend & Udlosti"}),o.jsx("p",{className:"text-gray-200 text-sm",children:"Deadlines, zkouky a dal udlosti"})]})]}),o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-white text-gray-900 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:[o.jsx(Yl,{className:"w-5 h-5"}),"Pidat udlost"]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:t.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-lg border-2 border-gray-900",children:[o.jsx(Gl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"dn udlosti"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Zani pidnm prvn udlosti"}),o.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 bg-gray-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:[o.jsx(Yl,{className:"w-5 h-5"}),"Pidat prvn udlost"]})]}):o.jsx("div",{className:"space-y-6",children:S.map(E=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-900 overflow-hidden",children:[o.jsx("div",{className:"bg-gray-100 px-6 py-4 border-b-2 border-gray-900",children:o.jsx("h3",{className:"font-bold text-gray-900",children:T(E)})}),o.jsx("div",{className:"p-6 space-y-4",children:C[E].map(R=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border-2 border-gray-300 hover:border-gray-900 transition-colors",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${f[R.type].color} mt-1.5`}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:R.title}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-2",children:[o.jsx("span",{className:"font-medium",children:f[R.type].label}),R.time&&o.jsxs("span",{children:[" ",R.time]})]}),R.description&&o.jsx("p",{className:"text-sm text-gray-700",children:R.description})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>x(R),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",children:o.jsx(b0,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(R.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",children:o.jsx(Nm,{className:"w-4 h-4"})})]})]})})]},R.id))})]},E))})}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Upravit udlost":"Nov udlost"}),o.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(uc,{className:"w-6 h-6 text-gray-500"})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nzev udlosti *"}),o.jsx("input",{type:"text",value:u.title,onChange:E=>h({...u,title:E.target.value}),placeholder:"nap. Odevzdn projektu",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Datum *"}),o.jsx("input",{type:"date",value:u.date,onChange:E=>h({...u,date:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"as"}),o.jsx("input",{type:"time",value:u.time,onChange:E=>h({...u,time:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Typ udlosti *"}),o.jsx("select",{value:u.type,onChange:E=>h({...u,type:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent",required:!0,children:Object.entries(f).map(([E,{label:R}])=>o.jsx("option",{value:E,children:R},E))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Popis"}),o.jsx("textarea",{value:u.description,onChange:E=>h({...u,description:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent resize-none",rows:"3",placeholder:"Doplujc informace..."})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Zruit"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors",children:a?"Uloit":"Pidat"})]})]})]})})]})}function x8(){const[t,e]=M.useState([]),[n,s]=M.useState(!1),[a,c]=M.useState(null),[u,h]=M.useState({title:"",content:""});M.useEffect(()=>{const w=_o(Vn,"notes"),T=Px(w,Ux("updatedAt","desc")),C=cm(T,S=>{const E=[];S.forEach(R=>{E.push({id:R.id,...R.data()})}),e(E)});return()=>C()},[]);const f=async w=>{if(w.preventDefault(),!u.title.trim()){alert("Zadej nzev poznmky");return}try{a?await EA(Pi(Vn,"notes",a.id),{title:u.title,content:u.content,updatedAt:ko()}):await $x(_o(Vn,"notes"),{title:u.title,content:u.content,createdAt:ko(),updatedAt:ko()}),h({title:"",content:""}),s(!1),c(null)}catch(T){console.error("Error saving note:",T),alert("Nepodailo se uloit poznmku")}},m=w=>{c(w),h({title:w.title,content:w.content||""}),s(!0)},g=async w=>{if(window.confirm("Opravdu chce smazat tuto poznmku?"))try{await qx(Pi(Vn,"notes",w))}catch(T){console.error("Error deleting note:",T)}},x=()=>{h({title:"",content:""}),s(!1),c(null)},b=w=>w?w.toDate().toLocaleString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Kl,{className:"w-10 h-10"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:" Poznmky"}),o.jsx("p",{className:"text-gray-100 text-sm",children:"Vytvej, edituj a organizuj sv poznmky"})]})]}),!n&&o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:[o.jsx(Yl,{className:"w-5 h-5"}),"Nov poznmka"]})]})})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border-2 border-blue-500 p-6 mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Editovat poznmku":"Nov poznmka"}),o.jsx("button",{onClick:x,className:"text-gray-500 hover:text-gray-700",children:o.jsx(uc,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nzev"}),o.jsx("input",{type:"text",value:u.title,onChange:w=>h({...u,title:w.target.value}),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-lg font-semibold",placeholder:"Nzev poznmky...",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Obsah"}),o.jsx("textarea",{value:u.content,onChange:w=>h({...u,content:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none resize-none",rows:"15",placeholder:`Pi sem sv poznmky...

 Podporuje:
 Markdown formtovn
 Odrky a seznamy
 Code snippets
 A cokoliv dalho!`})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[o.jsx(Xy,{className:"w-5 h-5"}),a?"Uloit zmny":"Vytvoit poznmku"]}),o.jsx("button",{type:"button",onClick:x,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Zruit"})]})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg border-2 border-gray-900",children:[o.jsx(Kl,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Zatm dn poznmky"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vytvo svou prvn poznmku a zani si zapisovat!"}),o.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[o.jsx(Yl,{className:"w-5 h-5"}),"Vytvoit prvn poznmku"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>o.jsx("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-900 overflow-hidden hover:shadow-xl transition-all hover:-translate-y-1",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:w.title}),o.jsx("div",{className:"text-gray-600 mb-4 line-clamp-4 whitespace-pre-wrap text-sm",children:w.content||"Przdn poznmka"}),o.jsx("div",{className:"text-xs text-gray-500 mb-4",children:b(w.updatedAt)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>m(w),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[o.jsx(b0,{className:"w-4 h-4"}),"Editovat"]}),o.jsx("button",{onClick:()=>g(w.id),className:"px-4 py-2 border-2 border-red-500 text-red-500 rounded-lg hover:bg-red-50 transition-colors",children:o.jsx(Nm,{className:"w-4 h-4"})})]})]})},w.id))})]})]})}var b8={694:(t,e,n)=>{var s=n(925);function a(){}function c(){}c.resetWarningCache=a,t.exports=function(){function u(m,g,x,b,w,T){if(T!==s){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}function h(){return u}u.isRequired=u;var f={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:h,element:u,elementType:u,instanceOf:h,node:u,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:c,resetWarningCache:a};return f.PropTypes=f,f}},556:(t,e,n)=>{t.exports=n(694)()},925:t=>{t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},115:t=>{var e=typeof Element<"u",n=typeof Map=="function",s=typeof Set=="function",a=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function c(u,h){if(u===h)return!0;if(u&&h&&typeof u=="object"&&typeof h=="object"){if(u.constructor!==h.constructor)return!1;var f,m,g,x;if(Array.isArray(u)){if((f=u.length)!=h.length)return!1;for(m=f;m--!=0;)if(!c(u[m],h[m]))return!1;return!0}if(n&&u instanceof Map&&h instanceof Map){if(u.size!==h.size)return!1;for(x=u.entries();!(m=x.next()).done;)if(!h.has(m.value[0]))return!1;for(x=u.entries();!(m=x.next()).done;)if(!c(m.value[1],h.get(m.value[0])))return!1;return!0}if(s&&u instanceof Set&&h instanceof Set){if(u.size!==h.size)return!1;for(x=u.entries();!(m=x.next()).done;)if(!h.has(m.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(h)){if((f=u.length)!=h.length)return!1;for(m=f;m--!=0;)if(u[m]!==h[m])return!1;return!0}if(u.constructor===RegExp)return u.source===h.source&&u.flags===h.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof h.valueOf=="function")return u.valueOf()===h.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof h.toString=="function")return u.toString()===h.toString();if((f=(g=Object.keys(u)).length)!==Object.keys(h).length)return!1;for(m=f;m--!=0;)if(!Object.prototype.hasOwnProperty.call(h,g[m]))return!1;if(e&&u instanceof Element)return!1;for(m=f;m--!=0;)if((g[m]!=="_owner"&&g[m]!=="__v"&&g[m]!=="__o"||!u.$$typeof)&&!c(u[g[m]],h[g[m]]))return!1;return!0}return u!=u&&h!=h}t.exports=function(u,h){try{return c(u,h)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}}}},pk={};function zn(t){var e=pk[t];if(e!==void 0)return e.exports;var n=pk[t]={exports:{}};return b8[t](n,n.exports,zn),n.exports}zn.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return zn.d(e,{a:e}),e},zn.d=(t,e)=>{for(var n in e)zn.o(e,n)&&!zn.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},zn.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),zn.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var SA={};function TA(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=TA(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}zn.d(SA,{A:()=>u7});const ho=function(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=TA(t))&&(s&&(s+=" "),s+=e);return s},be=(gk={default:()=>ue,useMemo:()=>M.useMemo,useRef:()=>M.useRef},Ay={},zn.d(Ay,gk),Ay);var gk,Ay;const um=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},j8=typeof global=="object"&&global&&global.Object===Object&&global;var w8=typeof self=="object"&&self&&self.Object===Object&&self;const NA=j8||w8||Function("return this")(),Cy=function(){return NA.Date.now()};var _8=/\s/,E8=/^\s+/;const k8=function(t){return t&&t.slice(0,(function(e){for(var n=e.length;n--&&_8.test(e.charAt(n)););return n})(t)+1).replace(E8,"")},dm=NA.Symbol;var AA=Object.prototype,S8=AA.hasOwnProperty,T8=AA.toString,ju=dm?dm.toStringTag:void 0,N8=Object.prototype.toString,yk=dm?dm.toStringTag:void 0;const A8=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":yk&&yk in Object(t)?(function(e){var n=S8.call(e,ju),s=e[ju];try{e[ju]=void 0;var a=!0}catch{}var c=T8.call(e);return a&&(n?e[ju]=s:delete e[ju]),c})(t):(function(e){return N8.call(e)})(t)};var C8=/^[-+]0x[0-9a-f]+$/i,R8=/^0b[01]+$/i,z8=/^0o[0-7]+$/i,M8=parseInt;const vk=function(t){if(typeof t=="number")return t;if((function(s){return typeof s=="symbol"||(function(a){return a!=null&&typeof a=="object"})(s)&&A8(s)=="[object Symbol]"})(t))return NaN;if(um(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=um(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=k8(t);var n=R8.test(t);return n||z8.test(t)?M8(t.slice(2),n?2:8):C8.test(t)?NaN:+t};var D8=Math.max,V8=Math.min;const Uv=function(t,e,n){var s,a,c,u,h,f,m=0,g=!1,x=!1,b=!0;if(typeof t!="function")throw new TypeError("Expected a function");function w(R){var P=s,F=a;return s=a=void 0,m=R,u=t.apply(F,P)}function T(R){var P=R-f;return f===void 0||P>=e||P<0||x&&R-m>=c}function C(){var R=Cy();if(T(R))return S(R);h=setTimeout(C,(function(P){var F=e-(P-f);return x?V8(F,c-(P-m)):F})(R))}function S(R){return h=void 0,b&&s?w(R):(s=a=void 0,u)}function E(){var R=Cy(),P=T(R);if(s=arguments,a=this,f=R,P){if(h===void 0)return(function(F){return m=F,h=setTimeout(C,e),g?w(F):u})(f);if(x)return clearTimeout(h),h=setTimeout(C,e),w(f)}return h===void 0&&(h=setTimeout(C,e)),u}return e=vk(e)||0,um(n)&&(g=!!n.leading,c=(x="maxWait"in n)?D8(vk(n.maxWait)||0,e):c,b="trailing"in n?!!n.trailing:b),E.cancel=function(){h!==void 0&&clearTimeout(h),m=0,s=f=a=h=void 0},E.flush=function(){return h===void 0?u:S(Cy())},E},xk=function(t,e,n){var s=!0,a=!0;if(typeof t!="function")throw new TypeError("Expected a function");return um(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),Uv(t,e,{leading:s,maxWait:e,trailing:a})};var I8=zn(115),P8=zn.n(I8),CA=(function(){if(typeof Map<"u")return Map;function t(e,n){var s=-1;return e.some((function(a,c){return a[0]===n&&(s=c,!0)})),s}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var s=t(this.__entries__,n),a=this.__entries__[s];return a&&a[1]},e.prototype.set=function(n,s){var a=t(this.__entries__,n);~a?this.__entries__[a][1]=s:this.__entries__.push([n,s])},e.prototype.delete=function(n){var s=this.__entries__,a=t(s,n);~a&&s.splice(a,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,s){s===void 0&&(s=null);for(var a=0,c=this.__entries__;a<c.length;a++){var u=c[a];n.call(s,u[1],u[0])}},e})()})(),Fv=typeof window<"u"&&typeof document<"u"&&window.document===document,hm=zn.g!==void 0&&zn.g.Math===Math?zn.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),O8=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(hm):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},L8=["top","right","bottom","left","width","height","size","weight"],B8=typeof MutationObserver<"u",U8=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(function(e){var n=!1,s=!1,a=0;function c(){n&&(n=!1,e()),s&&h()}function u(){O8(c)}function h(){var f=Date.now();if(n){if(f-a<2)return;s=!0}else n=!0,s=!1,setTimeout(u,20);a=f}return h})(this.refresh.bind(this))}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,s=n.indexOf(e);~s&&n.splice(s,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter((function(n){return n.gatherActive(),n.hasActive()}));return e.forEach((function(n){return n.broadcastActive()})),e.length>0},t.prototype.connect_=function(){Fv&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),B8?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Fv&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,s=n===void 0?"":n;L8.some((function(a){return!!~s.indexOf(a)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),bk=function(t,e){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},sc=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||hm},jk=fm(0,0,0,0);function If(t){return parseFloat(t)||0}function wk(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(s,a){return s+If(t["border-"+a+"-width"])}),0)}var F8=typeof SVGGraphicsElement<"u"?function(t){return t instanceof sc(t).SVGGraphicsElement}:function(t){return t instanceof sc(t).SVGElement&&typeof t.getBBox=="function"};function H8(t){return Fv?F8(t)?(function(e){var n=e.getBBox();return fm(0,0,n.width,n.height)})(t):(function(e){var n=e.clientWidth,s=e.clientHeight;if(!n&&!s)return jk;var a=sc(e).getComputedStyle(e),c=(function(b){for(var w={},T=0,C=["top","right","bottom","left"];T<C.length;T++){var S=C[T],E=b["padding-"+S];w[S]=If(E)}return w})(a),u=c.left+c.right,h=c.top+c.bottom,f=If(a.width),m=If(a.height);if(a.boxSizing==="border-box"&&(Math.round(f+u)!==n&&(f-=wk(a,"left","right")+u),Math.round(m+h)!==s&&(m-=wk(a,"top","bottom")+h)),!(function(b){return b===sc(b).document.documentElement})(e)){var g=Math.round(f+u)-n,x=Math.round(m+h)-s;Math.abs(g)!==1&&(f-=g),Math.abs(x)!==1&&(m-=x)}return fm(c.left,c.top,f,m)})(t):jk}function fm(t,e,n,s){return{x:t,y:e,width:n,height:s}}var q8=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=H8(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),$8=function(t,e){var n=(function(s){var a=s.x,c=s.y,u=s.width,h=s.height,f=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,m=Object.create(f.prototype);return bk(m,{x:a,y:c,width:u,height:h,top:c,right:a+u,bottom:h+c,left:a}),m})(e);bk(this,{target:t,contentRect:n})},G8=(function(){function t(e,n,s){if(this.activeObservations_=[],this.observations_=new CA,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=s}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof sc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new q8(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof sc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(n){n.isActive()&&e.activeObservations_.push(n)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map((function(s){return new $8(s.target,s.broadcastRect())}));this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),RA=typeof WeakMap<"u"?new WeakMap:new CA,zA=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=U8.getInstance(),s=new G8(e,n,this);RA.set(this,s)};["observe","unobserve","disconnect"].forEach((function(t){zA.prototype[t]=function(){var e;return(e=RA.get(this))[t].apply(e,arguments)}}));const _k=hm.ResizeObserver!==void 0?hm.ResizeObserver:zA,cr="Left",ur="Right",dr="Up",hr="Down",wl={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Ry={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Ek="mousemove",kk="mouseup";function Sk(t,e){if(e===0)return t;const n=Math.PI/180*e;return[t[0]*Math.cos(n)+t[1]*Math.sin(n),t[1]*Math.cos(n)-t[0]*Math.sin(n)]}function K8(t){const{trackMouse:e}=t,n=be.useRef(Object.assign({},Ry)),s=be.useRef(Object.assign({},wl)),a=be.useRef(Object.assign({},s.current));let c;for(c in a.current=Object.assign({},s.current),s.current=Object.assign(Object.assign({},wl),t),wl)s.current[c]===void 0&&(s.current[c]=wl[c]);const[u,h]=be.useMemo((()=>(function(f,m){const g=S=>{const E="touches"in S;E&&S.touches.length>1||f(((R,P)=>{P.trackMouse&&!E&&(document.addEventListener(Ek,x),document.addEventListener(kk,w));const{clientX:F,clientY:$}=E?S.touches[0]:S,X=Sk([F,$],P.rotationAngle);return P.onTouchStartOrOnMouseDown&&P.onTouchStartOrOnMouseDown({event:S}),Object.assign(Object.assign(Object.assign({},R),Ry),{initial:X.slice(),xy:X,start:S.timeStamp||0})}))},x=S=>{f(((E,R)=>{const P="touches"in S;if(P&&S.touches.length>1)return E;if(S.timeStamp-E.start>R.swipeDuration)return E.swiping?Object.assign(Object.assign({},E),{swiping:!1}):E;const{clientX:F,clientY:$}=P?S.touches[0]:S,[X,A]=Sk([F,$],R.rotationAngle),N=X-E.xy[0],z=A-E.xy[1],B=Math.abs(N),L=Math.abs(z),q=(S.timeStamp||0)-E.start,I=Math.sqrt(B*B+L*L)/(q||1),H=[N/(q||1),z/(q||1)],ne=(function(Q,W,V,K){return Q>W?V>0?ur:cr:K>0?hr:dr})(B,L,N,z),U=typeof R.delta=="number"?R.delta:R.delta[ne.toLowerCase()]||wl.delta;if(B<U&&L<U&&!E.swiping)return E;const Y={absX:B,absY:L,deltaX:N,deltaY:z,dir:ne,event:S,first:E.first,initial:E.initial,velocity:I,vxvy:H};Y.first&&R.onSwipeStart&&R.onSwipeStart(Y),R.onSwiping&&R.onSwiping(Y);let ee=!1;return(R.onSwiping||R.onSwiped||R[`onSwiped${ne}`])&&(ee=!0),ee&&R.preventScrollOnSwipe&&R.trackTouch&&S.cancelable&&S.preventDefault(),Object.assign(Object.assign({},E),{first:!1,eventData:Y,swiping:!0})}))},b=S=>{f(((E,R)=>{let P;if(E.swiping&&E.eventData){if(S.timeStamp-E.start<R.swipeDuration){P=Object.assign(Object.assign({},E.eventData),{event:S}),R.onSwiped&&R.onSwiped(P);const F=R[`onSwiped${P.dir}`];F&&F(P)}}else R.onTap&&R.onTap({event:S});return R.onTouchEndOrOnMouseUp&&R.onTouchEndOrOnMouseUp({event:S}),Object.assign(Object.assign(Object.assign({},E),Ry),{eventData:P})}))},w=S=>{document.removeEventListener(Ek,x),document.removeEventListener(kk,w),b(S)},T=(S,E)=>{let R=()=>{};if(S&&S.addEventListener){const P=Object.assign(Object.assign({},wl.touchEventOptions),E.touchEventOptions),F=[["touchstart",g,P],["touchmove",x,Object.assign(Object.assign({},P),E.preventScrollOnSwipe?{passive:!1}:{})],["touchend",b,P]];F.forEach((([$,X,A])=>S.addEventListener($,X,A))),R=()=>F.forEach((([$,X])=>S.removeEventListener($,X)))}return R},C={ref:S=>{S!==null&&f(((E,R)=>{if(E.el===S)return E;const P={};return E.el&&E.el!==S&&E.cleanUpTouch&&(E.cleanUpTouch(),P.cleanUpTouch=void 0),R.trackTouch&&S&&(P.cleanUpTouch=T(S,R)),Object.assign(Object.assign(Object.assign({},E),{el:S}),P)}))}};return m.trackMouse&&(C.onMouseDown=g),[C,T]})((f=>n.current=f(n.current,s.current)),{trackMouse:e})),[e]);return n.current=(function(f,m,g,x){return m.trackTouch&&f.el?f.cleanUpTouch?m.preventScrollOnSwipe!==g.preventScrollOnSwipe||m.touchEventOptions.passive!==g.touchEventOptions.passive?(f.cleanUpTouch(),Object.assign(Object.assign({},f),{cleanUpTouch:x(f.el,m)})):f:Object.assign(Object.assign({},f),{cleanUpTouch:x(f.el,m)}):(f.cleanUpTouch&&f.cleanUpTouch(),Object.assign(Object.assign({},f),{cleanUpTouch:void 0}))})(n.current,s.current,a.current,h),u}var fe=zn(556);function Ku(t){return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,s)}return n}function Nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach((function(s){Y8(t,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))}))}return t}function Y8(t,e,n){return(e=(function(s){var a=(function(c){if(Ku(c)!="object"||!c)return c;var u=c[Symbol.toPrimitive];if(u!==void 0){var h=u.call(c,"string");if(Ku(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)})(s);return Ku(a)=="symbol"?a:a+""})(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X8={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"},Hv=be.default.memo((function(t){var e=Nk(Nk({},X8),t),n=e.description,s=e.fullscreen,a=e.handleImageLoaded,c=e.isFullscreen,u=e.onImageError,h=e.original,f=e.originalAlt,m=e.originalHeight,g=e.originalWidth,x=e.originalTitle,b=e.sizes,w=e.srcSet,T=e.loading,C=c&&s||h;return be.default.createElement(be.default.Fragment,null,be.default.createElement("img",{className:"image-gallery-image",src:C,alt:f,srcSet:w,height:m,width:g,sizes:b,title:x,onLoad:function(S){return a(S,h)},onError:u,loading:T}),n&&be.default.createElement("span",{className:"image-gallery-description"},n))}));Hv.displayName="Item",Hv.propTypes={description:fe.string,fullscreen:fe.string,handleImageLoaded:fe.func.isRequired,isFullscreen:fe.bool,onImageError:fe.func.isRequired,original:fe.string.isRequired,originalAlt:fe.string,originalHeight:fe.string,originalWidth:fe.string,originalTitle:fe.string,sizes:fe.string,srcSet:fe.string,loading:fe.string};const Z8=Hv;function Yu(t){return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,s)}return n}function Ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach((function(s){Q8(t,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))}))}return t}function Q8(t,e,n){return(e=(function(s){var a=(function(c){if(Yu(c)!="object"||!c)return c;var u=c[Symbol.toPrimitive];if(u!==void 0){var h=u.call(c,"string");if(Yu(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)})(s);return Yu(a)=="symbol"?a:a+""})(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W8={left:be.default.createElement("polyline",{points:"15 18 9 12 15 6"}),right:be.default.createElement("polyline",{points:"9 18 15 12 9 6"}),top:be.default.createElement("polyline",{points:"6 15 12 9 18 15"}),bottom:be.default.createElement("polyline",{points:"6 9 12 15 18 9"}),maximize:be.default.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:be.default.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:be.default.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:be.default.createElement(be.default.Fragment,null,be.default.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),be.default.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},J8={strokeWidth:1,viewBox:"0 0 24 24"},MA=function(t){var e=Ck(Ck({},J8),t),n=e.strokeWidth,s=e.viewBox,a=e.icon;return be.default.createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:s,fill:"none",stroke:"currentColor",strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"},W8[a])};MA.propTypes={strokeWidth:fe.number,viewBox:fe.string,icon:(0,fe.oneOf)(["left","right","top","bottom","maximize","minimize","play","pause"]).isRequired};const bc=MA;var qv=be.default.memo((function(t){var e=t.isFullscreen,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:n,"aria-label":"Open Fullscreen"},be.default.createElement(bc,{strokeWidth:2,icon:e?"minimize":"maximize"}))}));qv.displayName="Fullscreen",qv.propTypes={isFullscreen:fe.bool.isRequired,onClick:fe.func.isRequired};const e7=qv;var $v=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:e,onClick:n,"aria-label":"Previous Slide"},be.default.createElement(bc,{icon:"left",viewBox:"6 0 12 24"}))}));$v.displayName="LeftNav",$v.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const t7=$v;var Gv=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:e,onClick:n,"aria-label":"Next Slide"},be.default.createElement(bc,{icon:"right",viewBox:"6 0 12 24"}))}));Gv.displayName="RightNav",Gv.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const n7=Gv;var Kv=be.default.memo((function(t){var e=t.isPlaying,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:n,"aria-label":"Play or Pause Slideshow"},be.default.createElement(bc,{strokeWidth:2,icon:e?"pause":"play"}))}));Kv.displayName="PlayPause",Kv.propTypes={isPlaying:fe.bool.isRequired,onClick:fe.func.isRequired};const s7=Kv;function Xu(t){return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Yv.apply(null,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,s)}return n}function zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach((function(s){i7(t,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))}))}return t}function i7(t,e,n){return(e=(function(s){var a=(function(c){if(Xu(c)!="object"||!c)return c;var u=c[Symbol.toPrimitive];if(u!==void 0){var h=u.call(c,"string");if(Xu(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)})(s);return Xu(a)=="symbol"?a:a+""})(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r7={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}},DA=function(t){var e=zk(zk({},r7),t),n=e.children,s=e.className,a=K8({delta:e.delta,onSwiping:e.onSwiping,onSwiped:e.onSwiped});return be.default.createElement("div",Yv({},a,{className:s}),n)};DA.propTypes={children:fe.node.isRequired,className:fe.string,delta:fe.number,onSwiped:fe.func,onSwiping:fe.func};const Mk=DA;var Xv=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-top-nav",disabled:e,onClick:n,"aria-label":"Previous Slide"},be.default.createElement(bc,{icon:"top",viewBox:"6 0 12 24"}))}));Xv.displayName="TopNav",Xv.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const a7=Xv;var Zv=be.default.memo((function(t){var e=t.disabled,n=t.onClick;return be.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-bottom-nav",disabled:e,onClick:n,"aria-label":"Next Slide"},be.default.createElement(bc,{icon:"bottom",viewBox:"6 0 12 24"}))}));Zv.displayName="BottomNav",Zv.propTypes={disabled:fe.bool.isRequired,onClick:fe.func.isRequired};const o7=Zv;function Fl(t){return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.push.apply(n,s)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach((function(s){Rl(t,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))}))}return t}function l7(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,IA(s.key),s)}}function VA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(VA=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mm(t)}function Qv(t,e){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qv(t,e)}function Rl(t,e,n){return(e=IA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IA(t){var e=(function(n){if(Fl(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,"string");if(Fl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(t);return Fl(e)=="symbol"?e:e+""}var Ik=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],c7=(0,fe.arrayOf)((0,fe.shape)({srcSet:fe.string,media:fe.string}));function Pk(t){var e=parseInt(t.keyCode||t.which||0,10);return e===66||e===62}var Wv=(function(){function t(e){var n,s,a,c;return(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),Rl((s=this,c=[e],a=mm(a=t),n=(function(u,h){if(h&&(Fl(h)=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f})(u)})(s,VA()?Reflect.construct(a,c||[],mm(s).constructor):a.apply(s,c))),"onBulletClick",(function(u,h){var f=n.props,m=f.onBulletClick,g=f.items,x=n.state.currentIndex;u.target.blur(),x!==h&&(g.length===2?n.slideToIndexWithStyleReset(h,u):n.slideToIndex(h,u)),m&&m(u,h)})),n.state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,galleryHeight:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(e.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},n.loadedImages={},n.imageGallery=be.default.createRef(),n.thumbnailsWrapper=be.default.createRef(),n.thumbnails=be.default.createRef(),n.imageGallerySlideWrapper=be.default.createRef(),n.handleImageLoaded=n.handleImageLoaded.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleResize=n.handleResize.bind(n),n.handleOnSwiped=n.handleOnSwiped.bind(n),n.handleScreenChange=n.handleScreenChange.bind(n),n.handleSwiping=n.handleSwiping.bind(n),n.handleThumbnailSwiping=n.handleThumbnailSwiping.bind(n),n.handleOnThumbnailSwiped=n.handleOnThumbnailSwiped.bind(n),n.onThumbnailMouseLeave=n.onThumbnailMouseLeave.bind(n),n.handleImageError=n.handleImageError.bind(n),n.pauseOrPlay=n.pauseOrPlay.bind(n),n.renderThumbInner=n.renderThumbInner.bind(n),n.renderItem=n.renderItem.bind(n),n.slideLeft=n.slideLeft.bind(n),n.slideRight=n.slideRight.bind(n),n.toggleFullScreen=n.toggleFullScreen.bind(n),n.togglePlay=n.togglePlay.bind(n),n.unthrottledSlideToIndex=n.slideToIndex,n.slideToIndex=xk(n.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(n.lazyLoaded=[]),n}return(function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Qv(e,n)})(t,be.default.Component),(function(e,n){return n&&l7(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e})(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.autoPlay,s=e.useWindowKeyDown;n&&this.play(),s?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(e,n){var s=this.props,a=s.items,c=s.lazyLoad,u=s.slideDuration,h=s.slideInterval,f=s.startIndex,m=s.thumbnailPosition,g=s.showThumbnails,x=s.useWindowKeyDown,b=this.state,w=b.currentIndex,T=b.isPlaying,C=e.items.length!==a.length,S=!P8()(e.items,a),E=e.startIndex!==f,R=e.thumbnailPosition!==m,P=e.showThumbnails!==g;h===e.slideInterval&&u===e.slideDuration||T&&(this.pause(),this.play()),R&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),P&&g&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),P&&!g&&this.removeThumbnailsResizeObserver(),(C||P)&&this.handleResize(),n.currentIndex!==w&&this.slideThumbnailBar(),e.slideDuration!==u&&(this.slideToIndex=xk(this.unthrottledSlideToIndex,u,{trailing:!1})),!c||e.lazyLoad&&!S||(this.lazyLoaded=[]),x!==e.useWindowKeyDown&&(x?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(E||S)&&this.setState({currentIndex:f,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var e=this,n=this.state,s=n.currentIndex,a=n.isTransitioning,c=this.props,u=c.onSlide,h=c.slideDuration;this.transitionTimer=window.setTimeout((function(){a&&(e.setState({isTransitioning:!a,isSwipingThumbnail:!1}),u&&u(s))}),h+50)}},{key:"onThumbnailClick",value:function(e,n){var s=this.props,a=s.onThumbnailClick,c=s.items,u=this.state.currentIndex;e.target.parentNode.parentNode.blur(),u!==n&&(c.length===2?this.slideToIndexWithStyleReset(n,e):this.slideToIndex(n,e)),a&&a(e,n)}},{key:"onThumbnailMouseOver",value:function(e,n){var s=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){s.slideToIndex(n),s.pause()}),300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:"setThumbsTranslate",value:function(e){this.setState({thumbsTranslate:e})}},{key:"setModalFullscreen",value:function(e){var n=this.props.onScreenChange;this.setState({modalFullscreen:e}),n&&n(e)}},{key:"getThumbsTranslate",value:function(e){var n,s=this.props,a=s.disableThumbnailScroll,c=s.items,u=this.state,h=u.thumbnailsWrapperWidth,f=u.thumbnailsWrapperHeight,m=this.thumbnails&&this.thumbnails.current;if(a)return 0;if(m){if(this.isThumbnailVertical()){if(m.scrollHeight<=f)return 0;n=m.scrollHeight-f}else{if(m.scrollWidth<=h||h<=0)return 0;n=m.scrollWidth-h}return e*(n/(c.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(e){switch(e){case"left":e=" ".concat("image-gallery-thumbnails-left");break;case"right":e=" ".concat("image-gallery-thumbnails-right");break;case"bottom":e=" ".concat("image-gallery-thumbnails-bottom");break;case"top":e=" ".concat("image-gallery-thumbnails-top")}return e}},{key:"getAlignmentClassName",value:function(e){var n=this.state.currentIndex,s=this.props,a=s.infinite,c=s.items,u="",h="image-gallery-left",f="image-gallery-right";switch(e){case n-1:u=" ".concat(h);break;case n:u=" ".concat("image-gallery-center");break;case n+1:u=" ".concat(f)}return c.length>=3&&a&&(e===0&&n===c.length-1?u=" ".concat(f):e===c.length-1&&n===0&&(u=" ".concat(h))),u}},{key:"getTranslateXForTwoSlide",value:function(e){var n=this.state,s=n.currentIndex,a=n.currentSlideOffset,c=n.previousIndex,u=s!==c,h=e===0&&c===0,f=e===1&&c===1,m=e===0&&s===1,g=e===1&&s===0,x=a===0,b=-100*s+100*e+a;return a>0?this.direction="left":a<0&&(this.direction="right"),g&&a>0&&(b=-100+a),m&&a<0&&(b=100+a),u?h&&x&&this.direction==="left"?b=100:f&&x&&this.direction==="right"&&(b=-100):(g&&x&&this.direction==="left"&&(b=-100),m&&x&&this.direction==="right"&&(b=100)),b}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(e){var n=this.state,s=n.currentIndex,a=n.currentSlideOffset,c=n.slideStyle,u=this.props,h=u.infinite,f=u.items,m=u.useTranslate3D,g=u.isRTL,x=u.slideVertically,b=-100*s,w=f.length-1,T=(b+100*e)*(g?-1:1)+a;h&&f.length>2&&(s===0&&e===w?T=-100*(g?-1:1)+a:s===w&&e===0&&(T=100*(g?-1:1)+a)),h&&f.length===2&&(T=this.getTranslateXForTwoSlide(e));var C=x?"translate(0, ".concat(T,"%)"):"translate(".concat(T,"%, 0)");return m&&(C=x?"translate3d(0, ".concat(T,"%, 0)"):"translate3d(".concat(T,"%, 0, 0)")),Vk({display:this.isSlideVisible(e)?"inherit":"none",WebkitTransform:C,MozTransform:C,msTransform:C,OTransform:C,transform:C},c)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var e,n=this.props,s=n.useTranslate3D,a=n.isRTL,c=this.state,u=c.thumbsTranslate,h=c.thumbsStyle,f=a?-1*u:u;return this.isThumbnailVertical()?(e="translate(0, ".concat(u,"px)"),s&&(e="translate3d(0, ".concat(u,"px, 0)"))):(e="translate(".concat(f,"px, 0)"),s&&(e="translate3d(".concat(f,"px, 0, 0)"))),Vk({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},h)}},{key:"getSlideItems",value:function(){var e=this,n=this.state.currentIndex,s=this.props,a=s.items,c=s.slideOnThumbnailOver,u=s.onClick,h=s.lazyLoad,f=s.onTouchMove,m=s.onTouchEnd,g=s.onTouchStart,x=s.onMouseOver,b=s.onMouseLeave,w=s.renderItem,T=s.renderThumbInner,C=s.showThumbnails,S=s.showBullets,E=[],R=[],P=[];return a.forEach((function(F,$){var X=e.getAlignmentClassName($),A=F.originalClass?" ".concat(F.originalClass):"",N=F.thumbnailClass?" ".concat(F.thumbnailClass):"",z=F.renderItem||w||e.renderItem,B=F.renderThumbInner||T||e.renderThumbInner,L=!h||X||e.lazyLoaded[$];L&&h&&!e.lazyLoaded[$]&&(e.lazyLoaded[$]=!0);var q=e.getSlideStyle($),I=be.default.createElement("div",{"aria-label":"Go to Slide ".concat($+1),key:"slide-".concat($),tabIndex:"-1",className:"image-gallery-slide ".concat(X," ").concat(A),style:q,onClick:u,onKeyUp:e.handleSlideKeyUp,onTouchMove:f,onTouchEnd:m,onTouchStart:g,onMouseOver:x,onFocus:x,onMouseLeave:b,role:"button"},L?z(F):be.default.createElement("div",{style:{height:"100%"}}));if(E.push(I),C&&F.thumbnail){var H=ho("image-gallery-thumbnail",N,{active:n===$});R.push(be.default.createElement("button",{key:"thumbnail-".concat($),type:"button",tabIndex:"0","aria-pressed":n===$?"true":"false","aria-label":"Go to Slide ".concat($+1),className:H,onMouseLeave:c?e.onThumbnailMouseLeave:null,onMouseOver:function(U){return e.handleThumbnailMouseOver(U,$)},onFocus:function(U){return e.handleThumbnailMouseOver(U,$)},onKeyUp:function(U){return e.handleThumbnailKeyUp(U,$)},onClick:function(U){return e.onThumbnailClick(U,$)}},B(F)))}if(S){var ne=ho("image-gallery-bullet",F.bulletClass,{active:n===$});P.push(be.default.createElement("button",{type:"button",key:"bullet-".concat($),className:ne,onClick:function(U){return e.onBulletClick(U,$)},"aria-pressed":n===$?"true":"false","aria-label":"Go to Slide ".concat($+1)}))}})),{slides:E,thumbnails:R,bullets:P}}},{key:"ignoreIsTransitioning",value:function(){var e=this.props.items,n=this.state,s=n.previousIndex,a=n.currentIndex,c=e.length-1;return Math.abs(s-a)>1&&!(s===0&&a===c)&&!(s===c&&a===0)}},{key:"isFirstOrLastSlide",value:function(e){return e===this.props.items.length-1||e===0}},{key:"slideIsTransitioning",value:function(e){var n=this.state,s=n.isTransitioning,a=n.previousIndex,c=n.currentIndex;return s&&!(e===a||e===c)}},{key:"isSlideVisible",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:"slideThumbnailBar",value:function(){var e=this.state,n=e.currentIndex,s=e.isSwipingThumbnail,a=-this.getThumbsTranslate(n);s||(n===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:a,thumbsSwipedTranslate:a}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var e=this.props,n=e.infinite,s=e.isRTL;return n||(s?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var e=this.props,n=e.infinite,s=e.isRTL;return n||(s?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(e){var n=e.event,s=e.absX,a=e.absY,c=e.dir,u=this.props,h=u.disableSwipe,f=u.stopPropagation,m=u.swipingTransitionDuration,g=this.state,x=g.galleryWidth,b=g.galleryHeight,w=g.isTransitioning,T=g.swipingUpDown,C=g.swipingLeftRight,S=this.props.slideVertically;if((c!==dr&&c!==hr&&!T||C||(T||this.setState({swipingUpDown:!0}),S))&&(c!==cr&&c!==ur||C||this.setState({swipingLeftRight:!0}),!h))if(f&&n.preventDefault(),w)this.setState({currentSlideOffset:0});else{if((c===cr||c===ur)&&S||(c===dr||c===hr)&&!S)return;var E=Rl(Rl(Rl(Rl({},cr,-1),ur,1),dr,-1),hr,1)[c],R=s/x*100;S&&(R=a/b*100),Math.abs(R)>=100&&(R=100);var P={transition:"transform ".concat(m,"ms ease-out")};this.setState({currentSlideOffset:E*R,slideStyle:P})}}},{key:"handleThumbnailSwiping",value:function(e){var n=e.event,s=e.absX,a=e.absY,c=e.dir,u=this.props,h=u.stopPropagation,f=u.swipingThumbnailTransitionDuration,m=this.state,g=m.thumbsSwipedTranslate,x=m.thumbnailsWrapperHeight,b=m.thumbnailsWrapperWidth,w=m.swipingUpDown,T=m.swipingLeftRight;if(this.isThumbnailVertical()){if((c===cr||c===ur||T)&&!w)return void(T||this.setState({swipingLeftRight:!0}));c!==dr&&c!==hr||w||this.setState({swipingUpDown:!0})}else{if((c===dr||c===hr||w)&&!T)return void(w||this.setState({swipingUpDown:!0}));c!==cr&&c!==ur||T||this.setState({swipingLeftRight:!0})}var C,S,E,R,P,F=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(C=g+(c===hr?a:-a),S=F.scrollHeight-x+20,E=Math.abs(C)>S,R=C>20,P=F.scrollHeight<=x):(C=g+(c===ur?s:-s),S=F.scrollWidth-b+20,E=Math.abs(C)>S,R=C>20,P=F.scrollWidth<=b),!P&&(c!==cr&&c!==dr||!E)&&(c!==ur&&c!==hr||!R)){h&&n.stopPropagation();var $={transition:"transform ".concat(f,"ms ease-out")};this.setState({thumbsTranslate:C,thumbsStyle:$})}}},{key:"handleOnThumbnailSwiped",value:function(){var e=this.state.thumbsTranslate,n=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:"all ".concat(n,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var e=this.state.currentSlideOffset,n=this.props.swipeThreshold;return Math.abs(e)>n}},{key:"resetSwipingDirection",value:function(){var e=this.state,n=e.swipingUpDown,s=e.swipingLeftRight;n&&this.setState({swipingUpDown:!1}),s&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(e){var n=e.event,s=e.dir,a=e.velocity,c=this.props,u=c.disableSwipe,h=c.stopPropagation,f=c.flickThreshold,m=this.props.slideVertically;if(!u){var g=this.props.isRTL;h&&n.stopPropagation(),this.resetSwipingDirection();var x=(s===cr?1:-1)*(g?-1:1);m&&(x=s===dr?1:-1);var b=m?a>f&&!(s===cr||s===ur):a>f&&!(s===dr||s===hr);this.handleOnSwipedTo(x,b)}}},{key:"handleOnSwipedTo",value:function(e,n){var s=this.state,a=s.currentIndex,c=s.isTransitioning,u=a;!this.sufficientSwipe()&&!n||c||(u+=e),(e===-1&&!this.canSlideLeft()||e===1&&!this.canSlideRight())&&(u=a),this.unthrottledSlideToIndex(u)}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(e){var n=this.props,s=n.disableKeyDown,a=n.useBrowserFullscreen,c=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!s)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:c&&!a&&this.exitFullScreen()}}},{key:"handleImageError",value:function(e){var n=this.props.onErrorImageURL;n&&e.target.src.indexOf(n)===-1&&(e.target.src=n)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var e=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth,galleryHeight:this.imageGallery.current.offsetHeight}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:"initSlideWrapperResizeObserver",value:function(e){var n=this;e&&!e.current||(this.resizeSlideWrapperObserver=new _k(Uv((function(s){s&&s.forEach((function(a){n.setState({thumbnailsWrapperWidth:a.contentRect.width},n.handleResize)}))}),50)),this.resizeSlideWrapperObserver.observe(e.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(e){var n=this;e&&!e.current||(this.resizeThumbnailWrapperObserver=new _k(Uv((function(s){s&&s.forEach((function(a){n.setState({thumbnailsWrapperHeight:a.contentRect.height},n.handleResize)}))}),50)),this.resizeThumbnailWrapperObserver.observe(e.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var e=this.props,n=e.onScreenChange,s=e.useBrowserFullscreen,a=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,c=this.imageGallery.current===a;n&&n(c),s&&this.setState({isFullscreen:c})}},{key:"slideToIndex",value:function(e,n){var s=this.state,a=s.currentIndex,c=s.isTransitioning,u=this.props,h=u.items,f=u.slideDuration,m=u.onBeforeSlide;if(!c){n&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var g=h.length-1,x=e;e<0?x=g:e>g&&(x=0),m&&x!==a&&m(x),this.setState({previousIndex:a,currentIndex:x,isTransitioning:x!==a,currentSlideOffset:0,slideStyle:{transition:"all ".concat(f,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(e){var n=this.props.isRTL;this.slideTo(e,n?"right":"left")}},{key:"slideRight",value:function(e){var n=this.props.isRTL;this.slideTo(e,n?"left":"right")}},{key:"slideTo",value:function(e,n){var s=this.state,a=s.currentIndex,c=s.isTransitioning,u=this.props.items,h=a+(n==="left"?-1:1);c||(u.length===2?this.slideToIndexWithStyleReset(h,e):this.slideToIndex(h,e))}},{key:"slideToIndexWithStyleReset",value:function(e,n){var s=this,a=this.state,c=a.currentIndex,u=a.currentSlideOffset;this.setState({currentSlideOffset:u+(c>e?.001:-.001),slideStyle:{transition:"none"}},(function(){window.setTimeout((function(){return s.slideToIndex(e,n)}),25)}))}},{key:"handleThumbnailMouseOver",value:function(e,n){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,n)}},{key:"handleThumbnailKeyUp",value:function(e,n){Pk(e)&&this.onThumbnailClick(e,n)}},{key:"handleSlideKeyUp",value:function(e){Pk(e)&&(0,this.props.onClick)(e)}},{key:"isThumbnailVertical",value:function(){var e=this.props.thumbnailPosition;return e==="left"||e==="right"}},{key:"addScreenChangeEvent",value:function(){var e=this;Ik.forEach((function(n){document.addEventListener(n,e.handleScreenChange)}))}},{key:"removeScreenChangeEvent",value:function(){var e=this;Ik.forEach((function(n){document.removeEventListener(n,e.handleScreenChange)}))}},{key:"fullScreen",value:function(){var e=this.props.useBrowserFullscreen,n=this.imageGallery.current;e?n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var e=this.state.isFullscreen,n=this.props.useBrowserFullscreen;e&&(n?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var e=this.props.infinite,n=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(n+1):this.pause()}},{key:"play",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.props,s=n.onPlay,a=n.slideInterval,c=n.slideDuration,u=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(a,c)),s&&e&&s(u))}},{key:"pause",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.props.onPause,s=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),n&&e&&n(s))}},{key:"isImageLoaded",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:"handleImageLoaded",value:function(e,n){var s=this.props.onImageLoad;!this.loadedImages[n]&&s&&(this.loadedImages[n]=!0,s(e))}},{key:"renderItem",value:function(e){var n=this.state.isFullscreen,s=this.props.onImageError||this.handleImageError;return be.default.createElement(Z8,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:n,onImageError:s,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,loading:e.loading,srcSet:e.srcSet})}},{key:"renderThumbInner",value:function(e){var n=this.props.onThumbnailError||this.handleImageError;return be.default.createElement("span",{className:"image-gallery-thumbnail-inner"},be.default.createElement("img",{className:"image-gallery-thumbnail-image",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,loading:e.thumbnailLoading,onError:n}),e.thumbnailLabel&&be.default.createElement("div",{className:"image-gallery-thumbnail-label"},e.thumbnailLabel))}},{key:"render",value:function(){var e=this.state,n=e.currentIndex,s=e.isFullscreen,a=e.modalFullscreen,c=e.isPlaying,u=this.props,h=u.additionalClass,f=u.disableThumbnailSwipe,m=u.indexSeparator,g=u.isRTL,x=u.items,b=u.thumbnailPosition,w=u.renderFullscreenButton,T=u.renderCustomControls,C=u.renderLeftNav,S=u.renderRightNav,E=u.renderTopNav,R=u.renderBottomNav,P=u.showBullets,F=u.showFullscreenButton,$=u.showIndex,X=u.showThumbnails,A=u.showNav,N=u.showPlayButton,z=u.slideVertically,B=u.renderPlayPauseButton,L=this.getThumbnailStyle(),q=this.getSlideItems(),I=q.slides,H=q.thumbnails,ne=q.bullets,U=ho("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(b),{"image-gallery-rtl":g}),Y=ho("image-gallery-bullets",{"image-gallery-bullets-vertical":z}),ee=be.default.createElement("div",{ref:this.imageGallerySlideWrapper,className:U},T&&T(),this.canSlide()?be.default.createElement(be.default.Fragment,null,A&&be.default.createElement(be.default.Fragment,null,z?E(this.slideLeft,!this.canSlideLeft()):C(this.slideLeft,!this.canSlideLeft()),z?R(this.slideRight,!this.canSlideRight()):S(this.slideRight,!this.canSlideRight())),be.default.createElement(Mk,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},be.default.createElement("div",{className:"image-gallery-slides"},I))):be.default.createElement("div",{className:"image-gallery-slides"},I),N&&B(this.togglePlay,c),P&&be.default.createElement("div",{className:Y},be.default.createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},ne)),F&&w(this.toggleFullScreen,s),$&&be.default.createElement("div",{className:"image-gallery-index"},be.default.createElement("span",{className:"image-gallery-index-current"},n+1),be.default.createElement("span",{className:"image-gallery-index-separator"},m),be.default.createElement("span",{className:"image-gallery-index-total"},x.length))),Q=ho("image-gallery",h,{"fullscreen-modal":a}),W=ho("image-gallery-content",this.getThumbnailPositionClassName(b),{fullscreen:s}),V=ho("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(b),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&g},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!f},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!f});return be.default.createElement("div",{ref:this.imageGallery,className:Q,"aria-live":"polite"},be.default.createElement("div",{className:W},(b==="bottom"||b==="right")&&ee,X&&H.length>0?be.default.createElement(Mk,{className:V,delta:0,onSwiping:!f&&this.handleThumbnailSwiping,onSwiped:!f&&this.handleOnThumbnailSwiped},be.default.createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},be.default.createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:L,"aria-label":"Thumbnail Navigation"},H))):null,(b==="top"||b==="left")&&ee))}}])})();Wv.propTypes={flickThreshold:fe.number,items:(0,fe.arrayOf)((0,fe.shape)({bulletClass:fe.string,bulletOnClick:fe.func,description:fe.string,original:fe.string,originalHeight:fe.number,originalWidth:fe.number,loading:fe.string,thumbnailHeight:fe.number,thumbnailWidth:fe.number,thumbnailLoading:fe.string,fullscreen:fe.string,originalAlt:fe.string,originalTitle:fe.string,thumbnail:fe.string,thumbnailAlt:fe.string,thumbnailLabel:fe.string,thumbnailTitle:fe.string,originalClass:fe.string,thumbnailClass:fe.string,renderItem:fe.func,renderThumbInner:fe.func,imageSet:c7,srcSet:fe.string,sizes:fe.string})).isRequired,showNav:fe.bool,autoPlay:fe.bool,lazyLoad:fe.bool,infinite:fe.bool,showIndex:fe.bool,showBullets:fe.bool,showThumbnails:fe.bool,showPlayButton:fe.bool,showFullscreenButton:fe.bool,disableThumbnailScroll:fe.bool,disableKeyDown:fe.bool,disableSwipe:fe.bool,disableThumbnailSwipe:fe.bool,useBrowserFullscreen:fe.bool,onErrorImageURL:fe.string,indexSeparator:fe.string,thumbnailPosition:(0,fe.oneOf)(["top","bottom","left","right"]),startIndex:fe.number,slideDuration:fe.number,slideInterval:fe.number,slideOnThumbnailOver:fe.bool,swipeThreshold:fe.number,swipingTransitionDuration:fe.number,swipingThumbnailTransitionDuration:fe.number,onSlide:fe.func,onBeforeSlide:fe.func,onScreenChange:fe.func,onPause:fe.func,onPlay:fe.func,onClick:fe.func,onImageLoad:fe.func,onImageError:fe.func,onTouchMove:fe.func,onTouchEnd:fe.func,onTouchStart:fe.func,onMouseOver:fe.func,onMouseLeave:fe.func,onBulletClick:fe.func,onThumbnailError:fe.func,onThumbnailClick:fe.func,renderCustomControls:fe.func,renderLeftNav:fe.func,renderRightNav:fe.func,renderTopNav:fe.func,renderBottomNav:fe.func,renderPlayPauseButton:fe.func,renderFullscreenButton:fe.func,renderItem:fe.func,renderThumbInner:fe.func,stopPropagation:fe.bool,additionalClass:fe.string,useTranslate3D:fe.bool,isRTL:fe.bool,useWindowKeyDown:fe.bool,slideVertically:fe.bool},Wv.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onBulletClick:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,slideVertically:!1,renderLeftNav:function(t,e){return be.default.createElement(t7,{onClick:t,disabled:e})},renderRightNav:function(t,e){return be.default.createElement(n7,{onClick:t,disabled:e})},renderTopNav:function(t,e){return be.default.createElement(a7,{onClick:t,disabled:e})},renderBottomNav:function(t,e){return be.default.createElement(o7,{onClick:t,disabled:e})},renderPlayPauseButton:function(t,e){return be.default.createElement(s7,{onClick:t,isPlaying:e})},renderFullscreenButton:function(t,e){return be.default.createElement(e7,{onClick:t,isFullscreen:e})},useWindowKeyDown:!0};const u7=Wv;var d7=SA.A;const h7=[{id:"overview",title:"Pehled projektu",icon:sS,color:"blue"},{id:"interventions",title:"Typy intervenc",icon:ZM,color:"green"},{id:"timeline",title:"asov pln",icon:Gl,color:"orange"},{id:"methodology",title:"Metodologie",icon:kf,color:"purple"},{id:"outputs",title:"Vstupy",icon:tS,color:"red"},{id:"gallery",title:"Galerie",icon:nS,color:"pink"}];function Ok(){const{subpage:t}=km(),e=t||"overview";return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 text-white shadow-lg sticky top-0 z-50 transition-all duration-300 py-3",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[!1,o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"transition-all duration-300 flex items-center gap-4",children:o.jsxs(o.Fragment,{children:[o.jsx(it,{to:"/",className:"hover:text-gray-100 transition-colors",children:o.jsx(cc,{className:"w-5 h-5"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-xl font-bold",children:" Guerillov intervence"})})]})}),o.jsxs("a",{href:"/palmovka_project_proposal.pdf",download:!0,className:"flex items-center gap-2 bg-white text-teal-600 rounded-lg font-medium hover:bg-gray-100 transition-all shadow-lg px-3 py-2 text-sm",children:[o.jsx(OM,{className:"w-4 h-4"}),!1]})]})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:h7.map(n=>{const s=n.icon,a=e===n.id;return o.jsxs(it,{to:`/project/${n.id}`,className:`
                  p-4 rounded-xl border-2 transition-all hover:scale-105 hover:shadow-lg
                  ${a?"bg-gradient-to-br from-teal-500 to-cyan-500 text-white border-teal-600 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-teal-400"}
                `,children:[o.jsx(s,{className:`w-8 h-8 mx-auto mb-2 ${a?"text-white":"text-teal-600"}`}),o.jsx("p",{className:"text-center text-sm font-medium",children:n.title})]},n.id)})}),e==="overview"&&o.jsx(f7,{}),e==="interventions"&&o.jsx(m7,{}),e==="methodology"&&o.jsx(p7,{}),e==="outputs"&&o.jsx(g7,{}),e==="timeline"&&o.jsx(y7,{}),e==="gallery"&&o.jsx(v7,{officialProjects:PA,guerillaArt:OA})]})]})}function f7(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Video dokumentace projektu"}),o.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-black mb-4",children:o.jsx("iframe",{width:"100%",height:"100%",src:"https://youtube.com/embed/AKgS2maI94k",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Rozhovory s ulic"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Video dokumentace guerillovch intervenc na Palmovce"})]}),o.jsxs("a",{href:"https://youtu.be/AKgS2maI94k",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:[o.jsx(Vu,{className:"w-4 h-4"}),"YouTube"]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Tm projektu"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg p-5 border-2 border-teal-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-3xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:"Martin Tomek"}),o.jsx("p",{className:"text-sm text-teal-700 font-medium",children:"Reisr, autor projektu"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-5 border-2 border-blue-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-3xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:"Ji Kejkula"}),o.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Produkce"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg p-5 border-2 border-yellow-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-3xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:"Tom Vrna"}),o.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Spolupracujc umlec"})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-5 border-2 border-purple-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"text-3xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:"Michal Tancjura"}),o.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Spolupracujc umlec - Game Design FAMU"})]})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Vzkumn podklady a dokumenty"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-6 border-2 border-indigo-200",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"text-4xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Sociologicko-antropologick vzkum itho prostoru v lokalit Palmovka"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Souhrnn zprva z antropologickho vzkumu Palmovky (Praha 8) - klov podklad pro metodologii projektu."}),o.jsxs("a",{href:"https://m.praha8.cz/file/GbS/Souhrnna-zprava-Sociologicko-antropologicky-vyzkum-ziteho-prost%20oru-v-lokalite-Palmovka.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:[o.jsx(Vu,{className:"w-4 h-4"}),"Sthnout PDF zprvu"]})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg p-6 border-2 border-teal-200",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"text-4xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Pln mentoringu - Magistersk program"}),o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900",children:"Student:"}),o.jsx("p",{className:"text-gray-700",children:"Martin Tomek"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900",children:"Obor / Program:"}),o.jsx("p",{className:"text-gray-700",children:"CAS FAMU - Magistersk program"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Anotace praktickho projektu:"}),o.jsx("p",{className:"text-gray-700",children:"Experimentln dokumentrn film o guerillovch intervencch ve veejnm prostoru Palmovky. Projekt zahrnuje participativn umn, tactical urbanism a komunitn aktivaci prostoru."})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Mentor/ka pro praktick projekt:"}),o.jsx("p",{className:"text-gray-700",children:"Georgy Bagdasarov"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Anotace teoretickho projektu:"}),o.jsx("p",{className:"text-gray-700",children:"Vzkum vlivu participativnho umn na aktivaci zanedbanch veejnch prostor. Analza metodologie tactical urbanism a komunitnho zapojen."})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Mentor/ka pro teoretickou prci:"}),o.jsx("p",{className:"text-gray-700",children:"Georgy Bagdasarov"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Harmonogram:"}),o.jsx("p",{className:"text-gray-700",children:"2 roky (2025-2027) - Viz asov pln projektu"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-teal-900 mb-2",children:"Extern konzultace:"}),o.jsx("p",{className:"text-gray-700",children:"Bval student as Turner - veejn prospn prce"})]})]})]})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Financovn projektu"}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6 border-2 border-blue-200 mb-6",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" Rozpoet jednotlivch intervenc"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Hlasovac popelnky"}),o.jsx("span",{className:"font-bold text-gray-900",children:"1 500 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Betonov banny - laviky"}),o.jsx("span",{className:"font-bold text-gray-900",children:"3 000 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-100 rounded-lg border-2 border-green-300",children:[o.jsx("span",{className:"text-gray-700",children:" Slunenice (realizovno)"}),o.jsx("span",{className:"font-bold text-green-700",children:"800 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Parklety"}),o.jsx("span",{className:"font-bold text-gray-900",children:"3 500 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Kdov Game Jam"}),o.jsx("span",{className:"font-bold text-gray-900",children:"1 000 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Interaktivn kamerov hra"}),o.jsx("span",{className:"font-bold text-gray-900",children:"5 000 K"})]})]}),o.jsx("div",{className:"border-t-2 border-blue-300 pt-3 mb-4",children:o.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-100 rounded-lg",children:[o.jsx("span",{className:"text-lg font-bold text-blue-900",children:"Oficiln projekty celkem:"}),o.jsx("span",{className:"text-xl font-bold text-blue-900",children:"14 800 K"})]})}),o.jsx("h4",{className:"font-bold text-gray-900 mb-3 mt-6",children:"Guerilla Art intervence:"}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Detournement - Boj s reklamou"}),o.jsx("span",{className:"font-bold text-gray-900",children:"750 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Street Art - Obrazy v ulicch"}),o.jsx("span",{className:"font-bold text-gray-900",children:"400 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Guerillov galerie"}),o.jsx("span",{className:"font-bold text-gray-900",children:"350 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-100 rounded-lg border-2 border-green-300",children:[o.jsx("span",{className:"text-gray-700",children:" Houpaka (realizovno)"}),o.jsx("span",{className:"font-bold text-green-700",children:"200 K"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("span",{className:"text-gray-700",children:" Doasn solrn svtla"}),o.jsx("span",{className:"font-bold text-gray-900",children:"750 K"})]})]}),o.jsx("div",{className:"border-t-2 border-blue-300 pt-3 mb-4",children:o.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-100 rounded-lg",children:[o.jsx("span",{className:"text-lg font-bold text-purple-900",children:"Guerilla Art celkem:"}),o.jsx("span",{className:"text-xl font-bold text-purple-900",children:"2 450 K"})]})}),o.jsx("div",{className:"border-t-4 border-blue-500 pt-4",children:o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl border-2 border-green-400",children:[o.jsx("span",{className:"text-xl font-bold text-gray-900",children:" CELKOV ROZPOET:"}),o.jsx("span",{className:"text-2xl font-bold text-green-700",children:"17 250 K"})]})}),o.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("strong",{children:"Poznmka:"})," Rozpoet nezahrnuje nklady na filmovou dokumentaci a techniku (~3 000 K). Celkov rozpoet projektu vetn dokumentace: ",o.jsx("strong",{children:"~20 000 K"})]})})]}),o.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-6 border-2 border-green-200",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"text-4xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Granty Praha 8 - Kultura 2025"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Grantov program pro kulturn a komunitn projekty na zem Prahy 8."}),o.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border-l-4 border-yellow-500 rounded",children:o.jsx("p",{className:"text-sm font-bold text-yellow-900",children:" Deadline: Do konce roku 2025"})}),o.jsxs("a",{href:"https://www.praha8.cz/Granty-Kultura-2025",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:[o.jsx(Vu,{className:"w-4 h-4"}),"Vce informac o grantech"]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-blue-200",children:[o.jsx("h3",{className:"font-bold text-lg text-blue-900 mb-2",children:" Cl"}),o.jsx("p",{className:"text-gray-700",children:"Oivit zanedban msta Palmovky pomoc participativnho umn a mikro-intervenc"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-6 border-2 border-green-200",children:[o.jsx("h3",{className:"font-bold text-lg text-green-900 mb-2",children:" Dlka"}),o.jsx("p",{className:"text-gray-700",children:"2 roky prbnch intervenc s dokumentac celho procesu"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200",children:[o.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-2",children:" Rozpoet"}),o.jsx("p",{className:"text-gray-700",children:"~20 000 K (materil, film, technika)"})]})]})]})}const PA=[{title:"Hlasovac popelnky",subtitle:"Interaktivn mobili",icon:"",color:"red",description:'Experiment s veejnm zapojenm skrze hern mechanismus "hlasovn nedopalky"',artist:"Martin Tomek",status:"V plnu",details:["Gamifikace","Zapojen komunity","ist prostor"],fullDescription:`**Pozorovn a problm**

Cigaretov nedopalky jsou jednm z nejbnjch odpadk na ulici. Mnoho lid (zejmna star generace) ani nevnm nedopalky jako odpad  odhodit ho na zem je pro n normln. Pitom nedopalky zneiuj prosted a jejich klid stoj nemal penze.

**Koncept hlasovacho popelnku**

Popelnk rozdlen na dv pihrdky s otzkou, na kterou kuk "hlasuje" tm, e vhod nedopalek do jedn i druh sti.

**Pklad:** "Je lep kva, nebo aj?"  jedna strana "kva", druh "aj"; lid hzej paky podle svho nzoru.

Tento hrav prvek motivuje kuky dvat nedopalek do popelnku, ne na zem, a zrove je to anketa.

**Motivace projektu**

 **Zlepit istotu Palmovky** - praktick dopad na prosted

 **Nensiln komunikace problmu** - msto moralizovn pout hravost

 **Mnoh kampan nefunguj, protoe moralizuj** - hravost by mohla fungovat lpe

**Pln realizace**

 Vyrobit i upravit stvajc popelnk

 Doplnit ho **prhlednou dvoukomorovou ndobou** s npisem vyzvajcm k hlasovn

 Tma me bt neutrln nebo lokln (nap. "Libe nebo Karln?" jako vtpek)

 Sledovat, zda se zv poet nedopalk v popelnku a sn na zemi

**Metodologie vzkumu - Srovnn dvou lokalit**

 **Experimentln msto** - s hlasovacm popelnkem

 **Kontroln msto** - bez hlasovacho popelnku

**Postup men:**

1. Najt msto hodn zneitn od nedopalk

2. Vyistit msto a dokumentovat (baseline)

3. Pokat msc bez intervence

4. Znovu vyistit a **spotat/zvit nedopalky**

5. Instalovat hlasovac popelnk

6. Po tdnu sesbrat nedopalky z obou lokalit a zvit i spotat

**Sledovan parametry:**

 Volby lid (jak odpovdi vyhrvaj)

 Mru zneitn msta (poet nedopalk mimo popelnk)

 Before/after data - funguje intervence?

**Vizualizace neviditelnho**

Prhledn sklenn komora ukazuje nahromadn nedopalky. Mnoz si mon vbec poprv **uvdom, kolik nedopalk se denn vyhod**. Forma vizualizace neviditelnho problmu.

**Potencil pro msto**

Zskm **tvrd data**, kter mohou poslouit mstu. Kdyby se to osvdilo, mohla by radnice takov popelnky instalovat oficiln.

**asov harmonogram**

 **Zima 2025** (leden-bezen) - Pprava, design, vroba

 **Jarn klauzurn prce** - Prezentace projektu a metodologie

 **Jaro 2026** - Instalace a testovn (2 msce)

 **Lto 2026** - Vyhodnocen dat

Popelnk lze vyrbt i v zim, instalace a testovn na jae.`,materials:["Devo/kov pro konstrukci","Prhledn plexisklo","Popisky/otzky","Montn materil","Ochrann lak"],budget:"~1500 K na 1 popelnk",timeline:"Zima 2025 (pprava)  Jaro 2026 (instalace)  2 msce testovn",location:"Frekventovan msta s kuky na Palmovce",images:[{original:"/FAMU/projects/hlasovaci-popelnik/design.jpeg",thumbnail:"/FAMU/projects/hlasovaci-popelnik/design.jpeg",description:"Design hlasovacho popelnku"}]},{title:"Betonov banny - laviky",subtitle:"Mobili",icon:"",color:"yellow",description:'Srie betonovch laviek ve tvaru bann. Funkn urbnn mobili s hravm designem inspirovan "Tropical Palmbeach".',artist:"Martin Tomek",status:"V plnu",details:["Recyklovan beton","Veejn sedn","Tropical Palmbeach"],fullDescription:`**Koncept: Tropical Palmbeach**

Projekt vychz z lokln identity Palmovky. Podle antropologick zprvy mstn obyvatel kaj tto tvrti "Tropical Palmbeach" - inspirovno graffiti, kter zde dve bylo. Koncept tropickho lesa: palmy, banny... tropick Palmovka.

Srie betonovch laviek ve tvaru bann jako funkn urbnn mobili. Kad lavika bude mt personalizovanou "etiketu" s nzvem Palmovka, pipomnajc bannov etikety z obchodu.

**asov harmonogram:**

 **Zima 2025** (leden-bezen) - Nvrh, vroba formy, postupn odlvn
 **Jaro-Lto 2026** - Instalace a uveden do provozu

Beton lze pracovat i v zim (vnitn prostory), instalace ideln v teplm poas.`,materials:["Rychletuhnouc beton (12x 25kg)","Forma na odlvn","Pletivo pro vztu","Ntr/barva","Montn materil"],budget:"~3000 K na 1 laviku",timeline:"Zima 2025 (vroba)  Jaro-Lto 2026 (instalace)",location:"Kiovatka ped KB, okol Palmovky",images:[]},{title:"Slunenice a kvtiny na Palmovce",subtitle:"Vsadba + Guerilla Gardening",icon:"",color:"green",description:"Guerillov vsadba 120 sazenic slunenic do zanedbanch betonovch kvtin - nejambiciznj akce z hlediska sil",artist:"Martin Tomek",status:"Realizovno",details:["120 sazenic","Recyklace","12 lokalit","Reflexn vesty"],fullDescription:`**Realizace 2025 - Testovac intervence**

V roce 2025 jsem realizoval testovac intervenci - vsadbu slunenic a dalch kvtin do zanedbanch betonovch kvtin na Palmovce. Tato testovac akce mla za cl zjistit limity a monosti guerillovho zahradnien v mstskm prostoru.

**Kontext a motivace**

V lokalit Palmovka je ada velkch kruhovch nebo tvercovch zhon a kvtin, kter jsou vak lta przdn nebo v nich roste jen plevel a trva, ji komunln technika vdy posek a tm udruje msto mrtv.

Pitom jet v 90. letech pi vzniku p zny Palmovky tam byla vyszena zele. Dodnes lze na Google Street View najt, e v tch betonovch ostrvcch kdysi byly kee nebo stromky. Dnes nic. Palmovka tm psob obzvl nevldn: minimum stnu, dn barva, jen beton.

Motivace: zazelenit a rozveselit Palmovku aspo symbolicky. Zjistit, jak lid zareaguj, kdy se ve "veejnm" kvtini objev kvtiny, ani by to instalovala radnice.

**Postup vsadby**

Zjara jsem v byt pedpstoval asi **120 sazenic**  semena slunenic a popnavky jsem zasel do kelmk od kvy a jinch vyazench ndob (recyklace). Mlad rostlinky jsem pesadil do vtch ndob a po dvou mscch vyrostly do sly, e mohly ven.

S kamardem jsme vytipovali **12 konkrtnch kvtin a zhon** na Palmovce. Den vsadby: za plnho dne, v **reflexnch vestch** (nalezench v kontejneru), s motykou a konv. Transparentn taktika - lid ns pokldali za pracovnky msta a nikdo se nepozastavoval. Naopak jsme dostali pochvalu.

**Interakce a vandalismus**

Po vsadb nastalo nkolik tdn pe. Ukzalo se, e nejvtm neptelem nejsou zahradnci msta, ale samotn lid. Pltky se staly terem kopanc a vandalismu - dti i dospl do nich kopali pro zbavu. Pi kad nvtv jsem nael nkter pltek vyvrcen. Trpliv jsem je obnovoval.

Aktivn zalvn co dva dny - v horkm lt a 10 litr vody z dlky. Pi zalvn dochzelo k pmm interakcm: lid se ptali, vtinou projevili pekvapen a uznn. Ctil jsem, e osobn ptomnost a komunikace um otoit vnmn lid k pozitivnmu.

**Vsledek a spch**

Po dvou mscch peily **ti slunenice** z pvodnch ticeti. Dvody nzkho peit: komunln seki, vandalismus, vyerpan pda.

Ale jedna slunenice doshla asnch **3 metr vky** - byla viditeln z cel Palmovky! Lid se na ni chodili dvat z dlky a stala se dominantou prostoru.

Zajmav fenomn: Postupn si **nkdo odnel kvty dom**. Tm si lid pivlastovali kus t instalace - spontnn interakce s dlem, kterou jsem neplnoval. Instalace se tak stala participativn i v tomto neekanm smru.

**Pouen z testovac intervence 2025**

Prce s ivm materilem ve mst je nron - kvtiny potebuj stlou pi. Pda v betonovch kvtinch je vyerpan, tvrd, neudr vlhkost.

**Pln pro rok 2026 - Pouen z chyb**

Na zklad zkuenost z roku 2025 plnuji v roce 2026 vce klovat projekt s tmito vylepenmi:

 **Vt ndoby** - pout vt cihly/kvtine pro lep rst koen

 **Kvalitn substrt** - sehnat **ernozem z lesa** a dovzt na msto msto vyerpan mstsk hlny

 **Lep pedpst** - vce asu na rst sazenic ped vsadbou

 **klovat nahoru** - cl vysadit **alespo 100 rostlin** msto 30

 **Systematick pstup** - aplikovat pouen z testovac fze

M guerilov akce v roce 2025 splnila symbolick el: ukzala, e by to lo, ale tak pro to vyaduje lep ppravu. Rok 2026 bude o aplikaci tchto poznatk.`,materials:["Semena/sazenice slunenic (120 ks)","Recyklovan kelmky","Hlna","Kravsk hnojivo","Pltky (plastov pletivo)","Reflexn vesty","Motyka, konev"],budget:"~800 K (sazenice, hlna, hnojivo, pltky)",timeline:"Jaro 2025 (pedpstovn)  Lto 2025 (vsadba, pe)",location:"12 betonovch zhon a kvtin na Palmovce",images:[{original:"/FAMU/projects/slunecnice/IMG_4417.jpeg",thumbnail:"/FAMU/projects/slunecnice/IMG_4417.jpeg",description:"Slunenice na Palmovce - vsadba"},{original:"/FAMU/projects/slunecnice/IMG_4421.jpeg",thumbnail:"/FAMU/projects/slunecnice/IMG_4421.jpeg",description:"Slunenice rostou v betonovm prostoru"},{original:"/FAMU/projects/slunecnice/IMG_4702.jpeg",thumbnail:"/FAMU/projects/slunecnice/IMG_4702.jpeg",description:"Rozkvetl slunenice na Palmovce"}]},{title:"Parklety",subtitle:"Mobili / Tactical Urbanism",icon:"",color:"orange",description:"Doasn pemna parkovacch mst na prostor pro setkvn - kompletn obvac pokoj pod irm nebem",artist:"Martin Tomek",status:"V plnu",details:["Devn palety","Komunitn nmst","Reversibiln","Obvk venku"],fullDescription:`**Parklet a komunitn mikronmst**

Palmovce chyb pjemn veejn prostor k posezen a setkvn  nco jako mal nmst, kter by nebylo jen tranzitn. Identifikoval jsem msto ped pobokou Komern banky, kde je irok chodnk a asfaltov plocha, dnes vyuvan jen pro rychl prchod. Antropologick vzkum zmioval, e by zde lo vytvoit odpoinkovou znu. Rozhodl jsem se tedy naplnovat jednodenn akci ve form parkletu neboli doasnho parku.

**Realizace**

Realizace by spovala v tom, e bych na jeden den obsadil" pr parkovacch mst nebo kus asfaltov plochy a vybavil ji doasnm mobiliem: pinesu tam sv paletov laviky, stoly, nkolik velkch kvtin s rostlinami (pjench i vyrobench), ppadn detnky pro stn. Pozvu mstn komunitu, aby se zastavila  mohu zajistit konvici s ajem nebo drobn oberstven. Mohla by tam probhnout i mini vstava fotek Palmovka vera a dnes" pro oiven debaty.

**Cl experimentu**

Clem je na vlastn oi vidt, jak lid reaguj, kdy najednou maj monost se v mst zastavit. Sednou si a zanou si povdat? Ignoruj to? Pijdou teenagei, senioi, rodiny? Takov jednodenn experiment mi umon zmit zjem  mohu spotat astnky, sbrat jejich nzory (umstm napklad nstnku s papry Co byste zde rdi natrvalo?").

**Veejn prezentace projektu**

Zrove to bude veejn prezentace m dosavadn prce v praxi: mohu tam vystavit plakty dokumentujc pedchoz men zsahy, poutt z projektoru krtk zbry film, kter jsem natoil pi intervencch, atd. Bude to takov iv galerie a frum v jednom. Pokud se akce povede, mohu ji opakovat teba kad jaro a tm budovat tradici.

**Mobili**

 **Laviky z palet** - sedac prostor pro 4-6 lid

 **Stolek** - centrln bod, monost na kvu/knihu

 **Koberec** - definuje prostor, pidv domc atmosfru

 **Kvtin s kvtinami** - pin zele a ivot do betonu

 **Polte** - komfort a barva

 **Detnky** - stn v horkm poas

 **Nstnka** - sbr nzor komunity

 **Projektor** - prezentace dokumentace

**Cl projektu**

Ukzat potencil mstskho prostoru a vyvolat debatu o prioritch ve veejnm prostoru. Zmit zjem komunity o trval komunitn nmst.

**asov harmonogram**

 **Jaro 2026** - Sbr palet, pprava materil

 **Lto 2026** - Jednodenn akce parklet

Ideln pro tepl poas, kdy lid trv as venku.`,materials:["Devn EURO palety (6-8 ks)","Venkovn koberec","Mal stolek","Polte/sedky","Kvtin + rostliny","Detnky","Nstnka + papry","Projektor","aj/oberstven","Vstavn plakty","Nad (roubovk, bruska)"],budget:"~3000-4000 K (palety zdarma, materily, rostliny, oberstven)",timeline:"Jaro-Lto 2026 (pprava)  1 den (akce)  mon opakovn",location:"Ped pobokou Komern banky na Palmovce - irok chodnk a asfaltov plocha",images:[]},{title:"Kdov Game Jam",subtitle:"Interaktivn hra",icon:"",color:"purple",description:"Spoluprce s Hern katedrou FAMU - venkovn interaktivn instalace a poulin hry",artist:"Martin Tomek + Game Design FAMU",status:"V pprav",details:["Festival Closur","Mezioborov spoluprce","Hernost ve veejnm prostoru","Kdov hry"],fullDescription:`**Kdov hry a pank" na asfaltu - Inspirace pro Game Jam**

V mnoha vnitroblocch a sdlitch se nachzej rozlehl asfaltov plochy, kter dnes nemaj dn vyuit. Dve na nich stvaly prolzaky, pskovit i jin dtsk prvky, nebo slouily jako plcky pro mov hry. Postupnou modernizac" a mon i kvli bezpenostnm normm vak spousta tchto plck zanikla, prolzaky byly odvezeny, a zbyl jen hol asfalt, kter se v lt rozpaluje a v zim kloue.

Dospl ho obchzej, dti nemaj dvod tam jt. Motivac m intervence bylo ukzat, e i takov msto lze vrtit do hry  doslova. Chtl jsem zrove protestovat proti zbytenmu odnmn funknosti prostoru (nkdy msto instaluje teba automobilov ztarasy bez ohledu na chodce, m de facto znemon pohyb i hru na sti chodnku).

**Proveden**

Proveden bylo prost: opatil jsem si dtsk poulin kdy a nakreslil na vybran plochy klasick hry, jako je **skkac pank**, **slalomov opi drha** i **obrysy fotbalovch branek**. V jednom ppad lo o msto, kde byly zmnn lut betonov ztarasy  kolem nich jsem kdou vyznail cestu a panka, aby se to nehrateln" msto paradoxn stalo hitm.

Vhodou kdy je, e je doasn a nikomu trvale nevad, zrove je ale dost vrazn, aby upoutala pozornost.

**Vsledek byl okamit**

Jet ne kda podn zaschla, dti z blzkho domu si toho vimly a zaaly si hrt. V jednom vnitrobloku ke mn dokonce dobhly a s radost mi podkovaly, e jsem jim tam udlal hit". Jeden tatnek mi potsl rukou  byl pekvapen, e nkdo z vlastn iniciativy oivuje prostor pro dti.

Tyto reakce byly veskrze pozitivn. Hra nakreslen na zemi je nco natolik nevinnho a apolitickho, e ji pijali vichni  vlastn jsem poprv poctil jednohlasn souhlas okol. Nikdo si nestoval, e by pank vadil; naopak se brzy vedle objevily dal kdov kresby od dt, kter dostaly chu tvoit tak.

Ukzalo se tak, e **dti jsou skvlmi spojenci v oivovn prostoru**  maj pirozenou touhu promovat prosted hrou, jen k tomu asto nedostvaj pleitost.

**Badatelsk zjem a vzva**

Tato intervence vyvolala i mj vlastn badatelsk zjem. Zaal jsem se zajmat, jak hry na chodnk i asfalt existuj, a objevil jsem iniciativy vnujc se tto tmatice. Napklad projekt **Hry na chodnk"** nabz sady ablon a realizuje hern malby pro obce, dokonce pod dtsk dny, kde u dti mn znm hry (nap. rzn varianty skkn panka, bludit atd.).

To m inspirovalo a zrove upozornilo na vzvu: mnoho her nakreslench na zemi je pro neznal tko pochopitelnch. Dospl, kter nezn pravidla, asto netu, jak se dan hra hraje, pokud mu to nkdo nevysvtl. Profesionln projekty to e organizovan  nap. formou sout a instrukte pro dti. Guerrillov umlec jako j ale takov zzem nem; nemohu u kad kresby stt a vysvtlovat pravidla.

**Pln Game Jamu**

Napadlo m tedy spojit se s kamardem hernm designrem a vymyslet pln novou hru na chodnk, kter by byla intuitivn a srozumiteln na prvn pohled, bez poteby vysvtlen. Rsuje se tu pln uspodat **mal game jam** ve spoluprci s **katedrou hernho designu**, jeho zadnm by bylo vytvoit jednoduchou poulin hru pro kdu. Ideln takovou, kterou si me nakreslit kdokoliv ped domem a kter bude zrove bavit dti i dospl.

To by byl krsn pklad, jak umn, hra a design splynou s komunitn prax.

**Mezioborov spoluprce**

Mezioborov spoluprce s Katedrou hernho designu FAMU. Jednodenn game jam zamen na tvorbu her a interaktivnch instalac ve veejnm prostoru. Propojen hernch princip s guerillovm umnm. Vlastn spontnn kdov zsahy tedy povauji za velmi spn  rozhbaly jinak mrtv asfalt a nastartovaly vt vahy o hernm vyuit veejnho prostoru.`,materials:["Kdy rznch barev","ablony (voliteln)","Interaktivn prvky","Dokumentan technika"],budget:"~1000 K",timeline:"1 den (game jam) + pprava + dokumentace",location:"Palmovka, mon festival Closur",images:[],partner:"Michal z Hernho designu FAMU",inspiration:{name:"Hry na chodnk",description:"Projekt vnujc se poulinm hrm a hernm malbm"}},{title:"Interaktivn kamerov hra",subtitle:"Game Design x Veejn prostor",icon:"",color:"purple",description:"Spoluprce s game designem na vytvoen interaktivn hry s kamerou. Tmata: internetov bezpenost a veejn prostor.",artist:"Martin Tomek",status:"V plnu",details:["Computer vision","Interaktivn instalace","Edukace hrou"],fullDescription:"Mezioborov spoluprce s Katedrou hernho designu FAMU na vytvoen interaktivn hry vyuvajc kameru a computer vision. Hra bude instalovna ve veejnm prostoru a zam se na tmata jako internetov bezpenost, soukrom ve veejnm prostoru, nebo sledovn a datov stopa. Hern mechaniky pomohou lidem zitkov pochopit digitln tmata v offline prosted.",materials:["Webkamera/tablet","Display/projekce","Pota/Raspberry Pi","Software (Processing, Unity, web)","Ochrann kryt"],budget:"~5000 K (technika, vroba, instalace)",timeline:"2-3 msce (design, prototyping, testovn, instalace)",location:"Palmovka - frekventovan msto, mon ekrna/zastvka",images:[],partner:"Katedra hernho designu FAMU"}],OA=[{title:"Detournement - Boj s reklamou",subtitle:"Guerilla Art / Reclaiming Public Space",icon:"",color:"pink",description:"Pelepovn neleglnch reklam umleckmi zsahy. Autorsk reakce na vizuln smog a reclaiming public space.",artist:"Ptek",status:"Probh",details:["Subvertising","Kritick umn","Anonymn akce","Reclaiming space"],fullDescription:`Systematick prce s reklamnm prostorem na Palmovce jako forma kritickho umn a "reclaiming public space".

Metodologie:

1. **Mapping neleglnch reklam** - Kompletn kontrola Palmovky a identifikace vech neleglnch reklam (bez povolen)

2. **Odstrann neleglnch reklam** - 100% odstrann identifikovanch neleglnch reklam (legln akce)

3. **Prce s reklamnmi rmy** - Hackovn leglnch reklamnch sloup a billboard:
    Pouit reklamy jako rmu pro umn
    Subvertising - petvoen reklamnho sdlen
    Detournement - odklon vznamu reklamy
    Instalace vlastnch dl do przdnch rm

4. **Reclaiming Public Space** - Symbolick znovudobyt veejnho prostoru od komernho vyuit zpt pro komunitu a umn.

Inspirovno prac @oxpostertime - umleck intervence v mstskm prostoru, kter vyuvaj reklamn infrastrukturu jako mdium pro kritick umn.`,materials:["Vlastn tisky/plakty","Lepidlo na plakty","Ochrann vrstva (lak)","Dokumentan fotoapart","Rukavice"],budget:"~500-1000 K (tisk, materily)",timeline:"Prbn - mapping 1 tden, intervence opakovan",location:"Palmovka - reklamn sloupy, billboardy, nelegln plochy",images:[],inspiration:{name:"@oxpostertime",url:"https://www.instagram.com/oxpostertime/",description:"Umleck posters ve veejnm prostoru",instagram:"https://www.instagram.com/oxpostertime/"}},{title:"Street Art - Obrazy v ulicch",subtitle:"Guerilla Art",icon:"",color:"blue",description:"Lepn autorskch tisk, grafik a obraz na rznch materilech do mstskho prostoru",artist:"Ptek",status:"Probh",details:["Rzn techniky","Spontnn instalace","Mstsk galerie"],fullDescription:`Guerillov lepen autorskch tisk, grafik a obraz na rznch materilech do mstskho prostoru. Pemna edch stn a przdnch ploch na venkovn galerii dostupnou vem.

Cl: Oivit mstsk prostor umnm, vytvoit neoficiln veejnou galerii a pinst umn tam, kde se ho lid nenadj.`,materials:["Vlastn tisky/grafiky","Lepidlo na plakty","Ochrann vrstva","Rzn papry a materily"],budget:"~300-500 K (tisk, materily)",timeline:"Prbn - spontnn instalace",location:"Palmovka a okol - przdn plochy, stny, vvsky",images:[{original:"/FAMU/projects/streetart/IMG_4740.jpeg",thumbnail:"/FAMU/projects/streetart/IMG_4740.jpeg",description:"Street art instalace v Palmovce"}]},{title:"Guerillov galerie",subtitle:"Guerilla Art",icon:"",color:"teal",description:"Vlep umleckch dl do przdnch mstskch rm, vvsek a przdnch ploch",artist:"Ptek + dal umlci",status:"Probh",details:["Przdn plochy","Kolektivn akce","Neoficiln galerie","Experiment s viditelnost"],fullDescription:`**Guerillov galerie v ulici**

Dal intervenc, kter probhla zejmna v okol Kolbenky, je vytven improvizovan poulin galerie v mstech, je kdysi slouila k informovn veejnosti, ale dnes zej przdnotou. Mnoho zastvek MHD m napklad rmy na vvsky pro ppad nhradn autobusov dopravy  pokud se ale dlouho dn vluka nekonala, zstv v rmech przdn bl papr nebo nic. Podobn na nkterch zdech vis oputn nstnky i tabule, kam se kdysi vyvovaly teba obvodov informace, ale dnes u je nikdo neaktualizuje.

**Motivace**

Motivace pro tuto akci byla dvoj: jednak opt oivit zanedban prvek prostoru (przdn rm), jednak pmo vystavit umn mimo galerie a sledovat, jak m publikum.

**Realizace**

Realizace probhala tak, e jsem si pipravil nkolik vlastnch grafickch tisk a tak vybral pr dl od svch ptel (grafiky, fotografie), kte souhlasili s takovou guerrillovou vstavou". Tyto vtisky formtu A3 i A2 jsem v noci nebo asn rno vylepil do vybranch rm a na plochy, kde nic nebylo  typicky dovnit przdn informan tabule na zastvce, nebo na ze vedle legln vvsky. Dval jsem si pozor, abych nezakrval dn oficiln oznmen  spe lo o msta, je byla przdn nebo vyuit naerno.

Tak vznikla mal venkovn galerie: obrazy v ulici, kter denn mjely destky lid. Zvl m zajmalo msto hned vedle znm galerie Pragovka  tamn run ulice sice vede kolem oficiln galerie, ale vtina lid dovnit nezavt. Napadlo m, kolik kolemjdoucch uvid mj plakt na lamp ve srovnn s tm, kolik jich za stejn den projde dvemi galerie o pr metr vedle.

**Reakce a pozorovn**

Reakce na guerillovou galerii byly smen a poun. Nkter vvsn rmy s mmi plakty zstaly nedoten i nkolik tdn, zejm nikomu nevadily, mon si jich mnoz ani nevimli. Jin ale zmizely pekvapiv rychle. Napklad plakt v rmeku nhradn autobusov dopravy vis dodnes. Kdy jsem ho vak pidal i na oficiln informan msta, zmizel prakticky okamit, spolen se starmi letky, take jsem tm paradoxn prostor vyistil".

**Komern vs. nekomern prostor**

Jet vraznj bylo zjitn u plaktu, kter jsem nalepil na reklamn sloup typu citylight. Dal jsem ho zven na sklo sloupu, vedle velkho billboardu, ale tak, abych nezakrval placenou reklamu, a mj plakt visel na okraji, kde dve stejn byla jin nelegln nlepka. Bhem dvou dn byl pry, zatmco podobn nlepky na pilehl zdi zstaly.

Vyvodil jsem z toho, e tam, kde jde o potenciln zisk a plochy uren k reklam, je jakkoli cizorod prvek promptn odstraovn. Naopak v ed zn na zdech a sloupech mimo oficiln plochy mohou m vtvory pet dle, protoe nikoho neohrouj" finann. Je to takov paradox: poulin umn v nekomernm prostoru pli nevzbuzuje pozornost, ani pozitivn, ani negativn, a me se tam uchytit, zatmco v prostoru komernm, kontrolovanm reklamnmi firmami, je vnmno tm jako naruen podku a rychle likvidovno.

**Poznatky**

Pro m tento experiment byl cenn. **Viditelnost vs. trvalost:** m exponovanj a viditelnj msto (reklamn sloup na hlavn td), tm rychlej zsah a odstrann; na skrytjm mst mohl obraz tie psobit na kolemjdouc dle. Nedoku pesn zmit, kolik lid si obrzk vimlo a co si pomysleli  snad to budu moci sten zjistit budoucm dotazovnm kolemjdoucch nebo pomoc stac kamery.

Ale u te mohu ct, e **ulice jako galerie funguje:** obrazy venku reln oslov nsobn vce nhodnch divk ne v uzaven galerii, i kdy jen letmo a bez kontextu. Otzkou zstv jejich vnmn  kolik lid je skuten zaregistruje v zplav jinch podnt.

**Budouc plny**

Tahle intervence mi kadopdn pomohla identifikovat nov vhodn msta (dal przdn rmy ekajc na vyuit) a tak slab msta (tam, kde hroz rychl cenzura). Do budoucna urit s konceptem guerrillov galerie potm, mon i ve vtm mtku: doku si pedstavit celou ulici promnnou v otevenou galerii s reprodukcemi umn na kadm druhm sloupu, kter by aspo sten neutralizovala tu nekonenou asfaltovou a reklamn edi.

**Kolektivn akce**

Projekt je oteven pro dal umlce a kreativce, kte chtj pispt svmi dly do veejnho prostoru.`,materials:["Vlastn tisky/grafiky (A2, A3)","Dla od ptel umlc","Lepidlo na plakty","Ochrann vrstva"],budget:"~200-500 K (tisk, materily)",timeline:"Prbn - non/rann instalace",location:"Okol Kolbenky, Palmovka, przdn rmy MHD, vvsky, zdi",images:[]},{title:"Houpaka na zapomenutm suku",subtitle:"Guerilla Art / Aktivace prostoru",icon:"",color:"cyan",description:"Instalace houpaky na oputnm kovov suku ve vnitrobloku - intervence kter motivovala obyvatele k trval promn msta",artist:"Ptek",status:"Realizovno",details:["Prvn intervence","Komunitn odezva","DIY","Trval efekt"],fullDescription:`**Kontext a motivace**

Jednm z prvnch zsah byla instalace houpaky ve vnitrobloku libeskho sdlit, na konstrukci starch kovovch suk na prdlo. Tyto suky  typick relikt z dob socialismu  u dnes obyvatel nevyuvali; stly oputn na travnat ploe, kterou nikdo nepovaoval za hit i msto k trven asu.

Napadlo m propjit jim nov smysl. Motivac bylo ukzat, e i zdnliv mrtv prvek me znovu ot a pinst radost, pokud se zmn hel pohledu. Zrove m zajmalo, jak lid zareaguj: zda houpaku pijmou, ignoruj, i odmtnou.

**Realizace - DIY pstup**

Realizace probhla svpomoc z dostupnch materil:

 Z odloen **devn palety** (nalezen u kontejneru) jsem pomoc pidla a pily vyrobil pevn prkno na sezen

 Ve jsem obrousil a natel pro del ivotnost

 Zakoupil jsem dostaten dlouh pevn lano

 Musel jsem se nauit **sprvn uzly** pro bezpen zaven - osobn posun, protoe pedtm jsem vzat uzly neuml

Houpaku jsem instaloval za vkendovho podveera: lano jsme uvzali na vodorovnou ty suku. **Prvn pokus ukzal chybu** - lano bylo pli krtk, sedtko viselo dost vysoko. Ne jsem stihl sehnat del, nechal jsem provizorn houpaku na mst.

**Spontnn komunitn reakce**

Bhem dvou dn se stalo nco pozoruhodnho: **nkdo z mstnch houpaku okamit pouil a dokonce poopravil jej zaven**, aby se na n dalo lpe houpat. Jinmi slovy, prostor zaal t: anonymn uivatel nejen akceptoval mj zsah, ale aktivn ho vylepil.

Jakmile to bylo mon, podil jsem del lano, vrtil se na msto a houpaku znovu zavsil, tentokrt u podn. Houpaka pot plnila svou funkci po nkolik tdn. **Dti z okol ji pouvaly, dospl ji tolerovali.**

Intervence splnila cl:
 Upozornila na nevyuit suk
 Nabdla kolemjdoucm neekanou atrakci
 Otevela otzku, pro podobn prvky vymizely

**Trval promna msta**

Po del dob jsem se na msto vrtil a ekalo m **mil pekvapen**:

 Cel kovov mobili suk byl **obrouen a nov naten**

 Zsah oividn motivoval obyvatele i sprvce, aby prosted zvelebili

 Na konstrukci se objevilo **nov lanko na prdlo**, kter tam dve nebylo

 Suky znovu slou svmu pvodnmu elu

 Moji provizorn houpaku nkdo **etrn odloil vedle** msto aby ji vyhodil

**Reflexe a spch**

Toto finle povauji za **velk spch**: pvodn nevyuvan msto nezskalo jen doasnou atrakci, ale dokalo se trvalej promny a drby.

M intervence tak otevela oi mstnm, e i star suk me mt smysl  a oni ho sami vzali za vlastn, pevzali iniciativu. Lep vsledek jsem si nemohl pt.

Odloenou devnou houpaku mm nyn u sebe a pemlm, kam ji zavsm pt, aby opt rozproudila ivot jinde.`,materials:["Devn paleta (nalezen)","Pevn lano","Pidlo, pila","Brusn papr","Ntr/lak","Uzly (nov dovednost)"],budget:"~200 K (lano, ntr)",timeline:"Vkend (instalace)  Nkolik tdn (pouvn)  Trval promna",location:"Vnitroblok libeskho sdlit, kovov suky",images:[{original:"/FAMU/projects/houpacka/IMG_2332.png",thumbnail:"/FAMU/projects/houpacka/IMG_2332.png",description:"Kovov suky ve vnitrobloku - msto instalace houpaky"}]},{title:"Doasn solrn svtla",subtitle:"Guerilla Art / Tactical Urbanism",icon:"",color:"yellow",description:"Instalace recyklovanch LED svtel na tmav msta - kritika konzumn kultury a zlepen bezpenosti",artist:"Ptek",status:"V pprav",details:["Recyklace bateri","Bezpenost","Ekologick aktivismus","DIY elektronika"],fullDescription:`**Doasn solrn svtla**

Dalm pipravovanm projektem reagujcm na konkrtn problm Palmovky je instalace doasnch poulinch svtel na tmav msta. Nkter podchody, vchody do metra nebo zkout jsou nedostaten osvtlen, co sniuje pocit bezpe. Zrove jsem si viml ekologickho paradoxu: objevily se jednorzov elektronick cigarety, kter obsahuj mal Li-ion akumultory, ale po jednom pouit se vyhazuj. Tyto baterie lze pitom snadno vyjmout a znovu vyut.

**Troj motivace**

Motivace je tedy troj:

1. **Zlepit bezpenost a orientaci** v nonm prostoru

2. **Prakticky demonstrovat monosti recyklace** elektronickho odpadu

3. **Kriticky poukzat na absurditu konzumn kultury**, kter vyhazuje funkn baterie po jedinm pouit

**Realizace**

Plnuji sestrojit jednoduch LED lampiky napjen bu solrnm panelem a bateri, nebo jen bateri nabjec (kterou bych nabjel run jednou za as). Tyto lampy umstm na msta, kde chyb svtlo  napklad ke schodm u vstupu z metra Palmovka, nebo u zastvky tramvaje. Svtlo bude slab ne veejn osvtlen, spe orientan, ale i to me pomoci.

Ke svtlu umstm malou cedulku nebo QR kd s vysvtlenm projektu: e jde o recyklovan baterie a doasn een, kter upozoruje na problm (tmu v mst a pltvn zdroji).

**Oekvan dopad - Dv roviny**

**1. Praktick rovina:**

Lid chodc tudy veer si mon s levou vimnou, e nkdo to tu nasvtil"  a teba to pimje odpovdn initele k trvalmu een, kdy uvid zjem.

**2. Environmentln rovina:**

Ti, kdo prozkoumaj cedulku, se dozvd o environmentlnm aspektu: e jejich elektronick cigareta mohla teba svtit jet dl slouit, msto aby skonila na skldce.

**Aktivismus + Praktinost**

Projekt je tedy lehce aktivistick (kritika korporac prodvajcch jednorzov baterie) a zrove praktick. Samozejm budu opt sledovat ivotnost  jak dlouho lampy vydr, ne je nkdo ukradne i pokod, nebo ne se vybije baterie. To ve zapu a pouiji jako argumenty, pro i pro ne takov vci dlat v oficilnm mtku.

**Recyklace jednorzovch cigaret**

Jednorzov elektronick cigarety obsahuj:

 **Li-ion akumultory** - pln funkn baterie

 **LED diody** - vyuiteln pro svtla

 **Elektronick komponenty** - monost dalho vyuit

Vechny tyto komponenty kon na skldce po jedinm pouit - absurdn pltvn zdroji.

**Sledovn a dokumentace**

 Jak dlouho lampy vydr?

 Budou ukradeny nebo pokozeny?

 Jak asto je teba nabjet baterie?

 Vimnou si lid? Zmn to jejich chovn?

 Zareaguj odpovdn orgny?`,materials:["Recyklovan Li-ion baterie (z e-cigaret)","LED diody","Solrn panely (mal)","Vododoln krabiky","Nabjec obvody","Cedulky/QR kdy","Montn materil"],budget:"~500-1000 K (solrn panely, krabiky, komponenty)",timeline:"Zima 2025-2026 (stavba)  Jaro 2026 (instalace)  Sledovn",location:"Tmav msta na Palmovce - schody u metra, zastvky tramvaje, podchody",images:[]}];function m7(){const[t,e]=M.useState(null);return M.useEffect(()=>{const n=s=>{s.key==="Escape"&&t&&e(null)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t]),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl shadow-xl border-2 border-purple-300 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:" O typech intervenc"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-blue-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-3xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:"OFICILN projekty"}),o.jsxs("p",{className:"text-gray-700 mb-2",children:["Veejn podepsan intervence pod ",o.jsx("strong",{children:"relnm jmnem Martin Tomek"}),". Tyto projekty jsou transparentn, zamen na urbnn mobili, komunitn aktivity a hern instalace. Clem je pozitivn zmna prostoru s monost oficiln spoluprce s mstem."]}),o.jsx("p",{className:"text-sm text-gray-600 italic",children:"Pklady: Hlasovac popelnky, Betonov laviky, Parklety, Kdov Game Jam"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-pink-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-3xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"GUERILLA ART projekty"}),o.jsxs("p",{className:"text-gray-700 mb-2",children:["Neoficiln intervence pod ",o.jsx("strong",{children:'pseudonymem "Ptek"'}),". Tyto akce jsou anonymn, spontnn a asto kritick vi souasnmu stavu veejnho prostoru. Guerilla art umouje svobodnj vyjden bez nutnosti oficilnch povolen."]}),o.jsx("p",{className:"text-sm text-gray-600 italic",children:"Pklady: Detournement reklam, Street Art, Guerillov galerie, Houpaka, Solrn svtla"})]})]})}),o.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("strong",{children:"Pro dva pstupy?"})," Oficiln projekty umouj legln spoluprci a trval zmny. Guerilla art poskytuje svobodu experimentovat, kritizovat a reagovat rychle bez byrokratickch pekek. Oba pstupy se vzjemn dopluj a spolen tvo komplexn pohled na monosti intervenc ve veejnm prostoru."]})})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold",children:"OFICILN"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Podpis: Martin Tomek"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Mobili & Oficiln intervence"}),o.jsx("p",{className:"text-gray-600",children:"Veejn podepsan projekty zamen na urbnn mobili, komunitn aktivity a hern instalace"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:PA.map((n,s)=>o.jsxs("div",{onClick:()=>e(n),className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-blue-300 hover:shadow-xl transition-all cursor-pointer hover:scale-105",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"text-5xl",children:n.icon}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${n.status==="Realizovno"?"bg-green-200 text-green-800":n.status==="Probh"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:n.status})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:n.title}),o.jsx("p",{className:"text-sm text-blue-600 font-semibold mb-3",children:n.subtitle}),o.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),o.jsxs("div",{className:"border-t border-blue-200 pt-3",children:[o.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:"KLOV PRVKY:"}),o.jsx("ul",{className:"space-y-1",children:n.details.map((a,c)=>o.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),a]},c))})]}),n.timeline&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[o.jsx("p",{className:"text-xs font-bold text-gray-500 mb-1",children:" TIMELINE:"}),o.jsx("p",{className:"text-xs text-gray-700",children:n.timeline})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:o.jsxs("p",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-semibold",children:"Autor:"})," ",n.artist]})})]},s))})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold",children:"GUERILLA ART"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Pseudonym: Ptek"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Neoficiln street art & detournement"}),o.jsx("p",{className:"text-gray-600",children:"Anonymn intervence kritizujc vizuln smog a obohacujc mstsk prostor o umn"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:OA.map((n,s)=>o.jsxs("div",{onClick:()=>e(n),className:"bg-gradient-to-br from-red-50 to-pink-50 rounded-xl p-6 border-2 border-red-300 hover:shadow-xl transition-all cursor-pointer hover:scale-105",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"text-5xl",children:n.icon}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${n.status==="Realizovno"?"bg-green-200 text-green-800":n.status==="Probh"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:n.status})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:n.title}),o.jsx("p",{className:"text-sm text-red-600 font-semibold mb-3",children:n.subtitle}),o.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),o.jsxs("div",{className:"border-t border-red-200 pt-3",children:[o.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:"CHARAKTERISTIKY:"}),o.jsx("ul",{className:"space-y-1",children:n.details.map((a,c)=>o.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),a]},c))})]}),n.timeline&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200",children:[o.jsx("p",{className:"text-xs font-bold text-gray-500 mb-1",children:" TIMELINE:"}),o.jsx("p",{className:"text-xs text-gray-700",children:n.timeline})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-red-200",children:o.jsxs("p",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-semibold",children:"Street artist:"})," ",n.artist]})})]},s))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl shadow-xl p-6 text-white",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:" Rozdlen projektu"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-blue-300 mb-2",children:" OFICILN (Martin Tomek)"}),o.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[o.jsx("li",{children:" Veejn podepsan projekty"}),o.jsx("li",{children:" Urbnn mobili"}),o.jsx("li",{children:" Komunitn aktivity"}),o.jsx("li",{children:" Spoluprce s institucemi"}),o.jsx("li",{children:" Legln intervence"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-red-300 mb-2",children:" GUERILLA ART (Ptek)"}),o.jsxs("ul",{className:"text-sm space-y-1 text-gray-300",children:[o.jsx("li",{children:" Anonymn pseudonym"}),o.jsx("li",{children:" Boj s reklamou & detournement"}),o.jsx("li",{children:" Street art & lepen obraz"}),o.jsx("li",{children:" Kritick umn"}),o.jsx("li",{children:" Spontnn akce"})]})]})]})]}),t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center p-4 overflow-y-auto",onClick:n=>{n.target===n.currentTarget&&e(null)},children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-teal-600 to-cyan-600 text-white p-6 flex items-start justify-between rounded-t-2xl",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-6xl mb-3",children:t.icon}),o.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.title}),o.jsx("p",{className:"text-cyan-100",children:t.subtitle})]}),o.jsx("button",{onClick:()=>e(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(uc,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${t.status==="Realizovno"?"bg-green-200 text-green-800":t.status==="Probh"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:t.status}),o.jsxs("span",{className:"text-gray-600",children:[o.jsx("span",{className:"font-semibold",children:"Autor:"})," ",t.artist]})]}),t.fullDescription?o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" Popis projektu"}),o.jsx("div",{className:"text-gray-700 leading-relaxed space-y-3",children:t.fullDescription.split(`

`).map((n,s)=>n.trim().startsWith("")?o.jsx("ul",{className:"list-disc list-inside space-y-1 ml-4",children:n.split(`
`).filter(a=>a.trim()).map((a,c)=>o.jsx("li",{className:"text-gray-700",children:a.replace("","").trim().split("**").map((u,h)=>h%2===1?o.jsx("strong",{children:u},h):u)},c))},s):o.jsx("p",{className:"text-gray-700",children:n.split("**").map((a,c)=>c%2===1?o.jsx("strong",{className:"font-semibold text-gray-900",children:a},c):a)},s))})]}):o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" Popis projektu"}),o.jsx("p",{className:"text-gray-600 italic",children:"Detailn popis bude doplnn."})]}),t.videoUrl&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:" Video dokumentace"}),o.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-black",children:o.jsx("iframe",{width:"100%",height:"100%",src:t.videoUrl.replace("youtu.be/","youtube.com/embed/").split("?")[0],title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),o.jsxs("a",{href:t.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 text-teal-600 hover:text-teal-700 font-medium",children:[o.jsx(Vu,{className:"w-4 h-4"}),"Otevt na YouTube"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.materials&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:" Materily"}),o.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:t.materials.map((n,s)=>o.jsxs("li",{children:[" ",n]},s))})]}),t.budget&&o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-2",children:" Rozpoet"}),o.jsx("p",{className:"text-gray-700",children:t.budget})]}),t.timeline&&o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-2",children:" asov pln"}),o.jsx("p",{className:"text-gray-700",children:t.timeline})]}),t.location&&o.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-orange-900 mb-2",children:" Lokalita"}),o.jsx("p",{className:"text-gray-700",children:t.location})]})]}),t.partner&&o.jsxs("div",{className:"bg-teal-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-teal-900 mb-2",children:" Spoluprce"}),o.jsx("p",{className:"text-gray-700",children:t.partner})]}),t.inspiration&&o.jsxs("div",{className:"bg-pink-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-2",children:" Inspirace"}),o.jsxs("a",{href:t.inspiration.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-pink-700 hover:text-pink-900 transition-colors",children:[o.jsx("span",{className:"font-medium",children:t.inspiration.name}),o.jsx(Vu,{className:"w-4 h-4"})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.inspiration.description})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:" Klov prvky"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.details.map((n,s)=>o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx("span",{className:"w-2 h-2 bg-teal-500 rounded-full"}),n]},s))})]}),t.images&&t.images.length>0?o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Fotodokumentace"}),o.jsxs("div",{className:"rounded-xl overflow-hidden border-2 border-gray-200",children:[o.jsx("style",{children:`
                      .image-gallery-thumbnail img {
                        object-fit: cover !important;
                        height: 80px !important;
                      }
                      .image-gallery-image {
                        object-fit: contain !important;
                      }
                    `}),o.jsx(d7,{items:t.images,showPlayButton:!1,showFullscreenButton:!0,showIndex:!0,autoPlay:!1,thumbnailPosition:"bottom"})]})]}):o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-8 text-center border-2 border-purple-200",children:[o.jsx(nS,{className:"w-16 h-16 mx-auto mb-4 text-purple-400"}),o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:" Fotodokumentace"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Fotky budou pidny bhem realizace projektu"})]})]})]})})]})}function p7(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:" Metodologie vzkumu"}),o.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Smen vzkumn design kombinujc kvalitativn a kvantitativn pstupy pro oven dopadu guerillovch intervenc."}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-blue-300 mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:" Cl a vzkumn otzky"}),o.jsxs("div",{className:"bg-white rounded-lg p-5 mb-4",children:[o.jsx("p",{className:"font-bold text-gray-900 mb-2",children:"Hlavn cl:"}),o.jsx("p",{className:"text-gray-700",children:'Ovit, jak drobn nekomern zsahy mn uvn, vnmn a kvalitu pobytu ve neviditelnch" mstech Palmovky a Kolbenky.'})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"font-bold text-blue-900",children:"Klov vzkumn otzky:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-3 items-start",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),o.jsx("p",{className:"text-gray-700",children:"Jak se po intervenci mn chovn a setrvn lid v mst (dwell time, typ aktivit)?"})]}),o.jsxs("div",{className:"flex gap-3 items-start",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),o.jsx("p",{className:"text-gray-700",children:'Jak se promn vnman itelnost" a hodnota msta (sentiment, tmata v komentch)?'})]}),o.jsxs("div",{className:"flex gap-3 items-start",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),o.jsx("p",{className:"text-gray-700",children:"Jak dlouho zsah peije a jak zsahy vyvol (drba, adaptace, odpor)?"})]}),o.jsxs("div",{className:"flex gap-3 items-start",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),o.jsx("p",{className:"text-gray-700",children:"Jak jsou limity/vedlej efekty (vandalismus, komercionalizace, konflikty)?"})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-6 border-2 border-green-300 mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-4",children:" Vzkumn design (Mixed-Methods)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-green-900 mb-2",children:"Kvalitativn:"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[o.jsx("li",{children:" astnick pozorovn"}),o.jsx("li",{children:" Autoetnografie"}),o.jsx("li",{children:" Neformln rozhovory"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-green-900 mb-2",children:"Kvantitativn:"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[o.jsx("li",{children:" Stn prchod/uit"}),o.jsx("li",{children:" Men doby setrvn"}),o.jsx("li",{children:' "Survival time" intervence'}),o.jsx("li",{children:" A/B porovnn mst"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-green-900 mb-2",children:"Typ srovnn:"}),o.jsxs("ul",{className:"text-gray-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"BeforeAfter:"})," ped vs. po zsahu"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold",children:"A/B lokality:"})," 1) msto s intervenc, 2) podobn kontroln msto bez zsahu"]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-300 mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:" Typologie intervenc"}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Pro srovnatelnost  kad typ testovn min. na 2 mstech (replikace)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border-l-4 border-blue-500",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("span",{className:"text-3xl",children:""}),o.jsx("h4",{className:"font-bold text-blue-900 text-lg",children:"1. Mobili"})]}),o.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Urbnn mobili mnc vyuit a komfort prostoru"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Laviky (banny, palety)"}),o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Solrn svtla"}),o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Hlasovac popelnky"}),o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Kvtiny (slunenice)"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border-l-4 border-pink-500",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("span",{className:"text-3xl",children:""}),o.jsx("h4",{className:"font-bold text-pink-900 text-lg",children:"2. Street Art"})]}),o.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Umleck intervence obohacujc mstsk prostor"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Obrazy v ulicch"}),o.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Vpl przdnch ploch"}),o.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Street art sprejem"}),o.jsx("span",{className:"px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-xs font-medium",children:"Guerillov galerie"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border-l-4 border-red-500",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("span",{className:"text-3xl",children:""}),o.jsx("h4",{className:"font-bold text-red-900 text-lg",children:"3. Boj s reklamou (Detournement)"})]}),o.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Kritick reakce na vizuln smog a nelegln reklamy"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Pelepovn reklam"}),o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Subvertising"}),o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Kritick umn"}),o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Anonymn akce (Ptek)"})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 border-2 border-orange-300 mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-orange-900 mb-4",children:' Protokol pedbhempo"'}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5",children:[o.jsx("h4",{className:"font-bold text-orange-900 mb-3 text-lg",children:" PED (T-7 a T-1 dn)"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"Mapovn msta (fotomapa 360, nrt proud pohybu)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"Baseline men (2 60 min v rznch asech): poty prchod, zastaven, aktivity"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:'Mikro-rozhovory s 58 kolemjdoucmi (Co tady dlte? Co vm tu chyb?")'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{className:"text-sm italic",children:"Etika: vyhnout se kodm, nezakrvat oficiln info, bez identifikace osob"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5",children:[o.jsx("h4",{className:"font-bold text-orange-900 mb-3 text-lg",children:" BHEM (den instalace)"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"Veden Intervenn karty: datum, as, materily, nklady, kdo pomhal"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"Foto/video zznam (detail + celek, den/noc)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"3060 min observan okno hned po instalaci"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5",children:[o.jsx("h4",{className:"font-bold text-orange-900 mb-3 text-lg",children:" PO (T+1 a T+21 dn)"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"Opakovan men v 5 fixnch slotech (rzn dny/asy, 3060 min)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:'Evidence "survival time": vandalismus, opravy, adopce komunitou'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"58 neformlnch rozhovor o zmn vnmn msta"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-orange-500",children:""}),o.jsx("span",{children:"A/B srovnn s kontroln lokalitou"})]})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-6 border-2 border-cyan-300",children:[o.jsx("h3",{className:"text-2xl font-bold text-cyan-900 mb-4",children:" Hodnotic ukazatele (KPI)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K1  Aktivace"}),o.jsx("p",{className:"text-sm text-gray-700",children:"+X % zastaven / +X % sezen/hry vs. baseline"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K2  Vydr"}),o.jsx("p",{className:"text-sm text-gray-700",children:"Dny do zsahu/pokozen; komunitn adopce"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K3  istota"}),o.jsx("p",{className:"text-sm text-gray-700",children:"Pokles nedopalk; subjektivn bezpe"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K4  Viditelnost"}),o.jsx("p",{className:"text-sm text-gray-700",children:"Poet interakc; spontnn vylepen"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("p",{className:"font-bold text-cyan-900 mb-1",children:"K5  Penositelnost"}),o.jsx("p",{className:"text-sm text-gray-700",children:"Replikovatelnost na jin lokaci"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Harmonogram (12 tdn)"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"px-3 py-1 bg-teal-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T12"}),o.jsx("p",{className:"text-gray-700 flex-1",children:"Vbr mst, baseline men, pprava materil"})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"px-3 py-1 bg-blue-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T38"}),o.jsx("p",{className:"text-gray-700 flex-1",children:"Instalace 57 intervenc (po 1 tdnu), prbn men"})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"px-3 py-1 bg-purple-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T910"}),o.jsx("p",{className:"text-gray-700 flex-1",children:"Doplkov rozhovory, A/B validace"})]}),o.jsxs("div",{className:"flex gap-4 items-start",children:[o.jsx("div",{className:"px-3 py-1 bg-green-600 text-white rounded-lg font-bold text-sm min-w-[80px] text-center",children:"T1112"}),o.jsx("p",{className:"text-gray-700 flex-1",children:"Analza, syntza, komunitn prezentace, metodick zprva"})]})]})]})]})}function g7(){return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Hlavn vstupy projektu"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Ti hlavn pile vzkumu a umleck tvorby"}),o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-8 border-2 border-blue-500 mb-6",children:o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-lg flex items-center justify-center",children:o.jsx(sS,{className:"w-12 h-12 text-white"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-2",children:"1. Zdokumentovan intervence"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Kompletn dokumentace vech realizovanch guerillovch intervenc ve veejnm prostoru."}),o.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Obsah:"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Fotodokumentace:"})," Ped/bhem/po zbry vech intervenc"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Proces:"})," Popis realizace, materily, asov osa"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Reakce:"})," Komunitn odezva, adopce, zmny"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Men:"})," Dwell time, survival time, vyuit prostoru"]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Slunenice"}),o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Parklety"}),o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Hlasovac popelnky"}),o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Banny"}),o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Game Jam"})]})]})]})}),o.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-8 border-2 border-red-500 mb-6",children:o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-20 h-20 bg-red-500 rounded-lg flex items-center justify-center",children:o.jsx(tS,{className:"w-12 h-12 text-white"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold text-red-900 mb-2",children:"2. Experimentln dokumentrn film"}),o.jsx("p",{className:"text-lg text-gray-700 mb-3",children:"Dlka: 2030 minut"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Observan a participan dokumentrn film zachycujc lidi, atmosfru a promny veejnho prostoru."}),o.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Filmov techniky:"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"8mm film:"})," Poetick a nostalgick pase"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"VHS:"})," Zrnit textura a dokumentrn autenticita"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Digitl:"})," Pesn zznam procesu a reakc"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Animace:"})," Introspektivn roviny a metafory"]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Pstup:"}),o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("strong",{children:"Observan:"})," Sledovn komunitnch reakc bez ovlivovn",o.jsx("br",{}),o.jsx("strong",{children:"Participan:"})," Aktivn zapojen do intervenc, reflexe vlastn role"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Festival Anifilm"}),o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Ji.hlava IDFF"}),o.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Projekce na Palmovce"})]})]})]})}),o.jsx("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-8 border-2 border-green-500 mb-6",children:o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-lg flex items-center justify-center",children:o.jsx(Kl,{className:"w-12 h-12 text-white"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-2",children:"3. Antropologick vzkum a magistersk prce"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Systematick pozorovn dat, analza a teoretick shrnut guerillovch intervenc ve veejnm prostoru."}),o.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Vzkumn st:"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Kvantitativn data:"})," Before/After men, dwell time, survival time"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Kvalitativn data:"})," Rozhovory, pozorovn, ternn denk"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Analza:"})," Tematick kdovn, triangulace metod"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"KPI evaluace:"})," Aktivace, vytrvalost, istota, viditelnost"]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Magistersk prce (text):"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Teoretick rmec:"})," Prvo na msto, tactical urbanism, participativn umn"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Metodologie:"})," Mixed-methods, akn vzkum, autoetnografie"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Ppadov studie:"})," Detailn analza kad intervence"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Zvry a doporuen:"})," Pro msto, komunitu, dal vzkum"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Teoretick shrnut:"})," Pspvek k oboru, reflexe procesu"]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"FAMU Magistersk"}),o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Publikace"}),o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Data pro msto Praha 8"})]})]})]})}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-300",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Doplkov vstupy"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Oteven manuly"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Nvody pro replikaci intervenc"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Datov balek"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Raw data, ablony, men"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Komunitn prezentace"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Venkovn vstava na Palmovce"})]})]})]})]})})}function y7(){const t=[{phase:" Zima 2025",period:"Leden - Bezen 2025",title:"Pprava a vroba",color:"from-blue-500 to-cyan-500",tasks:[" dost o grant Praha 8 - Kultura 2025 (deadline do konce roku)"," Hlasovac popelnky - design, vroba, jarn klauzurn prce"," Betonov banny - nvrh, vroba formy, odlvn"," Mapping lokality a vbr mst"," Detournement - mapping neleglnch reklam"]},{phase:" Jaro 2026",period:"Duben - erven 2026",title:"Instalace a sadba",color:"from-green-500 to-teal-500",tasks:[" Slunenice - pedsadba na balkon (bezen-duben)"," Slunenice - pesadba do 10l kvtin (duben)"," Slunenice - sadba ven do Palmovky (duben-kvten)"," Hlasovac popelnky - instalace a testovn"," Betonov banny - instalace laviek"," Parklety - sbr palet a pprava materil"]},{phase:" Lto 2026",period:"ervenec - Z 2026",title:"Realizace a pe",color:"from-yellow-500 to-orange-500",tasks:[" Slunenice - pe, zalvn, hnojen"," Slunenice - hnojen na kvt (konec lta)"," Parklety - stavba a instalace obvacho pokoje"," Game Jam - venkovn interaktivn instalace"," Kontinuln dokumentace vech intervenc"]},{phase:" Podzim 2026",period:"jen - Prosinec 2026",title:"Finln vsledky a sbr dat",color:"from-orange-600 to-red-500",tasks:[" Slunenice - rozkvetl! Finln dokumentace"," Sbr dat z vech intervenc (before/after)"," Vyhodnocen KPI (aktivace, vytrvalost, istota)"," Zatek postprodukce dokumentrnho filmu"]},{phase:" Zima 2027",period:"Leden - Bezen 2027",title:"Postprodukce a psan",color:"from-indigo-500 to-blue-600",tasks:[" Postprodukce experimentlnho dokumentrnho filmu"," Psan magistersk prce"," Analza dat a teoretick shrnut"," Pprava prezentac"]},{phase:" Jaro 2027",period:"Duben - erven 2027",title:"Dokonen a prezentace",color:"from-purple-500 to-pink-500",tasks:[" Dokonen experimentlnho dokumentrnho filmu (20-30 min)"," Finalizace magistersk prce"," Festivaly: Anifilm, Ji.hlava IDFF"," Komunitn projekce na Palmovce"," Obhajoba magistersk prce"]}];return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:" asov pln projektu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Kompletn timeline od ppravy po finln prezentaci (2 roky)"}),o.jsx("div",{className:"space-y-6",children:t.map((e,n)=>o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`bg-gradient-to-r ${e.color} rounded-xl p-6 text-white shadow-lg`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"px-4 py-1 bg-white/20 backdrop-blur-sm rounded-full text-sm font-bold",children:e.phase}),o.jsx("span",{className:"text-sm font-medium",children:e.period})]}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:e.title}),o.jsx("ul",{className:"space-y-2",children:e.tasks.map((s,a)=>o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-white/80",children:""}),o.jsx("span",{className:"flex-1",children:s})]},a))})]}),n<t.length-1&&o.jsx("div",{className:"h-6 w-0.5 bg-gradient-to-b from-gray-300 to-gray-200 mx-auto my-2"})]},n))})]})})}function v7({officialProjects:t,guerillaArt:e}){const n=[{src:"/FAMU/projects/gallery/IMG_1694.png",title:"Kdov chodnky",description:"Poulin hry nakreslen kdou na asfaltu"},{src:"/FAMU/projects/gallery/IMG_1719.png",title:"Guerillov galerie",description:"Umleck vlepy v przdnch mstskch rmech"},{src:"/FAMU/projects/gallery/IMG_2332.png",title:"Houpaka",description:"Instalace houpaky na zapomenutm suku"},{src:"/FAMU/projects/gallery/IMG_4702.png",title:"Slunenice na Palmovce",description:"Prvn realizovan intervence - guerillov vsadba"}],s=[];return t&&t.forEach(a=>{a.images&&a.images.length>0&&a.images.forEach(c=>{s.push({...c,projectTitle:a.title,projectIcon:a.icon})})}),e&&e.forEach(a=>{a.images&&a.images.length>0&&a.images.forEach(c=>{s.push({...c,projectTitle:a.title,projectIcon:a.icon})})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Galerie projektu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Fotodokumentace lokality Palmovka a realizovanch intervenc"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((a,c)=>o.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border-2 border-gray-200 hover:border-teal-500 transition-all hover:shadow-xl",children:[o.jsx("div",{className:"aspect-square bg-gray-100",children:o.jsx("img",{src:a.src,alt:a.description,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:a.title}),o.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]},c))})]}),s.length>0&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-900 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Detail intervenc"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((a,c)=>o.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border-2 border-gray-200 hover:border-teal-500 transition-all hover:shadow-xl",children:[o.jsx("div",{className:"aspect-square bg-gray-100",children:o.jsx("img",{src:a.original,alt:a.description,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"text-2xl",children:a.projectIcon}),o.jsx("h3",{className:"font-bold text-gray-900",children:a.projectTitle})]}),o.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]},c))})]})]})}function x7(){return o.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[o.jsx("header",{className:"bg-gray-950 text-white shadow-lg",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs(it,{to:"/",className:"inline-flex items-center text-white hover:text-gray-300 mb-4 transition-colors",children:[o.jsx(cc,{className:"w-5 h-5 mr-2"}),"Zpt"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(HM,{className:"w-10 h-10"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:" Skryt hra - bSnn"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Easter egg pro ty, kdo znaj tajemstv piva..."})]})]})]})}),o.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"bg-gray-800 rounded-lg shadow-2xl overflow-hidden border-2 border-orange-500",children:o.jsx("iframe",{frameBorder:"0",src:"https://itch.io/embed-upload/15110547?color=802020",allowFullScreen:!0,width:"100%",height:"660",className:"w-full",title:"bSnn Game",children:o.jsx("a",{href:"https://jamiiethetrashman.itch.io/besneni",children:"Play bSnn on itch.io"})})}),o.jsxs("div",{className:"mt-6 text-center text-gray-400 text-sm",children:[o.jsx("p",{children:" Nael jsi Easter egg! "}),o.jsx("p",{className:"mt-2",children:"3 kliknut na pivo = hra odhalena"})]})]})})]})}const zy=[{name:"lut",bg:"bg-yellow-200",hover:"hover:bg-yellow-300",border:"border-yellow-400"},{name:"Rov",bg:"bg-pink-200",hover:"hover:bg-pink-300",border:"border-pink-400"},{name:"Modr",bg:"bg-blue-200",hover:"hover:bg-blue-300",border:"border-blue-400"},{name:"Zelen",bg:"bg-green-200",hover:"hover:bg-green-300",border:"border-green-400"},{name:"Oranov",bg:"bg-orange-200",hover:"hover:bg-orange-300",border:"border-orange-400"},{name:"Fialov",bg:"bg-purple-200",hover:"hover:bg-purple-300",border:"border-purple-400"}];function b7(){const[t,e]=M.useState([]),[n,s]=M.useState(!0),[a,c]=M.useState(!1),[u,h]=M.useState(null),[f,m]=M.useState(""),[g,x]=M.useState(0),b=M.useRef({noteId:null,offsetX:0,offsetY:0});M.useEffect(()=>{w()},[]);const w=async()=>{try{const A=Pi(Vn,"stickyNotes","bulletin-board"),N=await wA(A);N.exists()&&e(N.data().notes||[])}catch(A){console.error("Chyba pi natn poznmek:",A)}finally{s(!1)}},T=async A=>{try{const N=Pi(Vn,"stickyNotes","bulletin-board");await Hx(N,{notes:A})}catch(N){console.error("Chyba pi ukldn poznmek:",N)}},C=()=>{if(!f.trim())return;const A={id:Date.now().toString(),text:f,colorIndex:g,x:Math.random()*300+100,y:Math.random()*300+100,createdAt:new Date().toISOString()},N=[...t,A];e(N),T(N),m(""),x(0),c(!1)},S=(A,N)=>{const z=t.map(B=>B.id===A?{...B,...N}:B);e(z),T(z)},E=A=>{const N=t.filter(z=>z.id!==A);e(N),T(N)},R=(A,N)=>{if(A.target.closest(".note-action-button"))return;const z=t.find(q=>q.id===N);let B,L;A.type==="touchstart"?(B=A.touches[0].clientX,L=A.touches[0].clientY):(B=A.clientX,L=A.clientY),b.current={noteId:N,offsetX:B-z.x,offsetY:L-z.y},document.addEventListener("mousemove",P),document.addEventListener("mouseup",F),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",F)},P=A=>{if(!b.current.noteId)return;A.preventDefault();let N,z;A.type==="touchmove"?(N=A.touches[0].clientX,z=A.touches[0].clientY):(N=A.clientX,z=A.clientY);const B=N-b.current.offsetX,L=z-b.current.offsetY;e(q=>q.map(I=>I.id===b.current.noteId?{...I,x:Math.max(0,B),y:Math.max(0,L)}:I))},F=()=>{b.current.noteId&&(e(A=>(T(A),A)),b.current={noteId:null,offsetX:0,offsetY:0}),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",F),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",F)},$=A=>{h(A)},X=()=>{u&&u.text.trim()&&S(u.id,{text:u.text}),h(null)};return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Natn nstnky..."})]})}):o.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ff,{className:"w-8 h-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" Nstnka"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Sticky notes pro rychl poznmky"})]})]}),o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-lg font-medium shadow-md hover:shadow-lg transition-all",children:[o.jsx(Yl,{className:"w-5 h-5"}),"Nov poznmka"]})]})})}),o.jsxs("div",{className:"relative w-full",style:{minHeight:"calc(100vh - 100px)",height:"2000px"},children:[t.length===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-gray-400",children:[o.jsx(Ff,{className:"w-20 h-20 mx-auto mb-4 opacity-30"}),o.jsx("p",{className:"text-lg",children:"Zatm dn poznmky"}),o.jsx("p",{className:"text-sm",children:'Klikni na "Nov poznmka" a zani!'})]})}),t.map(A=>{const N=zy[A.colorIndex]||zy[0];return o.jsxs("div",{onMouseDown:z=>R(z,A.id),onTouchStart:z=>R(z,A.id),style:{position:"absolute",left:`${A.x}px`,top:`${A.y}px`,cursor:"grab",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},className:`w-64 h-64 ${N.bg} ${N.border} border-2 rounded-lg shadow-lg hover:shadow-xl transition-shadow p-4 flex flex-col`,children:[o.jsxs("div",{className:"flex justify-end gap-1 mb-2",children:[o.jsx("button",{onClick:()=>$(A),className:"note-action-button p-1.5 bg-white/70 hover:bg-white rounded-full transition-colors",title:"Upravit",children:o.jsx(b0,{className:"w-4 h-4 text-gray-700"})}),o.jsx("button",{onClick:()=>E(A.id),className:"note-action-button p-1.5 bg-white/70 hover:bg-white rounded-full transition-colors",title:"Smazat",children:o.jsx(Nm,{className:"w-4 h-4 text-red-600"})})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsx("p",{className:"text-gray-800 whitespace-pre-wrap break-words font-handwriting",style:{fontSize:"15px",lineHeight:"1.5"},children:A.text})}),o.jsx("div",{className:"text-xs text-gray-600 mt-2 opacity-60",children:new Date(A.createdAt).toLocaleDateString("cs-CZ")})]},A.id)})]}),(a||u)&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:u?" Upravit poznmku":" Nov poznmka"}),o.jsx("button",{onClick:()=>{c(!1),h(null),m("")},className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(uc,{className:"w-6 h-6 text-gray-500"})})]}),o.jsx("textarea",{value:u?u.text:f,onChange:A=>u?h({...u,text:A.target.value}):m(A.target.value),placeholder:"Napi svou poznmku...",className:"w-full h-40 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",autoFocus:!0}),!u&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vyber barvu:"}),o.jsx("div",{className:"flex gap-2 flex-wrap",children:zy.map((A,N)=>o.jsx("button",{onClick:()=>x(N),className:`w-12 h-12 ${A.bg} ${A.hover} ${A.border} border-2 rounded-lg transition-all ${g===N?"ring-4 ring-gray-900 ring-offset-2":""}`,title:A.name},N))})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>{c(!1),h(null),m("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Zruit"}),o.jsx("button",{onClick:u?X:C,className:"flex-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-lg font-medium shadow-md",children:u?"Uloit":"Pidat"})]})]})})]})}function Tn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,s;n<t.length;n++)(s=Tn(t[n]))!==""&&(e+=(e&&" ")+s);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var My={exports:{}},Dy={},Vy={exports:{}},Iy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function j7(){if(Lk)return Iy;Lk=1;var t=wd();function e(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function h(x,b){var w=b(),T=s({inst:{value:w,getSnapshot:b}}),C=T[0].inst,S=T[1];return c(function(){C.value=w,C.getSnapshot=b,f(C)&&S({inst:C})},[x,w,b]),a(function(){return f(C)&&S({inst:C}),x(function(){f(C)&&S({inst:C})})},[x]),u(w),w}function f(x){var b=x.getSnapshot;x=x.value;try{var w=b();return!n(x,w)}catch{return!0}}function m(x,b){return b()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Iy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Iy}var Bk;function w7(){return Bk||(Bk=1,Vy.exports=j7()),Vy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk;function _7(){if(Uk)return Dy;Uk=1;var t=wd(),e=w7();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var s=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,h=t.useMemo,f=t.useDebugValue;return Dy.useSyncExternalStoreWithSelector=function(m,g,x,b,w){var T=c(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=h(function(){function E(X){if(!R){if(R=!0,P=X,X=b(X),w!==void 0&&C.hasValue){var A=C.value;if(w(A,X))return F=A}return F=X}if(A=F,s(P,X))return A;var N=b(X);return w!==void 0&&w(A,N)?(P=X,A):(P=X,F=N)}var R=!1,P,F,$=x===void 0?null:x;return[function(){return E(g())},$===null?void 0:function(){return E($())}]},[g,x,b,w]);var S=a(m,T[0],T[1]);return u(function(){C.hasValue=!0,C.value=S},[S]),f(S),S},Dy}var Fk;function E7(){return Fk||(Fk=1,My.exports=_7()),My.exports}var k7=E7();const S7=z2(k7),T7={},Hk=t=>{let e;const n=new Set,s=(g,x)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const w=e;e=x??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(T=>T(e,w))}},a=()=>e,f={setState:s,getState:a,getInitialState:()=>m,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(T7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=e=t(s,a,f);return f},N7=t=>t?Hk(t):Hk,{useDebugValue:A7}=ue,{useSyncExternalStoreWithSelector:C7}=S7,R7=t=>t;function LA(t,e=R7,n){const s=C7(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return A7(s),s}const qk=(t,e)=>{const n=N7(t),s=(a,c=e)=>LA(n,a,c);return Object.assign(s,n),s},z7=(t,e)=>t?qk(t,e):qk;function yn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,a]of t)if(!Object.is(a,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(e,s)||!Object.is(t[s],e[s]))return!1;return!0}var M7={value:()=>{}};function Qm(){for(var t=0,e=arguments.length,n={},s;t<e;++t){if(!(s=arguments[t]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Pf(n)}function Pf(t){this._=t}function D7(t,e){return t.trim().split(/^|\s+/).map(function(n){var s="",a=n.indexOf(".");if(a>=0&&(s=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Pf.prototype=Qm.prototype={constructor:Pf,on:function(t,e){var n=this._,s=D7(t+"",n),a,c=-1,u=s.length;if(arguments.length<2){for(;++c<u;)if((a=(t=s[c]).type)&&(a=V7(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++c<u;)if(a=(t=s[c]).type)n[a]=$k(n[a],t.name,e);else if(e==null)for(a in n)n[a]=$k(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Pf(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),s=0,a,c;s<a;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],s=0,a=c.length;s<a;++s)c[s].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],a=0,c=s.length;a<c;++a)s[a].value.apply(e,n)}};function V7(t,e){for(var n=0,s=t.length,a;n<s;++n)if((a=t[n]).name===e)return a.value}function $k(t,e,n){for(var s=0,a=t.length;s<a;++s)if(t[s].name===e){t[s]=M7,t=t.slice(0,s).concat(t.slice(s+1));break}return n!=null&&t.push({name:e,value:n}),t}var Jv="http://www.w3.org/1999/xhtml";const Gk={svg:"http://www.w3.org/2000/svg",xhtml:Jv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Gk.hasOwnProperty(e)?{space:Gk[e],local:t}:t}function I7(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Jv&&e.documentElement.namespaceURI===Jv?e.createElement(t):e.createElementNS(n,t)}}function P7(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function BA(t){var e=Wm(t);return(e.local?P7:I7)(e)}function O7(){}function Gx(t){return t==null?O7:function(){return this.querySelector(t)}}function L7(t){typeof t!="function"&&(t=Gx(t));for(var e=this._groups,n=e.length,s=new Array(n),a=0;a<n;++a)for(var c=e[a],u=c.length,h=s[a]=new Array(u),f,m,g=0;g<u;++g)(f=c[g])&&(m=t.call(f,f.__data__,g,c))&&("__data__"in f&&(m.__data__=f.__data__),h[g]=m);return new vs(s,this._parents)}function B7(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function U7(){return[]}function UA(t){return t==null?U7:function(){return this.querySelectorAll(t)}}function F7(t){return function(){return B7(t.apply(this,arguments))}}function H7(t){typeof t=="function"?t=F7(t):t=UA(t);for(var e=this._groups,n=e.length,s=[],a=[],c=0;c<n;++c)for(var u=e[c],h=u.length,f,m=0;m<h;++m)(f=u[m])&&(s.push(t.call(f,f.__data__,m,u)),a.push(f));return new vs(s,a)}function FA(t){return function(){return this.matches(t)}}function HA(t){return function(e){return e.matches(t)}}var q7=Array.prototype.find;function $7(t){return function(){return q7.call(this.children,t)}}function G7(){return this.firstElementChild}function K7(t){return this.select(t==null?G7:$7(typeof t=="function"?t:HA(t)))}var Y7=Array.prototype.filter;function X7(){return Array.from(this.children)}function Z7(t){return function(){return Y7.call(this.children,t)}}function Q7(t){return this.selectAll(t==null?X7:Z7(typeof t=="function"?t:HA(t)))}function W7(t){typeof t!="function"&&(t=FA(t));for(var e=this._groups,n=e.length,s=new Array(n),a=0;a<n;++a)for(var c=e[a],u=c.length,h=s[a]=[],f,m=0;m<u;++m)(f=c[m])&&t.call(f,f.__data__,m,c)&&h.push(f);return new vs(s,this._parents)}function qA(t){return new Array(t.length)}function J7(){return new vs(this._enter||this._groups.map(qA),this._parents)}function pm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}pm.prototype={constructor:pm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function eB(t){return function(){return t}}function tB(t,e,n,s,a,c){for(var u=0,h,f=e.length,m=c.length;u<m;++u)(h=e[u])?(h.__data__=c[u],s[u]=h):n[u]=new pm(t,c[u]);for(;u<f;++u)(h=e[u])&&(a[u]=h)}function nB(t,e,n,s,a,c,u){var h,f,m=new Map,g=e.length,x=c.length,b=new Array(g),w;for(h=0;h<g;++h)(f=e[h])&&(b[h]=w=u.call(f,f.__data__,h,e)+"",m.has(w)?a[h]=f:m.set(w,f));for(h=0;h<x;++h)w=u.call(t,c[h],h,c)+"",(f=m.get(w))?(s[h]=f,f.__data__=c[h],m.delete(w)):n[h]=new pm(t,c[h]);for(h=0;h<g;++h)(f=e[h])&&m.get(b[h])===f&&(a[h]=f)}function sB(t){return t.__data__}function iB(t,e){if(!arguments.length)return Array.from(this,sB);var n=e?nB:tB,s=this._parents,a=this._groups;typeof t!="function"&&(t=eB(t));for(var c=a.length,u=new Array(c),h=new Array(c),f=new Array(c),m=0;m<c;++m){var g=s[m],x=a[m],b=x.length,w=rB(t.call(g,g&&g.__data__,m,s)),T=w.length,C=h[m]=new Array(T),S=u[m]=new Array(T),E=f[m]=new Array(b);n(g,x,C,S,E,w,e);for(var R=0,P=0,F,$;R<T;++R)if(F=C[R]){for(R>=P&&(P=R+1);!($=S[P])&&++P<T;);F._next=$||null}}return u=new vs(u,s),u._enter=h,u._exit=f,u}function rB(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aB(){return new vs(this._exit||this._groups.map(qA),this._parents)}function oB(t,e,n){var s=this.enter(),a=this,c=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?c.remove():n(c),s&&a?s.merge(a).order():a}function lB(t){for(var e=t.selection?t.selection():t,n=this._groups,s=e._groups,a=n.length,c=s.length,u=Math.min(a,c),h=new Array(a),f=0;f<u;++f)for(var m=n[f],g=s[f],x=m.length,b=h[f]=new Array(x),w,T=0;T<x;++T)(w=m[T]||g[T])&&(b[T]=w);for(;f<a;++f)h[f]=n[f];return new vs(h,this._parents)}function cB(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var s=t[e],a=s.length-1,c=s[a],u;--a>=0;)(u=s[a])&&(c&&u.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(u,c),c=u);return this}function uB(t){t||(t=dB);function e(x,b){return x&&b?t(x.__data__,b.__data__):!x-!b}for(var n=this._groups,s=n.length,a=new Array(s),c=0;c<s;++c){for(var u=n[c],h=u.length,f=a[c]=new Array(h),m,g=0;g<h;++g)(m=u[g])&&(f[g]=m);f.sort(e)}return new vs(a,this._parents).order()}function dB(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function hB(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fB(){return Array.from(this)}function mB(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s=t[e],a=0,c=s.length;a<c;++a){var u=s[a];if(u)return u}return null}function pB(){let t=0;for(const e of this)++t;return t}function gB(){return!this.node()}function yB(t){for(var e=this._groups,n=0,s=e.length;n<s;++n)for(var a=e[n],c=0,u=a.length,h;c<u;++c)(h=a[c])&&t.call(h,h.__data__,c,a);return this}function vB(t){return function(){this.removeAttribute(t)}}function xB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bB(t,e){return function(){this.setAttribute(t,e)}}function jB(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wB(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function _B(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function EB(t,e){var n=Wm(t);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((e==null?n.local?xB:vB:typeof e=="function"?n.local?_B:wB:n.local?jB:bB)(n,e))}function $A(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function kB(t){return function(){this.style.removeProperty(t)}}function SB(t,e,n){return function(){this.style.setProperty(t,e,n)}}function TB(t,e,n){return function(){var s=e.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,n)}}function NB(t,e,n){return arguments.length>1?this.each((e==null?kB:typeof e=="function"?TB:SB)(t,e,n??"")):ic(this.node(),t)}function ic(t,e){return t.style.getPropertyValue(e)||$A(t).getComputedStyle(t,null).getPropertyValue(e)}function AB(t){return function(){delete this[t]}}function CB(t,e){return function(){this[t]=e}}function RB(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function zB(t,e){return arguments.length>1?this.each((e==null?AB:typeof e=="function"?RB:CB)(t,e)):this.node()[t]}function GA(t){return t.trim().split(/^|\s+/)}function Kx(t){return t.classList||new KA(t)}function KA(t){this._node=t,this._names=GA(t.getAttribute("class")||"")}KA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function YA(t,e){for(var n=Kx(t),s=-1,a=e.length;++s<a;)n.add(e[s])}function XA(t,e){for(var n=Kx(t),s=-1,a=e.length;++s<a;)n.remove(e[s])}function MB(t){return function(){YA(this,t)}}function DB(t){return function(){XA(this,t)}}function VB(t,e){return function(){(e.apply(this,arguments)?YA:XA)(this,t)}}function IB(t,e){var n=GA(t+"");if(arguments.length<2){for(var s=Kx(this.node()),a=-1,c=n.length;++a<c;)if(!s.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?VB:e?MB:DB)(n,e))}function PB(){this.textContent=""}function OB(t){return function(){this.textContent=t}}function LB(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function BB(t){return arguments.length?this.each(t==null?PB:(typeof t=="function"?LB:OB)(t)):this.node().textContent}function UB(){this.innerHTML=""}function FB(t){return function(){this.innerHTML=t}}function HB(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function qB(t){return arguments.length?this.each(t==null?UB:(typeof t=="function"?HB:FB)(t)):this.node().innerHTML}function $B(){this.nextSibling&&this.parentNode.appendChild(this)}function GB(){return this.each($B)}function KB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YB(){return this.each(KB)}function XB(t){var e=typeof t=="function"?t:BA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ZB(){return null}function QB(t,e){var n=typeof t=="function"?t:BA(t),s=e==null?ZB:typeof e=="function"?e:Gx(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function WB(){var t=this.parentNode;t&&t.removeChild(this)}function JB(){return this.each(WB)}function eU(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tU(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nU(t){return this.select(t?tU:eU)}function sU(t){return arguments.length?this.property("__data__",t):this.node().__data__}function iU(t){return function(e){t.call(this,e,this.__data__)}}function rU(t){return t.trim().split(/^|\s+/).map(function(e){var n="",s=e.indexOf(".");return s>=0&&(n=e.slice(s+1),e=e.slice(0,s)),{type:e,name:n}})}function aU(t){return function(){var e=this.__on;if(e){for(var n=0,s=-1,a=e.length,c;n<a;++n)c=e[n],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):e[++s]=c;++s?e.length=s:delete this.__on}}}function oU(t,e,n){return function(){var s=this.__on,a,c=iU(e);if(s){for(var u=0,h=s.length;u<h;++u)if((a=s[u]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=n),a.value=e;return}}this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,options:n},s?s.push(a):this.__on=[a]}}function lU(t,e,n){var s=rU(t+""),a,c=s.length,u;if(arguments.length<2){var h=this.node().__on;if(h){for(var f=0,m=h.length,g;f<m;++f)for(a=0,g=h[f];a<c;++a)if((u=s[a]).type===g.type&&u.name===g.name)return g.value}return}for(h=e?oU:aU,a=0;a<c;++a)this.each(h(s[a],e,n));return this}function ZA(t,e,n){var s=$A(t),a=s.CustomEvent;typeof a=="function"?a=new a(e,n):(a=s.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function cU(t,e){return function(){return ZA(this,t,e)}}function uU(t,e){return function(){return ZA(this,t,e.apply(this,arguments))}}function dU(t,e){return this.each((typeof e=="function"?uU:cU)(t,e))}function*hU(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s=t[e],a=0,c=s.length,u;a<c;++a)(u=s[a])&&(yield u)}var QA=[null];function vs(t,e){this._groups=t,this._parents=e}function Id(){return new vs([[document.documentElement]],QA)}function fU(){return this}vs.prototype=Id.prototype={constructor:vs,select:L7,selectAll:H7,selectChild:K7,selectChildren:Q7,filter:W7,data:iB,enter:J7,exit:aB,join:oB,merge:lB,selection:fU,order:cB,sort:uB,call:hB,nodes:fB,node:mB,size:pB,empty:gB,each:yB,attr:EB,style:NB,property:zB,classed:IB,text:BB,html:qB,raise:GB,lower:YB,append:XB,insert:QB,remove:JB,clone:nU,datum:sU,on:lU,dispatch:dU,[Symbol.iterator]:hU};function Us(t){return typeof t=="string"?new vs([[document.querySelector(t)]],[document.documentElement]):new vs([[t]],QA)}function mU(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ai(t,e){if(t=mU(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(e.getScreenCTM().inverse()),[s.x,s.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const pU={passive:!1},md={capture:!0,passive:!1};function Py(t){t.stopImmediatePropagation()}function Hl(t){t.preventDefault(),t.stopImmediatePropagation()}function WA(t){var e=t.document.documentElement,n=Us(t).on("dragstart.drag",Hl,md);"onselectstart"in e?n.on("selectstart.drag",Hl,md):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function JA(t,e){var n=t.document.documentElement,s=Us(t).on("dragstart.drag",null);e&&(s.on("click.drag",Hl,md),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const mf=t=>()=>t;function e0(t,{sourceEvent:e,subject:n,target:s,identifier:a,active:c,x:u,y:h,dx:f,dy:m,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:g}})}e0.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function gU(t){return!t.ctrlKey&&!t.button}function yU(){return this.parentNode}function vU(t,e){return e??{x:t.x,y:t.y}}function xU(){return navigator.maxTouchPoints||"ontouchstart"in this}function bU(){var t=gU,e=yU,n=vU,s=xU,a={},c=Qm("start","drag","end"),u=0,h,f,m,g,x=0;function b(F){F.on("mousedown.drag",w).filter(s).on("touchstart.drag",S).on("touchmove.drag",E,pU).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(F,$){if(!(g||!t.call(this,F,$))){var X=P(this,e.call(this,F,$),F,$,"mouse");X&&(Us(F.view).on("mousemove.drag",T,md).on("mouseup.drag",C,md),WA(F.view),Py(F),m=!1,h=F.clientX,f=F.clientY,X("start",F))}}function T(F){if(Hl(F),!m){var $=F.clientX-h,X=F.clientY-f;m=$*$+X*X>x}a.mouse("drag",F)}function C(F){Us(F.view).on("mousemove.drag mouseup.drag",null),JA(F.view,m),Hl(F),a.mouse("end",F)}function S(F,$){if(t.call(this,F,$)){var X=F.changedTouches,A=e.call(this,F,$),N=X.length,z,B;for(z=0;z<N;++z)(B=P(this,A,F,$,X[z].identifier,X[z]))&&(Py(F),B("start",F,X[z]))}}function E(F){var $=F.changedTouches,X=$.length,A,N;for(A=0;A<X;++A)(N=a[$[A].identifier])&&(Hl(F),N("drag",F,$[A]))}function R(F){var $=F.changedTouches,X=$.length,A,N;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),A=0;A<X;++A)(N=a[$[A].identifier])&&(Py(F),N("end",F,$[A]))}function P(F,$,X,A,N,z){var B=c.copy(),L=ai(z||X,$),q,I,H;if((H=n.call(F,new e0("beforestart",{sourceEvent:X,target:b,identifier:N,active:u,x:L[0],y:L[1],dx:0,dy:0,dispatch:B}),A))!=null)return q=H.x-L[0]||0,I=H.y-L[1]||0,function ne(U,Y,ee){var Q=L,W;switch(U){case"start":a[N]=ne,W=u++;break;case"end":delete a[N],--u;case"drag":L=ai(ee||Y,$),W=u;break}B.call(U,F,new e0(U,{sourceEvent:Y,subject:H,target:b,identifier:N,active:W,x:L[0]+q,y:L[1]+I,dx:L[0]-Q[0],dy:L[1]-Q[1],dispatch:B}),A)}}return b.filter=function(F){return arguments.length?(t=typeof F=="function"?F:mf(!!F),b):t},b.container=function(F){return arguments.length?(e=typeof F=="function"?F:mf(F),b):e},b.subject=function(F){return arguments.length?(n=typeof F=="function"?F:mf(F),b):n},b.touchable=function(F){return arguments.length?(s=typeof F=="function"?F:mf(!!F),b):s},b.on=function(){var F=c.on.apply(c,arguments);return F===c?b:F},b.clickDistance=function(F){return arguments.length?(x=(F=+F)*F,b):Math.sqrt(x)},b}function Yx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eC(t,e){var n=Object.create(t.prototype);for(var s in e)n[s]=e[s];return n}function Pd(){}var pd=.7,gm=1/pd,ql="\\s*([+-]?\\d+)\\s*",gd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jU=/^#([0-9a-f]{3,8})$/,wU=new RegExp(`^rgb\\(${ql},${ql},${ql}\\)$`),_U=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),EU=new RegExp(`^rgba\\(${ql},${ql},${ql},${gd}\\)$`),kU=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${gd}\\)$`),SU=new RegExp(`^hsl\\(${gd},${Mi},${Mi}\\)$`),TU=new RegExp(`^hsla\\(${gd},${Mi},${Mi},${gd}\\)$`),Kk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yx(Pd,yd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yk,formatHex:Yk,formatHex8:NU,formatHsl:AU,formatRgb:Xk,toString:Xk});function Yk(){return this.rgb().formatHex()}function NU(){return this.rgb().formatHex8()}function AU(){return tC(this).formatHsl()}function Xk(){return this.rgb().formatRgb()}function yd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jU.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zk(e):n===3?new ts(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wU.exec(t))?new ts(e[1],e[2],e[3],1):(e=_U.exec(t))?new ts(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EU.exec(t))?pf(e[1],e[2],e[3],e[4]):(e=kU.exec(t))?pf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SU.exec(t))?Jk(e[1],e[2]/100,e[3]/100,1):(e=TU.exec(t))?Jk(e[1],e[2]/100,e[3]/100,e[4]):Kk.hasOwnProperty(t)?Zk(Kk[t]):t==="transparent"?new ts(NaN,NaN,NaN,0):null}function Zk(t){return new ts(t>>16&255,t>>8&255,t&255,1)}function pf(t,e,n,s){return s<=0&&(t=e=n=NaN),new ts(t,e,n,s)}function CU(t){return t instanceof Pd||(t=yd(t)),t?(t=t.rgb(),new ts(t.r,t.g,t.b,t.opacity)):new ts}function t0(t,e,n,s){return arguments.length===1?CU(t):new ts(t,e,n,s??1)}function ts(t,e,n,s){this.r=+t,this.g=+e,this.b=+n,this.opacity=+s}Yx(ts,t0,eC(Pd,{brighter(t){return t=t==null?gm:Math.pow(gm,t),new ts(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pd:Math.pow(pd,t),new ts(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ts(So(this.r),So(this.g),So(this.b),ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qk,formatHex:Qk,formatHex8:RU,formatRgb:Wk,toString:Wk}));function Qk(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}`}function RU(){return`#${xo(this.r)}${xo(this.g)}${xo(this.b)}${xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wk(){const t=ym(this.opacity);return`${t===1?"rgb(":"rgba("}${So(this.r)}, ${So(this.g)}, ${So(this.b)}${t===1?")":`, ${t})`}`}function ym(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function So(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xo(t){return t=So(t),(t<16?"0":"")+t.toString(16)}function Jk(t,e,n,s){return s<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oi(t,e,n,s)}function tC(t){if(t instanceof oi)return new oi(t.h,t.s,t.l,t.opacity);if(t instanceof Pd||(t=yd(t)),!t)return new oi;if(t instanceof oi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,s=t.b/255,a=Math.min(e,n,s),c=Math.max(e,n,s),u=NaN,h=c-a,f=(c+a)/2;return h?(e===c?u=(n-s)/h+(n<s)*6:n===c?u=(s-e)/h+2:u=(e-n)/h+4,h/=f<.5?c+a:2-c-a,u*=60):h=f>0&&f<1?0:u,new oi(u,h,f,t.opacity)}function zU(t,e,n,s){return arguments.length===1?tC(t):new oi(t,e,n,s??1)}function oi(t,e,n,s){this.h=+t,this.s=+e,this.l=+n,this.opacity=+s}Yx(oi,zU,eC(Pd,{brighter(t){return t=t==null?gm:Math.pow(gm,t),new oi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pd:Math.pow(pd,t),new oi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*e,a=2*n-s;return new ts(Oy(t>=240?t-240:t+120,a,s),Oy(t,a,s),Oy(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new oi(e2(this.h),gf(this.s),gf(this.l),ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ym(this.opacity);return`${t===1?"hsl(":"hsla("}${e2(this.h)}, ${gf(this.s)*100}%, ${gf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function e2(t){return t=(t||0)%360,t<0?t+360:t}function gf(t){return Math.max(0,Math.min(1,t||0))}function Oy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nC=t=>()=>t;function MU(t,e){return function(n){return t+n*e}}function DU(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(s){return Math.pow(t+s*e,n)}}function VU(t){return(t=+t)==1?sC:function(e,n){return n-e?DU(e,n,t):nC(isNaN(e)?n:e)}}function sC(t,e){var n=e-t;return n?MU(t,n):nC(isNaN(t)?e:t)}const t2=(function t(e){var n=VU(e);function s(a,c){var u=n((a=t0(a)).r,(c=t0(c)).r),h=n(a.g,c.g),f=n(a.b,c.b),m=sC(a.opacity,c.opacity);return function(g){return a.r=u(g),a.g=h(g),a.b=f(g),a.opacity=m(g),a+""}}return s.gamma=t,s})(1);function la(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var n0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ly=new RegExp(n0.source,"g");function IU(t){return function(){return t}}function PU(t){return function(e){return t(e)+""}}function OU(t,e){var n=n0.lastIndex=Ly.lastIndex=0,s,a,c,u=-1,h=[],f=[];for(t=t+"",e=e+"";(s=n0.exec(t))&&(a=Ly.exec(e));)(c=a.index)>n&&(c=e.slice(n,c),h[u]?h[u]+=c:h[++u]=c),(s=s[0])===(a=a[0])?h[u]?h[u]+=a:h[++u]=a:(h[++u]=null,f.push({i:u,x:la(s,a)})),n=Ly.lastIndex;return n<e.length&&(c=e.slice(n),h[u]?h[u]+=c:h[++u]=c),h.length<2?f[0]?PU(f[0].x):IU(e):(e=f.length,function(m){for(var g=0,x;g<e;++g)h[(x=f[g]).i]=x.x(m);return h.join("")})}var n2=180/Math.PI,s0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iC(t,e,n,s,a,c){var u,h,f;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(f=t*n+e*s)&&(n-=t*f,s-=e*f),(h=Math.sqrt(n*n+s*s))&&(n/=h,s/=h,f/=h),t*s<e*n&&(t=-t,e=-e,f=-f,u=-u),{translateX:a,translateY:c,rotate:Math.atan2(e,t)*n2,skewX:Math.atan(f)*n2,scaleX:u,scaleY:h}}var yf;function LU(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?s0:iC(e.a,e.b,e.c,e.d,e.e,e.f)}function BU(t){return t==null||(yf||(yf=document.createElementNS("http://www.w3.org/2000/svg","g")),yf.setAttribute("transform",t),!(t=yf.transform.baseVal.consolidate()))?s0:(t=t.matrix,iC(t.a,t.b,t.c,t.d,t.e,t.f))}function rC(t,e,n,s){function a(m){return m.length?m.pop()+" ":""}function c(m,g,x,b,w,T){if(m!==x||g!==b){var C=w.push("translate(",null,e,null,n);T.push({i:C-4,x:la(m,x)},{i:C-2,x:la(g,b)})}else(x||b)&&w.push("translate("+x+e+b+n)}function u(m,g,x,b){m!==g?(m-g>180?g+=360:g-m>180&&(m+=360),b.push({i:x.push(a(x)+"rotate(",null,s)-2,x:la(m,g)})):g&&x.push(a(x)+"rotate("+g+s)}function h(m,g,x,b){m!==g?b.push({i:x.push(a(x)+"skewX(",null,s)-2,x:la(m,g)}):g&&x.push(a(x)+"skewX("+g+s)}function f(m,g,x,b,w,T){if(m!==x||g!==b){var C=w.push(a(w)+"scale(",null,",",null,")");T.push({i:C-4,x:la(m,x)},{i:C-2,x:la(g,b)})}else(x!==1||b!==1)&&w.push(a(w)+"scale("+x+","+b+")")}return function(m,g){var x=[],b=[];return m=t(m),g=t(g),c(m.translateX,m.translateY,g.translateX,g.translateY,x,b),u(m.rotate,g.rotate,x,b),h(m.skewX,g.skewX,x,b),f(m.scaleX,m.scaleY,g.scaleX,g.scaleY,x,b),m=g=null,function(w){for(var T=-1,C=b.length,S;++T<C;)x[(S=b[T]).i]=S.x(w);return x.join("")}}}var UU=rC(LU,"px, ","px)","deg)"),FU=rC(BU,", ",")",")"),HU=1e-12;function s2(t){return((t=Math.exp(t))+1/t)/2}function qU(t){return((t=Math.exp(t))-1/t)/2}function $U(t){return((t=Math.exp(2*t))-1)/(t+1)}const GU=(function t(e,n,s){function a(c,u){var h=c[0],f=c[1],m=c[2],g=u[0],x=u[1],b=u[2],w=g-h,T=x-f,C=w*w+T*T,S,E;if(C<HU)E=Math.log(b/m)/e,S=function(A){return[h+A*w,f+A*T,m*Math.exp(e*A*E)]};else{var R=Math.sqrt(C),P=(b*b-m*m+s*C)/(2*m*n*R),F=(b*b-m*m-s*C)/(2*b*n*R),$=Math.log(Math.sqrt(P*P+1)-P),X=Math.log(Math.sqrt(F*F+1)-F);E=(X-$)/e,S=function(A){var N=A*E,z=s2($),B=m/(n*R)*(z*$U(e*N+$)-qU($));return[h+B*w,f+B*T,m*z/s2(e*N+$)]}}return S.duration=E*1e3*e/Math.SQRT2,S}return a.rho=function(c){var u=Math.max(.001,+c),h=u*u,f=h*h;return t(u,h,f)},a})(Math.SQRT2,2,4);var rc=0,zu=0,wu=0,aC=1e3,vm,Mu,xm=0,Co=0,Jm=0,vd=typeof performance=="object"&&performance.now?performance:Date,oC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xx(){return Co||(oC(KU),Co=vd.now()+Jm)}function KU(){Co=0}function bm(){this._call=this._time=this._next=null}bm.prototype=lC.prototype={constructor:bm,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Xx():+n)+(e==null?0:+e),!this._next&&Mu!==this&&(Mu?Mu._next=this:vm=this,Mu=this),this._call=t,this._time=n,i0()},stop:function(){this._call&&(this._call=null,this._time=1/0,i0())}};function lC(t,e,n){var s=new bm;return s.restart(t,e,n),s}function YU(){Xx(),++rc;for(var t=vm,e;t;)(e=Co-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rc}function i2(){Co=(xm=vd.now())+Jm,rc=zu=0;try{YU()}finally{rc=0,ZU(),Co=0}}function XU(){var t=vd.now(),e=t-xm;e>aC&&(Jm-=e,xm=t)}function ZU(){for(var t,e=vm,n,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:vm=n);Mu=t,i0(s)}function i0(t){if(!rc){zu&&(zu=clearTimeout(zu));var e=t-Co;e>24?(t<1/0&&(zu=setTimeout(i2,t-vd.now()-Jm)),wu&&(wu=clearInterval(wu))):(wu||(xm=vd.now(),wu=setInterval(XU,aC)),rc=1,oC(i2))}}function r2(t,e,n){var s=new bm;return e=e==null?0:+e,s.restart(a=>{s.stop(),t(a+e)},e,n),s}var QU=Qm("start","end","cancel","interrupt"),WU=[],cC=0,a2=1,r0=2,Of=3,o2=4,a0=5,Lf=6;function ep(t,e,n,s,a,c){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;JU(t,n,{name:e,index:s,group:a,on:QU,tween:WU,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:cC})}function Zx(t,e){var n=ui(t,e);if(n.state>cC)throw new Error("too late; already scheduled");return n}function Bi(t,e){var n=ui(t,e);if(n.state>Of)throw new Error("too late; already running");return n}function ui(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function JU(t,e,n){var s=t.__transition,a;s[e]=n,n.timer=lC(c,0,n.time);function c(m){n.state=a2,n.timer.restart(u,n.delay,n.time),n.delay<=m&&u(m-n.delay)}function u(m){var g,x,b,w;if(n.state!==a2)return f();for(g in s)if(w=s[g],w.name===n.name){if(w.state===Of)return r2(u);w.state===o2?(w.state=Lf,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete s[g]):+g<e&&(w.state=Lf,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete s[g])}if(r2(function(){n.state===Of&&(n.state=o2,n.timer.restart(h,n.delay,n.time),h(m))}),n.state=r0,n.on.call("start",t,t.__data__,n.index,n.group),n.state===r0){for(n.state=Of,a=new Array(b=n.tween.length),g=0,x=-1;g<b;++g)(w=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(a[++x]=w);a.length=x+1}}function h(m){for(var g=m<n.duration?n.ease.call(null,m/n.duration):(n.timer.restart(f),n.state=a0,1),x=-1,b=a.length;++x<b;)a[x].call(t,g);n.state===a0&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Lf,n.timer.stop(),delete s[e];for(var m in s)return;delete t.__transition}}function Bf(t,e){var n=t.__transition,s,a,c=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((s=n[u]).name!==e){c=!1;continue}a=s.state>r0&&s.state<a0,s.state=Lf,s.timer.stop(),s.on.call(a?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete n[u]}c&&delete t.__transition}}function eF(t){return this.each(function(){Bf(this,t)})}function tF(t,e){var n,s;return function(){var a=Bi(this,t),c=a.tween;if(c!==n){s=n=c;for(var u=0,h=s.length;u<h;++u)if(s[u].name===e){s=s.slice(),s.splice(u,1);break}}a.tween=s}}function nF(t,e,n){var s,a;if(typeof n!="function")throw new Error;return function(){var c=Bi(this,t),u=c.tween;if(u!==s){a=(s=u).slice();for(var h={name:e,value:n},f=0,m=a.length;f<m;++f)if(a[f].name===e){a[f]=h;break}f===m&&a.push(h)}c.tween=a}}function sF(t,e){var n=this._id;if(t+="",arguments.length<2){for(var s=ui(this.node(),n).tween,a=0,c=s.length,u;a<c;++a)if((u=s[a]).name===t)return u.value;return null}return this.each((e==null?tF:nF)(n,t,e))}function Qx(t,e,n){var s=t._id;return t.each(function(){var a=Bi(this,s);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return ui(a,s).value[e]}}function uC(t,e){var n;return(typeof e=="number"?la:e instanceof yd?t2:(n=yd(e))?(e=n,t2):OU)(t,e)}function iF(t){return function(){this.removeAttribute(t)}}function rF(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aF(t,e,n){var s,a=n+"",c;return function(){var u=this.getAttribute(t);return u===a?null:u===s?c:c=e(s=u,n)}}function oF(t,e,n){var s,a=n+"",c;return function(){var u=this.getAttributeNS(t.space,t.local);return u===a?null:u===s?c:c=e(s=u,n)}}function lF(t,e,n){var s,a,c;return function(){var u,h=n(this),f;return h==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=h+"",u===f?null:u===s&&f===a?c:(a=f,c=e(s=u,h)))}}function cF(t,e,n){var s,a,c;return function(){var u,h=n(this),f;return h==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=h+"",u===f?null:u===s&&f===a?c:(a=f,c=e(s=u,h)))}}function uF(t,e){var n=Wm(t),s=n==="transform"?FU:uC;return this.attrTween(t,typeof e=="function"?(n.local?cF:lF)(n,s,Qx(this,"attr."+t,e)):e==null?(n.local?rF:iF)(n):(n.local?oF:aF)(n,s,e))}function dF(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function hF(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fF(t,e){var n,s;function a(){var c=e.apply(this,arguments);return c!==s&&(n=(s=c)&&hF(t,c)),n}return a._value=e,a}function mF(t,e){var n,s;function a(){var c=e.apply(this,arguments);return c!==s&&(n=(s=c)&&dF(t,c)),n}return a._value=e,a}function pF(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var s=Wm(t);return this.tween(n,(s.local?fF:mF)(s,e))}function gF(t,e){return function(){Zx(this,t).delay=+e.apply(this,arguments)}}function yF(t,e){return e=+e,function(){Zx(this,t).delay=e}}function vF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gF:yF)(e,t)):ui(this.node(),e).delay}function xF(t,e){return function(){Bi(this,t).duration=+e.apply(this,arguments)}}function bF(t,e){return e=+e,function(){Bi(this,t).duration=e}}function jF(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xF:bF)(e,t)):ui(this.node(),e).duration}function wF(t,e){if(typeof e!="function")throw new Error;return function(){Bi(this,t).ease=e}}function _F(t){var e=this._id;return arguments.length?this.each(wF(e,t)):ui(this.node(),e).ease}function EF(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Bi(this,t).ease=n}}function kF(t){if(typeof t!="function")throw new Error;return this.each(EF(this._id,t))}function SF(t){typeof t!="function"&&(t=FA(t));for(var e=this._groups,n=e.length,s=new Array(n),a=0;a<n;++a)for(var c=e[a],u=c.length,h=s[a]=[],f,m=0;m<u;++m)(f=c[m])&&t.call(f,f.__data__,m,c)&&h.push(f);return new _r(s,this._parents,this._name,this._id)}function TF(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,s=e.length,a=n.length,c=Math.min(s,a),u=new Array(s),h=0;h<c;++h)for(var f=e[h],m=n[h],g=f.length,x=u[h]=new Array(g),b,w=0;w<g;++w)(b=f[w]||m[w])&&(x[w]=b);for(;h<s;++h)u[h]=e[h];return new _r(u,this._parents,this._name,this._id)}function NF(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function AF(t,e,n){var s,a,c=NF(e)?Zx:Bi;return function(){var u=c(this,t),h=u.on;h!==s&&(a=(s=h).copy()).on(e,n),u.on=a}}function CF(t,e){var n=this._id;return arguments.length<2?ui(this.node(),n).on.on(t):this.each(AF(n,t,e))}function RF(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function zF(){return this.on("end.remove",RF(this._id))}function MF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gx(t));for(var s=this._groups,a=s.length,c=new Array(a),u=0;u<a;++u)for(var h=s[u],f=h.length,m=c[u]=new Array(f),g,x,b=0;b<f;++b)(g=h[b])&&(x=t.call(g,g.__data__,b,h))&&("__data__"in g&&(x.__data__=g.__data__),m[b]=x,ep(m[b],e,n,b,m,ui(g,n)));return new _r(c,this._parents,e,n)}function DF(t){var e=this._name,n=this._id;typeof t!="function"&&(t=UA(t));for(var s=this._groups,a=s.length,c=[],u=[],h=0;h<a;++h)for(var f=s[h],m=f.length,g,x=0;x<m;++x)if(g=f[x]){for(var b=t.call(g,g.__data__,x,f),w,T=ui(g,n),C=0,S=b.length;C<S;++C)(w=b[C])&&ep(w,e,n,C,b,T);c.push(b),u.push(g)}return new _r(c,u,e,n)}var VF=Id.prototype.constructor;function IF(){return new VF(this._groups,this._parents)}function PF(t,e){var n,s,a;return function(){var c=ic(this,t),u=(this.style.removeProperty(t),ic(this,t));return c===u?null:c===n&&u===s?a:a=e(n=c,s=u)}}function dC(t){return function(){this.style.removeProperty(t)}}function OF(t,e,n){var s,a=n+"",c;return function(){var u=ic(this,t);return u===a?null:u===s?c:c=e(s=u,n)}}function LF(t,e,n){var s,a,c;return function(){var u=ic(this,t),h=n(this),f=h+"";return h==null&&(f=h=(this.style.removeProperty(t),ic(this,t))),u===f?null:u===s&&f===a?c:(a=f,c=e(s=u,h))}}function BF(t,e){var n,s,a,c="style."+e,u="end."+c,h;return function(){var f=Bi(this,t),m=f.on,g=f.value[c]==null?h||(h=dC(e)):void 0;(m!==n||a!==g)&&(s=(n=m).copy()).on(u,a=g),f.on=s}}function UF(t,e,n){var s=(t+="")=="transform"?UU:uC;return e==null?this.styleTween(t,PF(t,s)).on("end.style."+t,dC(t)):typeof e=="function"?this.styleTween(t,LF(t,s,Qx(this,"style."+t,e))).each(BF(this._id,t)):this.styleTween(t,OF(t,s,e),n).on("end.style."+t,null)}function FF(t,e,n){return function(s){this.style.setProperty(t,e.call(this,s),n)}}function HF(t,e,n){var s,a;function c(){var u=e.apply(this,arguments);return u!==a&&(s=(a=u)&&FF(t,u,n)),s}return c._value=e,c}function qF(t,e,n){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;return this.tween(s,HF(t,e,n??""))}function $F(t){return function(){this.textContent=t}}function GF(t){return function(){var e=t(this);this.textContent=e??""}}function KF(t){return this.tween("text",typeof t=="function"?GF(Qx(this,"text",t)):$F(t==null?"":t+""))}function YF(t){return function(e){this.textContent=t.call(this,e)}}function XF(t){var e,n;function s(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&YF(a)),e}return s._value=t,s}function ZF(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,XF(t))}function QF(){for(var t=this._name,e=this._id,n=hC(),s=this._groups,a=s.length,c=0;c<a;++c)for(var u=s[c],h=u.length,f,m=0;m<h;++m)if(f=u[m]){var g=ui(f,e);ep(f,t,n,m,u,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new _r(s,this._parents,t,n)}function WF(){var t,e,n=this,s=n._id,a=n.size();return new Promise(function(c,u){var h={value:u},f={value:function(){--a===0&&c()}};n.each(function(){var m=Bi(this,s),g=m.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(f)),m.on=e}),a===0&&c()})}var JF=0;function _r(t,e,n,s){this._groups=t,this._parents=e,this._name=n,this._id=s}function hC(){return++JF}var lr=Id.prototype;_r.prototype={constructor:_r,select:MF,selectAll:DF,selectChild:lr.selectChild,selectChildren:lr.selectChildren,filter:SF,merge:TF,selection:IF,transition:QF,call:lr.call,nodes:lr.nodes,node:lr.node,size:lr.size,empty:lr.empty,each:lr.each,on:CF,attr:uF,attrTween:pF,style:UF,styleTween:qF,text:KF,textTween:ZF,remove:zF,tween:sF,delay:vF,duration:jF,ease:_F,easeVarying:kF,end:WF,[Symbol.iterator]:lr[Symbol.iterator]};function eH(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var tH={time:null,delay:0,duration:250,ease:eH};function nH(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function sH(t){var e,n;t instanceof _r?(e=t._id,t=t._name):(e=hC(),(n=tH).time=Xx(),t=t==null?null:t+"");for(var s=this._groups,a=s.length,c=0;c<a;++c)for(var u=s[c],h=u.length,f,m=0;m<h;++m)(f=u[m])&&ep(f,t,e,m,u,n||nH(f,e));return new _r(s,this._parents,t,e)}Id.prototype.interrupt=eF;Id.prototype.transition=sH;const vf=t=>()=>t;function iH(t,{sourceEvent:e,target:n,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function mr(t,e,n){this.k=t,this.x=e,this.y=n}mr.prototype={constructor:mr,scale:function(t){return t===1?this:new mr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new mr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gr=new mr(1,0,0);mr.prototype;function By(t){t.stopImmediatePropagation()}function _u(t){t.preventDefault(),t.stopImmediatePropagation()}function rH(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function aH(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function l2(){return this.__zoom||gr}function oH(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function lH(){return navigator.maxTouchPoints||"ontouchstart"in this}function cH(t,e,n){var s=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],c=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),u>c?(c+u)/2:Math.min(0,c)||Math.max(0,u))}function fC(){var t=rH,e=aH,n=cH,s=oH,a=lH,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],h=250,f=GU,m=Qm("start","zoom","end"),g,x,b,w=500,T=150,C=0,S=10;function E(H){H.property("__zoom",l2).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",B).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(H,ne,U,Y){var ee=H.selection?H.selection():H;ee.property("__zoom",l2),H!==ee?$(H,ne,U,Y):ee.interrupt().each(function(){X(this,arguments).event(Y).start().zoom(null,typeof ne=="function"?ne.apply(this,arguments):ne).end()})},E.scaleBy=function(H,ne,U,Y){E.scaleTo(H,function(){var ee=this.__zoom.k,Q=typeof ne=="function"?ne.apply(this,arguments):ne;return ee*Q},U,Y)},E.scaleTo=function(H,ne,U,Y){E.transform(H,function(){var ee=e.apply(this,arguments),Q=this.__zoom,W=U==null?F(ee):typeof U=="function"?U.apply(this,arguments):U,V=Q.invert(W),K=typeof ne=="function"?ne.apply(this,arguments):ne;return n(P(R(Q,K),W,V),ee,u)},U,Y)},E.translateBy=function(H,ne,U,Y){E.transform(H,function(){return n(this.__zoom.translate(typeof ne=="function"?ne.apply(this,arguments):ne,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),u)},null,Y)},E.translateTo=function(H,ne,U,Y,ee){E.transform(H,function(){var Q=e.apply(this,arguments),W=this.__zoom,V=Y==null?F(Q):typeof Y=="function"?Y.apply(this,arguments):Y;return n(gr.translate(V[0],V[1]).scale(W.k).translate(typeof ne=="function"?-ne.apply(this,arguments):-ne,typeof U=="function"?-U.apply(this,arguments):-U),Q,u)},Y,ee)};function R(H,ne){return ne=Math.max(c[0],Math.min(c[1],ne)),ne===H.k?H:new mr(ne,H.x,H.y)}function P(H,ne,U){var Y=ne[0]-U[0]*H.k,ee=ne[1]-U[1]*H.k;return Y===H.x&&ee===H.y?H:new mr(H.k,Y,ee)}function F(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function $(H,ne,U,Y){H.on("start.zoom",function(){X(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(Y).end()}).tween("zoom",function(){var ee=this,Q=arguments,W=X(ee,Q).event(Y),V=e.apply(ee,Q),K=U==null?F(V):typeof U=="function"?U.apply(ee,Q):U,ae=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),le=ee.__zoom,ye=typeof ne=="function"?ne.apply(ee,Q):ne,ve=f(le.invert(K).concat(ae/le.k),ye.invert(K).concat(ae/ye.k));return function(we){if(we===1)we=ye;else{var Re=ve(we),ke=ae/Re[2];we=new mr(ke,K[0]-Re[0]*ke,K[1]-Re[1]*ke)}W.zoom(null,we)}})}function X(H,ne,U){return!U&&H.__zooming||new A(H,ne)}function A(H,ne){this.that=H,this.args=ne,this.active=0,this.sourceEvent=null,this.extent=e.apply(H,ne),this.taps=0}A.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,ne){return this.mouse&&H!=="mouse"&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var ne=Us(this.that).datum();m.call(H,this.that,new iH(H,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:m}),ne)}};function N(H,...ne){if(!t.apply(this,arguments))return;var U=X(this,ne).event(H),Y=this.__zoom,ee=Math.max(c[0],Math.min(c[1],Y.k*Math.pow(2,s.apply(this,arguments)))),Q=ai(H);if(U.wheel)(U.mouse[0][0]!==Q[0]||U.mouse[0][1]!==Q[1])&&(U.mouse[1]=Y.invert(U.mouse[0]=Q)),clearTimeout(U.wheel);else{if(Y.k===ee)return;U.mouse=[Q,Y.invert(Q)],Bf(this),U.start()}_u(H),U.wheel=setTimeout(W,T),U.zoom("mouse",n(P(R(Y,ee),U.mouse[0],U.mouse[1]),U.extent,u));function W(){U.wheel=null,U.end()}}function z(H,...ne){if(b||!t.apply(this,arguments))return;var U=H.currentTarget,Y=X(this,ne,!0).event(H),ee=Us(H.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",ae,!0),Q=ai(H,U),W=H.clientX,V=H.clientY;WA(H.view),By(H),Y.mouse=[Q,this.__zoom.invert(Q)],Bf(this),Y.start();function K(le){if(_u(le),!Y.moved){var ye=le.clientX-W,ve=le.clientY-V;Y.moved=ye*ye+ve*ve>C}Y.event(le).zoom("mouse",n(P(Y.that.__zoom,Y.mouse[0]=ai(le,U),Y.mouse[1]),Y.extent,u))}function ae(le){ee.on("mousemove.zoom mouseup.zoom",null),JA(le.view,Y.moved),_u(le),Y.event(le).end()}}function B(H,...ne){if(t.apply(this,arguments)){var U=this.__zoom,Y=ai(H.changedTouches?H.changedTouches[0]:H,this),ee=U.invert(Y),Q=U.k*(H.shiftKey?.5:2),W=n(P(R(U,Q),Y,ee),e.apply(this,ne),u);_u(H),h>0?Us(this).transition().duration(h).call($,W,Y,H):Us(this).call(E.transform,W,Y,H)}}function L(H,...ne){if(t.apply(this,arguments)){var U=H.touches,Y=U.length,ee=X(this,ne,H.changedTouches.length===Y).event(H),Q,W,V,K;for(By(H),W=0;W<Y;++W)V=U[W],K=ai(V,this),K=[K,this.__zoom.invert(K),V.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==K[2]&&(ee.touch1=K,ee.taps=0):(ee.touch0=K,Q=!0,ee.taps=1+!!g);g&&(g=clearTimeout(g)),Q&&(ee.taps<2&&(x=K[0],g=setTimeout(function(){g=null},w)),Bf(this),ee.start())}}function q(H,...ne){if(this.__zooming){var U=X(this,ne).event(H),Y=H.changedTouches,ee=Y.length,Q,W,V,K;for(_u(H),Q=0;Q<ee;++Q)W=Y[Q],V=ai(W,this),U.touch0&&U.touch0[2]===W.identifier?U.touch0[0]=V:U.touch1&&U.touch1[2]===W.identifier&&(U.touch1[0]=V);if(W=U.that.__zoom,U.touch1){var ae=U.touch0[0],le=U.touch0[1],ye=U.touch1[0],ve=U.touch1[1],we=(we=ye[0]-ae[0])*we+(we=ye[1]-ae[1])*we,Re=(Re=ve[0]-le[0])*Re+(Re=ve[1]-le[1])*Re;W=R(W,Math.sqrt(we/Re)),V=[(ae[0]+ye[0])/2,(ae[1]+ye[1])/2],K=[(le[0]+ve[0])/2,(le[1]+ve[1])/2]}else if(U.touch0)V=U.touch0[0],K=U.touch0[1];else return;U.zoom("touch",n(P(W,V,K),U.extent,u))}}function I(H,...ne){if(this.__zooming){var U=X(this,ne).event(H),Y=H.changedTouches,ee=Y.length,Q,W;for(By(H),b&&clearTimeout(b),b=setTimeout(function(){b=null},w),Q=0;Q<ee;++Q)W=Y[Q],U.touch0&&U.touch0[2]===W.identifier?delete U.touch0:U.touch1&&U.touch1[2]===W.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(W=ai(W,this),Math.hypot(x[0]-W[0],x[1]-W[1])<S)){var V=Us(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return E.wheelDelta=function(H){return arguments.length?(s=typeof H=="function"?H:vf(+H),E):s},E.filter=function(H){return arguments.length?(t=typeof H=="function"?H:vf(!!H),E):t},E.touchable=function(H){return arguments.length?(a=typeof H=="function"?H:vf(!!H),E):a},E.extent=function(H){return arguments.length?(e=typeof H=="function"?H:vf([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),E):e},E.scaleExtent=function(H){return arguments.length?(c[0]=+H[0],c[1]=+H[1],E):[c[0],c[1]]},E.translateExtent=function(H){return arguments.length?(u[0][0]=+H[0][0],u[1][0]=+H[1][0],u[0][1]=+H[0][1],u[1][1]=+H[1][1],E):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},E.constrain=function(H){return arguments.length?(n=H,E):n},E.duration=function(H){return arguments.length?(h=+H,E):h},E.interpolate=function(H){return arguments.length?(f=H,E):f},E.on=function(){var H=m.on.apply(m,arguments);return H===m?E:H},E.clickDistance=function(H){return arguments.length?(C=(H=+H)*H,E):Math.sqrt(C)},E.tapDistance=function(H){return arguments.length?(S=+H,E):S},E}const tp=M.createContext(null),uH=tp.Provider,Er={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},mC=Er.error001();function Et(t,e){const n=M.useContext(tp);if(n===null)throw new Error(mC);return LA(n,t,e)}const hn=()=>{const t=M.useContext(tp);if(t===null)throw new Error(mC);return M.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},dH=t=>t.userSelectionActive?"none":"all";function Wx({position:t,children:e,className:n,style:s,...a}){const c=Et(dH),u=`${t}`.split("-");return ue.createElement("div",{className:Tn(["react-flow__panel",n,...u]),style:{...s,pointerEvents:c},...a},e)}function hH({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:ue.createElement(Wx,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ue.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const fH=({x:t,y:e,label:n,labelStyle:s={},labelShowBg:a=!0,labelBgStyle:c={},labelBgPadding:u=[2,4],labelBgBorderRadius:h=2,children:f,className:m,...g})=>{const x=M.useRef(null),[b,w]=M.useState({x:0,y:0,width:0,height:0}),T=Tn(["react-flow__edge-textwrapper",m]);return M.useEffect(()=>{if(x.current){const C=x.current.getBBox();w({x:C.x,y:C.y,width:C.width,height:C.height})}},[n]),typeof n>"u"||!n?null:ue.createElement("g",{transform:`translate(${t-b.width/2} ${e-b.height/2})`,className:T,visibility:b.width?"visible":"hidden",...g},a&&ue.createElement("rect",{width:b.width+2*u[0],x:-u[0],y:-u[1],height:b.height+2*u[1],className:"react-flow__edge-textbg",style:c,rx:h,ry:h}),ue.createElement("text",{className:"react-flow__edge-text",y:b.height/2,dy:"0.3em",ref:x,style:s},n),f)};var mH=M.memo(fH);const Jx=t=>({width:t.offsetWidth,height:t.offsetHeight}),ac=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),eb=(t={x:0,y:0},e)=>({x:ac(t.x,e[0][0],e[1][0]),y:ac(t.y,e[0][1],e[1][1])}),c2=(t,e,n)=>t<e?ac(Math.abs(t-e),1,50)/50:t>n?-ac(Math.abs(t-n),1,50)/50:0,pC=(t,e)=>{const n=c2(t.x,35,e.width-35)*20,s=c2(t.y,35,e.height-35)*20;return[n,s]},gC=t=>t.getRootNode?.()||window?.document,yC=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),xd=({x:t,y:e,width:n,height:s})=>({x:t,y:e,x2:t+n,y2:e+s}),vC=({x:t,y:e,x2:n,y2:s})=>({x:t,y:e,width:n-t,height:s-e}),u2=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),pH=(t,e)=>vC(yC(xd(t),xd(e))),o0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),s=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*s)},gH=t=>Hs(t.width)&&Hs(t.height)&&Hs(t.x)&&Hs(t.y),Hs=t=>!isNaN(t)&&isFinite(t),qt=Symbol.for("internals"),xC=["Enter"," ","Escape"],yH=(t,e)=>{},vH=t=>"nativeEvent"in t;function l0(t){const n=(vH(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const bC=t=>"clientX"in t,ya=(t,e)=>{const n=bC(t),s=n?t.clientX:t.touches?.[0].clientX,a=n?t.clientY:t.touches?.[0].clientY;return{x:s-(e?.left??0),y:a-(e?.top??0)}},jm=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Od=({id:t,path:e,labelX:n,labelY:s,label:a,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:b,interactionWidth:w=20})=>ue.createElement(ue.Fragment,null,ue.createElement("path",{id:t,style:g,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:x,markerStart:b}),w&&ue.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:w,className:"react-flow__edge-interaction"}),a&&Hs(n)&&Hs(s)?ue.createElement(mH,{x:n,y:s,label:a,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m}):null);Od.displayName="BaseEdge";function Eu(t,e,n){return n===void 0?n:s=>{const a=e().edges.find(c=>c.id===t);a&&n(s,{...a})}}function jC({sourceX:t,sourceY:e,targetX:n,targetY:s}){const a=Math.abs(n-t)/2,c=n<t?n+a:n-a,u=Math.abs(s-e)/2,h=s<e?s+u:s-u;return[c,h,a,u]}function wC({sourceX:t,sourceY:e,targetX:n,targetY:s,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:h}){const f=t*.125+a*.375+u*.375+n*.125,m=e*.125+c*.375+h*.375+s*.125,g=Math.abs(f-t),x=Math.abs(m-e);return[f,m,g,x]}var Ro;(function(t){t.Strict="strict",t.Loose="loose"})(Ro||(Ro={}));var bo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(bo||(bo={}));var bd;(function(t){t.Partial="partial",t.Full="full"})(bd||(bd={}));var ua;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ua||(ua={}));var fr;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(fr||(fr={}));var Ce;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ce||(Ce={}));function d2({pos:t,x1:e,y1:n,x2:s,y2:a}){return t===Ce.Left||t===Ce.Right?[.5*(e+s),n]:[e,.5*(n+a)]}function _C({sourceX:t,sourceY:e,sourcePosition:n=Ce.Bottom,targetX:s,targetY:a,targetPosition:c=Ce.Top}){const[u,h]=d2({pos:n,x1:t,y1:e,x2:s,y2:a}),[f,m]=d2({pos:c,x1:s,y1:a,x2:t,y2:e}),[g,x,b,w]=wC({sourceX:t,sourceY:e,targetX:s,targetY:a,sourceControlX:u,sourceControlY:h,targetControlX:f,targetControlY:m});return[`M${t},${e} C${u},${h} ${f},${m} ${s},${a}`,g,x,b,w]}const tb=M.memo(({sourceX:t,sourceY:e,targetX:n,targetY:s,sourcePosition:a=Ce.Bottom,targetPosition:c=Ce.Top,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:T,interactionWidth:C})=>{const[S,E,R]=_C({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:s,targetPosition:c});return ue.createElement(Od,{path:S,labelX:E,labelY:R,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:T,interactionWidth:C})});tb.displayName="SimpleBezierEdge";const h2={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},xH=({source:t,sourcePosition:e=Ce.Bottom,target:n})=>e===Ce.Left||e===Ce.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},f2=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function bH({source:t,sourcePosition:e=Ce.Bottom,target:n,targetPosition:s=Ce.Top,center:a,offset:c}){const u=h2[e],h=h2[s],f={x:t.x+u.x*c,y:t.y+u.y*c},m={x:n.x+h.x*c,y:n.y+h.y*c},g=xH({source:f,sourcePosition:e,target:m}),x=g.x!==0?"x":"y",b=g[x];let w=[],T,C;const S={x:0,y:0},E={x:0,y:0},[R,P,F,$]=jC({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[x]*h[x]===-1){T=a.x??R,C=a.y??P;const A=[{x:T,y:f.y},{x:T,y:m.y}],N=[{x:f.x,y:C},{x:m.x,y:C}];u[x]===b?w=x==="x"?A:N:w=x==="x"?N:A}else{const A=[{x:f.x,y:m.y}],N=[{x:m.x,y:f.y}];if(x==="x"?w=u.x===b?N:A:w=u.y===b?A:N,e===s){const I=Math.abs(t[x]-n[x]);if(I<=c){const H=Math.min(c-1,c-I);u[x]===b?S[x]=(f[x]>t[x]?-1:1)*H:E[x]=(m[x]>n[x]?-1:1)*H}}if(e!==s){const I=x==="x"?"y":"x",H=u[x]===h[I],ne=f[I]>m[I],U=f[I]<m[I];(u[x]===1&&(!H&&ne||H&&U)||u[x]!==1&&(!H&&U||H&&ne))&&(w=x==="x"?A:N)}const z={x:f.x+S.x,y:f.y+S.y},B={x:m.x+E.x,y:m.y+E.y},L=Math.max(Math.abs(z.x-w[0].x),Math.abs(B.x-w[0].x)),q=Math.max(Math.abs(z.y-w[0].y),Math.abs(B.y-w[0].y));L>=q?(T=(z.x+B.x)/2,C=w[0].y):(T=w[0].x,C=(z.y+B.y)/2)}return[[t,{x:f.x+S.x,y:f.y+S.y},...w,{x:m.x+E.x,y:m.y+E.y},n],T,C,F,$]}function jH(t,e,n,s){const a=Math.min(f2(t,e)/2,f2(e,n)/2,s),{x:c,y:u}=e;if(t.x===c&&c===n.x||t.y===u&&u===n.y)return`L${c} ${u}`;if(t.y===u){const m=t.x<n.x?-1:1,g=t.y<n.y?1:-1;return`L ${c+a*m},${u}Q ${c},${u} ${c},${u+a*g}`}const h=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${c},${u+a*f}Q ${c},${u} ${c+a*h},${u}`}function c0({sourceX:t,sourceY:e,sourcePosition:n=Ce.Bottom,targetX:s,targetY:a,targetPosition:c=Ce.Top,borderRadius:u=5,centerX:h,centerY:f,offset:m=20}){const[g,x,b,w,T]=bH({source:{x:t,y:e},sourcePosition:n,target:{x:s,y:a},targetPosition:c,center:{x:h,y:f},offset:m});return[g.reduce((S,E,R)=>{let P="";return R>0&&R<g.length-1?P=jH(g[R-1],E,g[R+1],u):P=`${R===0?"M":"L"}${E.x} ${E.y}`,S+=P,S},""),x,b,w,T]}const np=M.memo(({sourceX:t,sourceY:e,targetX:n,targetY:s,label:a,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:g,sourcePosition:x=Ce.Bottom,targetPosition:b=Ce.Top,markerEnd:w,markerStart:T,pathOptions:C,interactionWidth:S})=>{const[E,R,P]=c0({sourceX:t,sourceY:e,sourcePosition:x,targetX:n,targetY:s,targetPosition:b,borderRadius:C?.borderRadius,offset:C?.offset});return ue.createElement(Od,{path:E,labelX:R,labelY:P,label:a,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:w,markerStart:T,interactionWidth:S})});np.displayName="SmoothStepEdge";const nb=M.memo(t=>ue.createElement(np,{...t,pathOptions:M.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));nb.displayName="StepEdge";function wH({sourceX:t,sourceY:e,targetX:n,targetY:s}){const[a,c,u,h]=jC({sourceX:t,sourceY:e,targetX:n,targetY:s});return[`M ${t},${e}L ${n},${s}`,a,c,u,h]}const sb=M.memo(({sourceX:t,sourceY:e,targetX:n,targetY:s,label:a,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:b,interactionWidth:w})=>{const[T,C,S]=wH({sourceX:t,sourceY:e,targetX:n,targetY:s});return ue.createElement(Od,{path:T,labelX:C,labelY:S,label:a,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:b,interactionWidth:w})});sb.displayName="StraightEdge";function xf(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function m2({pos:t,x1:e,y1:n,x2:s,y2:a,c}){switch(t){case Ce.Left:return[e-xf(e-s,c),n];case Ce.Right:return[e+xf(s-e,c),n];case Ce.Top:return[e,n-xf(n-a,c)];case Ce.Bottom:return[e,n+xf(a-n,c)]}}function EC({sourceX:t,sourceY:e,sourcePosition:n=Ce.Bottom,targetX:s,targetY:a,targetPosition:c=Ce.Top,curvature:u=.25}){const[h,f]=m2({pos:n,x1:t,y1:e,x2:s,y2:a,c:u}),[m,g]=m2({pos:c,x1:s,y1:a,x2:t,y2:e,c:u}),[x,b,w,T]=wC({sourceX:t,sourceY:e,targetX:s,targetY:a,sourceControlX:h,sourceControlY:f,targetControlX:m,targetControlY:g});return[`M${t},${e} C${h},${f} ${m},${g} ${s},${a}`,x,b,w,T]}const wm=M.memo(({sourceX:t,sourceY:e,targetX:n,targetY:s,sourcePosition:a=Ce.Bottom,targetPosition:c=Ce.Top,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:T,pathOptions:C,interactionWidth:S})=>{const[E,R,P]=EC({sourceX:t,sourceY:e,sourcePosition:a,targetX:n,targetY:s,targetPosition:c,curvature:C?.curvature});return ue.createElement(Od,{path:E,labelX:R,labelY:P,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:x,style:b,markerEnd:w,markerStart:T,interactionWidth:S})});wm.displayName="BezierEdge";const ib=M.createContext(null),_H=ib.Provider;ib.Consumer;const EH=()=>M.useContext(ib),kH=t=>"id"in t&&"source"in t&&"target"in t,SH=({source:t,sourceHandle:e,target:n,targetHandle:s})=>`reactflow__edge-${t}${e||""}-${n}${s||""}`,u0=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(s=>`${s}=${t[s]}`).join("&")}`,TH=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),NH=(t,e)=>{if(!t.source||!t.target)return e;let n;return kH(t)?n={...t}:n={...t,id:SH(t)},TH(n,e)?e:e.concat(n)},d0=({x:t,y:e},[n,s,a],c,[u,h])=>{const f={x:(t-n)/a,y:(e-s)/a};return c?{x:u*Math.round(f.x/u),y:h*Math.round(f.y/h)}:f},kC=({x:t,y:e},[n,s,a])=>({x:t*a+n,y:e*a+s}),To=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],s=(t.height??0)*e[1],a={x:t.position.x-n,y:t.position.y-s};return{...a,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-s}:a}},sp=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((s,a)=>{const{x:c,y:u}=To(a,e).positionAbsolute;return yC(s,xd({x:c,y:u,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return vC(n)},SC=(t,e,[n,s,a]=[0,0,1],c=!1,u=!1,h=[0,0])=>{const f={x:(e.x-n)/a,y:(e.y-s)/a,width:e.width/a,height:e.height/a},m=[];return t.forEach(g=>{const{width:x,height:b,selectable:w=!0,hidden:T=!1}=g;if(u&&!w||T)return!1;const{positionAbsolute:C}=To(g,h),S={x:C.x,y:C.y,width:x||0,height:b||0},E=o0(f,S),R=typeof x>"u"||typeof b>"u"||x===null||b===null,P=c&&E>0,F=(x||0)*(b||0);(R||P||E>=F||g.dragging)&&m.push(g)}),m},TC=(t,e)=>{const n=t.map(s=>s.id);return e.filter(s=>n.includes(s.source)||n.includes(s.target))},NC=(t,e,n,s,a,c=.1)=>{const u=e/(t.width*(1+c)),h=n/(t.height*(1+c)),f=Math.min(u,h),m=ac(f,s,a),g=t.x+t.width/2,x=t.y+t.height/2,b=e/2-g*m,w=n/2-x*m;return{x:b,y:w,zoom:m}},po=(t,e=0)=>t.transition().duration(e);function p2(t,e,n,s){return(e[n]||[]).reduce((a,c)=>(`${t.id}-${c.id}-${n}`!==s&&a.push({id:c.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+c.x+c.width/2,y:(t.positionAbsolute?.y??0)+c.y+c.height/2}),a),[])}function AH(t,e,n,s,a,c){const{x:u,y:h}=ya(t),m=e.elementsFromPoint(u,h).find(T=>T.classList.contains("react-flow__handle"));if(m){const T=m.getAttribute("data-nodeid");if(T){const C=rb(void 0,m),S=m.getAttribute("data-handleid"),E=c({nodeId:T,id:S,type:C});if(E){const R=a.find(P=>P.nodeId===T&&P.type===C&&P.id===S);return{handle:{id:S,type:C,nodeId:T,x:R?.x||n.x,y:R?.y||n.y},validHandleResult:E}}}}let g=[],x=1/0;if(a.forEach(T=>{const C=Math.sqrt((T.x-n.x)**2+(T.y-n.y)**2);if(C<=s){const S=c(T);C<=x&&(C<x?g=[{handle:T,validHandleResult:S}]:C===x&&g.push({handle:T,validHandleResult:S}),x=C)}}),!g.length)return{handle:null,validHandleResult:AC()};if(g.length===1)return g[0];const b=g.some(({validHandleResult:T})=>T.isValid),w=g.some(({handle:T})=>T.type==="target");return g.find(({handle:T,validHandleResult:C})=>w?T.type==="target":b?C.isValid:!0)||g[0]}const CH={source:null,target:null,sourceHandle:null,targetHandle:null},AC=()=>({handleDomNode:null,isValid:!1,connection:CH,endHandle:null});function CC(t,e,n,s,a,c,u){const h=a==="target",f=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),m={...AC(),handleDomNode:f};if(f){const g=rb(void 0,f),x=f.getAttribute("data-nodeid"),b=f.getAttribute("data-handleid"),w=f.classList.contains("connectable"),T=f.classList.contains("connectableend"),C={source:h?x:n,sourceHandle:h?b:s,target:h?n:x,targetHandle:h?s:b};m.connection=C,w&&T&&(e===Ro.Strict?h&&g==="source"||!h&&g==="target":x!==n||b!==s)&&(m.endHandle={nodeId:x,handleId:b,type:g},m.isValid=c(C))}return m}function RH({nodes:t,nodeId:e,handleId:n,handleType:s}){return t.reduce((a,c)=>{if(c[qt]){const{handleBounds:u}=c[qt];let h=[],f=[];u&&(h=p2(c,u,"source",`${e}-${n}-${s}`),f=p2(c,u,"target",`${e}-${n}-${s}`)),a.push(...h,...f)}return a},[])}function rb(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Uy(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function zH(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function RC({event:t,handleId:e,nodeId:n,onConnect:s,isTarget:a,getState:c,setState:u,isValidConnection:h,edgeUpdaterType:f,onReconnectEnd:m}){const g=gC(t.target),{connectionMode:x,domNode:b,autoPanOnConnect:w,connectionRadius:T,onConnectStart:C,panBy:S,getNodes:E,cancelConnection:R}=c();let P=0,F;const{x:$,y:X}=ya(t),A=g?.elementFromPoint($,X),N=rb(f,A),z=b?.getBoundingClientRect();if(!z||!N)return;let B,L=ya(t,z),q=!1,I=null,H=!1,ne=null;const U=RH({nodes:E(),nodeId:n,handleId:e,handleType:N}),Y=()=>{if(!w)return;const[W,V]=pC(L,z);S({x:W,y:V}),P=requestAnimationFrame(Y)};u({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:N,connectionStartHandle:{nodeId:n,handleId:e,type:N},connectionEndHandle:null}),C?.(t,{nodeId:n,handleId:e,handleType:N});function ee(W){const{transform:V}=c();L=ya(W,z);const{handle:K,validHandleResult:ae}=AH(W,g,d0(L,V,!1,[1,1]),T,U,le=>CC(le,x,n,e,a?"target":"source",h,g));if(F=K,q||(Y(),q=!0),ne=ae.handleDomNode,I=ae.connection,H=ae.isValid,u({connectionPosition:F&&H?kC({x:F.x,y:F.y},V):L,connectionStatus:zH(!!F,H),connectionEndHandle:ae.endHandle}),!F&&!H&&!ne)return Uy(B);I.source!==I.target&&ne&&(Uy(B),B=ne,ne.classList.add("connecting","react-flow__handle-connecting"),ne.classList.toggle("valid",H),ne.classList.toggle("react-flow__handle-valid",H))}function Q(W){(F||ne)&&I&&H&&s?.(I),c().onConnectEnd?.(W),f&&m?.(W),Uy(B),R(),cancelAnimationFrame(P),q=!1,H=!1,I=null,ne=null,g.removeEventListener("mousemove",ee),g.removeEventListener("mouseup",Q),g.removeEventListener("touchmove",ee),g.removeEventListener("touchend",Q)}g.addEventListener("mousemove",ee),g.addEventListener("mouseup",Q),g.addEventListener("touchmove",ee),g.addEventListener("touchend",Q)}const g2=()=>!0,MH=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),DH=(t,e,n)=>s=>{const{connectionStartHandle:a,connectionEndHandle:c,connectionClickStartHandle:u}=s;return{connecting:a?.nodeId===t&&a?.handleId===e&&a?.type===n||c?.nodeId===t&&c?.handleId===e&&c?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},zC=M.forwardRef(({type:t="source",position:e=Ce.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:c=!0,id:u,onConnect:h,children:f,className:m,onMouseDown:g,onTouchStart:x,...b},w)=>{const T=u||null,C=t==="target",S=hn(),E=EH(),{connectOnClick:R,noPanClassName:P}=Et(MH,yn),{connecting:F,clickConnecting:$}=Et(DH(E,T,t),yn);E||S.getState().onError?.("010",Er.error010());const X=z=>{const{defaultEdgeOptions:B,onConnect:L,hasDefaultEdges:q}=S.getState(),I={...B,...z};if(q){const{edges:H,setEdges:ne}=S.getState();ne(NH(I,H))}L?.(I),h?.(I)},A=z=>{if(!E)return;const B=bC(z);a&&(B&&z.button===0||!B)&&RC({event:z,handleId:T,nodeId:E,onConnect:X,isTarget:C,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||g2}),B?g?.(z):x?.(z)},N=z=>{const{onClickConnectStart:B,onClickConnectEnd:L,connectionClickStartHandle:q,connectionMode:I,isValidConnection:H}=S.getState();if(!E||!q&&!a)return;if(!q){B?.(z,{nodeId:E,handleId:T,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:E,type:t,handleId:T}});return}const ne=gC(z.target),U=n||H||g2,{connection:Y,isValid:ee}=CC({nodeId:E,id:T,type:t},I,q.nodeId,q.handleId||null,q.type,U,ne);ee&&X(Y),L?.(z),S.setState({connectionClickStartHandle:null})};return ue.createElement("div",{"data-handleid":T,"data-nodeid":E,"data-handlepos":e,"data-id":`${E}-${T}-${t}`,className:Tn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",P,m,{source:!C,target:C,connectable:s,connectablestart:a,connectableend:c,connecting:$,connectionindicator:s&&(a&&!F||c&&F)}]),onMouseDown:A,onTouchStart:A,onClick:R?N:void 0,ref:w,...b},f)});zC.displayName="Handle";var _m=M.memo(zC);const MC=({data:t,isConnectable:e,targetPosition:n=Ce.Top,sourcePosition:s=Ce.Bottom})=>ue.createElement(ue.Fragment,null,ue.createElement(_m,{type:"target",position:n,isConnectable:e}),t?.label,ue.createElement(_m,{type:"source",position:s,isConnectable:e}));MC.displayName="DefaultNode";var h0=M.memo(MC);const DC=({data:t,isConnectable:e,sourcePosition:n=Ce.Bottom})=>ue.createElement(ue.Fragment,null,t?.label,ue.createElement(_m,{type:"source",position:n,isConnectable:e}));DC.displayName="InputNode";var VC=M.memo(DC);const IC=({data:t,isConnectable:e,targetPosition:n=Ce.Top})=>ue.createElement(ue.Fragment,null,ue.createElement(_m,{type:"target",position:n,isConnectable:e}),t?.label);IC.displayName="OutputNode";var PC=M.memo(IC);const ab=()=>null;ab.displayName="GroupNode";const VH=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),bf=t=>t.id;function IH(t,e){return yn(t.selectedNodes.map(bf),e.selectedNodes.map(bf))&&yn(t.selectedEdges.map(bf),e.selectedEdges.map(bf))}const OC=M.memo(({onSelectionChange:t})=>{const e=hn(),{selectedNodes:n,selectedEdges:s}=Et(VH,IH);return M.useEffect(()=>{const a={nodes:n,edges:s};t?.(a),e.getState().onSelectionChange.forEach(c=>c(a))},[n,s,t]),null});OC.displayName="SelectionListener";const PH=t=>!!t.onSelectionChange;function OH({onSelectionChange:t}){const e=Et(PH);return t||e?ue.createElement(OC,{onSelectionChange:t}):null}const LH=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function _l(t,e){M.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function Fe(t,e,n){M.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const BH=({nodes:t,edges:e,defaultNodes:n,defaultEdges:s,onConnect:a,onConnectStart:c,onConnectEnd:u,onClickConnectStart:h,onClickConnectEnd:f,nodesDraggable:m,nodesConnectable:g,nodesFocusable:x,edgesFocusable:b,edgesUpdatable:w,elevateNodesOnSelect:T,minZoom:C,maxZoom:S,nodeExtent:E,onNodesChange:R,onEdgesChange:P,elementsSelectable:F,connectionMode:$,snapGrid:X,snapToGrid:A,translateExtent:N,connectOnClick:z,defaultEdgeOptions:B,fitView:L,fitViewOptions:q,onNodesDelete:I,onEdgesDelete:H,onNodeDrag:ne,onNodeDragStart:U,onNodeDragStop:Y,onSelectionDrag:ee,onSelectionDragStart:Q,onSelectionDragStop:W,noPanClassName:V,nodeOrigin:K,rfId:ae,autoPanOnConnect:le,autoPanOnNodeDrag:ye,onError:ve,connectionRadius:we,isValidConnection:Re,nodeDragThreshold:ke})=>{const{setNodes:Oe,setEdges:wt,setDefaultNodesAndEdges:ut,setMinZoom:bt,setMaxZoom:ot,setTranslateExtent:dt,setNodeExtent:Mt,reset:We}=Et(LH,yn),Te=hn();return M.useEffect(()=>{const $e=s?.map(ht=>({...ht,...B}));return ut(n,$e),()=>{We()}},[]),Fe("defaultEdgeOptions",B,Te.setState),Fe("connectionMode",$,Te.setState),Fe("onConnect",a,Te.setState),Fe("onConnectStart",c,Te.setState),Fe("onConnectEnd",u,Te.setState),Fe("onClickConnectStart",h,Te.setState),Fe("onClickConnectEnd",f,Te.setState),Fe("nodesDraggable",m,Te.setState),Fe("nodesConnectable",g,Te.setState),Fe("nodesFocusable",x,Te.setState),Fe("edgesFocusable",b,Te.setState),Fe("edgesUpdatable",w,Te.setState),Fe("elementsSelectable",F,Te.setState),Fe("elevateNodesOnSelect",T,Te.setState),Fe("snapToGrid",A,Te.setState),Fe("snapGrid",X,Te.setState),Fe("onNodesChange",R,Te.setState),Fe("onEdgesChange",P,Te.setState),Fe("connectOnClick",z,Te.setState),Fe("fitViewOnInit",L,Te.setState),Fe("fitViewOnInitOptions",q,Te.setState),Fe("onNodesDelete",I,Te.setState),Fe("onEdgesDelete",H,Te.setState),Fe("onNodeDrag",ne,Te.setState),Fe("onNodeDragStart",U,Te.setState),Fe("onNodeDragStop",Y,Te.setState),Fe("onSelectionDrag",ee,Te.setState),Fe("onSelectionDragStart",Q,Te.setState),Fe("onSelectionDragStop",W,Te.setState),Fe("noPanClassName",V,Te.setState),Fe("nodeOrigin",K,Te.setState),Fe("rfId",ae,Te.setState),Fe("autoPanOnConnect",le,Te.setState),Fe("autoPanOnNodeDrag",ye,Te.setState),Fe("onError",ve,Te.setState),Fe("connectionRadius",we,Te.setState),Fe("isValidConnection",Re,Te.setState),Fe("nodeDragThreshold",ke,Te.setState),_l(t,Oe),_l(e,wt),_l(C,bt),_l(S,ot),_l(N,dt),_l(E,Mt),null},y2={display:"none"},UH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},LC="react-flow__node-desc",BC="react-flow__edge-desc",FH="react-flow__aria-live",HH=t=>t.ariaLiveMessage;function qH({rfId:t}){const e=Et(HH);return ue.createElement("div",{id:`${FH}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:UH},e)}function $H({rfId:t,disableKeyboardA11y:e}){return ue.createElement(ue.Fragment,null,ue.createElement("div",{id:`${LC}-${t}`,style:y2},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ue.createElement("div",{id:`${BC}-${t}`,style:y2},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ue.createElement(qH,{rfId:t}))}var jd=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,s]=M.useState(!1),a=M.useRef(!1),c=M.useRef(new Set([])),[u,h]=M.useMemo(()=>{if(t!==null){const m=(Array.isArray(t)?t:[t]).filter(x=>typeof x=="string").map(x=>x.split("+")),g=m.reduce((x,b)=>x.concat(...b),[]);return[m,g]}return[[],[]]},[t]);return M.useEffect(()=>{const f=typeof document<"u"?document:null,m=e?.target||f;if(t!==null){const g=w=>{if(a.current=w.ctrlKey||w.metaKey||w.shiftKey,(!a.current||a.current&&!e.actInsideInputWithModifier)&&l0(w))return!1;const C=x2(w.code,h);c.current.add(w[C]),v2(u,c.current,!1)&&(w.preventDefault(),s(!0))},x=w=>{if((!a.current||a.current&&!e.actInsideInputWithModifier)&&l0(w))return!1;const C=x2(w.code,h);v2(u,c.current,!0)?(s(!1),c.current.clear()):c.current.delete(w[C]),w.key==="Meta"&&c.current.clear(),a.current=!1},b=()=>{c.current.clear(),s(!1)};return m?.addEventListener("keydown",g),m?.addEventListener("keyup",x),window.addEventListener("blur",b),()=>{m?.removeEventListener("keydown",g),m?.removeEventListener("keyup",x),window.removeEventListener("blur",b)}}},[t,s]),n};function v2(t,e,n){return t.filter(s=>n||s.length===e.size).some(s=>s.every(a=>e.has(a)))}function x2(t,e){return e.includes(t)?"code":"key"}function UC(t,e,n,s){const a=t.parentNode||t.parentId;if(!a)return n;const c=e.get(a),u=To(c,s);return UC(c,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(c[qt]?.z??0)>(n.z??0)?c[qt]?.z??0:n.z??0},s)}function FC(t,e,n){t.forEach(s=>{const a=s.parentNode||s.parentId;if(a&&!t.has(a))throw new Error(`Parent node ${a} not found`);if(a||n?.[s.id]){const{x:c,y:u,z:h}=UC(s,t,{...s.position,z:s[qt]?.z??0},e);s.positionAbsolute={x:c,y:u},s[qt].z=h,n?.[s.id]&&(s[qt].isParent=!0)}})}function Fy(t,e,n,s){const a=new Map,c={},u=s?1e3:0;return t.forEach(h=>{const f=(Hs(h.zIndex)?h.zIndex:0)+(h.selected?u:0),m=e.get(h.id),g={...h,positionAbsolute:{x:h.position.x,y:h.position.y}},x=h.parentNode||h.parentId;x&&(c[x]=!0);const b=m?.type&&m?.type!==h.type;Object.defineProperty(g,qt,{enumerable:!1,value:{handleBounds:b?void 0:m?.[qt]?.handleBounds,z:f}}),a.set(h.id,g)}),FC(a,n,c),a}function HC(t,e={}){const{getNodes:n,width:s,height:a,minZoom:c,maxZoom:u,d3Zoom:h,d3Selection:f,fitViewOnInitDone:m,fitViewOnInit:g,nodeOrigin:x}=t(),b=e.initial&&!m&&g;if(h&&f&&(b||!e.initial)){const T=n().filter(S=>{const E=e.includeHiddenNodes?S.width&&S.height:!S.hidden;return e.nodes?.length?E&&e.nodes.some(R=>R.id===S.id):E}),C=T.every(S=>S.width&&S.height);if(T.length>0&&C){const S=sp(T,x),{x:E,y:R,zoom:P}=NC(S,s,a,e.minZoom??c,e.maxZoom??u,e.padding??.1),F=gr.translate(E,R).scale(P);return typeof e.duration=="number"&&e.duration>0?h.transform(po(f,e.duration),F):h.transform(f,F),!0}}return!1}function GH(t,e){return t.forEach(n=>{const s=e.get(n.id);s&&e.set(s.id,{...s,[qt]:s[qt],selected:n.selected})}),new Map(e)}function KH(t,e){return e.map(n=>{const s=t.find(a=>a.id===n.id);return s&&(n.selected=s.selected),n})}function jf({changedNodes:t,changedEdges:e,get:n,set:s}){const{nodeInternals:a,edges:c,onNodesChange:u,onEdgesChange:h,hasDefaultNodes:f,hasDefaultEdges:m}=n();t?.length&&(f&&s({nodeInternals:GH(t,a)}),u?.(t)),e?.length&&(m&&s({edges:KH(e,c)}),h?.(e))}const El=()=>{},YH={zoomIn:El,zoomOut:El,zoomTo:El,getZoom:()=>1,setViewport:El,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:El,fitBounds:El,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},XH=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),ZH=()=>{const t=hn(),{d3Zoom:e,d3Selection:n}=Et(XH,yn);return M.useMemo(()=>n&&e?{zoomIn:a=>e.scaleBy(po(n,a?.duration),1.2),zoomOut:a=>e.scaleBy(po(n,a?.duration),1/1.2),zoomTo:(a,c)=>e.scaleTo(po(n,c?.duration),a),getZoom:()=>t.getState().transform[2],setViewport:(a,c)=>{const[u,h,f]=t.getState().transform,m=gr.translate(a.x??u,a.y??h).scale(a.zoom??f);e.transform(po(n,c?.duration),m)},getViewport:()=>{const[a,c,u]=t.getState().transform;return{x:a,y:c,zoom:u}},fitView:a=>HC(t.getState,a),setCenter:(a,c,u)=>{const{width:h,height:f,maxZoom:m}=t.getState(),g=typeof u?.zoom<"u"?u.zoom:m,x=h/2-a*g,b=f/2-c*g,w=gr.translate(x,b).scale(g);e.transform(po(n,u?.duration),w)},fitBounds:(a,c)=>{const{width:u,height:h,minZoom:f,maxZoom:m}=t.getState(),{x:g,y:x,zoom:b}=NC(a,u,h,f,m,c?.padding??.1),w=gr.translate(g,x).scale(b);e.transform(po(n,c?.duration),w)},project:a=>{const{transform:c,snapToGrid:u,snapGrid:h}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),d0(a,c,u,h)},screenToFlowPosition:a=>{const{transform:c,snapToGrid:u,snapGrid:h,domNode:f}=t.getState();if(!f)return a;const{x:m,y:g}=f.getBoundingClientRect(),x={x:a.x-m,y:a.y-g};return d0(x,c,u,h)},flowToScreenPosition:a=>{const{transform:c,domNode:u}=t.getState();if(!u)return a;const{x:h,y:f}=u.getBoundingClientRect(),m=kC(a,c);return{x:m.x+h,y:m.y+f}},viewportInitialized:!0}:YH,[e,n])};function ob(){const t=ZH(),e=hn(),n=M.useCallback(()=>e.getState().getNodes().map(C=>({...C})),[]),s=M.useCallback(C=>e.getState().nodeInternals.get(C),[]),a=M.useCallback(()=>{const{edges:C=[]}=e.getState();return C.map(S=>({...S}))},[]),c=M.useCallback(C=>{const{edges:S=[]}=e.getState();return S.find(E=>E.id===C)},[]),u=M.useCallback(C=>{const{getNodes:S,setNodes:E,hasDefaultNodes:R,onNodesChange:P}=e.getState(),F=S(),$=typeof C=="function"?C(F):C;if(R)E($);else if(P){const X=$.length===0?F.map(A=>({type:"remove",id:A.id})):$.map(A=>({item:A,type:"reset"}));P(X)}},[]),h=M.useCallback(C=>{const{edges:S=[],setEdges:E,hasDefaultEdges:R,onEdgesChange:P}=e.getState(),F=typeof C=="function"?C(S):C;if(R)E(F);else if(P){const $=F.length===0?S.map(X=>({type:"remove",id:X.id})):F.map(X=>({item:X,type:"reset"}));P($)}},[]),f=M.useCallback(C=>{const S=Array.isArray(C)?C:[C],{getNodes:E,setNodes:R,hasDefaultNodes:P,onNodesChange:F}=e.getState();if(P){const X=[...E(),...S];R(X)}else if(F){const $=S.map(X=>({item:X,type:"add"}));F($)}},[]),m=M.useCallback(C=>{const S=Array.isArray(C)?C:[C],{edges:E=[],setEdges:R,hasDefaultEdges:P,onEdgesChange:F}=e.getState();if(P)R([...E,...S]);else if(F){const $=S.map(X=>({item:X,type:"add"}));F($)}},[]),g=M.useCallback(()=>{const{getNodes:C,edges:S=[],transform:E}=e.getState(),[R,P,F]=E;return{nodes:C().map($=>({...$})),edges:S.map($=>({...$})),viewport:{x:R,y:P,zoom:F}}},[]),x=M.useCallback(({nodes:C,edges:S})=>{const{nodeInternals:E,getNodes:R,edges:P,hasDefaultNodes:F,hasDefaultEdges:$,onNodesDelete:X,onEdgesDelete:A,onNodesChange:N,onEdgesChange:z}=e.getState(),B=(C||[]).map(ne=>ne.id),L=(S||[]).map(ne=>ne.id),q=R().reduce((ne,U)=>{const Y=U.parentNode||U.parentId,ee=!B.includes(U.id)&&Y&&ne.find(W=>W.id===Y);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(B.includes(U.id)||ee)&&ne.push(U),ne},[]),I=P.filter(ne=>typeof ne.deletable=="boolean"?ne.deletable:!0),H=I.filter(ne=>L.includes(ne.id));if(q||H){const ne=TC(q,I),U=[...H,...ne],Y=U.reduce((ee,Q)=>(ee.includes(Q.id)||ee.push(Q.id),ee),[]);if(($||F)&&($&&e.setState({edges:P.filter(ee=>!Y.includes(ee.id))}),F&&(q.forEach(ee=>{E.delete(ee.id)}),e.setState({nodeInternals:new Map(E)}))),Y.length>0&&(A?.(U),z&&z(Y.map(ee=>({id:ee,type:"remove"})))),q.length>0&&(X?.(q),N)){const ee=q.map(Q=>({id:Q.id,type:"remove"}));N(ee)}}},[]),b=M.useCallback(C=>{const S=gH(C),E=S?null:e.getState().nodeInternals.get(C.id);return!S&&!E?[null,null,S]:[S?C:u2(E),E,S]},[]),w=M.useCallback((C,S=!0,E)=>{const[R,P,F]=b(C);return R?(E||e.getState().getNodes()).filter($=>{if(!F&&($.id===P.id||!$.positionAbsolute))return!1;const X=u2($),A=o0(X,R);return S&&A>0||A>=R.width*R.height}):[]},[]),T=M.useCallback((C,S,E=!0)=>{const[R]=b(C);if(!R)return!1;const P=o0(R,S);return E&&P>0||P>=R.width*R.height},[]);return M.useMemo(()=>({...t,getNodes:n,getNode:s,getEdges:a,getEdge:c,setNodes:u,setEdges:h,addNodes:f,addEdges:m,toObject:g,deleteElements:x,getIntersectingNodes:w,isNodeIntersecting:T}),[t,n,s,a,c,u,h,f,m,g,x,w,T])}const QH={actInsideInputWithModifier:!1};var WH=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=hn(),{deleteElements:s}=ob(),a=jd(t,QH),c=jd(e);M.useEffect(()=>{if(a){const{edges:u,getNodes:h}=n.getState(),f=h().filter(g=>g.selected),m=u.filter(g=>g.selected);s({nodes:f,edges:m}),n.setState({nodesSelectionActive:!1})}},[a]),M.useEffect(()=>{n.setState({multiSelectionActive:c})},[c])};function JH(t){const e=hn();M.useEffect(()=>{let n;const s=()=>{if(!t.current)return;const a=Jx(t.current);(a.height===0||a.width===0)&&e.getState().onError?.("004",Er.error004()),e.setState({width:a.width||500,height:a.height||500})};return s(),window.addEventListener("resize",s),t.current&&(n=new ResizeObserver(()=>s()),n.observe(t.current)),()=>{window.removeEventListener("resize",s),n&&t.current&&n.unobserve(t.current)}},[])}const lb={position:"absolute",width:"100%",height:"100%",top:0,left:0},eq=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,wf=t=>({x:t.x,y:t.y,zoom:t.k}),kl=(t,e)=>t.target.closest(`.${e}`),b2=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),j2=t=>{const e=t.ctrlKey&&jm()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},tq=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),nq=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:s,zoomOnScroll:a=!0,zoomOnPinch:c=!0,panOnScroll:u=!1,panOnScrollSpeed:h=.5,panOnScrollMode:f=bo.Free,zoomOnDoubleClick:m=!0,elementsSelectable:g,panOnDrag:x=!0,defaultViewport:b,translateExtent:w,minZoom:T,maxZoom:C,zoomActivationKeyCode:S,preventScrolling:E=!0,children:R,noWheelClassName:P,noPanClassName:F})=>{const $=M.useRef(),X=hn(),A=M.useRef(!1),N=M.useRef(!1),z=M.useRef(null),B=M.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:q,d3ZoomHandler:I,userSelectionActive:H}=Et(tq,yn),ne=jd(S),U=M.useRef(0),Y=M.useRef(!1),ee=M.useRef();return JH(z),M.useEffect(()=>{if(z.current){const Q=z.current.getBoundingClientRect(),W=fC().scaleExtent([T,C]).translateExtent(w),V=Us(z.current).call(W),K=gr.translate(b.x,b.y).scale(ac(b.zoom,T,C)),ae=[[0,0],[Q.width,Q.height]],le=W.constrain()(K,ae,w);W.transform(V,le),W.wheelDelta(j2),X.setState({d3Zoom:W,d3Selection:V,d3ZoomHandler:V.on("wheel.zoom"),transform:[le.x,le.y,le.k],domNode:z.current.closest(".react-flow")})}},[]),M.useEffect(()=>{q&&L&&(u&&!ne&&!H?q.on("wheel.zoom",Q=>{if(kl(Q,P))return!1;Q.preventDefault(),Q.stopImmediatePropagation();const W=q.property("__zoom").k||1;if(Q.ctrlKey&&c){const Re=ai(Q),ke=j2(Q),Oe=W*Math.pow(2,ke);L.scaleTo(q,Oe,Re,Q);return}const V=Q.deltaMode===1?20:1;let K=f===bo.Vertical?0:Q.deltaX*V,ae=f===bo.Horizontal?0:Q.deltaY*V;!jm()&&Q.shiftKey&&f!==bo.Vertical&&(K=Q.deltaY*V,ae=0),L.translateBy(q,-(K/W)*h,-(ae/W)*h,{internal:!0});const le=wf(q.property("__zoom")),{onViewportChangeStart:ye,onViewportChange:ve,onViewportChangeEnd:we}=X.getState();clearTimeout(ee.current),Y.current||(Y.current=!0,e?.(Q,le),ye?.(le)),Y.current&&(t?.(Q,le),ve?.(le),ee.current=setTimeout(()=>{n?.(Q,le),we?.(le),Y.current=!1},150))},{passive:!1}):typeof I<"u"&&q.on("wheel.zoom",function(Q,W){if(!E&&Q.type==="wheel"&&!Q.ctrlKey||kl(Q,P))return null;Q.preventDefault(),I.call(this,Q,W)},{passive:!1}))},[H,u,f,q,L,I,ne,c,E,P,e,t,n]),M.useEffect(()=>{L&&L.on("start",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;U.current=Q.sourceEvent?.button;const{onViewportChangeStart:W}=X.getState(),V=wf(Q.transform);A.current=!0,B.current=V,Q.sourceEvent?.type==="mousedown"&&X.setState({paneDragging:!0}),W?.(V),e?.(Q.sourceEvent,V)})},[L,e]),M.useEffect(()=>{L&&(H&&!A.current?L.on("zoom",null):H||L.on("zoom",Q=>{const{onViewportChange:W}=X.getState();if(X.setState({transform:[Q.transform.x,Q.transform.y,Q.transform.k]}),N.current=!!(s&&b2(x,U.current??0)),(t||W)&&!Q.sourceEvent?.internal){const V=wf(Q.transform);W?.(V),t?.(Q.sourceEvent,V)}}))},[H,L,t,x,s]),M.useEffect(()=>{L&&L.on("end",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;const{onViewportChangeEnd:W}=X.getState();if(A.current=!1,X.setState({paneDragging:!1}),s&&b2(x,U.current??0)&&!N.current&&s(Q.sourceEvent),N.current=!1,(n||W)&&eq(B.current,Q.transform)){const V=wf(Q.transform);B.current=V,clearTimeout($.current),$.current=setTimeout(()=>{W?.(V),n?.(Q.sourceEvent,V)},u?150:0)}})},[L,u,x,n,s]),M.useEffect(()=>{L&&L.filter(Q=>{const W=ne||a,V=c&&Q.ctrlKey;if((x===!0||Array.isArray(x)&&x.includes(1))&&Q.button===1&&Q.type==="mousedown"&&(kl(Q,"react-flow__node")||kl(Q,"react-flow__edge")))return!0;if(!x&&!W&&!u&&!m&&!c||H||!m&&Q.type==="dblclick"||kl(Q,P)&&Q.type==="wheel"||kl(Q,F)&&(Q.type!=="wheel"||u&&Q.type==="wheel"&&!ne)||!c&&Q.ctrlKey&&Q.type==="wheel"||!W&&!u&&!V&&Q.type==="wheel"||!x&&(Q.type==="mousedown"||Q.type==="touchstart")||Array.isArray(x)&&!x.includes(Q.button)&&Q.type==="mousedown")return!1;const K=Array.isArray(x)&&x.includes(Q.button)||!Q.button||Q.button<=1;return(!Q.ctrlKey||Q.type==="wheel")&&K})},[H,L,a,c,u,m,x,g,ne]),ue.createElement("div",{className:"react-flow__renderer",ref:z,style:lb},R)},sq=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function iq(){const{userSelectionActive:t,userSelectionRect:e}=Et(sq,yn);return t&&e?ue.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function w2(t,e){const n=e.parentNode||e.parentId,s=t.find(a=>a.id===n);if(s){const a=e.position.x+e.width-s.width,c=e.position.y+e.height-s.height;if(a>0||c>0||e.position.x<0||e.position.y<0){if(s.style={...s.style},s.style.width=s.style.width??s.width,s.style.height=s.style.height??s.height,a>0&&(s.style.width+=a),c>0&&(s.style.height+=c),e.position.x<0){const u=Math.abs(e.position.x);s.position.x=s.position.x-u,s.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);s.position.y=s.position.y-u,s.style.height+=u,e.position.y=0}s.width=s.style.width,s.height=s.style.height}}}function qC(t,e){if(t.some(s=>s.type==="reset"))return t.filter(s=>s.type==="reset").map(s=>s.item);const n=t.filter(s=>s.type==="add").map(s=>s.item);return e.reduce((s,a)=>{const c=t.filter(h=>h.id===a.id);if(c.length===0)return s.push(a),s;const u={...a};for(const h of c)if(h)switch(h.type){case"select":{u.selected=h.selected;break}case"position":{typeof h.position<"u"&&(u.position=h.position),typeof h.positionAbsolute<"u"&&(u.positionAbsolute=h.positionAbsolute),typeof h.dragging<"u"&&(u.dragging=h.dragging),u.expandParent&&w2(s,u);break}case"dimensions":{typeof h.dimensions<"u"&&(u.width=h.dimensions.width,u.height=h.dimensions.height),typeof h.updateStyle<"u"&&(u.style={...u.style||{},...h.dimensions}),typeof h.resizing=="boolean"&&(u.resizing=h.resizing),u.expandParent&&w2(s,u);break}case"remove":return s}return s.push(u),s},n)}function $C(t,e){return qC(t,e)}function rq(t,e){return qC(t,e)}const ca=(t,e)=>({id:t,type:"select",selected:e});function Pl(t,e){return t.reduce((n,s)=>{const a=e.includes(s.id);return!s.selected&&a?(s.selected=!0,n.push(ca(s.id,!0))):s.selected&&!a&&(s.selected=!1,n.push(ca(s.id,!1))),n},[])}const Hy=(t,e)=>n=>{n.target===e.current&&t?.(n)},aq=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),GC=M.memo(({isSelecting:t,selectionMode:e=bd.Full,panOnDrag:n,onSelectionStart:s,onSelectionEnd:a,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:h,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:g,children:x})=>{const b=M.useRef(null),w=hn(),T=M.useRef(0),C=M.useRef(0),S=M.useRef(),{userSelectionActive:E,elementsSelectable:R,dragging:P}=Et(aq,yn),F=()=>{w.setState({userSelectionActive:!1,userSelectionRect:null}),T.current=0,C.current=0},$=I=>{c?.(I),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},X=I=>{if(Array.isArray(n)&&n?.includes(2)){I.preventDefault();return}u?.(I)},A=h?I=>h(I):void 0,N=I=>{const{resetSelectedElements:H,domNode:ne}=w.getState();if(S.current=ne?.getBoundingClientRect(),!R||!t||I.button!==0||I.target!==b.current||!S.current)return;const{x:U,y:Y}=ya(I,S.current);H(),w.setState({userSelectionRect:{width:0,height:0,startX:U,startY:Y,x:U,y:Y}}),s?.(I)},z=I=>{const{userSelectionRect:H,nodeInternals:ne,edges:U,transform:Y,onNodesChange:ee,onEdgesChange:Q,nodeOrigin:W,getNodes:V}=w.getState();if(!t||!S.current||!H)return;w.setState({userSelectionActive:!0,nodesSelectionActive:!1});const K=ya(I,S.current),ae=H.startX??0,le=H.startY??0,ye={...H,x:K.x<ae?K.x:ae,y:K.y<le?K.y:le,width:Math.abs(K.x-ae),height:Math.abs(K.y-le)},ve=V(),we=SC(ne,ye,Y,e===bd.Partial,!0,W),Re=TC(we,U).map(Oe=>Oe.id),ke=we.map(Oe=>Oe.id);if(T.current!==ke.length){T.current=ke.length;const Oe=Pl(ve,ke);Oe.length&&ee?.(Oe)}if(C.current!==Re.length){C.current=Re.length;const Oe=Pl(U,Re);Oe.length&&Q?.(Oe)}w.setState({userSelectionRect:ye})},B=I=>{if(I.button!==0)return;const{userSelectionRect:H}=w.getState();!E&&H&&I.target===b.current&&$?.(I),w.setState({nodesSelectionActive:T.current>0}),F(),a?.(I)},L=I=>{E&&(w.setState({nodesSelectionActive:T.current>0}),a?.(I)),F()},q=R&&(t||E);return ue.createElement("div",{className:Tn(["react-flow__pane",{dragging:P,selection:t}]),onClick:q?void 0:Hy($,b),onContextMenu:Hy(X,b),onWheel:Hy(A,b),onMouseEnter:q?void 0:f,onMouseDown:q?N:void 0,onMouseMove:q?z:m,onMouseUp:q?B:void 0,onMouseLeave:q?L:g,ref:b,style:lb},x,ue.createElement(iq,null))});GC.displayName="Pane";function KC(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const s=e.get(n);return s?s.selected?!0:KC(s,e):!1}function _2(t,e,n){let s=t;do{if(s?.matches(e))return!0;if(s===n.current)return!1;s=s.parentElement}while(s);return!1}function oq(t,e,n,s){return Array.from(t.values()).filter(a=>(a.selected||a.id===s)&&(!a.parentNode||a.parentId||!KC(a,t))&&(a.draggable||e&&typeof a.draggable>"u")).map(a=>({id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(a.positionAbsolute?.x??0),y:n.y-(a.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}))}function lq(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function YC(t,e,n,s,a=[0,0],c){const u=lq(t,t.extent||s);let h=u;const f=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(f&&t.width&&t.height){const x=n.get(f),{x:b,y:w}=To(x,a).positionAbsolute;h=x&&Hs(b)&&Hs(w)&&Hs(x.width)&&Hs(x.height)?[[b+t.width*a[0],w+t.height*a[1]],[b+x.width-t.width+t.width*a[0],w+x.height-t.height+t.height*a[1]]]:h}else c?.("005",Er.error005()),h=u;else if(t.extent&&f&&t.extent!=="parent"){const x=n.get(f),{x:b,y:w}=To(x,a).positionAbsolute;h=[[t.extent[0][0]+b,t.extent[0][1]+w],[t.extent[1][0]+b,t.extent[1][1]+w]]}let m={x:0,y:0};if(f){const x=n.get(f);m=To(x,a).positionAbsolute}const g=h&&h!=="parent"?eb(e,h):e;return{position:{x:g.x-m.x,y:g.y-m.y},positionAbsolute:g}}function qy({nodeId:t,dragItems:e,nodeInternals:n}){const s=e.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[t?s.find(a=>a.id===t):s[0],s]}const E2=(t,e,n,s)=>{const a=e.querySelectorAll(t);if(!a||!a.length)return null;const c=Array.from(a),u=e.getBoundingClientRect(),h={x:u.width*s[0],y:u.height*s[1]};return c.map(f=>{const m=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(m.left-u.left-h.x)/n,y:(m.top-u.top-h.y)/n,...Jx(f)}})};function ku(t,e,n){return n===void 0?n:s=>{const a=e().nodeInternals.get(t);a&&n(s,{...a})}}function f0({id:t,store:e,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:a,unselectNodesAndEdges:c,multiSelectionActive:u,nodeInternals:h,onError:f}=e.getState(),m=h.get(t);if(!m){f?.("012",Er.error012(t));return}e.setState({nodesSelectionActive:!1}),m.selected?(n||m.selected&&u)&&(c({nodes:[m],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):a([t])}function cq(){const t=hn();return M.useCallback(({sourceEvent:n})=>{const{transform:s,snapGrid:a,snapToGrid:c}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,h=n.touches?n.touches[0].clientY:n.clientY,f={x:(u-s[0])/s[2],y:(h-s[1])/s[2]};return{xSnapped:c?a[0]*Math.round(f.x/a[0]):f.x,ySnapped:c?a[1]*Math.round(f.y/a[1]):f.y,...f}},[])}function $y(t){return(e,n,s)=>t?.(e,s)}function XC({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:s,nodeId:a,isSelectable:c,selectNodesOnDrag:u}){const h=hn(),[f,m]=M.useState(!1),g=M.useRef([]),x=M.useRef({x:null,y:null}),b=M.useRef(0),w=M.useRef(null),T=M.useRef({x:0,y:0}),C=M.useRef(null),S=M.useRef(!1),E=M.useRef(!1),R=M.useRef(!1),P=cq();return M.useEffect(()=>{if(t?.current){const F=Us(t.current),$=({x:N,y:z})=>{const{nodeInternals:B,onNodeDrag:L,onSelectionDrag:q,updateNodePositions:I,nodeExtent:H,snapGrid:ne,snapToGrid:U,nodeOrigin:Y,onError:ee}=h.getState();x.current={x:N,y:z};let Q=!1,W={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&H){const K=sp(g.current,Y);W=xd(K)}if(g.current=g.current.map(K=>{const ae={x:N-K.distance.x,y:z-K.distance.y};U&&(ae.x=ne[0]*Math.round(ae.x/ne[0]),ae.y=ne[1]*Math.round(ae.y/ne[1]));const le=[[H[0][0],H[0][1]],[H[1][0],H[1][1]]];g.current.length>1&&H&&!K.extent&&(le[0][0]=K.positionAbsolute.x-W.x+H[0][0],le[1][0]=K.positionAbsolute.x+(K.width??0)-W.x2+H[1][0],le[0][1]=K.positionAbsolute.y-W.y+H[0][1],le[1][1]=K.positionAbsolute.y+(K.height??0)-W.y2+H[1][1]);const ye=YC(K,ae,B,le,Y,ee);return Q=Q||K.position.x!==ye.position.x||K.position.y!==ye.position.y,K.position=ye.position,K.positionAbsolute=ye.positionAbsolute,K}),!Q)return;I(g.current,!0,!0),m(!0);const V=a?L:$y(q);if(V&&C.current){const[K,ae]=qy({nodeId:a,dragItems:g.current,nodeInternals:B});V(C.current,K,ae)}},X=()=>{if(!w.current)return;const[N,z]=pC(T.current,w.current);if(N!==0||z!==0){const{transform:B,panBy:L}=h.getState();x.current.x=(x.current.x??0)-N/B[2],x.current.y=(x.current.y??0)-z/B[2],L({x:N,y:z})&&$(x.current)}b.current=requestAnimationFrame(X)},A=N=>{const{nodeInternals:z,multiSelectionActive:B,nodesDraggable:L,unselectNodesAndEdges:q,onNodeDragStart:I,onSelectionDragStart:H}=h.getState();E.current=!0;const ne=a?I:$y(H);(!u||!c)&&!B&&a&&(z.get(a)?.selected||q()),a&&c&&u&&f0({id:a,store:h,nodeRef:t});const U=P(N);if(x.current=U,g.current=oq(z,L,U,a),ne&&g.current){const[Y,ee]=qy({nodeId:a,dragItems:g.current,nodeInternals:z});ne(N.sourceEvent,Y,ee)}};if(e)F.on(".drag",null);else{const N=bU().on("start",z=>{const{domNode:B,nodeDragThreshold:L}=h.getState();L===0&&A(z),R.current=!1;const q=P(z);x.current=q,w.current=B?.getBoundingClientRect()||null,T.current=ya(z.sourceEvent,w.current)}).on("drag",z=>{const B=P(z),{autoPanOnNodeDrag:L,nodeDragThreshold:q}=h.getState();if(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1&&(R.current=!0),!R.current){if(!S.current&&E.current&&L&&(S.current=!0,X()),!E.current){const I=B.xSnapped-(x?.current?.x??0),H=B.ySnapped-(x?.current?.y??0);Math.sqrt(I*I+H*H)>q&&A(z)}(x.current.x!==B.xSnapped||x.current.y!==B.ySnapped)&&g.current&&E.current&&(C.current=z.sourceEvent,T.current=ya(z.sourceEvent,w.current),$(B))}}).on("end",z=>{if(!(!E.current||R.current)&&(m(!1),S.current=!1,E.current=!1,cancelAnimationFrame(b.current),g.current)){const{updateNodePositions:B,nodeInternals:L,onNodeDragStop:q,onSelectionDragStop:I}=h.getState(),H=a?q:$y(I);if(B(g.current,!1,!1),H){const[ne,U]=qy({nodeId:a,dragItems:g.current,nodeInternals:L});H(z.sourceEvent,ne,U)}}}).filter(z=>{const B=z.target;return!z.button&&(!n||!_2(B,`.${n}`,t))&&(!s||_2(B,s,t))});return F.call(N),()=>{F.on(".drag",null)}}}},[t,e,n,s,c,h,a,u,P]),f}function ZC(){const t=hn();return M.useCallback(n=>{const{nodeInternals:s,nodeExtent:a,updateNodePositions:c,getNodes:u,snapToGrid:h,snapGrid:f,onError:m,nodesDraggable:g}=t.getState(),x=u().filter(R=>R.selected&&(R.draggable||g&&typeof R.draggable>"u")),b=h?f[0]:5,w=h?f[1]:5,T=n.isShiftPressed?4:1,C=n.x*b*T,S=n.y*w*T,E=x.map(R=>{if(R.positionAbsolute){const P={x:R.positionAbsolute.x+C,y:R.positionAbsolute.y+S};h&&(P.x=f[0]*Math.round(P.x/f[0]),P.y=f[1]*Math.round(P.y/f[1]));const{positionAbsolute:F,position:$}=YC(R,P,s,a,void 0,m);R.position=$,R.positionAbsolute=F}return R});c(E,!0,!1)},[])}const $l={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Su=t=>{const e=({id:n,type:s,data:a,xPos:c,yPos:u,xPosOrigin:h,yPosOrigin:f,selected:m,onClick:g,onMouseEnter:x,onMouseMove:b,onMouseLeave:w,onContextMenu:T,onDoubleClick:C,style:S,className:E,isDraggable:R,isSelectable:P,isConnectable:F,isFocusable:$,selectNodesOnDrag:X,sourcePosition:A,targetPosition:N,hidden:z,resizeObserver:B,dragHandle:L,zIndex:q,isParent:I,noDragClassName:H,noPanClassName:ne,initialized:U,disableKeyboardA11y:Y,ariaLabel:ee,rfId:Q,hasHandleBounds:W})=>{const V=hn(),K=M.useRef(null),ae=M.useRef(null),le=M.useRef(A),ye=M.useRef(N),ve=M.useRef(s),we=P||R||g||x||b||w,Re=ZC(),ke=ku(n,V.getState,x),Oe=ku(n,V.getState,b),wt=ku(n,V.getState,w),ut=ku(n,V.getState,T),bt=ku(n,V.getState,C),ot=We=>{const{nodeDragThreshold:Te}=V.getState();if(P&&(!X||!R||Te>0)&&f0({id:n,store:V,nodeRef:K}),g){const $e=V.getState().nodeInternals.get(n);$e&&g(We,{...$e})}},dt=We=>{if(!l0(We)&&!Y)if(xC.includes(We.key)&&P){const Te=We.key==="Escape";f0({id:n,store:V,unselect:Te,nodeRef:K})}else R&&m&&Object.prototype.hasOwnProperty.call($l,We.key)&&(V.setState({ariaLiveMessage:`Moved selected node ${We.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~u}`}),Re({x:$l[We.key].x,y:$l[We.key].y,isShiftPressed:We.shiftKey}))};M.useEffect(()=>()=>{ae.current&&(B?.unobserve(ae.current),ae.current=null)},[]),M.useEffect(()=>{if(K.current&&!z){const We=K.current;(!U||!W||ae.current!==We)&&(ae.current&&B?.unobserve(ae.current),B?.observe(We),ae.current=We)}},[z,U,W]),M.useEffect(()=>{const We=ve.current!==s,Te=le.current!==A,$e=ye.current!==N;K.current&&(We||Te||$e)&&(We&&(ve.current=s),Te&&(le.current=A),$e&&(ye.current=N),V.getState().updateNodeDimensions([{id:n,nodeElement:K.current,forceUpdate:!0}]))},[n,s,A,N]);const Mt=XC({nodeRef:K,disabled:z||!R,noDragClassName:H,handleSelector:L,nodeId:n,isSelectable:P,selectNodesOnDrag:X});return z?null:ue.createElement("div",{className:Tn(["react-flow__node",`react-flow__node-${s}`,{[ne]:R},E,{selected:m,selectable:P,parent:I,dragging:Mt}]),ref:K,style:{zIndex:q,transform:`translate(${h}px,${f}px)`,pointerEvents:we?"all":"none",visibility:U?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ke,onMouseMove:Oe,onMouseLeave:wt,onContextMenu:ut,onClick:ot,onDoubleClick:bt,onKeyDown:$?dt:void 0,tabIndex:$?0:void 0,role:$?"button":void 0,"aria-describedby":Y?void 0:`${LC}-${Q}`,"aria-label":ee},ue.createElement(_H,{value:n},ue.createElement(t,{id:n,data:a,type:s,xPos:c,yPos:u,selected:m,isConnectable:F,sourcePosition:A,targetPosition:N,dragging:Mt,dragHandle:L,zIndex:q})))};return e.displayName="NodeWrapper",M.memo(e)};const uq=t=>{const e=t.getNodes().filter(n=>n.selected);return{...sp(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function dq({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const s=hn(),{width:a,height:c,x:u,y:h,transformString:f,userSelectionActive:m}=Et(uq,yn),g=ZC(),x=M.useRef(null);if(M.useEffect(()=>{n||x.current?.focus({preventScroll:!0})},[n]),XC({nodeRef:x}),m||!a||!c)return null;const b=t?T=>{const C=s.getState().getNodes().filter(S=>S.selected);t(T,C)}:void 0,w=T=>{Object.prototype.hasOwnProperty.call($l,T.key)&&g({x:$l[T.key].x,y:$l[T.key].y,isShiftPressed:T.shiftKey})};return ue.createElement("div",{className:Tn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:f}},ue.createElement("div",{ref:x,className:"react-flow__nodesselection-rect",onContextMenu:b,tabIndex:n?void 0:-1,onKeyDown:n?void 0:w,style:{width:a,height:c,top:h,left:u}}))}var hq=M.memo(dq);const fq=t=>t.nodesSelectionActive,QC=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:u,deleteKeyCode:h,onMove:f,onMoveStart:m,onMoveEnd:g,selectionKeyCode:x,selectionOnDrag:b,selectionMode:w,onSelectionStart:T,onSelectionEnd:C,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:R,elementsSelectable:P,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:X,panOnScrollSpeed:A,panOnScrollMode:N,zoomOnDoubleClick:z,panOnDrag:B,defaultViewport:L,translateExtent:q,minZoom:I,maxZoom:H,preventScrolling:ne,onSelectionContextMenu:U,noWheelClassName:Y,noPanClassName:ee,disableKeyboardA11y:Q})=>{const W=Et(fq),V=jd(x),K=jd(E),ae=K||B,le=K||X,ye=V||b&&ae!==!0;return WH({deleteKeyCode:h,multiSelectionKeyCode:S}),ue.createElement(nq,{onMove:f,onMoveStart:m,onMoveEnd:g,onPaneContextMenu:c,elementsSelectable:P,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:le,panOnScrollSpeed:A,panOnScrollMode:N,zoomOnDoubleClick:z,panOnDrag:!V&&ae,defaultViewport:L,translateExtent:q,minZoom:I,maxZoom:H,zoomActivationKeyCode:R,preventScrolling:ne,noWheelClassName:Y,noPanClassName:ee},ue.createElement(GC,{onSelectionStart:T,onSelectionEnd:C,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:c,onPaneScroll:u,panOnDrag:ae,isSelecting:!!ye,selectionMode:w},t,W&&ue.createElement(hq,{onSelectionContextMenu:U,noPanClassName:ee,disableKeyboardA11y:Q})))};QC.displayName="FlowRenderer";var mq=M.memo(QC);function pq(t){return Et(M.useCallback(n=>t?SC(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function gq(t){const e={input:Su(t.input||VC),default:Su(t.default||h0),output:Su(t.output||PC),group:Su(t.group||ab)},n={},s=Object.keys(t).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,c)=>(a[c]=Su(t[c]||h0),a),n);return{...e,...s}}const yq=({x:t,y:e,width:n,height:s,origin:a})=>!n||!s?{x:t,y:e}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:t,y:e}:{x:t-n*a[0],y:e-s*a[1]},vq=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),WC=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:s,elementsSelectable:a,updateNodeDimensions:c,onError:u}=Et(vq,yn),h=pq(t.onlyRenderVisibleElements),f=M.useRef(),m=M.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(x=>{const b=x.map(w=>({id:w.target.getAttribute("data-id"),nodeElement:w.target,forceUpdate:!0}));c(b)});return f.current=g,g},[]);return M.useEffect(()=>()=>{f?.current?.disconnect()},[]),ue.createElement("div",{className:"react-flow__nodes",style:lb},h.map(g=>{let x=g.type||"default";t.nodeTypes[x]||(u?.("003",Er.error003(x)),x="default");const b=t.nodeTypes[x]||t.nodeTypes.default,w=!!(g.draggable||e&&typeof g.draggable>"u"),T=!!(g.selectable||a&&typeof g.selectable>"u"),C=!!(g.connectable||n&&typeof g.connectable>"u"),S=!!(g.focusable||s&&typeof g.focusable>"u"),E=t.nodeExtent?eb(g.positionAbsolute,t.nodeExtent):g.positionAbsolute,R=E?.x??0,P=E?.y??0,F=yq({x:R,y:P,width:g.width??0,height:g.height??0,origin:t.nodeOrigin});return ue.createElement(b,{key:g.id,id:g.id,className:g.className,style:g.style,type:x,data:g.data,sourcePosition:g.sourcePosition||Ce.Bottom,targetPosition:g.targetPosition||Ce.Top,hidden:g.hidden,xPos:R,yPos:P,xPosOrigin:F.x,yPosOrigin:F.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!g.selected,isDraggable:w,isSelectable:T,isConnectable:C,isFocusable:S,resizeObserver:m,dragHandle:g.dragHandle,zIndex:g[qt]?.z??0,isParent:!!g[qt]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!g.width&&!!g.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!g[qt]?.handleBounds})}))};WC.displayName="NodeRenderer";var xq=M.memo(WC);const bq=(t,e,n)=>n===Ce.Left?t-e:n===Ce.Right?t+e:t,jq=(t,e,n)=>n===Ce.Top?t-e:n===Ce.Bottom?t+e:t,k2="react-flow__edgeupdater",S2=({position:t,centerX:e,centerY:n,radius:s=10,onMouseDown:a,onMouseEnter:c,onMouseOut:u,type:h})=>ue.createElement("circle",{onMouseDown:a,onMouseEnter:c,onMouseOut:u,className:Tn([k2,`${k2}-${h}`]),cx:bq(e,s,t),cy:jq(n,s,t),r:s,stroke:"transparent",fill:"transparent"}),wq=()=>!0;var Sl=t=>{const e=({id:n,className:s,type:a,data:c,onClick:u,onEdgeDoubleClick:h,selected:f,animated:m,label:g,labelStyle:x,labelShowBg:b,labelBgStyle:w,labelBgPadding:T,labelBgBorderRadius:C,style:S,source:E,target:R,sourceX:P,sourceY:F,targetX:$,targetY:X,sourcePosition:A,targetPosition:N,elementsSelectable:z,hidden:B,sourceHandleId:L,targetHandleId:q,onContextMenu:I,onMouseEnter:H,onMouseMove:ne,onMouseLeave:U,reconnectRadius:Y,onReconnect:ee,onReconnectStart:Q,onReconnectEnd:W,markerEnd:V,markerStart:K,rfId:ae,ariaLabel:le,isFocusable:ye,isReconnectable:ve,pathOptions:we,interactionWidth:Re,disableKeyboardA11y:ke})=>{const Oe=M.useRef(null),[wt,ut]=M.useState(!1),[bt,ot]=M.useState(!1),dt=hn(),Mt=M.useMemo(()=>`url('#${u0(K,ae)}')`,[K,ae]),We=M.useMemo(()=>`url('#${u0(V,ae)}')`,[V,ae]);if(B)return null;const Te=$t=>{const{edges:Pn,addSelectedEdges:ln,unselectNodesAndEdges:St,multiSelectionActive:cn}=dt.getState(),tt=Pn.find(xs=>xs.id===n);tt&&(z&&(dt.setState({nodesSelectionActive:!1}),tt.selected&&cn?(St({nodes:[],edges:[tt]}),Oe.current?.blur()):ln([n])),u&&u($t,tt))},$e=Eu(n,dt.getState,h),ht=Eu(n,dt.getState,I),Hn=Eu(n,dt.getState,H),di=Eu(n,dt.getState,ne),Ks=Eu(n,dt.getState,U),kt=($t,Pn)=>{if($t.button!==0)return;const{edges:ln,isValidConnection:St}=dt.getState(),cn=Pn?R:E,tt=(Pn?q:L)||null,xs=Pn?"target":"source",mi=St||wq,kr=Pn,Nn=ln.find(fn=>fn.id===n);ot(!0),Q?.($t,Nn,xs);const Ys=fn=>{ot(!1),W?.(fn,Nn,xs)};RC({event:$t,handleId:tt,nodeId:cn,onConnect:fn=>ee?.(Nn,fn),isTarget:kr,getState:dt.getState,setState:dt.setState,isValidConnection:mi,edgeUpdaterType:xs,onReconnectEnd:Ys})},qn=$t=>kt($t,!0),ns=$t=>kt($t,!1),ss=()=>ut(!0),In=()=>ut(!1),hi=!z&&!u,fi=$t=>{if(!ke&&xC.includes($t.key)&&z){const{unselectNodesAndEdges:Pn,addSelectedEdges:ln,edges:St}=dt.getState();$t.key==="Escape"?(Oe.current?.blur(),Pn({edges:[St.find(tt=>tt.id===n)]})):ln([n])}};return ue.createElement("g",{className:Tn(["react-flow__edge",`react-flow__edge-${a}`,s,{selected:f,animated:m,inactive:hi,updating:wt}]),onClick:Te,onDoubleClick:$e,onContextMenu:ht,onMouseEnter:Hn,onMouseMove:di,onMouseLeave:Ks,onKeyDown:ye?fi:void 0,tabIndex:ye?0:void 0,role:ye?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":le===null?void 0:le||`Edge from ${E} to ${R}`,"aria-describedby":ye?`${BC}-${ae}`:void 0,ref:Oe},!bt&&ue.createElement(t,{id:n,source:E,target:R,selected:f,animated:m,label:g,labelStyle:x,labelShowBg:b,labelBgStyle:w,labelBgPadding:T,labelBgBorderRadius:C,data:c,style:S,sourceX:P,sourceY:F,targetX:$,targetY:X,sourcePosition:A,targetPosition:N,sourceHandleId:L,targetHandleId:q,markerStart:Mt,markerEnd:We,pathOptions:we,interactionWidth:Re}),ve&&ue.createElement(ue.Fragment,null,(ve==="source"||ve===!0)&&ue.createElement(S2,{position:A,centerX:P,centerY:F,radius:Y,onMouseDown:qn,onMouseEnter:ss,onMouseOut:In,type:"source"}),(ve==="target"||ve===!0)&&ue.createElement(S2,{position:N,centerX:$,centerY:X,radius:Y,onMouseDown:ns,onMouseEnter:ss,onMouseOut:In,type:"target"})))};return e.displayName="EdgeWrapper",M.memo(e)};function _q(t){const e={default:Sl(t.default||wm),straight:Sl(t.bezier||sb),step:Sl(t.step||nb),smoothstep:Sl(t.step||np),simplebezier:Sl(t.simplebezier||tb)},n={},s=Object.keys(t).filter(a=>!["default","bezier"].includes(a)).reduce((a,c)=>(a[c]=Sl(t[c]||wm),a),n);return{...e,...s}}function T2(t,e,n=null){const s=(n?.x||0)+e.x,a=(n?.y||0)+e.y,c=n?.width||e.width,u=n?.height||e.height;switch(t){case Ce.Top:return{x:s+c/2,y:a};case Ce.Right:return{x:s+c,y:a+u/2};case Ce.Bottom:return{x:s+c/2,y:a+u};case Ce.Left:return{x:s,y:a+u/2}}}function N2(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const Eq=(t,e,n,s,a,c)=>{const u=T2(n,t,e),h=T2(c,s,a);return{sourceX:u.x,sourceY:u.y,targetX:h.x,targetY:h.y}};function kq({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:s,targetWidth:a,targetHeight:c,width:u,height:h,transform:f}){const m={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+a),y2:Math.max(t.y+s,e.y+c)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const g=xd({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:u/f[2],height:h/f[2]}),x=Math.max(0,Math.min(g.x2,m.x2)-Math.max(g.x,m.x)),b=Math.max(0,Math.min(g.y2,m.y2)-Math.max(g.y,m.y));return Math.ceil(x*b)>0}function A2(t){const e=t?.[qt]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const Sq=[{level:0,isMaxLevel:!0,edges:[]}];function Tq(t,e,n=!1){let s=-1;const a=t.reduce((u,h)=>{const f=Hs(h.zIndex);let m=f?h.zIndex:0;if(n){const g=e.get(h.target),x=e.get(h.source),b=h.selected||g?.selected||x?.selected,w=Math.max(x?.[qt]?.z||0,g?.[qt]?.z||0,1e3);m=(f?h.zIndex:0)+(b?w:0)}return u[m]?u[m].push(h):u[m]=[h],s=m>s?m:s,u},{}),c=Object.entries(a).map(([u,h])=>{const f=+u;return{edges:h,level:f,isMaxLevel:f===s}});return c.length===0?Sq:c}function Nq(t,e,n){const s=Et(M.useCallback(a=>t?a.edges.filter(c=>{const u=e.get(c.source),h=e.get(c.target);return u?.width&&u?.height&&h?.width&&h?.height&&kq({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:h.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:h.width,targetHeight:h.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[t,e]));return Tq(s,e,n)}const Aq=({color:t="none",strokeWidth:e=1})=>ue.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Cq=({color:t="none",strokeWidth:e=1})=>ue.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),C2={[fr.Arrow]:Aq,[fr.ArrowClosed]:Cq};function Rq(t){const e=hn();return M.useMemo(()=>Object.prototype.hasOwnProperty.call(C2,t)?C2[t]:(e.getState().onError?.("009",Er.error009(t)),null),[t])}const zq=({id:t,type:e,color:n,width:s=12.5,height:a=12.5,markerUnits:c="strokeWidth",strokeWidth:u,orient:h="auto-start-reverse"})=>{const f=Rq(e);return f?ue.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${s}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:h,refX:"0",refY:"0"},ue.createElement(f,{color:n,strokeWidth:u})):null},Mq=({defaultColor:t,rfId:e})=>n=>{const s=[];return n.edges.reduce((a,c)=>([c.markerStart,c.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const h=u0(u,e);s.includes(h)||(a.push({id:h,color:u.color||t,...u}),s.push(h))}}),a),[]).sort((a,c)=>a.id.localeCompare(c.id))},JC=({defaultColor:t,rfId:e})=>{const n=Et(M.useCallback(Mq({defaultColor:t,rfId:e}),[t,e]),(s,a)=>!(s.length!==a.length||s.some((c,u)=>c.id!==a[u].id)));return ue.createElement("defs",null,n.map(s=>ue.createElement(zq,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient})))};JC.displayName="MarkerDefinitions";var Dq=M.memo(JC);const Vq=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),eR=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:s,edgeTypes:a,noPanClassName:c,onEdgeContextMenu:u,onEdgeMouseEnter:h,onEdgeMouseMove:f,onEdgeMouseLeave:m,onEdgeClick:g,onEdgeDoubleClick:x,onReconnect:b,onReconnectStart:w,onReconnectEnd:T,reconnectRadius:C,children:S,disableKeyboardA11y:E})=>{const{edgesFocusable:R,edgesUpdatable:P,elementsSelectable:F,width:$,height:X,connectionMode:A,nodeInternals:N,onError:z}=Et(Vq,yn),B=Nq(e,N,n);return $?ue.createElement(ue.Fragment,null,B.map(({level:L,edges:q,isMaxLevel:I})=>ue.createElement("svg",{key:L,style:{zIndex:L},width:$,height:X,className:"react-flow__edges react-flow__container"},I&&ue.createElement(Dq,{defaultColor:t,rfId:s}),ue.createElement("g",null,q.map(H=>{const[ne,U,Y]=A2(N.get(H.source)),[ee,Q,W]=A2(N.get(H.target));if(!Y||!W)return null;let V=H.type||"default";a[V]||(z?.("011",Er.error011(V)),V="default");const K=a[V]||a.default,ae=A===Ro.Strict?Q.target:(Q.target??[]).concat(Q.source??[]),le=N2(U.source,H.sourceHandle),ye=N2(ae,H.targetHandle),ve=le?.position||Ce.Bottom,we=ye?.position||Ce.Top,Re=!!(H.focusable||R&&typeof H.focusable>"u"),ke=H.reconnectable||H.updatable,Oe=typeof b<"u"&&(ke||P&&typeof ke>"u");if(!le||!ye)return z?.("008",Er.error008(le,H)),null;const{sourceX:wt,sourceY:ut,targetX:bt,targetY:ot}=Eq(ne,le,ve,ee,ye,we);return ue.createElement(K,{key:H.id,id:H.id,className:Tn([H.className,c]),type:V,data:H.data,selected:!!H.selected,animated:!!H.animated,hidden:!!H.hidden,label:H.label,labelStyle:H.labelStyle,labelShowBg:H.labelShowBg,labelBgStyle:H.labelBgStyle,labelBgPadding:H.labelBgPadding,labelBgBorderRadius:H.labelBgBorderRadius,style:H.style,source:H.source,target:H.target,sourceHandleId:H.sourceHandle,targetHandleId:H.targetHandle,markerEnd:H.markerEnd,markerStart:H.markerStart,sourceX:wt,sourceY:ut,targetX:bt,targetY:ot,sourcePosition:ve,targetPosition:we,elementsSelectable:F,onContextMenu:u,onMouseEnter:h,onMouseMove:f,onMouseLeave:m,onClick:g,onEdgeDoubleClick:x,onReconnect:b,onReconnectStart:w,onReconnectEnd:T,reconnectRadius:C,rfId:s,ariaLabel:H.ariaLabel,isFocusable:Re,isReconnectable:Oe,pathOptions:"pathOptions"in H?H.pathOptions:void 0,interactionWidth:H.interactionWidth,disableKeyboardA11y:E})})))),S):null};eR.displayName="EdgeRenderer";var Iq=M.memo(eR);const Pq=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Oq({children:t}){const e=Et(Pq);return ue.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function Lq(t){const e=ob(),n=M.useRef(!1);M.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Bq={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top},tR=({nodeId:t,handleType:e,style:n,type:s=ua.Bezier,CustomComponent:a,connectionStatus:c})=>{const{fromNode:u,handleId:h,toX:f,toY:m,connectionMode:g}=Et(M.useCallback(X=>({fromNode:X.nodeInternals.get(t),handleId:X.connectionHandleId,toX:(X.connectionPosition.x-X.transform[0])/X.transform[2],toY:(X.connectionPosition.y-X.transform[1])/X.transform[2],connectionMode:X.connectionMode}),[t]),yn),x=u?.[qt]?.handleBounds;let b=x?.[e];if(g===Ro.Loose&&(b=b||x?.[e==="source"?"target":"source"]),!u||!b)return null;const w=h?b.find(X=>X.id===h):b[0],T=w?w.x+w.width/2:(u.width??0)/2,C=w?w.y+w.height/2:u.height??0,S=(u.positionAbsolute?.x??0)+T,E=(u.positionAbsolute?.y??0)+C,R=w?.position,P=R?Bq[R]:null;if(!R||!P)return null;if(a)return ue.createElement(a,{connectionLineType:s,connectionLineStyle:n,fromNode:u,fromHandle:w,fromX:S,fromY:E,toX:f,toY:m,fromPosition:R,toPosition:P,connectionStatus:c});let F="";const $={sourceX:S,sourceY:E,sourcePosition:R,targetX:f,targetY:m,targetPosition:P};return s===ua.Bezier?[F]=EC($):s===ua.Step?[F]=c0({...$,borderRadius:0}):s===ua.SmoothStep?[F]=c0($):s===ua.SimpleBezier?[F]=_C($):F=`M${S},${E} ${f},${m}`,ue.createElement("path",{d:F,fill:"none",className:"react-flow__connection-path",style:n})};tR.displayName="ConnectionLine";const Uq=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Fq({containerStyle:t,style:e,type:n,component:s}){const{nodeId:a,handleType:c,nodesConnectable:u,width:h,height:f,connectionStatus:m}=Et(Uq,yn);return!(a&&c&&h&&u)?null:ue.createElement("svg",{style:t,width:h,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},ue.createElement("g",{className:Tn(["react-flow__connection",m])},ue.createElement(tR,{nodeId:a,handleType:c,style:e,type:n,CustomComponent:s,connectionStatus:m})))}function R2(t,e){return M.useRef(null),hn(),M.useMemo(()=>e(t),[t])}const nR=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:s,onMoveEnd:a,onInit:c,onNodeClick:u,onEdgeClick:h,onNodeDoubleClick:f,onEdgeDoubleClick:m,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:b,onNodeContextMenu:w,onSelectionContextMenu:T,onSelectionStart:C,onSelectionEnd:S,connectionLineType:E,connectionLineStyle:R,connectionLineComponent:P,connectionLineContainerStyle:F,selectionKeyCode:$,selectionOnDrag:X,selectionMode:A,multiSelectionKeyCode:N,panActivationKeyCode:z,zoomActivationKeyCode:B,deleteKeyCode:L,onlyRenderVisibleElements:q,elementsSelectable:I,selectNodesOnDrag:H,defaultViewport:ne,translateExtent:U,minZoom:Y,maxZoom:ee,preventScrolling:Q,defaultMarkerColor:W,zoomOnScroll:V,zoomOnPinch:K,panOnScroll:ae,panOnScrollSpeed:le,panOnScrollMode:ye,zoomOnDoubleClick:ve,panOnDrag:we,onPaneClick:Re,onPaneMouseEnter:ke,onPaneMouseMove:Oe,onPaneMouseLeave:wt,onPaneScroll:ut,onPaneContextMenu:bt,onEdgeContextMenu:ot,onEdgeMouseEnter:dt,onEdgeMouseMove:Mt,onEdgeMouseLeave:We,onReconnect:Te,onReconnectStart:$e,onReconnectEnd:ht,reconnectRadius:Hn,noDragClassName:di,noWheelClassName:Ks,noPanClassName:kt,elevateEdgesOnSelect:qn,disableKeyboardA11y:ns,nodeOrigin:ss,nodeExtent:In,rfId:hi})=>{const fi=R2(t,gq),$t=R2(e,_q);return Lq(c),ue.createElement(mq,{onPaneClick:Re,onPaneMouseEnter:ke,onPaneMouseMove:Oe,onPaneMouseLeave:wt,onPaneContextMenu:bt,onPaneScroll:ut,deleteKeyCode:L,selectionKeyCode:$,selectionOnDrag:X,selectionMode:A,onSelectionStart:C,onSelectionEnd:S,multiSelectionKeyCode:N,panActivationKeyCode:z,zoomActivationKeyCode:B,elementsSelectable:I,onMove:n,onMoveStart:s,onMoveEnd:a,zoomOnScroll:V,zoomOnPinch:K,zoomOnDoubleClick:ve,panOnScroll:ae,panOnScrollSpeed:le,panOnScrollMode:ye,panOnDrag:we,defaultViewport:ne,translateExtent:U,minZoom:Y,maxZoom:ee,onSelectionContextMenu:T,preventScrolling:Q,noDragClassName:di,noWheelClassName:Ks,noPanClassName:kt,disableKeyboardA11y:ns},ue.createElement(Oq,null,ue.createElement(Iq,{edgeTypes:$t,onEdgeClick:h,onEdgeDoubleClick:m,onlyRenderVisibleElements:q,onEdgeContextMenu:ot,onEdgeMouseEnter:dt,onEdgeMouseMove:Mt,onEdgeMouseLeave:We,onReconnect:Te,onReconnectStart:$e,onReconnectEnd:ht,reconnectRadius:Hn,defaultMarkerColor:W,noPanClassName:kt,elevateEdgesOnSelect:!!qn,disableKeyboardA11y:ns,rfId:hi},ue.createElement(Fq,{style:R,type:E,component:P,containerStyle:F})),ue.createElement("div",{className:"react-flow__edgelabel-renderer"}),ue.createElement(xq,{nodeTypes:fi,onNodeClick:u,onNodeDoubleClick:f,onNodeMouseEnter:g,onNodeMouseMove:x,onNodeMouseLeave:b,onNodeContextMenu:w,selectNodesOnDrag:H,onlyRenderVisibleElements:q,noPanClassName:kt,noDragClassName:di,disableKeyboardA11y:ns,nodeOrigin:ss,nodeExtent:In,rfId:hi})))};nR.displayName="GraphView";var Hq=M.memo(nR);const m0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],aa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:m0,nodeExtent:m0,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ro.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:yH,isValidConnection:void 0},qq=()=>z7((t,e)=>({...aa,setNodes:n=>{const{nodeInternals:s,nodeOrigin:a,elevateNodesOnSelect:c}=e();t({nodeInternals:Fy(n,s,a,c)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:s={}}=e();t({edges:n.map(a=>({...s,...a}))})},setDefaultNodesAndEdges:(n,s)=>{const a=typeof n<"u",c=typeof s<"u",u=a?Fy(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:c?s:[],hasDefaultNodes:a,hasDefaultEdges:c})},updateNodeDimensions:n=>{const{onNodesChange:s,nodeInternals:a,fitViewOnInit:c,fitViewOnInitDone:u,fitViewOnInitOptions:h,domNode:f,nodeOrigin:m}=e(),g=f?.querySelector(".react-flow__viewport");if(!g)return;const x=window.getComputedStyle(g),{m22:b}=new window.DOMMatrixReadOnly(x.transform),w=n.reduce((C,S)=>{const E=a.get(S.id);if(E?.hidden)a.set(E.id,{...E,[qt]:{...E[qt],handleBounds:void 0}});else if(E){const R=Jx(S.nodeElement);!!(R.width&&R.height&&(E.width!==R.width||E.height!==R.height||S.forceUpdate))&&(a.set(E.id,{...E,[qt]:{...E[qt],handleBounds:{source:E2(".source",S.nodeElement,b,m),target:E2(".target",S.nodeElement,b,m)}},...R}),C.push({id:E.id,type:"dimensions",dimensions:R}))}return C},[]);FC(a,m);const T=u||c&&!u&&HC(e,{initial:!0,...h});t({nodeInternals:new Map(a),fitViewOnInitDone:T}),w?.length>0&&s?.(w)},updateNodePositions:(n,s=!0,a=!1)=>{const{triggerNodeChanges:c}=e(),u=n.map(h=>{const f={id:h.id,type:"position",dragging:a};return s&&(f.positionAbsolute=h.positionAbsolute,f.position=h.position),f});c(u)},triggerNodeChanges:n=>{const{onNodesChange:s,nodeInternals:a,hasDefaultNodes:c,nodeOrigin:u,getNodes:h,elevateNodesOnSelect:f}=e();if(n?.length){if(c){const m=$C(n,h()),g=Fy(m,a,u,f);t({nodeInternals:g})}s?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:s,edges:a,getNodes:c}=e();let u,h=null;s?u=n.map(f=>ca(f,!0)):(u=Pl(c(),n),h=Pl(a,[])),jf({changedNodes:u,changedEdges:h,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:s,edges:a,getNodes:c}=e();let u,h=null;s?u=n.map(f=>ca(f,!0)):(u=Pl(a,n),h=Pl(c(),[])),jf({changedNodes:h,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:s}={})=>{const{edges:a,getNodes:c}=e(),u=n||c(),h=s||a,f=u.map(g=>(g.selected=!1,ca(g.id,!1))),m=h.map(g=>ca(g.id,!1));jf({changedNodes:f,changedEdges:m,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:s,maxZoom:a}=e();s?.scaleExtent([n,a]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:s,minZoom:a}=e();s?.scaleExtent([a,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:s}=e(),c=s().filter(h=>h.selected).map(h=>ca(h.id,!1)),u=n.filter(h=>h.selected).map(h=>ca(h.id,!1));jf({changedNodes:c,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:s}=e();s.forEach(a=>{a.positionAbsolute=eb(a.position,n)}),t({nodeExtent:n,nodeInternals:new Map(s)})},panBy:n=>{const{transform:s,width:a,height:c,d3Zoom:u,d3Selection:h,translateExtent:f}=e();if(!u||!h||!n.x&&!n.y)return!1;const m=gr.translate(s[0]+n.x,s[1]+n.y).scale(s[2]),g=[[0,0],[a,c]],x=u?.constrain()(m,g,f);return u.transform(h,x),s[0]!==x.x||s[1]!==x.y||s[2]!==x.k},cancelConnection:()=>t({connectionNodeId:aa.connectionNodeId,connectionHandleId:aa.connectionHandleId,connectionHandleType:aa.connectionHandleType,connectionStatus:aa.connectionStatus,connectionStartHandle:aa.connectionStartHandle,connectionEndHandle:aa.connectionEndHandle}),reset:()=>t({...aa})}),Object.is),sR=({children:t})=>{const e=M.useRef(null);return e.current||(e.current=qq()),ue.createElement(uH,{value:e.current},t)};sR.displayName="ReactFlowProvider";const iR=({children:t})=>M.useContext(tp)?ue.createElement(ue.Fragment,null,t):ue.createElement(sR,null,t);iR.displayName="ReactFlowWrapper";const $q={input:VC,default:h0,output:PC,group:ab},Gq={default:wm,straight:sb,step:nb,smoothstep:np,simplebezier:tb},Kq=[0,0],Yq=[15,15],Xq={x:0,y:0,zoom:1},Zq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},rR=M.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:s,className:a,nodeTypes:c=$q,edgeTypes:u=Gq,onNodeClick:h,onEdgeClick:f,onInit:m,onMove:g,onMoveStart:x,onMoveEnd:b,onConnect:w,onConnectStart:T,onConnectEnd:C,onClickConnectStart:S,onClickConnectEnd:E,onNodeMouseEnter:R,onNodeMouseMove:P,onNodeMouseLeave:F,onNodeContextMenu:$,onNodeDoubleClick:X,onNodeDragStart:A,onNodeDrag:N,onNodeDragStop:z,onNodesDelete:B,onEdgesDelete:L,onSelectionChange:q,onSelectionDragStart:I,onSelectionDrag:H,onSelectionDragStop:ne,onSelectionContextMenu:U,onSelectionStart:Y,onSelectionEnd:ee,connectionMode:Q=Ro.Strict,connectionLineType:W=ua.Bezier,connectionLineStyle:V,connectionLineComponent:K,connectionLineContainerStyle:ae,deleteKeyCode:le="Backspace",selectionKeyCode:ye="Shift",selectionOnDrag:ve=!1,selectionMode:we=bd.Full,panActivationKeyCode:Re="Space",multiSelectionKeyCode:ke=jm()?"Meta":"Control",zoomActivationKeyCode:Oe=jm()?"Meta":"Control",snapToGrid:wt=!1,snapGrid:ut=Yq,onlyRenderVisibleElements:bt=!1,selectNodesOnDrag:ot=!0,nodesDraggable:dt,nodesConnectable:Mt,nodesFocusable:We,nodeOrigin:Te=Kq,edgesFocusable:$e,edgesUpdatable:ht,elementsSelectable:Hn,defaultViewport:di=Xq,minZoom:Ks=.5,maxZoom:kt=2,translateExtent:qn=m0,preventScrolling:ns=!0,nodeExtent:ss,defaultMarkerColor:In="#b1b1b7",zoomOnScroll:hi=!0,zoomOnPinch:fi=!0,panOnScroll:$t=!1,panOnScrollSpeed:Pn=.5,panOnScrollMode:ln=bo.Free,zoomOnDoubleClick:St=!0,panOnDrag:cn=!0,onPaneClick:tt,onPaneMouseEnter:xs,onPaneMouseMove:mi,onPaneMouseLeave:kr,onPaneScroll:Nn,onPaneContextMenu:Ys,children:Dt,onEdgeContextMenu:fn,onEdgeDoubleClick:bs,onEdgeMouseEnter:is,onEdgeMouseMove:jc,onEdgeMouseLeave:Do,onEdgeUpdate:js,onEdgeUpdateStart:Ui,onEdgeUpdateEnd:wc,onReconnect:Fi,onReconnectStart:za,onReconnectEnd:Ma,reconnectRadius:Hi=10,edgeUpdaterRadius:Xs=10,onNodesChange:Vo,onEdgesChange:rs,noDragClassName:as="nodrag",noWheelClassName:Ot="nowheel",noPanClassName:Gt="nopan",fitView:ws=!1,fitViewOptions:Sr,connectOnClick:_c=!0,attributionPosition:Io,proOptions:Po,defaultEdgeOptions:_s,elevateNodesOnSelect:Tr=!0,elevateEdgesOnSelect:Es=!1,disableKeyboardA11y:On=!1,autoPanOnConnect:Ln=!0,autoPanOnNodeDrag:ks=!0,connectionRadius:Lt=20,isValidConnection:Da,onError:Va,style:Ss,id:os,nodeDragThreshold:Ia,...Pa},Oa)=>{const Nr=os||"1";return ue.createElement("div",{...Pa,style:{...Ss,...Zq},ref:Oa,className:Tn(["react-flow",a]),"data-testid":"rf__wrapper",id:os},ue.createElement(iR,null,ue.createElement(Hq,{onInit:m,onMove:g,onMoveStart:x,onMoveEnd:b,onNodeClick:h,onEdgeClick:f,onNodeMouseEnter:R,onNodeMouseMove:P,onNodeMouseLeave:F,onNodeContextMenu:$,onNodeDoubleClick:X,nodeTypes:c,edgeTypes:u,connectionLineType:W,connectionLineStyle:V,connectionLineComponent:K,connectionLineContainerStyle:ae,selectionKeyCode:ye,selectionOnDrag:ve,selectionMode:we,deleteKeyCode:le,multiSelectionKeyCode:ke,panActivationKeyCode:Re,zoomActivationKeyCode:Oe,onlyRenderVisibleElements:bt,selectNodesOnDrag:ot,defaultViewport:di,translateExtent:qn,minZoom:Ks,maxZoom:kt,preventScrolling:ns,zoomOnScroll:hi,zoomOnPinch:fi,zoomOnDoubleClick:St,panOnScroll:$t,panOnScrollSpeed:Pn,panOnScrollMode:ln,panOnDrag:cn,onPaneClick:tt,onPaneMouseEnter:xs,onPaneMouseMove:mi,onPaneMouseLeave:kr,onPaneScroll:Nn,onPaneContextMenu:Ys,onSelectionContextMenu:U,onSelectionStart:Y,onSelectionEnd:ee,onEdgeContextMenu:fn,onEdgeDoubleClick:bs,onEdgeMouseEnter:is,onEdgeMouseMove:jc,onEdgeMouseLeave:Do,onReconnect:Fi??js,onReconnectStart:za??Ui,onReconnectEnd:Ma??wc,reconnectRadius:Hi??Xs,defaultMarkerColor:In,noDragClassName:as,noWheelClassName:Ot,noPanClassName:Gt,elevateEdgesOnSelect:Es,rfId:Nr,disableKeyboardA11y:On,nodeOrigin:Te,nodeExtent:ss}),ue.createElement(BH,{nodes:t,edges:e,defaultNodes:n,defaultEdges:s,onConnect:w,onConnectStart:T,onConnectEnd:C,onClickConnectStart:S,onClickConnectEnd:E,nodesDraggable:dt,nodesConnectable:Mt,nodesFocusable:We,edgesFocusable:$e,edgesUpdatable:ht,elementsSelectable:Hn,elevateNodesOnSelect:Tr,minZoom:Ks,maxZoom:kt,nodeExtent:ss,onNodesChange:Vo,onEdgesChange:rs,snapToGrid:wt,snapGrid:ut,connectionMode:Q,translateExtent:qn,connectOnClick:_c,defaultEdgeOptions:_s,fitView:ws,fitViewOptions:Sr,onNodesDelete:B,onEdgesDelete:L,onNodeDragStart:A,onNodeDrag:N,onNodeDragStop:z,onSelectionDrag:H,onSelectionDragStart:I,onSelectionDragStop:ne,noPanClassName:Gt,nodeOrigin:Te,rfId:Nr,autoPanOnConnect:Ln,autoPanOnNodeDrag:ks,onError:Va,connectionRadius:Lt,isValidConnection:Da,nodeDragThreshold:Ia}),ue.createElement(OH,{onSelectionChange:q}),Dt,ue.createElement(hH,{proOptions:Po,position:Io}),ue.createElement($H,{rfId:Nr,disableKeyboardA11y:On})))});rR.displayName="ReactFlow";function aR(t){return e=>{const[n,s]=M.useState(e),a=M.useCallback(c=>s(u=>t(c,u)),[]);return[n,s,a]}}const Qq=aR($C),Wq=aR(rq),oR=({id:t,x:e,y:n,width:s,height:a,style:c,color:u,strokeColor:h,strokeWidth:f,className:m,borderRadius:g,shapeRendering:x,onClick:b,selected:w})=>{const{background:T,backgroundColor:C}=c||{},S=u||T||C;return ue.createElement("rect",{className:Tn(["react-flow__minimap-node",{selected:w},m]),x:e,y:n,rx:g,ry:g,width:s,height:a,fill:S,stroke:h,strokeWidth:f,shapeRendering:x,onClick:b?E=>b(E,t):void 0})};oR.displayName="MiniMapNode";var Jq=M.memo(oR);const e$=t=>t.nodeOrigin,t$=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Gy=t=>t instanceof Function?t:()=>t;function n$({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:a=2,nodeComponent:c=Jq,onClick:u}){const h=Et(t$,yn),f=Et(e$),m=Gy(e),g=Gy(t),x=Gy(n),b=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ue.createElement(ue.Fragment,null,h.map(w=>{const{x:T,y:C}=To(w,f).positionAbsolute;return ue.createElement(c,{key:w.id,x:T,y:C,width:w.width,height:w.height,style:w.style,selected:w.selected,className:x(w),color:m(w),borderRadius:s,strokeColor:g(w),strokeWidth:a,shapeRendering:b,onClick:u,id:w.id})}))}var s$=M.memo(n$);const i$=200,r$=150,a$=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?pH(sp(e,t.nodeOrigin),n):n,rfId:t.rfId}},o$="react-flow__minimap-desc";function lR({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:s="#e2e2e2",nodeClassName:a="",nodeBorderRadius:c=5,nodeStrokeWidth:u=2,nodeComponent:h,maskColor:f="rgb(240, 240, 240, 0.6)",maskStrokeColor:m="none",maskStrokeWidth:g=1,position:x="bottom-right",onClick:b,onNodeClick:w,pannable:T=!1,zoomable:C=!1,ariaLabel:S="React Flow mini map",inversePan:E=!1,zoomStep:R=10,offsetScale:P=5}){const F=hn(),$=M.useRef(null),{boundingRect:X,viewBB:A,rfId:N}=Et(a$,yn),z=t?.width??i$,B=t?.height??r$,L=X.width/z,q=X.height/B,I=Math.max(L,q),H=I*z,ne=I*B,U=P*I,Y=X.x-(H-X.width)/2-U,ee=X.y-(ne-X.height)/2-U,Q=H+U*2,W=ne+U*2,V=`${o$}-${N}`,K=M.useRef(0);K.current=I,M.useEffect(()=>{if($.current){const ye=Us($.current),ve=ke=>{const{transform:Oe,d3Selection:wt,d3Zoom:ut}=F.getState();if(ke.sourceEvent.type!=="wheel"||!wt||!ut)return;const bt=-ke.sourceEvent.deltaY*(ke.sourceEvent.deltaMode===1?.05:ke.sourceEvent.deltaMode?1:.002)*R,ot=Oe[2]*Math.pow(2,bt);ut.scaleTo(wt,ot)},we=ke=>{const{transform:Oe,d3Selection:wt,d3Zoom:ut,translateExtent:bt,width:ot,height:dt}=F.getState();if(ke.sourceEvent.type!=="mousemove"||!wt||!ut)return;const Mt=K.current*Math.max(1,Oe[2])*(E?-1:1),We={x:Oe[0]-ke.sourceEvent.movementX*Mt,y:Oe[1]-ke.sourceEvent.movementY*Mt},Te=[[0,0],[ot,dt]],$e=gr.translate(We.x,We.y).scale(Oe[2]),ht=ut.constrain()($e,Te,bt);ut.transform(wt,ht)},Re=fC().on("zoom",T?we:null).on("zoom.wheel",C?ve:null);return ye.call(Re),()=>{ye.on("zoom",null)}}},[T,C,E,R]);const ae=b?ye=>{const ve=ai(ye);b(ye,{x:ve[0],y:ve[1]})}:void 0,le=w?(ye,ve)=>{const we=F.getState().nodeInternals.get(ve);w(ye,we)}:void 0;return ue.createElement(Wx,{position:x,style:t,className:Tn(["react-flow__minimap",e]),"data-testid":"rf__minimap"},ue.createElement("svg",{width:z,height:B,viewBox:`${Y} ${ee} ${Q} ${W}`,role:"img","aria-labelledby":V,ref:$,onClick:ae},S&&ue.createElement("title",{id:V},S),ue.createElement(s$,{onClick:le,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:c,nodeClassName:a,nodeStrokeWidth:u,nodeComponent:h}),ue.createElement("path",{className:"react-flow__minimap-mask",d:`M${Y-U},${ee-U}h${Q+U*2}v${W+U*2}h${-Q-U*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fill:f,fillRule:"evenodd",stroke:m,strokeWidth:g,pointerEvents:"none"})))}lR.displayName="MiniMap";var l$=M.memo(lR);function c$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ue.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function u$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ue.createElement("path",{d:"M0 0h32v4.2H0z"}))}function d$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ue.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function h$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function f$(){return ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Du=({children:t,className:e,...n})=>ue.createElement("button",{type:"button",className:Tn(["react-flow__controls-button",e]),...n},t);Du.displayName="ControlButton";const m$=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),cR=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:c,onZoomOut:u,onFitView:h,onInteractiveChange:f,className:m,children:g,position:x="bottom-left"})=>{const b=hn(),[w,T]=M.useState(!1),{isInteractive:C,minZoomReached:S,maxZoomReached:E}=Et(m$,yn),{zoomIn:R,zoomOut:P,fitView:F}=ob();if(M.useEffect(()=>{T(!0)},[]),!w)return null;const $=()=>{R(),c?.()},X=()=>{P(),u?.()},A=()=>{F(a),h?.()},N=()=>{b.setState({nodesDraggable:!C,nodesConnectable:!C,elementsSelectable:!C}),f?.(!C)};return ue.createElement(Wx,{className:Tn(["react-flow__controls",m]),position:x,style:t,"data-testid":"rf__controls"},e&&ue.createElement(ue.Fragment,null,ue.createElement(Du,{onClick:$,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:E},ue.createElement(c$,null)),ue.createElement(Du,{onClick:X,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},ue.createElement(u$,null))),n&&ue.createElement(Du,{className:"react-flow__controls-fitview",onClick:A,title:"fit view","aria-label":"fit view"},ue.createElement(d$,null)),s&&ue.createElement(Du,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity"},C?ue.createElement(f$,null):ue.createElement(h$,null)),g)};cR.displayName="Controls";var p$=M.memo(cR),li;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(li||(li={}));function g$({color:t,dimensions:e,lineWidth:n}){return ue.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function y$({color:t,radius:e}){return ue.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const v$={[li.Dots]:"#91919a",[li.Lines]:"#eee",[li.Cross]:"#e2e2e2"},x$={[li.Dots]:1,[li.Lines]:1,[li.Cross]:6},b$=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function uR({id:t,variant:e=li.Dots,gap:n=20,size:s,lineWidth:a=1,offset:c=2,color:u,style:h,className:f}){const m=M.useRef(null),{transform:g,patternId:x}=Et(b$,yn),b=u||v$[e],w=s||x$[e],T=e===li.Dots,C=e===li.Cross,S=Array.isArray(n)?n:[n,n],E=[S[0]*g[2]||1,S[1]*g[2]||1],R=w*g[2],P=C?[R,R]:E,F=T?[R/c,R/c]:[P[0]/c,P[1]/c];return ue.createElement("svg",{className:Tn(["react-flow__background",f]),style:{...h,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:m,"data-testid":"rf__background"},ue.createElement("pattern",{id:x+t,x:g[0]%E[0],y:g[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`},T?ue.createElement(y$,{color:b,radius:R/c}):ue.createElement(g$,{dimensions:P,color:b,lineWidth:a})),ue.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${x+t})`}))}uR.displayName="Background";var j$=M.memo(uR);const lt={subject:{bg:"#1f2937",border:"#fbbf24"},class:{bg:"#3b82f6",border:"#60a5fa"},topic:{bg:"#10b981",border:"#34d399"},detail:{bg:"#f59e0b",border:"#fbbf24"},custom:{bg:"#8b5cf6",border:"#a78bfa"}};function w$(){const{subjectId:t}=km(),e=Qu.find(W=>W.id===t),[n,s]=M.useState([]),[a,c]=M.useState([]),[u,h]=M.useState({}),[f,m]=M.useState(!0),[g,x]=M.useState(!1),[b,w]=M.useState(!1),[T,C]=M.useState(""),[S,E]=M.useState("subject");M.useEffect(()=>{(async()=>{if(t)try{const V=Pi(Vn,"mindMaps",t),K=await wA(V);if(K.exists()){const ae=K.data();ae.customNodes&&s(ae.customNodes),ae.customEdges&&c(ae.customEdges),ae.nodePositions&&h(ae.nodePositions)}}catch(V){console.error("Error loading mind map data:",V)}finally{m(!1)}})()},[t]);const R=async()=>{if(t){x(!0);try{const W=Pi(Vn,"mindMaps",t);await Hx(W,{customNodes:n,customEdges:a,nodePositions:u,updatedAt:new Date().toISOString()})}catch(W){console.error("Error saving mind map data:",W),alert("Chyba pi ukldn!")}finally{x(!1)}}};M.useEffect(()=>{if(!f&&(n.length>0||Object.keys(u).length>0)){console.log("Auto-save triggered. Positions:",Object.keys(u).length);const W=setTimeout(()=>{R()},1e3);return()=>clearTimeout(W)}},[n,a,u,f]);const{initialNodes:P,initialEdges:F}=M.useMemo(()=>{if(!e)return{initialNodes:[],initialEdges:[]};const W=[],V=[];W.push({id:"subject",type:"input",data:{label:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-bold text-lg",children:e.shortName}),o.jsx("div",{className:"text-xs mt-1 opacity-80",children:e.name})]})},position:u.subject||{x:400,y:50},style:{background:lt.subject.bg,color:"white",border:`3px solid ${lt.subject.border}`,borderRadius:"12px",padding:"20px",fontSize:"14px",fontWeight:"bold",minWidth:"250px"}});const K=300,ae=2*Math.PI/e.classes.length;return e.classes.forEach((le,ye)=>{const ve=ye*ae-Math.PI/2,we=400+K*Math.cos(ve),Re=250+K*Math.sin(ve),ke=`class-${le.id}`,Oe=_$(le);W.push({id:ke,data:{label:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-bold",children:["Hodina ",le.id]}),o.jsx("div",{className:"text-xs mt-1",children:le.title}),o.jsx("div",{className:"text-xs opacity-70 mt-1",children:le.date}),o.jsx("div",{className:"text-xs opacity-70",children:le.lecturer})]})},position:u[ke]||{x:we,y:Re},style:{background:lt.class.bg,color:"white",border:`2px solid ${lt.class.border}`,borderRadius:"10px",padding:"15px",fontSize:"12px",minWidth:"180px",cursor:"pointer"}}),V.push({id:`edge-subject-${ke}`,source:"subject",target:ke,type:"smoothstep",animated:!0,style:{stroke:lt.class.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.class.bg}}),Oe.forEach((wt,ut)=>{const bt=`topic-${le.id}-${ut}`,ot=ve+(ut-Oe.length/2)*.15,dt=400+(K+180)*Math.cos(ot),Mt=250+(K+180)*Math.sin(ot);W.push({id:bt,data:{label:wt},position:u[bt]||{x:dt,y:Mt},style:{background:lt.detail.bg,color:"white",border:`2px solid ${lt.detail.border}`,borderRadius:"8px",padding:"10px",fontSize:"11px",maxWidth:"150px"}}),V.push({id:`edge-${ke}-${bt}`,source:ke,target:bt,type:"smoothstep",style:{stroke:lt.detail.bg,strokeWidth:1.5},markerEnd:{type:fr.ArrowClosed,color:lt.detail.bg}})})}),e.links&&e.links.length>0&&(W.push({id:"links",data:{label:o.jsxs("div",{children:[o.jsx("div",{className:"font-bold mb-2",children:" Odkazy"}),e.links.map((le,ye)=>o.jsx("div",{className:"text-xs mb-1",children:o.jsx("a",{href:le.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:le.name})},ye))]})},position:{x:100,y:250},style:{background:lt.topic.bg,color:"white",border:`2px solid ${lt.topic.border}`,borderRadius:"10px",padding:"12px",fontSize:"11px",minWidth:"150px"}}),V.push({id:"edge-subject-links",source:"subject",target:"links",type:"smoothstep",style:{stroke:lt.topic.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.topic.bg}})),{initialNodes:W,initialEdges:V}},[e,u]),$=M.useMemo(()=>[...P,...n],[P,n]),X=M.useMemo(()=>[...F,...a],[F,a]),[A,N,z]=Qq($),[B,L,q]=Wq(X);M.useMemo(()=>{N($)},[$,N]),M.useMemo(()=>{L(X)},[X,L]);const I=M.useCallback(W=>{z(W),W.forEach(V=>{V.type==="position"&&V.position&&(V.dragging===!1||V.dragging===void 0)&&h(K=>({...K,[V.id]:V.position}))})},[z]),H=M.useCallback((W,V)=>{console.log("Node drag stopped:",V.id,V.position),h(K=>{const ae={...K,[V.id]:V.position};return console.log("Updated positions:",ae),ae})},[]),ne=M.useCallback((W,V)=>{if(V.id.startsWith("class-")){const K=V.id.replace("class-","");window.location.href=`/FAMU/subject/${t}/class/${K}`}},[t]),U=M.useCallback(W=>{const V={...W,id:`custom-edge-${Date.now()}`,type:"smoothstep",animated:!0,style:{stroke:lt.custom.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.custom.bg}};c(K=>[...K,V])},[]),Y=()=>{if(!T.trim())return;const W={id:`custom-${Date.now()}`,data:{label:T},position:{x:Math.random()*400+200,y:Math.random()*400+200},draggable:!0,style:{background:lt.custom.bg,color:"white",border:`2px solid ${lt.custom.border}`,borderRadius:"10px",padding:"12px",fontSize:"12px",minWidth:"120px",cursor:"move"}};if(s(V=>[...V,W]),S){const V={id:`edge-${S}-${W.id}`,source:S,target:W.id,type:"smoothstep",animated:!0,style:{stroke:lt.custom.bg,strokeWidth:2},markerEnd:{type:fr.ArrowClosed,color:lt.custom.bg}};c(K=>[...K,V])}C(""),w(!1)},ee=W=>{s(V=>V.filter(K=>K.id!==W)),c(V=>V.filter(K=>K.source!==W&&K.target!==W))};if(!e)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pedmt nenalezen"}),o.jsx(it,{to:"/",className:"text-blue-600 hover:underline",children:"Zpt na hlavn strnku"})]})});const Q=A.map(W=>({id:W.id,label:typeof W.data.label=="string"?W.data.label:W.id}));return o.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[o.jsx("header",{className:"bg-white border-b-2 border-gray-900 shadow-sm z-10",children:o.jsx("div",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(it,{to:`/subject/${t}`,className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors",children:[o.jsx(cc,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Zpt na pedmt"})]}),o.jsx("div",{className:"h-6 w-px bg-gray-300"}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[" Mind Map: ",e.shortName]}),o.jsx("p",{className:"text-sm text-gray-600",children:e.name})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[g&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Xy,{className:"w-4 h-4 animate-pulse"}),o.jsx("span",{children:"Ukldm..."})]}),!g&&!f&&(n.length>0||Object.keys(u).length>0)&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[o.jsx(Xy,{className:"w-4 h-4"}),o.jsx("span",{children:"Uloeno"})]}),o.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[o.jsx(Yl,{className:"w-4 h-4"}),"Pidat node"]}),o.jsxs("button",{onClick:()=>{const W=document.querySelector(".react-flow");W.requestFullscreen&&W.requestFullscreen()},className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[o.jsx(WM,{className:"w-4 h-4"}),"Fullscreen"]})]})]})})}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsxs(rR,{nodes:A,edges:B,onNodesChange:I,onEdgesChange:q,onNodeClick:ne,onNodeDragStop:H,onConnect:U,fitView:!0,attributionPosition:"bottom-left",children:[o.jsx(p$,{}),o.jsx(l$,{nodeColor:W=>W.id==="subject"?lt.subject.bg:W.id.startsWith("class-")?lt.class.bg:W.id.startsWith("topic-")?lt.detail.bg:W.id.startsWith("custom-")?lt.custom.bg:lt.topic.bg,maskColor:"rgba(0, 0, 0, 0.1)"}),o.jsx(j$,{variant:"dots",gap:16,size:1,color:"#e5e7eb"})]}),o.jsxs("div",{className:"absolute bottom-20 left-4 bg-white rounded-lg shadow-lg border-2 border-gray-900 p-4 z-10",children:[o.jsx("h3",{className:"font-bold text-sm mb-3 text-gray-900",children:"Legenda"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.subject.bg}}),o.jsx("span",{children:"Pedmt"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.class.bg}}),o.jsx("span",{children:"Hodina (kliknuteln)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.detail.bg}}),o.jsx("span",{children:"Tma"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.topic.bg}}),o.jsx("span",{children:"Odkazy"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded",style:{background:lt.custom.bg}}),o.jsx("span",{children:"Vlastn node"})]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-600",children:[o.jsx("p",{children:" Pethni nody pro pesunut"}),o.jsx("p",{children:" Klikni na hodinu pro poznmky"}),o.jsx("p",{children:" Propoj nody taenm z okraje"})]})]}),n.length>0&&o.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg border-2 border-gray-900 p-4 z-10 max-w-xs",children:[o.jsx("h3",{className:"font-bold text-sm mb-3 text-gray-900",children:"Vlastn nody"}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map(W=>o.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-purple-50 rounded border border-purple-200",children:[o.jsx("span",{className:"text-xs truncate flex-1",children:W.data.label}),o.jsx("button",{onClick:()=>ee(W.id),className:"p-1 hover:bg-purple-200 rounded transition-colors",title:"Smazat",children:o.jsx(Nm,{className:"w-3 h-3 text-purple-700"})})]},W.id))})]})]}),b&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:" Pidat nov node"}),o.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:o.jsx(uc,{className:"w-6 h-6 text-gray-500"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nzev nodu *"}),o.jsx("input",{type:"text",value:T,onChange:W=>C(W.target.value),placeholder:"nap. Dleit poznmka, Tma...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pipojit k nodu"}),o.jsxs("select",{value:S,onChange:W=>E(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Bez pipojen"}),Q.map(W=>o.jsx("option",{value:W.id,children:W.label},W.id))]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Zruit"}),o.jsx("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Pidat"})]})]})]})})]})}function _$(t){const e=[];if(t.title&&t.title.split(/[,;-]/).forEach(s=>{const a=s.trim();a.length>3&&a.length<50&&e.push(a)}),t.description){const n=t.description.match(/[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*/g);n&&n.forEach(a=>{a.length>5&&a.length<40&&!e.includes(a)&&e.push(a)});const s=t.description.match(/[\-*]\s*([^\n]+)/g);s&&s.forEach(a=>{const c=a.replace(/^[\-*]\s*/,"").trim();c.length>5&&c.length<40&&!e.includes(c)&&e.push(c)})}return e.slice(0,3)}function E$(){return o.jsx(lM,{basename:"/FAMU",children:o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[o.jsx(j4,{}),o.jsx("main",{className:"flex-1 lg:ml-0",children:o.jsxs(Lz,{children:[o.jsx(gs,{path:"/",element:o.jsx(n6,{})}),o.jsx(gs,{path:"/bulletin-board",element:o.jsx(b7,{})}),o.jsx(gs,{path:"/chat",element:o.jsx(m8,{})}),o.jsx(gs,{path:"/timetable",element:o.jsx(y8,{})}),o.jsx(gs,{path:"/calendar",element:o.jsx(v8,{})}),o.jsx(gs,{path:"/notes",element:o.jsx(x8,{})}),o.jsx(gs,{path:"/project",element:o.jsx(Ok,{})}),o.jsx(gs,{path:"/project/:subpage",element:o.jsx(Ok,{})}),o.jsx(gs,{path:"/secret-game",element:o.jsx(x7,{})}),o.jsx(gs,{path:"/subject/:subjectId",element:o.jsx(a6,{})}),o.jsx(gs,{path:"/subject/:subjectId/mindmap",element:o.jsx(w$,{})}),o.jsx(gs,{path:"/subject/:subjectId/class/:classId",element:o.jsx(g6,{})})]})}),o.jsx(w4,{})]})})}X3.createRoot(document.getElementById("root")).render(o.jsx(M.StrictMode,{children:o.jsx(E$,{})}));
